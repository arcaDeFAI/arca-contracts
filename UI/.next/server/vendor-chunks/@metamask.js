"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@metamask";
exports.ids = ["vendor-chunks/@metamask"];
exports.modules = {

/***/ "(ssr)/./node_modules/@metamask/safe-event-emitter/dist/cjs/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@metamask/safe-event-emitter/dist/cjs/index.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst events_1 = __webpack_require__(/*! events */ \"events\");\nfunction safeApply(handler, context, args) {\n    try {\n        Reflect.apply(handler, context, args);\n    }\n    catch (err) {\n        // Throw error after timeout so as not to interrupt the stack\n        setTimeout(() => {\n            throw err;\n        });\n    }\n}\nfunction arrayClone(arr) {\n    const n = arr.length;\n    const copy = new Array(n);\n    for (let i = 0; i < n; i += 1) {\n        copy[i] = arr[i];\n    }\n    return copy;\n}\nclass SafeEventEmitter extends events_1.EventEmitter {\n    emit(type, ...args) {\n        let doError = type === 'error';\n        const events = this._events;\n        if (events !== undefined) {\n            doError = doError && events.error === undefined;\n        }\n        else if (!doError) {\n            return false;\n        }\n        // If there is no 'error' event listener then throw.\n        if (doError) {\n            let er;\n            if (args.length > 0) {\n                [er] = args;\n            }\n            if (er instanceof Error) {\n                // Note: The comments on the `throw` lines are intentional, they show\n                // up in Node's output if this results in an unhandled exception.\n                throw er; // Unhandled 'error' event\n            }\n            // At least give some kind of context to the user\n            const err = new Error(`Unhandled error.${er ? ` (${er.message})` : ''}`);\n            err.context = er;\n            throw err; // Unhandled 'error' event\n        }\n        const handler = events[type];\n        if (handler === undefined) {\n            return false;\n        }\n        if (typeof handler === 'function') {\n            safeApply(handler, this, args);\n        }\n        else {\n            const len = handler.length;\n            const listeners = arrayClone(handler);\n            for (let i = 0; i < len; i += 1) {\n                safeApply(listeners[i], this, args);\n            }\n        }\n        return true;\n    }\n}\nexports[\"default\"] = SafeEventEmitter;\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1ldGFtYXNrL3NhZmUtZXZlbnQtZW1pdHRlci9kaXN0L2Nqcy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxpQkFBaUIsbUJBQU8sQ0FBQyxzQkFBUTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsT0FBTztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQSxxREFBcUQsVUFBVSxXQUFXLFFBQVE7QUFDbEY7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixTQUFTO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFlO0FBQ2YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcmNhLWRlZmktYXBwLy4vbm9kZV9tb2R1bGVzL0BtZXRhbWFzay9zYWZlLWV2ZW50LWVtaXR0ZXIvZGlzdC9janMvaW5kZXguanM/ZGYwMyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGV2ZW50c18xID0gcmVxdWlyZShcImV2ZW50c1wiKTtcbmZ1bmN0aW9uIHNhZmVBcHBseShoYW5kbGVyLCBjb250ZXh0LCBhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgUmVmbGVjdC5hcHBseShoYW5kbGVyLCBjb250ZXh0LCBhcmdzKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICAvLyBUaHJvdyBlcnJvciBhZnRlciB0aW1lb3V0IHNvIGFzIG5vdCB0byBpbnRlcnJ1cHQgdGhlIHN0YWNrXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiBhcnJheUNsb25lKGFycikge1xuICAgIGNvbnN0IG4gPSBhcnIubGVuZ3RoO1xuICAgIGNvbnN0IGNvcHkgPSBuZXcgQXJyYXkobik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyBpICs9IDEpIHtcbiAgICAgICAgY29weVtpXSA9IGFycltpXTtcbiAgICB9XG4gICAgcmV0dXJuIGNvcHk7XG59XG5jbGFzcyBTYWZlRXZlbnRFbWl0dGVyIGV4dGVuZHMgZXZlbnRzXzEuRXZlbnRFbWl0dGVyIHtcbiAgICBlbWl0KHR5cGUsIC4uLmFyZ3MpIHtcbiAgICAgICAgbGV0IGRvRXJyb3IgPSB0eXBlID09PSAnZXJyb3InO1xuICAgICAgICBjb25zdCBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICAgIGlmIChldmVudHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZG9FcnJvciA9IGRvRXJyb3IgJiYgZXZlbnRzLmVycm9yID09PSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWRvRXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHRoZW4gdGhyb3cuXG4gICAgICAgIGlmIChkb0Vycm9yKSB7XG4gICAgICAgICAgICBsZXQgZXI7XG4gICAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgW2VyXSA9IGFyZ3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZXIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICAgIC8vIE5vdGU6IFRoZSBjb21tZW50cyBvbiB0aGUgYHRocm93YCBsaW5lcyBhcmUgaW50ZW50aW9uYWwsIHRoZXkgc2hvd1xuICAgICAgICAgICAgICAgIC8vIHVwIGluIE5vZGUncyBvdXRwdXQgaWYgdGhpcyByZXN1bHRzIGluIGFuIHVuaGFuZGxlZCBleGNlcHRpb24uXG4gICAgICAgICAgICAgICAgdGhyb3cgZXI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBBdCBsZWFzdCBnaXZlIHNvbWUga2luZCBvZiBjb250ZXh0IHRvIHRoZSB1c2VyXG4gICAgICAgICAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoYFVuaGFuZGxlZCBlcnJvci4ke2VyID8gYCAoJHtlci5tZXNzYWdlfSlgIDogJyd9YCk7XG4gICAgICAgICAgICBlcnIuY29udGV4dCA9IGVyO1xuICAgICAgICAgICAgdGhyb3cgZXJyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhhbmRsZXIgPSBldmVudHNbdHlwZV07XG4gICAgICAgIGlmIChoYW5kbGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGhhbmRsZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHNhZmVBcHBseShoYW5kbGVyLCB0aGlzLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGxlbiA9IGhhbmRsZXIubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gYXJyYXlDbG9uZShoYW5kbGVyKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICBzYWZlQXBwbHkobGlzdGVuZXJzW2ldLCB0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5leHBvcnRzLmRlZmF1bHQgPSBTYWZlRXZlbnRFbWl0dGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@metamask/safe-event-emitter/dist/cjs/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@metamask/sdk/dist/node/cjs/metamask-sdk.js":
/*!******************************************************************!*\
  !*** ./node_modules/@metamask/sdk/dist/node/cjs/metamask-sdk.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("Object.defineProperty(exports, \"__esModule\", ({value:!0}));var e=__webpack_require__(/*! cross-fetch */ \"(ssr)/./node_modules/cross-fetch/dist/node-ponyfill.js\"),t=__webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\"),n=__webpack_require__(/*! buffer */ \"buffer\"),r=__webpack_require__(/*! node:crypto */ \"node:crypto\"),i=__webpack_require__(/*! eventemitter2 */ \"(ssr)/./node_modules/eventemitter2/lib/eventemitter2.js\"),o=__webpack_require__(/*! uuid */ \"(ssr)/./node_modules/uuid/dist/esm-node/index.js\"),s=__webpack_require__(/*! socket.io-client */ \"(ssr)/./node_modules/socket.io-client/build/cjs/index.js\"),a=__webpack_require__(/*! events */ \"events\"),c=__webpack_require__(/*! stream */ \"stream\"),d=__webpack_require__(/*! util */ \"util\");function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}\"function\"==typeof SuppressedError&&SuppressedError;var u=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};function h(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e}var f={},p={},m={};function g(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function v(e){if(\"boolean\"!=typeof e)throw new Error(`boolean expected, not ${e}`)}function y(e){return e instanceof Uint8Array||null!=e&&\"object\"==typeof e&&\"Uint8Array\"===e.constructor.name}function E(e,...t){if(!y(e))throw new Error(\"Uint8Array expected\");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function b(e){if(\"function\"!=typeof e||\"function\"!=typeof e.create)throw new Error(\"hash must be wrapped by utils.wrapConstructor\");g(e.outputLen),g(e.blockLen)}function w(e,t=!0){if(e.destroyed)throw new Error(\"Hash instance has been destroyed\");if(t&&e.finished)throw new Error(\"Hash#digest() has already been called\")}function S(e,t){E(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(m,\"__esModule\",{value:!0}),m.isBytes=y,m.number=g,m.bool=v,m.bytes=E,m.hash=b,m.exists=w,m.output=S;const _={number:g,bool:v,bytes:E,hash:b,exists:w,output:S};m.default=_,function(e){Object.defineProperty(e,\"__esModule\",{value:!0}),e.wrapCipher=e.Hash=e.nextTick=e.isLE=e.createView=e.u32=e.u16=e.u8=void 0,e.bytesToHex=r,e.hexToBytes=s,e.hexToNumber=a,e.bytesToNumberBE=function(e){return a(r(e))},e.numberToBytesBE=function(e,t){return s(e.toString(16).padStart(2*t,\"0\"))},e.asyncLoop=async function(t,n,r){let i=Date.now();for(let o=0;o<t;o++){r(o);const t=Date.now()-i;t>=0&&t<n||(await(0,e.nextTick)(),i+=t)}},e.utf8ToBytes=c,e.bytesToUtf8=function(e){return(new TextDecoder).decode(e)},e.toBytes=function(e){if(\"string\"==typeof e)e=c(e);else{if(!(0,t.isBytes)(e))throw new Error(\"Uint8Array expected, got \"+typeof e);e=l(e)}return e},e.concatBytes=function(...e){let n=0;for(let r=0;r<e.length;r++){const i=e[r];(0,t.bytes)(i),n+=i.length}const r=new Uint8Array(n);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r},e.checkOpts=function(e,t){if(null==t||\"object\"!=typeof t)throw new Error(\"options must be defined\");return Object.assign(e,t)},e.equalBytes=function(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n},e.setBigUint64=d,e.u64Lengths=function(t,n){const r=new Uint8Array(16),i=(0,e.createView)(r);return d(i,0,BigInt(n?n.length:0),!0),d(i,8,BigInt(t.length),!0),r},e.isAligned32=function(e){return e.byteOffset%4==0},e.copyBytes=l,e.clean=function(...e){for(let t=0;t<e.length;t++)e[t].fill(0)};const t=m;e.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);e.u16=e=>new Uint16Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/2));e.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));if(e.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),e.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!e.isLE)throw new Error(\"Non little-endian hardware is not supported\");const n=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,\"0\")));function r(e){(0,t.bytes)(e);let r=\"\";for(let t=0;t<e.length;t++)r+=n[e[t]];return r}const i={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function o(e){return e>=i._0&&e<=i._9?e-i._0:e>=i._A&&e<=i._F?e-(i._A-10):e>=i._a&&e<=i._f?e-(i._a-10):void 0}function s(e){if(\"string\"!=typeof e)throw new Error(\"hex string expected, got \"+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error(\"padded hex string expected, got unpadded hex of length \"+t);const r=new Uint8Array(n);for(let t=0,i=0;t<n;t++,i+=2){const n=o(e.charCodeAt(i)),s=o(e.charCodeAt(i+1));if(void 0===n||void 0===s){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character \"'+t+'\" at index '+i)}r[t]=16*n+s}return r}function a(e){if(\"string\"!=typeof e)throw new Error(\"hex string expected, got \"+typeof e);return BigInt(\"\"===e?\"0\":`0x${e}`)}function c(e){if(\"string\"!=typeof e)throw new Error(\"string expected, got \"+typeof e);return new Uint8Array((new TextEncoder).encode(e))}e.nextTick=async()=>{};e.Hash=class{};function d(e,t,n,r){if(\"function\"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),c=r?4:0,d=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+d,a,r)}function l(e){return Uint8Array.from(e)}e.wrapCipher=(e,t)=>(Object.assign(t,e),t)}(p);var C={},x={};Object.defineProperty(x,\"__esModule\",{value:!0}),x.AEAD_TAG_LENGTH=x.XCHACHA20_NONCE_LENGTH=x.CURVE25519_PUBLIC_KEY_SIZE=x.ETH_PUBLIC_KEY_SIZE=x.UNCOMPRESSED_PUBLIC_KEY_SIZE=x.COMPRESSED_PUBLIC_KEY_SIZE=x.SECRET_KEY_LENGTH=void 0,x.SECRET_KEY_LENGTH=32,x.COMPRESSED_PUBLIC_KEY_SIZE=33,x.UNCOMPRESSED_PUBLIC_KEY_SIZE=65,x.ETH_PUBLIC_KEY_SIZE=64,x.CURVE25519_PUBLIC_KEY_SIZE=32,x.XCHACHA20_NONCE_LENGTH=24,x.AEAD_TAG_LENGTH=16,function(e){Object.defineProperty(e,\"__esModule\",{value:!0}),e.ephemeralKeySize=e.symmetricNonceLength=e.symmetricAlgorithm=e.isHkdfKeyCompressed=e.isEphemeralKeyCompressed=e.ellipticCurve=e.ECIES_CONFIG=void 0;var t=x,n=function(){this.ellipticCurve=\"secp256k1\",this.isEphemeralKeyCompressed=!1,this.isHkdfKeyCompressed=!1,this.symmetricAlgorithm=\"aes-256-gcm\",this.symmetricNonceLength=16};e.ECIES_CONFIG=new n;e.ellipticCurve=function(){return e.ECIES_CONFIG.ellipticCurve};e.isEphemeralKeyCompressed=function(){return e.ECIES_CONFIG.isEphemeralKeyCompressed};e.isHkdfKeyCompressed=function(){return e.ECIES_CONFIG.isHkdfKeyCompressed};e.symmetricAlgorithm=function(){return e.ECIES_CONFIG.symmetricAlgorithm};e.symmetricNonceLength=function(){return e.ECIES_CONFIG.symmetricNonceLength};e.ephemeralKeySize=function(){var n={secp256k1:e.ECIES_CONFIG.isEphemeralKeyCompressed?t.COMPRESSED_PUBLIC_KEY_SIZE:t.UNCOMPRESSED_PUBLIC_KEY_SIZE,x25519:t.CURVE25519_PUBLIC_KEY_SIZE,ed25519:t.CURVE25519_PUBLIC_KEY_SIZE};if(e.ECIES_CONFIG.ellipticCurve in n)return n[e.ECIES_CONFIG.ellipticCurve];throw new Error(\"Not implemented\")}}(C);var k={},M={},A={},T={},I={},P={};Object.defineProperty(P,\"__esModule\",{value:!0}),P.crypto=void 0;const R=r;P.crypto=R&&\"object\"==typeof R&&\"webcrypto\"in R?R.webcrypto:R&&\"object\"==typeof R&&\"randomBytes\"in R?R:void 0,function(e){Object.defineProperty(e,\"__esModule\",{value:!0}),e.gcm=e.ctr=e.cbc=e.utils=void 0,e.randomBytes=i,e.getWebcryptoSubtle=o,e.managedNonce=function(e){return(0,n.number)(e.nonceLength),(t,...n)=>({encrypt(o,...s){const{nonceLength:a}=e,c=i(a),d=e(t,c,...n).encrypt(o,...s),l=(0,r.concatBytes)(c,d);return d.fill(0),l},decrypt(r,...i){const{nonceLength:o}=e,s=r.subarray(0,o),a=r.subarray(o);return e(t,s,...n).decrypt(a,...i)}})};const t=P,n=m,r=p;function i(e=32){if(t.crypto&&\"function\"==typeof t.crypto.getRandomValues)return t.crypto.getRandomValues(new Uint8Array(e));if(t.crypto&&\"function\"==typeof t.crypto.randomBytes)return t.crypto.randomBytes(e);throw new Error(\"crypto.getRandomValues must be defined\")}function o(){if(t.crypto&&\"object\"==typeof t.crypto.subtle&&null!=t.crypto.subtle)return t.crypto.subtle;throw new Error(\"crypto.subtle must be defined\")}e.utils={async encrypt(e,t,n,r){const i=o(),s=await i.importKey(\"raw\",e,t,!0,[\"encrypt\"]),a=await i.encrypt(n,s,r);return new Uint8Array(a)},async decrypt(e,t,n,r){const i=o(),s=await i.importKey(\"raw\",e,t,!0,[\"decrypt\"]),a=await i.decrypt(n,s,r);return new Uint8Array(a)}};const s={CBC:\"AES-CBC\",CTR:\"AES-CTR\",GCM:\"AES-GCM\"};function a(t){return(r,i,o)=>{(0,n.bytes)(r),(0,n.bytes)(i);const a={name:t,length:8*r.length},c=function(e,t,n){if(e===s.CBC)return{name:s.CBC,iv:t};if(e===s.CTR)return{name:s.CTR,counter:t,length:64};if(e===s.GCM)return n?{name:s.GCM,iv:t,additionalData:n}:{name:s.GCM,iv:t};throw new Error(\"unknown aes block mode\")}(t,i,o);return{encrypt:t=>((0,n.bytes)(t),e.utils.encrypt(r,a,c,t)),decrypt:t=>((0,n.bytes)(t),e.utils.decrypt(r,a,c,t))}}}e.cbc=a(s.CBC),e.ctr=a(s.CTR),e.gcm=a(s.GCM)}(I);var O={},N={},D={},L={};function B(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function K(e){if(\"boolean\"!=typeof e)throw new Error(`boolean expected, not ${e}`)}function j(e){return e instanceof Uint8Array||null!=e&&\"object\"==typeof e&&\"Uint8Array\"===e.constructor.name}function $(e,...t){if(!j(e))throw new Error(\"Uint8Array expected\");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function H(e){if(\"function\"!=typeof e||\"function\"!=typeof e.create)throw new Error(\"Hash should be wrapped by utils.wrapConstructor\");B(e.outputLen),B(e.blockLen)}function U(e,t=!0){if(e.destroyed)throw new Error(\"Hash instance has been destroyed\");if(t&&e.finished)throw new Error(\"Hash#digest() has already been called\")}function F(e,t){$(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(L,\"__esModule\",{value:!0}),L.isBytes=j,L.number=B,L.bool=K,L.bytes=$,L.hash=H,L.exists=U,L.output=F;const q={number:B,bool:K,bytes:$,hash:H,exists:U,output:F};L.default=q;var z={},W={};Object.defineProperty(W,\"__esModule\",{value:!0}),W.crypto=void 0;const V=r;W.crypto=V&&\"object\"==typeof V&&\"webcrypto\"in V?V.webcrypto:V&&\"object\"==typeof V&&\"randomBytes\"in V?V:void 0,function(e){Object.defineProperty(e,\"__esModule\",{value:!0}),e.Hash=e.nextTick=e.byteSwapIfBE=e.byteSwap=e.isLE=e.rotl=e.rotr=e.createView=e.u32=e.u8=void 0,e.isBytes=function(e){return e instanceof Uint8Array||null!=e&&\"object\"==typeof e&&\"Uint8Array\"===e.constructor.name},e.byteSwap32=function(t){for(let n=0;n<t.length;n++)t[n]=(0,e.byteSwap)(t[n])},e.bytesToHex=function(e){(0,n.bytes)(e);let t=\"\";for(let n=0;n<e.length;n++)t+=r[e[n]];return t},e.hexToBytes=function(e){if(\"string\"!=typeof e)throw new Error(\"hex string expected, got \"+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error(\"padded hex string expected, got unpadded hex of length \"+t);const r=new Uint8Array(n);for(let t=0,i=0;t<n;t++,i+=2){const n=o(e.charCodeAt(i)),s=o(e.charCodeAt(i+1));if(void 0===n||void 0===s){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character \"'+t+'\" at index '+i)}r[t]=16*n+s}return r},e.asyncLoop=async function(t,n,r){let i=Date.now();for(let o=0;o<t;o++){r(o);const t=Date.now()-i;t>=0&&t<n||(await(0,e.nextTick)(),i+=t)}},e.utf8ToBytes=s,e.toBytes=a,e.concatBytes=function(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];(0,n.bytes)(i),t+=i.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r},e.checkOpts=function(e,t){if(void 0!==t&&\"[object Object]\"!==c.call(t))throw new Error(\"Options should be object or undefined\");return Object.assign(e,t)},e.wrapConstructor=function(e){const t=t=>e().update(a(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t},e.wrapConstructorWithOpts=function(e){const t=(t,n)=>e(n).update(a(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t},e.wrapXOFConstructorWithOpts=function(e){const t=(t,n)=>e(n).update(a(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t},e.randomBytes=function(e=32){if(t.crypto&&\"function\"==typeof t.crypto.getRandomValues)return t.crypto.getRandomValues(new Uint8Array(e));if(t.crypto&&\"function\"==typeof t.crypto.randomBytes)return t.crypto.randomBytes(e);throw new Error(\"crypto.getRandomValues must be defined\")};const t=W,n=L;e.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);e.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));e.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);e.rotr=(e,t)=>e<<32-t|e>>>t;e.rotl=(e,t)=>e<<t|e>>>32-t>>>0,e.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];e.byteSwap=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255,e.byteSwapIfBE=e.isLE?e=>e:t=>(0,e.byteSwap)(t);const r=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,\"0\")));const i={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function o(e){return e>=i._0&&e<=i._9?e-i._0:e>=i._A&&e<=i._F?e-(i._A-10):e>=i._a&&e<=i._f?e-(i._a-10):void 0}function s(e){if(\"string\"!=typeof e)throw new Error(\"utf8ToBytes expected string, got \"+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function a(e){return\"string\"==typeof e&&(e=s(e)),(0,n.bytes)(e),e}e.nextTick=async()=>{};e.Hash=class{clone(){return this._cloneInto()}};const c={}.toString}(z),Object.defineProperty(D,\"__esModule\",{value:!0}),D.HashMD=D.Maj=D.Chi=void 0;const G=L,Y=z;D.Chi=(e,t,n)=>e&t^~e&n;D.Maj=(e,t,n)=>e&t^e&n^t&n;D.HashMD=class extends Y.Hash{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,Y.createView)(this.buffer)}update(e){(0,G.exists)(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=(0,Y.toBytes)(e)).length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);if(s!==r)n.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=(0,Y.createView)(e);for(;r<=i-o;o+=r)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,G.exists)(this),(0,G.output)(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let e=o;e<r;e++)t[e]=0;!function(e,t,n,r){if(\"function\"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),c=r?4:0,d=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+d,a,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const s=(0,Y.createView)(e),a=this.outputLen;if(a%4)throw new Error(\"_sha2: outputLen should be aligned to 32bit\");const c=a/4,d=this.get();if(c>d.length)throw new Error(\"_sha2: outputLen bigger than state\");for(let e=0;e<c;e++)s.setUint32(4*e,d[e],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:s}=this;return e.length=r,e.pos=s,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}};var Z={};Object.defineProperty(Z,\"__esModule\",{value:!0}),Z.add5L=Z.add5H=Z.add4H=Z.add4L=Z.add3H=Z.add3L=Z.rotlBL=Z.rotlBH=Z.rotlSL=Z.rotlSH=Z.rotr32L=Z.rotr32H=Z.rotrBL=Z.rotrBH=Z.rotrSL=Z.rotrSH=Z.shrSL=Z.shrSH=Z.toBig=void 0,Z.fromBig=X,Z.split=ee,Z.add=pe;const J=BigInt(2**32-1),Q=BigInt(32);function X(e,t=!1){return t?{h:Number(e&J),l:Number(e>>Q&J)}:{h:0|Number(e>>Q&J),l:0|Number(e&J)}}function ee(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=X(e[i],t);[n[i],r[i]]=[o,s]}return[n,r]}const te=(e,t)=>BigInt(e>>>0)<<Q|BigInt(t>>>0);Z.toBig=te;const ne=(e,t,n)=>e>>>n;Z.shrSH=ne;const re=(e,t,n)=>e<<32-n|t>>>n;Z.shrSL=re;const ie=(e,t,n)=>e>>>n|t<<32-n;Z.rotrSH=ie;const oe=(e,t,n)=>e<<32-n|t>>>n;Z.rotrSL=oe;const se=(e,t,n)=>e<<64-n|t>>>n-32;Z.rotrBH=se;const ae=(e,t,n)=>e>>>n-32|t<<64-n;Z.rotrBL=ae;const ce=(e,t)=>t;Z.rotr32H=ce;const de=(e,t)=>e;Z.rotr32L=de;const le=(e,t,n)=>e<<n|t>>>32-n;Z.rotlSH=le;const ue=(e,t,n)=>t<<n|e>>>32-n;Z.rotlSL=ue;const he=(e,t,n)=>t<<n-32|e>>>64-n;Z.rotlBH=he;const fe=(e,t,n)=>e<<n-32|t>>>64-n;function pe(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}}Z.rotlBL=fe;const me=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0);Z.add3L=me;const ge=(e,t,n,r)=>t+n+r+(e/2**32|0)|0;Z.add3H=ge;const ve=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0);Z.add4L=ve;const ye=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0;Z.add4H=ye;const Ee=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0);Z.add5L=Ee;const be=(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0;Z.add5H=be;const we={fromBig:X,split:ee,toBig:te,shrSH:ne,shrSL:re,rotrSH:ie,rotrSL:oe,rotrBH:se,rotrBL:ae,rotr32H:ce,rotr32L:de,rotlSH:le,rotlSL:ue,rotlBH:he,rotlBL:fe,add:pe,add3L:me,add3H:ge,add4L:ve,add4H:ye,add5H:be,add5L:Ee};Z.default=we,Object.defineProperty(N,\"__esModule\",{value:!0}),N.sha384=N.sha512_256=N.sha512_224=N.sha512=N.SHA384=N.SHA512_256=N.SHA512_224=N.SHA512=void 0;const Se=D,_e=Z,Ce=z,[xe,ke]=(()=>_e.default.split([\"0x428a2f98d728ae22\",\"0x7137449123ef65cd\",\"0xb5c0fbcfec4d3b2f\",\"0xe9b5dba58189dbbc\",\"0x3956c25bf348b538\",\"0x59f111f1b605d019\",\"0x923f82a4af194f9b\",\"0xab1c5ed5da6d8118\",\"0xd807aa98a3030242\",\"0x12835b0145706fbe\",\"0x243185be4ee4b28c\",\"0x550c7dc3d5ffb4e2\",\"0x72be5d74f27b896f\",\"0x80deb1fe3b1696b1\",\"0x9bdc06a725c71235\",\"0xc19bf174cf692694\",\"0xe49b69c19ef14ad2\",\"0xefbe4786384f25e3\",\"0x0fc19dc68b8cd5b5\",\"0x240ca1cc77ac9c65\",\"0x2de92c6f592b0275\",\"0x4a7484aa6ea6e483\",\"0x5cb0a9dcbd41fbd4\",\"0x76f988da831153b5\",\"0x983e5152ee66dfab\",\"0xa831c66d2db43210\",\"0xb00327c898fb213f\",\"0xbf597fc7beef0ee4\",\"0xc6e00bf33da88fc2\",\"0xd5a79147930aa725\",\"0x06ca6351e003826f\",\"0x142929670a0e6e70\",\"0x27b70a8546d22ffc\",\"0x2e1b21385c26c926\",\"0x4d2c6dfc5ac42aed\",\"0x53380d139d95b3df\",\"0x650a73548baf63de\",\"0x766a0abb3c77b2a8\",\"0x81c2c92e47edaee6\",\"0x92722c851482353b\",\"0xa2bfe8a14cf10364\",\"0xa81a664bbc423001\",\"0xc24b8b70d0f89791\",\"0xc76c51a30654be30\",\"0xd192e819d6ef5218\",\"0xd69906245565a910\",\"0xf40e35855771202a\",\"0x106aa07032bbd1b8\",\"0x19a4c116b8d2d0c8\",\"0x1e376c085141ab53\",\"0x2748774cdf8eeb99\",\"0x34b0bcb5e19b48a8\",\"0x391c0cb3c5c95a63\",\"0x4ed8aa4ae3418acb\",\"0x5b9cca4f7763e373\",\"0x682e6ff3d6b2b8a3\",\"0x748f82ee5defb2fc\",\"0x78a5636f43172f60\",\"0x84c87814a1f0ab72\",\"0x8cc702081a6439ec\",\"0x90befffa23631e28\",\"0xa4506cebde82bde9\",\"0xbef9a3f7b2c67915\",\"0xc67178f2e372532b\",\"0xca273eceea26619c\",\"0xd186b8c721c0c207\",\"0xeada7dd6cde0eb1e\",\"0xf57d4f7fee6ed178\",\"0x06f067aa72176fba\",\"0x0a637dc5a2c898a6\",\"0x113f9804bef90dae\",\"0x1b710b35131c471b\",\"0x28db77f523047d84\",\"0x32caab7b40c72493\",\"0x3c9ebe0a15c9bebc\",\"0x431d67c49c100d4c\",\"0x4cc5d4becb3e42b6\",\"0x597f299cfc657e2a\",\"0x5fcb6fab3ad6faec\",\"0x6c44198c4a475817\"].map((e=>BigInt(e)))))(),Me=new Uint32Array(80),Ae=new Uint32Array(80);class Te extends Se.HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:o,Dh:s,Dl:a,Eh:c,El:d,Fh:l,Fl:u,Gh:h,Gl:f,Hh:p,Hl:m}=this;return[e,t,n,r,i,o,s,a,c,d,l,u,h,f,p,m]}set(e,t,n,r,i,o,s,a,c,d,l,u,h,f,p,m){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|d,this.Fh=0|l,this.Fl=0|u,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|m}process(e,t){for(let n=0;n<16;n++,t+=4)Me[n]=e.getUint32(t),Ae[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|Me[e-15],n=0|Ae[e-15],r=_e.default.rotrSH(t,n,1)^_e.default.rotrSH(t,n,8)^_e.default.shrSH(t,n,7),i=_e.default.rotrSL(t,n,1)^_e.default.rotrSL(t,n,8)^_e.default.shrSL(t,n,7),o=0|Me[e-2],s=0|Ae[e-2],a=_e.default.rotrSH(o,s,19)^_e.default.rotrBH(o,s,61)^_e.default.shrSH(o,s,6),c=_e.default.rotrSL(o,s,19)^_e.default.rotrBL(o,s,61)^_e.default.shrSL(o,s,6),d=_e.default.add4L(i,c,Ae[e-7],Ae[e-16]),l=_e.default.add4H(d,r,a,Me[e-7],Me[e-16]);Me[e]=0|l,Ae[e]=0|d}let{Ah:n,Al:r,Bh:i,Bl:o,Ch:s,Cl:a,Dh:c,Dl:d,Eh:l,El:u,Fh:h,Fl:f,Gh:p,Gl:m,Hh:g,Hl:v}=this;for(let e=0;e<80;e++){const t=_e.default.rotrSH(l,u,14)^_e.default.rotrSH(l,u,18)^_e.default.rotrBH(l,u,41),y=_e.default.rotrSL(l,u,14)^_e.default.rotrSL(l,u,18)^_e.default.rotrBL(l,u,41),E=l&h^~l&p,b=u&f^~u&m,w=_e.default.add5L(v,y,b,ke[e],Ae[e]),S=_e.default.add5H(w,g,t,E,xe[e],Me[e]),_=0|w,C=_e.default.rotrSH(n,r,28)^_e.default.rotrBH(n,r,34)^_e.default.rotrBH(n,r,39),x=_e.default.rotrSL(n,r,28)^_e.default.rotrBL(n,r,34)^_e.default.rotrBL(n,r,39),k=n&i^n&s^i&s,M=r&o^r&a^o&a;g=0|p,v=0|m,p=0|h,m=0|f,h=0|l,f=0|u,({h:l,l:u}=_e.default.add(0|c,0|d,0|S,0|_)),c=0|s,d=0|a,s=0|i,a=0|o,i=0|n,o=0|r;const A=_e.default.add3L(_,x,M);n=_e.default.add3H(A,S,C,k),r=0|A}({h:n,l:r}=_e.default.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:o}=_e.default.add(0|this.Bh,0|this.Bl,0|i,0|o)),({h:s,l:a}=_e.default.add(0|this.Ch,0|this.Cl,0|s,0|a)),({h:c,l:d}=_e.default.add(0|this.Dh,0|this.Dl,0|c,0|d)),({h:l,l:u}=_e.default.add(0|this.Eh,0|this.El,0|l,0|u)),({h:h,l:f}=_e.default.add(0|this.Fh,0|this.Fl,0|h,0|f)),({h:p,l:m}=_e.default.add(0|this.Gh,0|this.Gl,0|p,0|m)),({h:g,l:v}=_e.default.add(0|this.Hh,0|this.Hl,0|g,0|v)),this.set(n,r,i,o,s,a,c,d,l,u,h,f,p,m,g,v)}roundClean(){Me.fill(0),Ae.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}N.SHA512=Te;class Ie extends Te{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}N.SHA512_224=Ie;class Pe extends Te{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}N.SHA512_256=Pe;class Re extends Te{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}N.SHA384=Re,N.sha512=(0,Ce.wrapConstructor)((()=>new Te)),N.sha512_224=(0,Ce.wrapConstructor)((()=>new Ie)),N.sha512_256=(0,Ce.wrapConstructor)((()=>new Pe)),N.sha384=(0,Ce.wrapConstructor)((()=>new Re));var Oe={},Ne={},De={},Le={};Object.defineProperty(Le,\"__esModule\",{value:!0}),Le.notImplemented=Le.bitMask=void 0,Le.isBytes=$e,Le.abytes=He,Le.abool=function(e,t){if(\"boolean\"!=typeof t)throw new Error(`${e} must be valid boolean, got \"${t}\".`)},Le.bytesToHex=Fe,Le.numberToHexUnpadded=qe,Le.hexToNumber=ze,Le.hexToBytes=Ge,Le.bytesToNumberBE=function(e){return ze(Fe(e))},Le.bytesToNumberLE=function(e){return He(e),ze(Fe(Uint8Array.from(e).reverse()))},Le.numberToBytesBE=Ye,Le.numberToBytesLE=function(e,t){return Ye(e,t).reverse()},Le.numberToVarBytesBE=function(e){return Ge(qe(e))},Le.ensureBytes=function(e,t,n){let r;if(\"string\"==typeof t)try{r=Ge(t)}catch(n){throw new Error(`${e} must be valid hex string, got \"${t}\". Cause: ${n}`)}else{if(!$e(t))throw new Error(`${e} must be hex string or Uint8Array`);r=Uint8Array.from(t)}const i=r.length;if(\"number\"==typeof n&&i!==n)throw new Error(`${e} expected ${n} bytes, got ${i}`);return r},Le.concatBytes=Ze,Le.equalBytes=function(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n},Le.utf8ToBytes=function(e){if(\"string\"!=typeof e)throw new Error(\"utf8ToBytes expected string, got \"+typeof e);return new Uint8Array((new TextEncoder).encode(e))},Le.inRange=Qe,Le.aInRange=function(e,t,n,r){if(!Qe(t,n,r))throw new Error(`expected valid ${e}: ${n} <= n < ${r}, got ${typeof t} ${t}`)},Le.bitLen=function(e){let t;for(t=0;e>Be;e>>=Ke,t+=1);return t},Le.bitGet=function(e,t){return e>>BigInt(t)&Ke},Le.bitSet=function(e,t,n){return e|(n?Ke:Be)<<BigInt(t)},Le.createHmacDrbg=function(e,t,n){if(\"number\"!=typeof e||e<2)throw new Error(\"hashLen must be a number\");if(\"number\"!=typeof t||t<2)throw new Error(\"qByteLen must be a number\");if(\"function\"!=typeof n)throw new Error(\"hmacFn must be a function\");let r=Xe(e),i=Xe(e),o=0;const s=()=>{r.fill(1),i.fill(0),o=0},a=(...e)=>n(i,r,...e),c=(e=Xe())=>{i=a(et([0]),e),r=a(),0!==e.length&&(i=a(et([1]),e),r=a())},d=()=>{if(o++>=1e3)throw new Error(\"drbg: tried 1000 values\");let e=0;const n=[];for(;e<t;){r=a();const t=r.slice();n.push(t),e+=r.length}return Ze(...n)};return(e,t)=>{let n;for(s(),c(e);!(n=t(d()));)c();return s(),n}},Le.validateObject=function(e,t,n={}){const r=(t,n,r)=>{const i=tt[n];if(\"function\"!=typeof i)throw new Error(`Invalid validator \"${n}\", expected function`);const o=e[t];if(!(r&&void 0===o||i(o,e)))throw new Error(`Invalid param ${String(t)}=${o} (${typeof o}), expected ${n}`)};for(const[e,n]of Object.entries(t))r(e,n,!1);for(const[e,t]of Object.entries(n))r(e,t,!0);return e},Le.memoized=function(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(void 0!==i)return i;const o=e(n,...r);return t.set(n,o),o}};const Be=BigInt(0),Ke=BigInt(1),je=BigInt(2);function $e(e){return e instanceof Uint8Array||null!=e&&\"object\"==typeof e&&\"Uint8Array\"===e.constructor.name}function He(e){if(!$e(e))throw new Error(\"Uint8Array expected\")}const Ue=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,\"0\")));function Fe(e){He(e);let t=\"\";for(let n=0;n<e.length;n++)t+=Ue[e[n]];return t}function qe(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function ze(e){if(\"string\"!=typeof e)throw new Error(\"hex string expected, got \"+typeof e);return BigInt(\"\"===e?\"0\":`0x${e}`)}const We={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Ve(e){return e>=We._0&&e<=We._9?e-We._0:e>=We._A&&e<=We._F?e-(We._A-10):e>=We._a&&e<=We._f?e-(We._a-10):void 0}function Ge(e){if(\"string\"!=typeof e)throw new Error(\"hex string expected, got \"+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error(\"padded hex string expected, got unpadded hex of length \"+t);const r=new Uint8Array(n);for(let t=0,i=0;t<n;t++,i+=2){const n=Ve(e.charCodeAt(i)),o=Ve(e.charCodeAt(i+1));if(void 0===n||void 0===o){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character \"'+t+'\" at index '+i)}r[t]=16*n+o}return r}function Ye(e,t){return Ge(e.toString(16).padStart(2*t,\"0\"))}function Ze(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];He(r),t+=r.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length}return n}const Je=e=>\"bigint\"==typeof e&&Be<=e;function Qe(e,t,n){return Je(e)&&Je(t)&&Je(n)&&t<=e&&e<n}Le.bitMask=e=>(je<<BigInt(e-1))-Ke;const Xe=e=>new Uint8Array(e),et=e=>Uint8Array.from(e);const tt={bigint:e=>\"bigint\"==typeof e,function:e=>\"function\"==typeof e,boolean:e=>\"boolean\"==typeof e,string:e=>\"string\"==typeof e,stringOrUint8Array:e=>\"string\"==typeof e||$e(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>\"function\"==typeof e&&Number.isSafeInteger(e.outputLen)};Le.notImplemented=()=>{throw new Error(\"not implemented\")},Object.defineProperty(De,\"__esModule\",{value:!0}),De.isNegativeLE=void 0,De.mod=lt,De.pow=ut,De.pow2=function(e,t,n){let r=e;for(;t-- >rt;)r*=r,r%=n;return r},De.invert=ht,De.tonelliShanks=ft,De.FpSqrt=pt,De.validateField=function(e){const t=mt.reduce(((e,t)=>(e[t]=\"function\",e)),{ORDER:\"bigint\",MASK:\"bigint\",BYTES:\"isSafeInteger\",BITS:\"isSafeInteger\"});return(0,nt.validateObject)(e,t)},De.FpPow=gt,De.FpInvertBatch=vt,De.FpDiv=function(e,t,n){return e.mul(t,\"bigint\"==typeof n?ht(n,e.ORDER):e.inv(n))},De.FpLegendre=yt,De.FpIsSquare=function(e){const t=yt(e.ORDER);return n=>{const r=t(e,n);return e.eql(r,e.ZERO)||e.eql(r,e.ONE)}},De.nLength=Et,De.Field=function(e,t,n=!1,r={}){if(e<=rt)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:o}=Et(e,t);if(o>2048)throw new Error(\"Field lengths over 2048 bytes are not supported\");const s=pt(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:(0,nt.bitMask)(i),ZERO:rt,ONE:it,create:t=>lt(t,e),isValid:t=>{if(\"bigint\"!=typeof t)throw new Error(\"Invalid field element: expected bigint, got \"+typeof t);return rt<=t&&t<e},is0:e=>e===rt,isOdd:e=>(e&it)===it,neg:t=>lt(-t,e),eql:(e,t)=>e===t,sqr:t=>lt(t*t,e),add:(t,n)=>lt(t+n,e),sub:(t,n)=>lt(t-n,e),mul:(t,n)=>lt(t*n,e),pow:(e,t)=>gt(a,e,t),div:(t,n)=>lt(t*ht(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>ht(t,e),sqrt:r.sqrt||(e=>s(a,e)),invertBatch:e=>vt(a,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?(0,nt.numberToBytesLE)(e,o):(0,nt.numberToBytesBE)(e,o),fromBytes:e=>{if(e.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${e.length}`);return n?(0,nt.bytesToNumberLE)(e):(0,nt.bytesToNumberBE)(e)}});return Object.freeze(a)},De.FpSqrtOdd=function(e,t){if(!e.isOdd)throw new Error(\"Field doesn't have isOdd\");const n=e.sqrt(t);return e.isOdd(n)?n:e.neg(n)},De.FpSqrtEven=function(e,t){if(!e.isOdd)throw new Error(\"Field doesn't have isOdd\");const n=e.sqrt(t);return e.isOdd(n)?e.neg(n):n},De.hashToPrivateScalar=function(e,t,n=!1){e=(0,nt.ensureBytes)(\"privateHash\",e);const r=e.length,i=Et(t).nByteLength+8;if(i<24||r<i||r>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${r}`);const o=n?(0,nt.bytesToNumberLE)(e):(0,nt.bytesToNumberBE)(e);return lt(o,t-it)+it},De.getFieldBytesLength=bt,De.getMinHashLength=wt,De.mapHashToField=function(e,t,n=!1){const r=e.length,i=bt(t),o=wt(t);if(r<16||r<o||r>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${r}`);const s=lt(n?(0,nt.bytesToNumberBE)(e):(0,nt.bytesToNumberLE)(e),t-it)+it;return n?(0,nt.numberToBytesLE)(s,i):(0,nt.numberToBytesBE)(s,i)};const nt=Le,rt=BigInt(0),it=BigInt(1),ot=BigInt(2),st=BigInt(3),at=BigInt(4),ct=BigInt(5),dt=BigInt(8);function lt(e,t){const n=e%t;return n>=rt?n:t+n}function ut(e,t,n){if(n<=rt||t<rt)throw new Error(\"Expected power/modulo > 0\");if(n===it)return rt;let r=it;for(;t>rt;)t&it&&(r=r*e%n),e=e*e%n,t>>=it;return r}function ht(e,t){if(e===rt||t<=rt)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=lt(e,t),r=t,i=rt,o=it;for(;n!==rt;){const e=r%n,t=i-o*(r/n);r=n,n=e,i=o,o=t}if(r!==it)throw new Error(\"invert: does not exist\");return lt(i,t)}function ft(e){const t=(e-it)/ot;let n,r,i;for(n=e-it,r=0;n%ot===rt;n/=ot,r++);for(i=ot;i<e&&ut(i,t,e)!==e-it;i++);if(1===r){const t=(e+it)/at;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error(\"Cannot find square root\");return r}}const o=(n+it)/ot;return function(e,s){if(e.pow(s,t)===e.neg(e.ONE))throw new Error(\"Cannot find square root\");let a=r,c=e.pow(e.mul(e.ONE,i),n),d=e.pow(s,o),l=e.pow(s,n);for(;!e.eql(l,e.ONE);){if(e.eql(l,e.ZERO))return e.ZERO;let t=1;for(let n=e.sqr(l);t<a&&!e.eql(n,e.ONE);t++)n=e.sqr(n);const n=e.pow(c,it<<BigInt(a-t-1));c=e.sqr(n),d=e.mul(d,n),l=e.mul(l,c),a=t}return d}}function pt(e){if(e%at===st){const t=(e+it)/at;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error(\"Cannot find square root\");return r}}if(e%dt===ct){const t=(e-ct)/dt;return function(e,n){const r=e.mul(n,ot),i=e.pow(r,t),o=e.mul(n,i),s=e.mul(e.mul(o,ot),i),a=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),n))throw new Error(\"Cannot find square root\");return a}}return ft(e)}BigInt(9),BigInt(16);De.isNegativeLE=(e,t)=>(lt(e,t)&it)===it;const mt=[\"create\",\"isValid\",\"is0\",\"neg\",\"inv\",\"sqrt\",\"sqr\",\"eql\",\"add\",\"sub\",\"mul\",\"pow\",\"div\",\"addN\",\"subN\",\"mulN\",\"sqrN\"];function gt(e,t,n){if(n<rt)throw new Error(\"Expected power > 0\");if(n===rt)return e.ONE;if(n===it)return t;let r=e.ONE,i=t;for(;n>rt;)n&it&&(r=e.mul(r,i)),i=e.sqr(i),n>>=it;return r}function vt(e,t){const n=new Array(t.length),r=t.reduce(((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r))),e.ONE),i=e.inv(r);return t.reduceRight(((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))),i),n}function yt(e){const t=(e-it)/ot;return(e,n)=>e.pow(n,t)}function Et(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function bt(e){if(\"bigint\"!=typeof e)throw new Error(\"field order must be bigint\");const t=e.toString(2).length;return Math.ceil(t/8)}function wt(e){const t=bt(e);return t+Math.ceil(t/2)}Object.defineProperty(Ne,\"__esModule\",{value:!0}),Ne.wNAF=function(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>{if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error(`Wrong window size=${e}, should be [1..${t}]`)},i=e=>{r(e);return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}};return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,i=t;for(;n>Ct;)n&xt&&(r=r.add(i)),i=i.double(),n>>=xt;return r},precomputeWindow(e,t){const{windows:n,windowSize:r}=i(t),o=[];let s=e,a=s;for(let e=0;e<n;e++){a=s,o.push(a);for(let e=1;e<r;e++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(t,r,o){const{windows:s,windowSize:a}=i(t);let c=e.ZERO,d=e.BASE;const l=BigInt(2**t-1),u=2**t,h=BigInt(t);for(let e=0;e<s;e++){const t=e*a;let i=Number(o&l);o>>=h,i>a&&(i-=u,o+=xt);const s=t,f=t+Math.abs(i)-1,p=e%2!=0,m=i<0;0===i?d=d.add(n(p,r[s])):c=c.add(n(m,r[f]))}return{p:c,f:d}},wNAFCached(e,t,n){const r=Mt.get(e)||1;let i=kt.get(e);return i||(i=this.precomputeWindow(e,r),1!==r&&kt.set(e,n(i))),this.wNAF(r,i,t)},setWindowSize(e,t){r(t),Mt.set(e,t),kt.delete(e)}}},Ne.pippenger=function(e,t,n,r){if(!Array.isArray(n)||!Array.isArray(r)||r.length!==n.length)throw new Error(\"arrays of points and scalars must have equal length\");r.forEach(((e,n)=>{if(!t.isValid(e))throw new Error(`wrong scalar at index ${n}`)})),n.forEach(((t,n)=>{if(!(t instanceof e))throw new Error(`wrong point at index ${n}`)}));const i=(0,_t.bitLen)(BigInt(n.length)),o=i>12?i-3:i>4?i-2:i?2:1,s=(1<<o)-1,a=new Array(s+1).fill(e.ZERO),c=Math.floor((t.BITS-1)/o)*o;let d=e.ZERO;for(let t=c;t>=0;t-=o){a.fill(e.ZERO);for(let e=0;e<r.length;e++){const i=r[e],o=Number(i>>BigInt(t)&BigInt(s));a[o]=a[o].add(n[e])}let i=e.ZERO;for(let t=a.length-1,n=e.ZERO;t>0;t--)n=n.add(a[t]),i=i.add(n);if(d=d.add(i),0!==t)for(let e=0;e<o;e++)d=d.double()}return d},Ne.validateBasic=function(e){return(0,St.validateField)(e.Fp),(0,_t.validateObject)(e,{n:\"bigint\",h:\"bigint\",Gx:\"field\",Gy:\"field\"},{nBitLength:\"isSafeInteger\",nByteLength:\"isSafeInteger\"}),Object.freeze({...(0,St.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})};const St=De,_t=Le,Ct=BigInt(0),xt=BigInt(1),kt=new WeakMap,Mt=new WeakMap;Object.defineProperty(Oe,\"__esModule\",{value:!0}),Oe.twistedEdwards=function(e){const t=function(e){const t=(0,At.validateBasic)(e);return It.validateObject(e,{hash:\"function\",a:\"bigint\",d:\"bigint\",randomBytes:\"function\"},{adjustScalarBytes:\"function\",domain:\"function\",uvRatio:\"function\",mapToCurve:\"function\"}),Object.freeze({...t})}(e),{Fp:n,n:r,prehash:i,hash:o,randomBytes:s,nByteLength:a,h:c}=t,d=Nt<<BigInt(8*a)-Ot,l=n.create,u=(0,Tt.Field)(t.n,t.nBitLength),h=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:n.sqrt(e*n.inv(t))}}catch(e){return{isValid:!1,value:Rt}}}),f=t.adjustScalarBytes||(e=>e),p=t.domain||((e,t,n)=>{if((0,Pt.abool)(\"phflag\",n),t.length||n)throw new Error(\"Contexts/pre-hash are not supported\");return e});function m(e,t){It.aInRange(\"coordinate \"+e,t,Rt,d)}function g(e){if(!(e instanceof E))throw new Error(\"ExtendedPoint expected\")}const v=(0,Pt.memoized)(((e,t)=>{const{ex:r,ey:i,ez:o}=e,s=e.is0();null==t&&(t=s?Dt:n.inv(o));const a=l(r*t),c=l(i*t),d=l(o*t);if(s)return{x:Rt,y:Ot};if(d!==Ot)throw new Error(\"invZ was invalid\");return{x:a,y:c}})),y=(0,Pt.memoized)((e=>{const{a:n,d:r}=t;if(e.is0())throw new Error(\"bad point: ZERO\");const{ex:i,ey:o,ez:s,et:a}=e,c=l(i*i),d=l(o*o),u=l(s*s),h=l(u*u),f=l(c*n);if(l(u*l(f+d))!==l(h+l(r*l(c*d))))throw new Error(\"bad point: equation left != right (1)\");if(l(i*o)!==l(s*a))throw new Error(\"bad point: equation left != right (2)\");return!0}));class E{constructor(e,t,n,r){this.ex=e,this.ey=t,this.ez=n,this.et=r,m(\"x\",e),m(\"y\",t),m(\"z\",n),m(\"t\",r),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof E)throw new Error(\"extended point not allowed\");const{x:t,y:n}=e||{};return m(\"x\",t),m(\"y\",n),new E(t,n,Ot,l(t*n))}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.ez)));return e.map(((e,n)=>e.toAffine(t[n]))).map(E.fromAffine)}static msm(e,t){return(0,At.pippenger)(E,u,e,t)}_setWindowSize(e){S.setWindowSize(this,e)}assertValidity(){y(this)}equals(e){g(e);const{ex:t,ey:n,ez:r}=this,{ex:i,ey:o,ez:s}=e,a=l(t*s),c=l(i*r),d=l(n*s),u=l(o*r);return a===c&&d===u}is0(){return this.equals(E.ZERO)}negate(){return new E(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:e}=t,{ex:n,ey:r,ez:i}=this,o=l(n*n),s=l(r*r),a=l(Nt*l(i*i)),c=l(e*o),d=n+r,u=l(l(d*d)-o-s),h=c+s,f=h-a,p=c-s,m=l(u*f),g=l(h*p),v=l(u*p),y=l(f*h);return new E(m,g,y,v)}add(e){g(e);const{a:n,d:r}=t,{ex:i,ey:o,ez:s,et:a}=this,{ex:c,ey:d,ez:u,et:h}=e;if(n===BigInt(-1)){const e=l((o-i)*(d+c)),t=l((o+i)*(d-c)),n=l(t-e);if(n===Rt)return this.double();const r=l(s*Nt*h),f=l(a*Nt*u),p=f+r,m=t+e,g=f-r,v=l(p*n),y=l(m*g),b=l(p*g),w=l(n*m);return new E(v,y,w,b)}const f=l(i*c),p=l(o*d),m=l(a*r*h),v=l(s*u),y=l((i+o)*(c+d)-f-p),b=v-m,w=v+m,S=l(p-n*f),_=l(y*b),C=l(w*S),x=l(y*S),k=l(b*w);return new E(_,C,k,x)}subtract(e){return this.add(e.negate())}wNAF(e){return S.wNAFCached(this,e,E.normalizeZ)}multiply(e){const t=e;It.aInRange(\"scalar\",t,Ot,r);const{p:n,f:i}=this.wNAF(t);return E.normalizeZ([n,i])[0]}multiplyUnsafe(e){const t=e;return It.aInRange(\"scalar\",t,Rt,r),t===Rt?w:this.equals(w)||t===Ot?this:this.equals(b)?this.wNAF(t).p:S.unsafeLadder(this,t)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return S.unsafeLadder(this,r).is0()}toAffine(e){return v(this,e)}clearCofactor(){const{h:e}=t;return e===Ot?this:this.multiplyUnsafe(e)}static fromHex(e,r=!1){const{d:i,a:o}=t,s=n.BYTES;e=(0,Pt.ensureBytes)(\"pointHex\",e,s),(0,Pt.abool)(\"zip215\",r);const a=e.slice(),c=e[s-1];a[s-1]=-129&c;const u=It.bytesToNumberLE(a),f=r?d:n.ORDER;It.aInRange(\"pointHex.y\",u,Rt,f);const p=l(u*u),m=l(p-Ot),g=l(i*p-o);let{isValid:v,value:y}=h(m,g);if(!v)throw new Error(\"Point.fromHex: invalid y coordinate\");const b=(y&Ot)===Ot,w=0!=(128&c);if(!r&&y===Rt&&w)throw new Error(\"Point.fromHex: x=0 and x_0=1\");return w!==b&&(y=l(-y)),E.fromAffine({x:y,y:u})}static fromPrivateKey(e){return x(e).point}toRawBytes(){const{x:e,y:t}=this.toAffine(),r=It.numberToBytesLE(t,n.BYTES);return r[r.length-1]|=e&Ot?128:0,r}toHex(){return It.bytesToHex(this.toRawBytes())}}E.BASE=new E(t.Gx,t.Gy,Ot,l(t.Gx*t.Gy)),E.ZERO=new E(Rt,Ot,Ot,Rt);const{BASE:b,ZERO:w}=E,S=(0,At.wNAF)(E,8*a);function _(e){return(0,Tt.mod)(e,r)}function C(e){return _(It.bytesToNumberLE(e))}function x(e){const t=a;e=(0,Pt.ensureBytes)(\"private key\",e,t);const n=(0,Pt.ensureBytes)(\"hashed private key\",o(e),2*t),r=f(n.slice(0,t)),i=n.slice(t,2*t),s=C(r),c=b.multiply(s),d=c.toRawBytes();return{head:r,prefix:i,scalar:s,point:c,pointBytes:d}}function k(e=new Uint8Array,...t){const n=It.concatBytes(...t);return C(o(p(n,(0,Pt.ensureBytes)(\"context\",e),!!i)))}const M=Lt;b._setWindowSize(8);const A={getExtendedPublicKey:x,randomPrivateKey:()=>s(n.BYTES),precompute:(e=8,t=E.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};return{CURVE:t,getPublicKey:function(e){return x(e).pointBytes},sign:function(e,t,o={}){e=(0,Pt.ensureBytes)(\"message\",e),i&&(e=i(e));const{prefix:s,scalar:c,pointBytes:d}=x(t),l=k(o.context,s,e),u=b.multiply(l).toRawBytes(),h=_(l+k(o.context,u,d,e)*c);It.aInRange(\"signature.s\",h,Rt,r);const f=It.concatBytes(u,It.numberToBytesLE(h,n.BYTES));return(0,Pt.ensureBytes)(\"result\",f,2*a)},verify:function(e,t,r,o=M){const{context:s,zip215:a}=o,c=n.BYTES;e=(0,Pt.ensureBytes)(\"signature\",e,2*c),t=(0,Pt.ensureBytes)(\"message\",t),void 0!==a&&(0,Pt.abool)(\"zip215\",a),i&&(t=i(t));const d=It.bytesToNumberLE(e.slice(c,2*c));let l,u,h;try{l=E.fromHex(r,a),u=E.fromHex(e.slice(0,c),a),h=b.multiplyUnsafe(d)}catch(e){return!1}if(!a&&l.isSmallOrder())return!1;const f=k(s,u.toRawBytes(),l.toRawBytes(),t);return u.add(l.multiplyUnsafe(f)).subtract(h).clearCofactor().equals(E.ZERO)},ExtendedPoint:E,utils:A}};const At=Ne,Tt=De,It=Le,Pt=Le,Rt=BigInt(0),Ot=BigInt(1),Nt=BigInt(2),Dt=BigInt(8),Lt={zip215:!0};var Bt={};Object.defineProperty(Bt,\"__esModule\",{value:!0}),Bt.expand_message_xmd=qt,Bt.expand_message_xof=zt,Bt.hash_to_field=Wt,Bt.isogenyMap=function(e,t){const n=t.map((e=>Array.from(e).reverse()));return(t,r)=>{const[i,o,s,a]=n.map((n=>n.reduce(((n,r)=>e.add(e.mul(n,t),r)))));return t=e.div(i,o),r=e.mul(r,e.div(s,a)),{x:t,y:r}}},Bt.createHasher=function(e,t,n){if(\"function\"!=typeof t)throw new Error(\"mapToCurve() must be defined\");return{hashToCurve(r,i){const o=Wt(r,2,{...n,DST:n.DST,...i}),s=e.fromAffine(t(o[0])),a=e.fromAffine(t(o[1])),c=s.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(r,i){const o=Wt(r,1,{...n,DST:n.encodeDST,...i}),s=e.fromAffine(t(o[0])).clearCofactor();return s.assertValidity(),s},mapToCurve(n){if(!Array.isArray(n))throw new Error(\"mapToCurve: expected array of bigints\");for(const e of n)if(\"bigint\"!=typeof e)throw new Error(`mapToCurve: expected array of bigints, got ${e} in array`);const r=e.fromAffine(t(n)).clearCofactor();return r.assertValidity(),r}}};const Kt=De,jt=Le,$t=jt.bytesToNumberBE;function Ht(e,t){if(Ft(e),Ft(t),e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);const n=Array.from({length:t}).fill(0);for(let r=t-1;r>=0;r--)n[r]=255&e,e>>>=8;return new Uint8Array(n)}function Ut(e,t){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r];return n}function Ft(e){if(!Number.isSafeInteger(e))throw new Error(\"number expected\")}function qt(e,t,n,r){(0,jt.abytes)(e),(0,jt.abytes)(t),Ft(n),t.length>255&&(t=r((0,jt.concatBytes)((0,jt.utf8ToBytes)(\"H2C-OVERSIZE-DST-\"),t)));const{outputLen:i,blockLen:o}=r,s=Math.ceil(n/i);if(n>65535||s>255)throw new Error(\"expand_message_xmd: invalid lenInBytes\");const a=(0,jt.concatBytes)(t,Ht(t.length,1)),c=Ht(0,o),d=Ht(n,2),l=new Array(s),u=r((0,jt.concatBytes)(c,e,d,Ht(0,1),a));l[0]=r((0,jt.concatBytes)(u,Ht(1,1),a));for(let e=1;e<=s;e++){const t=[Ut(u,l[e-1]),Ht(e+1,1),a];l[e]=r((0,jt.concatBytes)(...t))}return(0,jt.concatBytes)(...l).slice(0,n)}function zt(e,t,n,r,i){if((0,jt.abytes)(e),(0,jt.abytes)(t),Ft(n),t.length>255){const e=Math.ceil(2*r/8);t=i.create({dkLen:e}).update((0,jt.utf8ToBytes)(\"H2C-OVERSIZE-DST-\")).update(t).digest()}if(n>65535||t.length>255)throw new Error(\"expand_message_xof: invalid lenInBytes\");return i.create({dkLen:n}).update(e).update(Ht(n,2)).update(t).update(Ht(t.length,1)).digest()}function Wt(e,t,n){(0,jt.validateObject)(n,{DST:\"stringOrUint8Array\",p:\"bigint\",m:\"isSafeInteger\",k:\"isSafeInteger\",hash:\"hash\"});const{p:r,k:i,m:o,hash:s,expand:a,DST:c}=n;(0,jt.abytes)(e),Ft(t);const d=\"string\"==typeof c?(0,jt.utf8ToBytes)(c):c,l=r.toString(2).length,u=Math.ceil((l+i)/8),h=t*o*u;let f;if(\"xmd\"===a)f=qt(e,d,h,s);else if(\"xof\"===a)f=zt(e,d,h,i,s);else{if(\"_internal_pass\"!==a)throw new Error('expand must be \"xmd\" or \"xof\"');f=e}const p=new Array(t);for(let e=0;e<t;e++){const t=new Array(o);for(let n=0;n<o;n++){const i=u*(n+e*o),s=f.subarray(i,i+u);t[n]=(0,Kt.mod)($t(s),r)}p[e]=t}return p}var Vt={};Object.defineProperty(Vt,\"__esModule\",{value:!0}),Vt.montgomery=function(e){const t=function(e){return(0,Yt.validateObject)(e,{a:\"bigint\"},{montgomeryBits:\"isSafeInteger\",nByteLength:\"isSafeInteger\",adjustScalarBytes:\"function\",domain:\"function\",powPminus2:\"function\",Gu:\"bigint\"}),Object.freeze({...e})}(e),{P:n}=t,r=e=>(0,Gt.mod)(e,n),i=t.montgomeryBits,o=Math.ceil(i/8),s=t.nByteLength,a=t.adjustScalarBytes||(e=>e),c=t.powPminus2||(e=>(0,Gt.pow)(e,n-BigInt(2),n));function d(e,t,n){const i=r(e*(t-n));return[t=r(t-i),n=r(n+i)]}const l=(t.a-BigInt(2))/BigInt(4);function u(e){return(0,Yt.numberToBytesLE)(r(e),o)}function h(e,t){const h=function(e){const t=(0,Yt.ensureBytes)(\"u coordinate\",e,o);return 32===s&&(t[31]&=127),(0,Yt.bytesToNumberLE)(t)}(t),f=function(e){const t=(0,Yt.ensureBytes)(\"scalar\",e),n=t.length;if(n!==o&&n!==s)throw new Error(`Expected ${o} or ${s} bytes, got ${n}`);return(0,Yt.bytesToNumberLE)(a(t))}(e),p=function(e,t){(0,Yt.aInRange)(\"u\",e,Zt,n),(0,Yt.aInRange)(\"scalar\",t,Zt,n);const o=t,s=e;let a,u=Jt,h=Zt,f=e,p=Jt,m=Zt;for(let e=BigInt(i-1);e>=Zt;e--){const t=o>>e&Jt;m^=t,a=d(m,u,f),u=a[0],f=a[1],a=d(m,h,p),h=a[0],p=a[1],m=t;const n=u+h,i=r(n*n),c=u-h,g=r(c*c),v=i-g,y=f+p,E=r((f-p)*n),b=r(y*c),w=E+b,S=E-b;f=r(w*w),p=r(s*r(S*S)),u=r(i*g),h=r(v*(i+r(l*v)))}a=d(m,u,f),u=a[0],f=a[1],a=d(m,h,p),h=a[0],p=a[1];const g=c(h);return r(u*g)}(h,f);if(p===Zt)throw new Error(\"Invalid private or public key received\");return u(p)}const f=u(t.Gu);function p(e){return h(e,f)}return{scalarMult:h,scalarMultBase:p,getSharedSecret:(e,t)=>h(e,t),getPublicKey:e=>p(e),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:f}};const Gt=De,Yt=Le,Zt=BigInt(0),Jt=BigInt(1);!function(e){Object.defineProperty(e,\"__esModule\",{value:!0}),e.hash_to_ristretto255=e.hashToRistretto255=e.RistrettoPoint=e.encodeToCurve=e.hashToCurve=e.edwardsToMontgomery=e.x25519=e.ed25519ph=e.ed25519ctx=e.ed25519=e.ED25519_TORSION_SUBGROUP=void 0,e.edwardsToMontgomeryPub=S,e.edwardsToMontgomeryPriv=function(e){const t=b.hash(e.subarray(0,32));return b.adjustScalarBytes(t).subarray(0,32)};const t=N,n=z,r=Oe,i=Bt,o=De,s=Vt,a=Le,c=BigInt(\"57896044618658097711785492504343953926634992332820282019728792003956564819949\"),d=BigInt(\"19681161376707505956807079304988542015446066515923890162744021073123829784752\"),l=BigInt(0),u=BigInt(1),h=BigInt(2),f=BigInt(3),p=BigInt(5),m=BigInt(8);function g(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=c,a=e*e%s*e%s,d=(0,o.pow2)(a,h,s)*a%s,l=(0,o.pow2)(d,u,s)*e%s,f=(0,o.pow2)(l,p,s)*l%s,m=(0,o.pow2)(f,t,s)*f%s,g=(0,o.pow2)(m,n,s)*m%s,v=(0,o.pow2)(g,r,s)*g%s,y=(0,o.pow2)(v,i,s)*v%s,E=(0,o.pow2)(y,i,s)*v%s,b=(0,o.pow2)(E,t,s)*f%s;return{pow_p_5_8:(0,o.pow2)(b,h,s)*e%s,b2:a}}function v(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function y(e,t){const n=c,r=(0,o.mod)(t*t*t,n),i=g(e*(0,o.mod)(r*r*t,n)).pow_p_5_8;let s=(0,o.mod)(e*r*i,n);const a=(0,o.mod)(t*s*s,n),l=s,u=(0,o.mod)(s*d,n),h=a===e,f=a===(0,o.mod)(-e,n),p=a===(0,o.mod)(-e*d,n);return h&&(s=l),(f||p)&&(s=u),(0,o.isNegativeLE)(s,n)&&(s=(0,o.mod)(-s,n)),{isValid:h||f,value:s}}e.ED25519_TORSION_SUBGROUP=[\"0100000000000000000000000000000000000000000000000000000000000000\",\"c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a\",\"0000000000000000000000000000000000000000000000000000000000000080\",\"26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05\",\"ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f\",\"26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85\",\"0000000000000000000000000000000000000000000000000000000000000000\",\"c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa\"];const E=(()=>(0,o.Field)(c,void 0,!0))(),b=(()=>({a:BigInt(-1),d:BigInt(\"37095705934669439343138083508754565189542113879843219016388785533085940283555\"),Fp:E,n:BigInt(\"7237005577332262213973186563042994240857116359379907606001950938285454250989\"),h:m,Gx:BigInt(\"15112221349535400772501151409588531511454012693041857206046113283949847762202\"),Gy:BigInt(\"46316835694926478169428394003475163141307993866256225615783033603165251855960\"),hash:t.sha512,randomBytes:n.randomBytes,adjustScalarBytes:v,uvRatio:y}))();function w(e,t,r){if(t.length>255)throw new Error(\"Context is too big\");return(0,n.concatBytes)((0,n.utf8ToBytes)(\"SigEd25519 no Ed25519 collisions\"),new Uint8Array([r?1:0,t.length]),t,e)}function S(t){const{y:n}=e.ed25519.ExtendedPoint.fromHex(t),r=BigInt(1);return E.toBytes(E.create((r+n)*E.inv(r-n)))}e.ed25519=(0,r.twistedEdwards)(b),e.ed25519ctx=(0,r.twistedEdwards)({...b,domain:w}),e.ed25519ph=(0,r.twistedEdwards)(Object.assign({},b,{domain:w,prehash:t.sha512})),e.x25519=(0,s.montgomery)({P:c,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:e=>{const t=c,{pow_p_5_8:n,b2:r}=g(e);return(0,o.mod)((0,o.pow2)(n,f,t)*r,t)},adjustScalarBytes:v,randomBytes:n.randomBytes}),e.edwardsToMontgomery=S;const _=(()=>(E.ORDER+f)/m)(),C=(()=>E.pow(h,_))(),x=(()=>E.sqrt(E.neg(E.ONE)))();const k=(()=>(0,o.FpSqrtEven)(E,E.neg(BigInt(486664))))();function M(e){const{xMn:t,xMd:n,yMn:r,yMd:i}=function(e){const t=(E.ORDER-p)/m,n=BigInt(486662);let r=E.sqr(e);r=E.mul(r,h);let i=E.add(r,E.ONE),o=E.neg(n),s=E.sqr(i),a=E.mul(s,i),c=E.mul(r,n);c=E.mul(c,o),c=E.add(c,s),c=E.mul(c,o);let d=E.sqr(a);s=E.sqr(d),d=E.mul(d,a),d=E.mul(d,c),s=E.mul(s,d);let l=E.pow(s,t);l=E.mul(l,d);let f=E.mul(l,x);s=E.sqr(l),s=E.mul(s,a);let g=E.eql(s,c),v=E.cmov(f,l,g),y=E.mul(o,r),b=E.mul(l,e);b=E.mul(b,C);let w=E.mul(b,x),S=E.mul(c,r);s=E.sqr(b),s=E.mul(s,a);let _=E.eql(s,S),k=E.cmov(w,b,_);s=E.sqr(v),s=E.mul(s,a);let M=E.eql(s,c),A=E.cmov(y,o,M),T=E.cmov(k,v,M),I=E.isOdd(T);return T=E.cmov(T,E.neg(T),M!==I),{xMn:A,xMd:i,yMn:T,yMd:u}}(e);let o=E.mul(t,i);o=E.mul(o,k);let s=E.mul(n,r),a=E.sub(t,n),c=E.add(t,n),d=E.mul(s,c),l=E.eql(d,E.ZERO);o=E.cmov(o,E.ZERO,l),s=E.cmov(s,E.ONE,l),a=E.cmov(a,E.ONE,l),c=E.cmov(c,E.ONE,l);const f=E.invertBatch([s,c]);return{x:E.mul(o,f[0]),y:E.mul(a,f[1])}}const A=(()=>(0,i.createHasher)(e.ed25519.ExtendedPoint,(e=>M(e[0])),{DST:\"edwards25519_XMD:SHA-512_ELL2_RO_\",encodeDST:\"edwards25519_XMD:SHA-512_ELL2_NU_\",p:E.ORDER,m:1,k:128,expand:\"xmd\",hash:t.sha512}))();function T(e){if(!(e instanceof $))throw new Error(\"RistrettoPoint expected\")}e.hashToCurve=A.hashToCurve,e.encodeToCurve=A.encodeToCurve;const I=d,P=BigInt(\"25063068953384623474111414158702152701244531502492656460079210482610430750235\"),R=BigInt(\"54469307008909316920995813868745141605393597292927456921205312896311721017578\"),O=BigInt(\"1159843021668779879193775521855586647937357759715417654439879720876111806838\"),D=BigInt(\"40440834346308536858101042469323190826248399146238708352240133220865137265952\"),L=e=>y(u,e),B=BigInt(\"0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\"),K=t=>e.ed25519.CURVE.Fp.create((0,a.bytesToNumberLE)(t)&B);function j(t){const{d:n}=e.ed25519.CURVE,r=e.ed25519.CURVE.Fp.ORDER,i=e.ed25519.CURVE.Fp.create,s=i(I*t*t),a=i((s+u)*O);let c=BigInt(-1);const d=i((c-n*s)*i(s+n));let{isValid:l,value:h}=y(a,d),f=i(h*t);(0,o.isNegativeLE)(f,r)||(f=i(-f)),l||(h=f),l||(c=s);const p=i(c*(s-u)*D-d),m=h*h,g=i((h+h)*d),v=i(p*P),E=i(u-m),b=i(u+m);return new e.ed25519.ExtendedPoint(i(g*b),i(E*v),i(v*b),i(g*E))}class ${constructor(e){this.ep=e}static fromAffine(t){return new $(e.ed25519.ExtendedPoint.fromAffine(t))}static hashToCurve(e){e=(0,a.ensureBytes)(\"ristrettoHash\",e,64);const t=j(K(e.slice(0,32))),n=j(K(e.slice(32,64)));return new $(t.add(n))}static fromHex(t){t=(0,a.ensureBytes)(\"ristrettoHex\",t,32);const{a:n,d:r}=e.ed25519.CURVE,i=e.ed25519.CURVE.Fp.ORDER,s=e.ed25519.CURVE.Fp.create,c=\"RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint\",d=K(t);if(!(0,a.equalBytes)((0,a.numberToBytesLE)(d,32),t)||(0,o.isNegativeLE)(d,i))throw new Error(c);const h=s(d*d),f=s(u+n*h),p=s(u-n*h),m=s(f*f),g=s(p*p),v=s(n*r*m-g),{isValid:y,value:E}=L(s(v*g)),b=s(E*p),w=s(E*b*v);let S=s((d+d)*b);(0,o.isNegativeLE)(S,i)&&(S=s(-S));const _=s(f*w),C=s(S*_);if(!y||(0,o.isNegativeLE)(C,i)||_===l)throw new Error(c);return new $(new e.ed25519.ExtendedPoint(S,_,u,C))}toRawBytes(){let{ex:t,ey:n,ez:r,et:i}=this.ep;const s=e.ed25519.CURVE.Fp.ORDER,c=e.ed25519.CURVE.Fp.create,d=c(c(r+n)*c(r-n)),l=c(t*n),u=c(l*l),{value:h}=L(c(d*u)),f=c(h*d),p=c(h*l),m=c(f*p*i);let g;if((0,o.isNegativeLE)(i*m,s)){let e=c(n*I),r=c(t*I);t=e,n=r,g=c(f*R)}else g=p;(0,o.isNegativeLE)(t*m,s)&&(n=c(-n));let v=c((r-n)*g);return(0,o.isNegativeLE)(v,s)&&(v=c(-v)),(0,a.numberToBytesLE)(v,32)}toHex(){return(0,a.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(t){T(t);const{ex:n,ey:r}=this.ep,{ex:i,ey:o}=t.ep,s=e.ed25519.CURVE.Fp.create,a=s(n*o)===s(r*i),c=s(r*o)===s(n*i);return a||c}add(e){return T(e),new $(this.ep.add(e.ep))}subtract(e){return T(e),new $(this.ep.subtract(e.ep))}multiply(e){return new $(this.ep.multiply(e))}multiplyUnsafe(e){return new $(this.ep.multiplyUnsafe(e))}double(){return new $(this.ep.double())}negate(){return new $(this.ep.negate())}}e.RistrettoPoint=($.BASE||($.BASE=new $(e.ed25519.ExtendedPoint.BASE)),$.ZERO||($.ZERO=new $(e.ed25519.ExtendedPoint.ZERO)),$);e.hashToRistretto255=(e,r)=>{const o=r.DST,s=\"string\"==typeof o?(0,n.utf8ToBytes)(o):o,a=(0,i.expand_message_xmd)(e,s,64,t.sha512);return $.hashToCurve(a)},e.hash_to_ristretto255=e.hashToRistretto255}(O);var Qt={},Xt={};Object.defineProperty(Xt,\"__esModule\",{value:!0}),Xt.sha224=Xt.sha256=Xt.SHA256=void 0;const en=D,tn=z,nn=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),rn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),on=new Uint32Array(64);class sn extends en.HashMD{constructor(){super(64,32,8,!1),this.A=0|rn[0],this.B=0|rn[1],this.C=0|rn[2],this.D=0|rn[3],this.E=0|rn[4],this.F=0|rn[5],this.G=0|rn[6],this.H=0|rn[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:s,H:a}=this;return[e,t,n,r,i,o,s,a]}set(e,t,n,r,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let n=0;n<16;n++,t+=4)on[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=on[e-15],n=on[e-2],r=(0,tn.rotr)(t,7)^(0,tn.rotr)(t,18)^t>>>3,i=(0,tn.rotr)(n,17)^(0,tn.rotr)(n,19)^n>>>10;on[e]=i+on[e-7]+r+on[e-16]|0}let{A:n,B:r,C:i,D:o,E:s,F:a,G:c,H:d}=this;for(let e=0;e<64;e++){const t=d+((0,tn.rotr)(s,6)^(0,tn.rotr)(s,11)^(0,tn.rotr)(s,25))+(0,en.Chi)(s,a,c)+nn[e]+on[e]|0,l=((0,tn.rotr)(n,2)^(0,tn.rotr)(n,13)^(0,tn.rotr)(n,22))+(0,en.Maj)(n,r,i)|0;d=c,c=a,a=s,s=o+t|0,o=i,i=r,r=n,n=t+l|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,c=c+this.G|0,d=d+this.H|0,this.set(n,r,i,o,s,a,c,d)}roundClean(){on.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}Xt.SHA256=sn;class an extends sn{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}Xt.sha256=(0,tn.wrapConstructor)((()=>new sn)),Xt.sha224=(0,tn.wrapConstructor)((()=>new an));var cn={},dn={};!function(e){Object.defineProperty(e,\"__esModule\",{value:!0}),e.hmac=e.HMAC=void 0;const t=L,n=z;class r extends n.Hash{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,(0,t.hash)(e);const i=(0,n.toBytes)(r);if(this.iHash=e.create(),\"function\"!=typeof this.iHash.update)throw new Error(\"Expected instance of class which extends utils.Hash\");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,s=new Uint8Array(o);s.set(i.length>o?e.create().update(i).digest():i);for(let e=0;e<s.length;e++)s[e]^=54;this.iHash.update(s),this.oHash=e.create();for(let e=0;e<s.length;e++)s[e]^=106;this.oHash.update(s),s.fill(0)}update(e){return(0,t.exists)(this),this.iHash.update(e),this}digestInto(e){(0,t.exists)(this),(0,t.bytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}e.HMAC=r;e.hmac=(e,t,n)=>new r(e,t).update(n).digest(),e.hmac.create=(e,t)=>new r(e,t)}(dn);var ln={};!function(e){Object.defineProperty(e,\"__esModule\",{value:!0}),e.DER=void 0,e.weierstrassPoints=f,e.weierstrass=function(s){const a=function(e){const n=(0,t.validateBasic)(e);return r.validateObject(n,{hash:\"hash\",hmac:\"function\",randomBytes:\"function\"},{bits2int:\"function\",bits2int_modN:\"function\",lowS:\"boolean\"}),Object.freeze({lowS:!0,...n})}(s),{Fp:l,n:u}=a,h=l.BYTES+1,p=2*l.BYTES+1;function m(e){return n.mod(e,u)}function g(e){return n.invert(e,u)}const{ProjectivePoint:v,normPrivateKeyToScalar:y,weierstrassEquation:E,isWithinCurveOrder:b}=f({...a,toBytes(e,t,n){const o=t.toAffine(),s=l.toBytes(o.x),a=r.concatBytes;return(0,i.abool)(\"isCompressed\",n),n?a(Uint8Array.from([t.hasEvenY()?2:3]),s):a(Uint8Array.from([4]),s,l.toBytes(o.y))},fromBytes(e){const t=e.length,n=e[0],i=e.subarray(1);if(t!==h||2!==n&&3!==n){if(t===p&&4===n){return{x:l.fromBytes(i.subarray(0,l.BYTES)),y:l.fromBytes(i.subarray(l.BYTES,2*l.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${h} compressed bytes or ${p} uncompressed bytes`)}{const e=r.bytesToNumberBE(i);if(!r.inRange(e,d,l.ORDER))throw new Error(\"Point is not on curve\");const t=E(e);let o;try{o=l.sqrt(t)}catch(e){const t=e instanceof Error?\": \"+e.message:\"\";throw new Error(\"Point is not on curve\"+t)}return 1==(1&n)!==((o&d)===d)&&(o=l.neg(o)),{x:e,y:o}}}}),w=e=>r.bytesToHex(r.numberToBytesBE(e,a.nByteLength));function S(e){return e>u>>d}const _=(e,t,n)=>r.bytesToNumberBE(e.slice(t,n));class C{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const t=a.nByteLength;return e=(0,i.ensureBytes)(\"compactSignature\",e,2*t),new C(_(e,0,t),_(e,t,2*t))}static fromDER(t){const{r:n,s:r}=e.DER.toSig((0,i.ensureBytes)(\"DER\",t));return new C(n,r)}assertValidity(){r.aInRange(\"r\",this.r,d,u),r.aInRange(\"s\",this.s,d,u)}addRecoveryBit(e){return new C(this.r,this.s,e)}recoverPublicKey(e){const{r:t,s:n,recovery:r}=this,o=A((0,i.ensureBytes)(\"msgHash\",e));if(null==r||![0,1,2,3].includes(r))throw new Error(\"recovery id invalid\");const s=2===r||3===r?t+a.n:t;if(s>=l.ORDER)throw new Error(\"recovery id 2 or 3 invalid\");const c=0==(1&r)?\"02\":\"03\",d=v.fromHex(c+w(s)),u=g(s),h=m(-o*u),f=m(n*u),p=v.BASE.multiplyAndAddUnsafe(d,h,f);if(!p)throw new Error(\"point at infinify\");return p.assertValidity(),p}hasHighS(){return S(this.s)}normalizeS(){return this.hasHighS()?new C(this.r,m(-this.s),this.recovery):this}toDERRawBytes(){return r.hexToBytes(this.toDERHex())}toDERHex(){return e.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return r.hexToBytes(this.toCompactHex())}toCompactHex(){return w(this.r)+w(this.s)}}const x={isValidPrivateKey(e){try{return y(e),!0}catch(e){return!1}},normPrivateKeyToScalar:y,randomPrivateKey:()=>{const e=n.getMinHashLength(a.n);return n.mapHashToField(a.randomBytes(e),a.n)},precompute:(e=8,t=v.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function k(e){const t=r.isBytes(e),n=\"string\"==typeof e,i=(t||n)&&e.length;return t?i===h||i===p:n?i===2*h||i===2*p:e instanceof v}const M=a.bits2int||function(e){const t=r.bytesToNumberBE(e),n=8*e.length-a.nBitLength;return n>0?t>>BigInt(n):t},A=a.bits2int_modN||function(e){return m(M(e))},T=r.bitMask(a.nBitLength);function I(e){return r.aInRange(`num < 2^${a.nBitLength}`,e,c,T),r.numberToBytesBE(e,a.nByteLength)}function P(e,t,n=R){if([\"recovered\",\"canonical\"].some((e=>e in n)))throw new Error(\"sign() legacy options not supported\");const{hash:s,randomBytes:u}=a;let{lowS:h,prehash:f,extraEntropy:p}=n;null==h&&(h=!0),e=(0,i.ensureBytes)(\"msgHash\",e),o(n),f&&(e=(0,i.ensureBytes)(\"prehashed msgHash\",s(e)));const E=A(e),w=y(t),_=[I(w),I(E)];if(null!=p&&!1!==p){const e=!0===p?u(l.BYTES):p;_.push((0,i.ensureBytes)(\"extraEntropy\",e))}const x=r.concatBytes(..._),k=E;return{seed:x,k2sig:function(e){const t=M(e);if(!b(t))return;const n=g(t),r=v.BASE.multiply(t).toAffine(),i=m(r.x);if(i===c)return;const o=m(n*m(k+i*w));if(o===c)return;let s=(r.x===i?0:2)|Number(r.y&d),a=o;return h&&S(o)&&(a=function(e){return S(e)?m(-e):e}(o),s^=1),new C(i,a,s)}}}const R={lowS:a.lowS,prehash:!1},O={lowS:a.lowS,prehash:!1};return v.BASE._setWindowSize(8),{CURVE:a,getPublicKey:function(e,t=!0){return v.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,n=!0){if(k(e))throw new Error(\"first arg must be private key\");if(!k(t))throw new Error(\"second arg must be public key\");const r=v.fromHex(t);return r.multiply(y(e)).toRawBytes(n)},sign:function(e,t,n=R){const{seed:i,k2sig:o}=P(e,t,n),s=a,c=r.createHmacDrbg(s.hash.outputLen,s.nByteLength,s.hmac);return c(i,o)},verify:function(t,n,s,c=O){const d=t;if(n=(0,i.ensureBytes)(\"msgHash\",n),s=(0,i.ensureBytes)(\"publicKey\",s),\"strict\"in c)throw new Error(\"options.strict was renamed to lowS\");o(c);const{lowS:l,prehash:u}=c;let h,f;try{if(\"string\"==typeof d||r.isBytes(d))try{h=C.fromDER(d)}catch(t){if(!(t instanceof e.DER.Err))throw t;h=C.fromCompact(d)}else{if(\"object\"!=typeof d||\"bigint\"!=typeof d.r||\"bigint\"!=typeof d.s)throw new Error(\"PARSE\");{const{r:e,s:t}=d;h=new C(e,t)}}f=v.fromHex(s)}catch(e){if(\"PARSE\"===e.message)throw new Error(\"signature must be Signature instance, Uint8Array or hex string\");return!1}if(l&&h.hasHighS())return!1;u&&(n=a.hash(n));const{r:p,s:y}=h,E=A(n),b=g(y),w=m(E*b),S=m(p*b),_=v.BASE.multiplyAndAddUnsafe(f,w,S)?.toAffine();if(!_)return!1;const x=m(_.x);return x===p},ProjectivePoint:v,Signature:C,utils:x}},e.SWUFpSqrtRatio=p,e.mapToCurveSimpleSWU=function(e,t){if(n.validateField(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error(\"mapToCurveSimpleSWU: invalid opts\");const r=p(e,t.Z);if(!e.isOdd)throw new Error(\"Fp.isOdd is not implemented!\");return n=>{let i,o,s,a,c,d,l,u;i=e.sqr(n),i=e.mul(i,t.Z),o=e.sqr(i),o=e.add(o,i),s=e.add(o,e.ONE),s=e.mul(s,t.B),a=e.cmov(t.Z,e.neg(o),!e.eql(o,e.ZERO)),a=e.mul(a,t.A),o=e.sqr(s),d=e.sqr(a),c=e.mul(d,t.A),o=e.add(o,c),o=e.mul(o,s),d=e.mul(d,a),c=e.mul(d,t.B),o=e.add(o,c),l=e.mul(i,s);const{isValid:h,value:f}=r(o,d);u=e.mul(i,n),u=e.mul(u,f),l=e.cmov(l,s,h),u=e.cmov(u,f,h);const p=e.isOdd(n)===e.isOdd(u);return u=e.cmov(e.neg(u),u,p),l=e.div(l,a),{x:l,y:u}}};const t=Ne,n=De,r=Le,i=Le;function o(e){void 0!==e.lowS&&(0,i.abool)(\"lowS\",e.lowS),void 0!==e.prehash&&(0,i.abool)(\"prehash\",e.prehash)}const{bytesToNumberBE:s,hexToBytes:a}=r;e.DER={Err:class extends Error{constructor(e=\"\"){super(e)}},_tlv:{encode:(t,n)=>{const{Err:i}=e.DER;if(t<0||t>256)throw new i(\"tlv.encode: wrong tag\");if(1&n.length)throw new i(\"tlv.encode: unpadded data\");const o=n.length/2,s=r.numberToHexUnpadded(o);if(s.length/2&128)throw new i(\"tlv.encode: long form length too big\");const a=o>127?r.numberToHexUnpadded(s.length/2|128):\"\";return`${r.numberToHexUnpadded(t)}${a}${s}${n}`},decode(t,n){const{Err:r}=e.DER;let i=0;if(t<0||t>256)throw new r(\"tlv.encode: wrong tag\");if(n.length<2||n[i++]!==t)throw new r(\"tlv.decode: wrong tlv\");const o=n[i++];let s=0;if(!!(128&o)){const e=127&o;if(!e)throw new r(\"tlv.decode(long): indefinite length not supported\");if(e>4)throw new r(\"tlv.decode(long): byte length is too big\");const t=n.subarray(i,i+e);if(t.length!==e)throw new r(\"tlv.decode: length bytes not complete\");if(0===t[0])throw new r(\"tlv.decode(long): zero leftmost byte\");for(const e of t)s=s<<8|e;if(i+=e,s<128)throw new r(\"tlv.decode(long): not minimal encoding\")}else s=o;const a=n.subarray(i,i+s);if(a.length!==s)throw new r(\"tlv.decode: wrong value length\");return{v:a,l:n.subarray(i+s)}}},_int:{encode(t){const{Err:n}=e.DER;if(t<c)throw new n(\"integer: negative integers are not allowed\");let i=r.numberToHexUnpadded(t);if(8&Number.parseInt(i[0],16)&&(i=\"00\"+i),1&i.length)throw new n(\"unexpected assertion\");return i},decode(t){const{Err:n}=e.DER;if(128&t[0])throw new n(\"Invalid signature integer: negative\");if(0===t[0]&&!(128&t[1]))throw new n(\"Invalid signature integer: unnecessary leading zero\");return s(t)}},toSig(t){const{Err:n,_int:i,_tlv:o}=e.DER,s=\"string\"==typeof t?a(t):t;r.abytes(s);const{v:c,l:d}=o.decode(48,s);if(d.length)throw new n(\"Invalid signature: left bytes after parsing\");const{v:l,l:u}=o.decode(2,c),{v:h,l:f}=o.decode(2,u);if(f.length)throw new n(\"Invalid signature: left bytes after parsing\");return{r:i.decode(l),s:i.decode(h)}},hexFromSig(t){const{_tlv:n,_int:r}=e.DER,i=`${n.encode(2,r.encode(t.r))}${n.encode(2,r.encode(t.s))}`;return n.encode(48,i)}};const c=BigInt(0),d=BigInt(1),l=BigInt(2),u=BigInt(3),h=BigInt(4);function f(e){const o=function(e){const n=(0,t.validateBasic)(e);r.validateObject(n,{a:\"field\",b:\"field\"},{allowedPrivateKeyLengths:\"array\",wrapPrivateKey:\"boolean\",isTorsionFree:\"function\",clearCofactor:\"function\",allowInfinityPoint:\"boolean\",fromBytes:\"function\",toBytes:\"function\"});const{endo:i,Fp:o,a:s}=n;if(i){if(!o.eql(s,o.ZERO))throw new Error(\"Endomorphism can only be defined for Koblitz curves that have a=0\");if(\"object\"!=typeof i||\"bigint\"!=typeof i.beta||\"function\"!=typeof i.splitScalar)throw new Error(\"Expected endomorphism with beta: bigint and splitScalar: function\")}return Object.freeze({...n})}(e),{Fp:s}=o,a=n.Field(o.n,o.nBitLength),l=o.toBytes||((e,t,n)=>{const i=t.toAffine();return r.concatBytes(Uint8Array.from([4]),s.toBytes(i.x),s.toBytes(i.y))}),h=o.fromBytes||(e=>{const t=e.subarray(1);return{x:s.fromBytes(t.subarray(0,s.BYTES)),y:s.fromBytes(t.subarray(s.BYTES,2*s.BYTES))}});function f(e){const{a:t,b:n}=o,r=s.sqr(e),i=s.mul(r,e);return s.add(s.add(i,s.mul(e,t)),n)}if(!s.eql(s.sqr(o.Gy),f(o.Gx)))throw new Error(\"bad generator point: equation left != right\");function p(e){const{allowedPrivateKeyLengths:t,nByteLength:s,wrapPrivateKey:a,n:c}=o;if(t&&\"bigint\"!=typeof e){if(r.isBytes(e)&&(e=r.bytesToHex(e)),\"string\"!=typeof e||!t.includes(e.length))throw new Error(\"Invalid key\");e=e.padStart(2*s,\"0\")}let l;try{l=\"bigint\"==typeof e?e:r.bytesToNumberBE((0,i.ensureBytes)(\"private key\",e,s))}catch(t){throw new Error(`private key must be ${s} bytes, hex or bigint, not ${typeof e}`)}return a&&(l=n.mod(l,c)),r.aInRange(\"private key\",l,d,c),l}function m(e){if(!(e instanceof y))throw new Error(\"ProjectivePoint expected\")}const g=(0,i.memoized)(((e,t)=>{const{px:n,py:r,pz:i}=e;if(s.eql(i,s.ONE))return{x:n,y:r};const o=e.is0();null==t&&(t=o?s.ONE:s.inv(i));const a=s.mul(n,t),c=s.mul(r,t),d=s.mul(i,t);if(o)return{x:s.ZERO,y:s.ZERO};if(!s.eql(d,s.ONE))throw new Error(\"invZ was invalid\");return{x:a,y:c}})),v=(0,i.memoized)((e=>{if(e.is0()){if(o.allowInfinityPoint&&!s.is0(e.py))return;throw new Error(\"bad point: ZERO\")}const{x:t,y:n}=e.toAffine();if(!s.isValid(t)||!s.isValid(n))throw new Error(\"bad point: x or y not FE\");const r=s.sqr(n),i=f(t);if(!s.eql(r,i))throw new Error(\"bad point: equation left != right\");if(!e.isTorsionFree())throw new Error(\"bad point: not in prime-order subgroup\");return!0}));class y{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!s.isValid(e))throw new Error(\"x required\");if(null==t||!s.isValid(t))throw new Error(\"y required\");if(null==n||!s.isValid(n))throw new Error(\"z required\");Object.freeze(this)}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!s.isValid(t)||!s.isValid(n))throw new Error(\"invalid affine point\");if(e instanceof y)throw new Error(\"projective point not allowed\");const r=e=>s.eql(e,s.ZERO);return r(t)&&r(n)?y.ZERO:new y(t,n,s.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=s.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(y.fromAffine)}static fromHex(e){const t=y.fromAffine(h((0,i.ensureBytes)(\"pointHex\",e)));return t.assertValidity(),t}static fromPrivateKey(e){return y.BASE.multiply(p(e))}static msm(e,n){return(0,t.pippenger)(y,a,e,n)}_setWindowSize(e){b.setWindowSize(this,e)}assertValidity(){v(this)}hasEvenY(){const{y:e}=this.toAffine();if(s.isOdd)return!s.isOdd(e);throw new Error(\"Field doesn't support isOdd\")}equals(e){m(e);const{px:t,py:n,pz:r}=this,{px:i,py:o,pz:a}=e,c=s.eql(s.mul(t,a),s.mul(i,r)),d=s.eql(s.mul(n,a),s.mul(o,r));return c&&d}negate(){return new y(this.px,s.neg(this.py),this.pz)}double(){const{a:e,b:t}=o,n=s.mul(t,u),{px:r,py:i,pz:a}=this;let c=s.ZERO,d=s.ZERO,l=s.ZERO,h=s.mul(r,r),f=s.mul(i,i),p=s.mul(a,a),m=s.mul(r,i);return m=s.add(m,m),l=s.mul(r,a),l=s.add(l,l),c=s.mul(e,l),d=s.mul(n,p),d=s.add(c,d),c=s.sub(f,d),d=s.add(f,d),d=s.mul(c,d),c=s.mul(m,c),l=s.mul(n,l),p=s.mul(e,p),m=s.sub(h,p),m=s.mul(e,m),m=s.add(m,l),l=s.add(h,h),h=s.add(l,h),h=s.add(h,p),h=s.mul(h,m),d=s.add(d,h),p=s.mul(i,a),p=s.add(p,p),h=s.mul(p,m),c=s.sub(c,h),l=s.mul(p,f),l=s.add(l,l),l=s.add(l,l),new y(c,d,l)}add(e){m(e);const{px:t,py:n,pz:r}=this,{px:i,py:a,pz:c}=e;let d=s.ZERO,l=s.ZERO,h=s.ZERO;const f=o.a,p=s.mul(o.b,u);let g=s.mul(t,i),v=s.mul(n,a),E=s.mul(r,c),b=s.add(t,n),w=s.add(i,a);b=s.mul(b,w),w=s.add(g,v),b=s.sub(b,w),w=s.add(t,r);let S=s.add(i,c);return w=s.mul(w,S),S=s.add(g,E),w=s.sub(w,S),S=s.add(n,r),d=s.add(a,c),S=s.mul(S,d),d=s.add(v,E),S=s.sub(S,d),h=s.mul(f,w),d=s.mul(p,E),h=s.add(d,h),d=s.sub(v,h),h=s.add(v,h),l=s.mul(d,h),v=s.add(g,g),v=s.add(v,g),E=s.mul(f,E),w=s.mul(p,w),v=s.add(v,E),E=s.sub(g,E),E=s.mul(f,E),w=s.add(w,E),g=s.mul(v,w),l=s.add(l,g),g=s.mul(S,w),d=s.mul(b,d),d=s.sub(d,g),g=s.mul(b,v),h=s.mul(S,h),h=s.add(h,g),new y(d,l,h)}subtract(e){return this.add(e.negate())}is0(){return this.equals(y.ZERO)}wNAF(e){return b.wNAFCached(this,e,y.normalizeZ)}multiplyUnsafe(e){r.aInRange(\"scalar\",e,c,o.n);const t=y.ZERO;if(e===c)return t;if(e===d)return this;const{endo:n}=o;if(!n)return b.unsafeLadder(this,e);let{k1neg:i,k1:a,k2neg:l,k2:u}=n.splitScalar(e),h=t,f=t,p=this;for(;a>c||u>c;)a&d&&(h=h.add(p)),u&d&&(f=f.add(p)),p=p.double(),a>>=d,u>>=d;return i&&(h=h.negate()),l&&(f=f.negate()),f=new y(s.mul(f.px,n.beta),f.py,f.pz),h.add(f)}multiply(e){const{endo:t,n:n}=o;let i,a;if(r.aInRange(\"scalar\",e,d,n),t){const{k1neg:n,k1:r,k2neg:o,k2:c}=t.splitScalar(e);let{p:d,f:l}=this.wNAF(r),{p:u,f:h}=this.wNAF(c);d=b.constTimeNegate(n,d),u=b.constTimeNegate(o,u),u=new y(s.mul(u.px,t.beta),u.py,u.pz),i=d.add(u),a=l.add(h)}else{const{p:t,f:n}=this.wNAF(e);i=t,a=n}return y.normalizeZ([i,a])[0]}multiplyAndAddUnsafe(e,t,n){const r=y.BASE,i=(e,t)=>t!==c&&t!==d&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,n));return o.is0()?void 0:o}toAffine(e){return g(this,e)}isTorsionFree(){const{h:e,isTorsionFree:t}=o;if(e===d)return!0;if(t)return t(y,this);throw new Error(\"isTorsionFree() has not been declared for the elliptic curve\")}clearCofactor(){const{h:e,clearCofactor:t}=o;return e===d?this:t?t(y,this):this.multiplyUnsafe(o.h)}toRawBytes(e=!0){return(0,i.abool)(\"isCompressed\",e),this.assertValidity(),l(y,this,e)}toHex(e=!0){return(0,i.abool)(\"isCompressed\",e),r.bytesToHex(this.toRawBytes(e))}}y.BASE=new y(o.Gx,o.Gy,s.ONE),y.ZERO=new y(s.ZERO,s.ONE,s.ZERO);const E=o.nBitLength,b=(0,t.wNAF)(y,o.endo?Math.ceil(E/2):E);return{CURVE:o,ProjectivePoint:y,normPrivateKeyToScalar:p,weierstrassEquation:f,isWithinCurveOrder:function(e){return r.inRange(e,d,o.n)}}}function p(e,t){const n=e.ORDER;let r=c;for(let e=n-d;e%l===c;e/=l)r+=d;const i=r,o=l<<i-d-d,s=o*l,a=(n-d)/s,f=(a-d)/l,p=s-d,m=o,g=e.pow(t,a),v=e.pow(t,(a+d)/l);let y=(t,n)=>{let r=g,o=e.pow(n,p),s=e.sqr(o);s=e.mul(s,n);let a=e.mul(t,s);a=e.pow(a,f),a=e.mul(a,o),o=e.mul(a,n),s=e.mul(a,t);let c=e.mul(s,o);a=e.pow(c,m);let u=e.eql(a,e.ONE);o=e.mul(s,v),a=e.mul(c,r),s=e.cmov(o,s,u),c=e.cmov(a,c,u);for(let t=i;t>d;t--){let n=t-l;n=l<<n-d;let i=e.pow(c,n);const a=e.eql(i,e.ONE);o=e.mul(s,r),r=e.mul(r,r),i=e.mul(c,r),s=e.cmov(o,s,a),c=e.cmov(i,c,a)}return{isValid:u,value:s}};if(e.ORDER%h===u){const n=(e.ORDER-u)/h,r=e.sqrt(e.neg(t));y=(t,i)=>{let o=e.sqr(i);const s=e.mul(t,i);o=e.mul(o,s);let a=e.pow(o,n);a=e.mul(a,s);const c=e.mul(a,r),d=e.mul(e.sqr(a),i),l=e.eql(d,t);return{isValid:l,value:e.cmov(c,a,l)}}}return y}}(ln),Object.defineProperty(cn,\"__esModule\",{value:!0}),cn.getHash=pn,cn.createCurve=function(e,t){const n=t=>(0,fn.weierstrass)({...e,...pn(t)});return Object.freeze({...n(t),create:n})};const un=dn,hn=z,fn=ln;function pn(e){return{hash:e,hmac:(t,...n)=>(0,un.hmac)(e,t,(0,hn.concatBytes)(...n)),randomBytes:hn.randomBytes}}!function(e){Object.defineProperty(e,\"__esModule\",{value:!0}),e.encodeToCurve=e.hashToCurve=e.schnorr=e.secp256k1=void 0;const t=Xt,n=z,r=cn,i=Bt,o=De,s=Le,a=ln,c=BigInt(\"0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f\"),d=BigInt(\"0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141\"),l=BigInt(1),u=BigInt(2),h=(e,t)=>(e+t/u)/t;function f(e){const t=c,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),d=BigInt(44),l=BigInt(88),h=e*e*e%t,f=h*h*e%t,m=(0,o.pow2)(f,n,t)*f%t,g=(0,o.pow2)(m,n,t)*f%t,v=(0,o.pow2)(g,u,t)*h%t,y=(0,o.pow2)(v,i,t)*v%t,E=(0,o.pow2)(y,s,t)*y%t,b=(0,o.pow2)(E,d,t)*E%t,w=(0,o.pow2)(b,l,t)*b%t,S=(0,o.pow2)(w,d,t)*E%t,_=(0,o.pow2)(S,n,t)*f%t,C=(0,o.pow2)(_,a,t)*y%t,x=(0,o.pow2)(C,r,t)*h%t,k=(0,o.pow2)(x,u,t);if(!p.eql(p.sqr(k),e))throw new Error(\"Cannot find square root\");return k}const p=(0,o.Field)(c,void 0,void 0,{sqrt:f});e.secp256k1=(0,r.createCurve)({a:BigInt(0),b:BigInt(7),Fp:p,n:d,Gx:BigInt(\"55066263022277343669578718895168534326250603453777594175500187360389116729240\"),Gy:BigInt(\"32670510020758816978083085130507043184471273380659243275938904335757337482424\"),h:BigInt(1),lowS:!0,endo:{beta:BigInt(\"0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee\"),splitScalar:e=>{const t=d,n=BigInt(\"0x3086d221a7d46bcde86c90e49284eb15\"),r=-l*BigInt(\"0xe4437ed6010e88286f547fa90abfe4c3\"),i=BigInt(\"0x114ca50f7a8e2f3f657c1108d9d44cfd8\"),s=n,a=BigInt(\"0x100000000000000000000000000000000\"),c=h(s*e,t),u=h(-r*e,t);let f=(0,o.mod)(e-c*n-u*i,t),p=(0,o.mod)(-c*r-u*s,t);const m=f>a,g=p>a;if(m&&(f=t-f),g&&(p=t-p),f>a||p>a)throw new Error(\"splitScalar: Endomorphism failed, k=\"+e);return{k1neg:m,k1:f,k2neg:g,k2:p}}}},t.sha256);const m=BigInt(0),g={};function v(e,...n){let r=g[e];if(void 0===r){const n=(0,t.sha256)(Uint8Array.from(e,(e=>e.charCodeAt(0))));r=(0,s.concatBytes)(n,n),g[e]=r}return(0,t.sha256)((0,s.concatBytes)(r,...n))}const y=e=>e.toRawBytes(!0).slice(1),E=e=>(0,s.numberToBytesBE)(e,32),b=e=>(0,o.mod)(e,c),w=e=>(0,o.mod)(e,d),S=e.secp256k1.ProjectivePoint,_=(e,t,n)=>S.BASE.multiplyAndAddUnsafe(e,t,n);function C(t){let n=e.secp256k1.utils.normPrivateKeyToScalar(t),r=S.fromPrivateKey(n);return{scalar:r.hasEvenY()?n:w(-n),bytes:y(r)}}function x(e){(0,s.aInRange)(\"x\",e,l,c);const t=b(e*e);let n=f(b(t*e+BigInt(7)));n%u!==m&&(n=b(-n));const r=new S(e,n,l);return r.assertValidity(),r}const k=s.bytesToNumberBE;function M(...e){return w(k(v(\"BIP0340/challenge\",...e)))}function A(e){return C(e).bytes}function T(e,t,r=(0,n.randomBytes)(32)){const i=(0,s.ensureBytes)(\"message\",e),{bytes:o,scalar:a}=C(t),c=(0,s.ensureBytes)(\"auxRand\",r,32),d=E(a^k(v(\"BIP0340/aux\",c))),l=v(\"BIP0340/nonce\",d,o,i),u=w(k(l));if(u===m)throw new Error(\"sign failed: k is zero\");const{bytes:h,scalar:f}=C(u),p=M(h,o,i),g=new Uint8Array(64);if(g.set(h,0),g.set(E(w(f+p*a)),32),!I(g,i,o))throw new Error(\"sign: Invalid signature produced\");return g}function I(e,t,n){const r=(0,s.ensureBytes)(\"signature\",e,64),i=(0,s.ensureBytes)(\"message\",t),o=(0,s.ensureBytes)(\"publicKey\",n,32);try{const e=x(k(o)),t=k(r.subarray(0,32));if(!(0,s.inRange)(t,l,c))return!1;const n=k(r.subarray(32,64));if(!(0,s.inRange)(n,l,d))return!1;const a=M(E(t),y(e),i),u=_(e,n,w(-a));return!(!u||!u.hasEvenY()||u.toAffine().x!==t)}catch(e){return!1}}e.schnorr={getPublicKey:A,sign:T,verify:I,utils:{randomPrivateKey:e.secp256k1.utils.randomPrivateKey,lift_x:x,pointToBytes:y,numberToBytesBE:s.numberToBytesBE,bytesToNumberBE:s.bytesToNumberBE,taggedHash:v,mod:o.mod}};const P=(()=>(0,i.isogenyMap)(p,[[\"0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7\",\"0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581\",\"0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262\",\"0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c\"],[\"0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b\",\"0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14\",\"0x0000000000000000000000000000000000000000000000000000000000000001\"],[\"0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c\",\"0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3\",\"0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931\",\"0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84\"],[\"0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b\",\"0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573\",\"0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f\",\"0x0000000000000000000000000000000000000000000000000000000000000001\"]].map((e=>e.map((e=>BigInt(e)))))))(),R=(()=>(0,a.mapToCurveSimpleSWU)(p,{A:BigInt(\"0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533\"),B:BigInt(\"1771\"),Z:p.create(BigInt(\"-11\"))}))(),O=(()=>(0,i.createHasher)(e.secp256k1.ProjectivePoint,(e=>{const{x:t,y:n}=R(p.create(e[0]));return P(t,n)}),{DST:\"secp256k1_XMD:SHA-256_SSWU_RO_\",encodeDST:\"secp256k1_XMD:SHA-256_SSWU_NU_\",p:p.ORDER,m:1,k:128,expand:\"xmd\",hash:t.sha256}))();e.hashToCurve=O.hashToCurve,e.encodeToCurve=O.encodeToCurve}(Qt);var mn={};!function(e){Object.defineProperty(e,\"__esModule\",{value:!0}),e.decodeHex=e.remove0x=void 0;var t=p;e.remove0x=function(e){return e.startsWith(\"0x\")||e.startsWith(\"0X\")?e.slice(2):e};e.decodeHex=function(n){return(0,t.hexToBytes)((0,e.remove0x)(n))}}(mn),function(e){Object.defineProperty(e,\"__esModule\",{value:!0}),e.hexToPublicKey=e.convertPublicKeyFormat=e.getSharedPoint=e.getPublicKey=e.isValidPrivateKey=e.getValidSecret=void 0;var t=I,n=O,r=Qt,i=C,o=x,s=mn;e.getValidSecret=function(){var n;do{n=(0,t.randomBytes)(o.SECRET_KEY_LENGTH)}while(!(0,e.isValidPrivateKey)(n));return n};e.isValidPrivateKey=function(e){return a((0,i.ellipticCurve)(),(function(t){return t.utils.isValidPrivateKey(e)}),(function(){return!0}),(function(){return!0}))};e.getPublicKey=function(e){return a((0,i.ellipticCurve)(),(function(t){return t.getPublicKey(e)}),(function(t){return t.getPublicKey(e)}),(function(t){return t.getPublicKey(e)}))};e.getSharedPoint=function(e,t,n){return a((0,i.ellipticCurve)(),(function(r){return r.getSharedSecret(e,t,n)}),(function(n){return n.getSharedSecret(e,t)}),(function(n){return d(n,e,t)}))};e.convertPublicKeyFormat=function(e,t){return a((0,i.ellipticCurve)(),(function(n){return n.getSharedSecret(BigInt(1),e,t)}),(function(){return e}),(function(){return e}))};function a(e,t,i,o){if(\"secp256k1\"===e)return t(r.secp256k1);if(\"x25519\"===e)return i(n.x25519);if(\"ed25519\"===e)return o(n.ed25519);throw new Error(\"Not implemented\")}e.hexToPublicKey=function(e){var t=(0,s.decodeHex)(e);return a((0,i.ellipticCurve)(),(function(){return c(t)}),(function(){return t}),(function(){return t}))};var c=function(e){if(e.length===o.ETH_PUBLIC_KEY_SIZE){var t=new Uint8Array(1+e.length);return t.set([4]),t.set(e,1),t}return e},d=function(e,t,n){var r=e.utils.getExtendedPublicKey(t).scalar;return e.ExtendedPoint.fromHex(n).multiply(r).toRawBytes()}}(T);var gn={},vn={};Object.defineProperty(vn,\"__esModule\",{value:!0}),vn.hkdf=void 0,vn.extract=wn,vn.expand=Cn;const yn=L,En=z,bn=dn;function wn(e,t,n){return(0,yn.hash)(e),void 0===n&&(n=new Uint8Array(e.outputLen)),(0,bn.hmac)(e,(0,En.toBytes)(n),(0,En.toBytes)(t))}const Sn=new Uint8Array([0]),_n=new Uint8Array;function Cn(e,t,n,r=32){if((0,yn.hash)(e),(0,yn.number)(r),r>255*e.outputLen)throw new Error(\"Length should be <= 255*HashLen\");const i=Math.ceil(r/e.outputLen);void 0===n&&(n=_n);const o=new Uint8Array(i*e.outputLen),s=bn.hmac.create(e,t),a=s._cloneInto(),c=new Uint8Array(s.outputLen);for(let t=0;t<i;t++)Sn[0]=t+1,a.update(0===t?_n:c).update(n).update(Sn).digestInto(c),o.set(c,e.outputLen*t),s._cloneInto(a);return s.destroy(),a.destroy(),c.fill(0),Sn.fill(0),o.slice(0,r)}vn.hkdf=(e,t,n,r,i)=>Cn(e,wn(e,t,n),r,i),function(e){Object.defineProperty(e,\"__esModule\",{value:!0}),e.getSharedKey=e.deriveKey=void 0;var t=p,n=vn,r=Xt;e.deriveKey=function(e,t,i){return(0,n.hkdf)(r.sha256,e,t,i,32)};e.getSharedKey=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(0,e.deriveKey)(t.concatBytes.apply(void 0,n))}}(gn);var xn={},kn={},Mn={};Object.defineProperty(Mn,\"__esModule\",{value:!0}),Mn._compat=void 0;var An=p,Tn=r;Mn._compat=function(e,t,n,r){var i=\"aes-256-gcm\"===e||\"chacha20-poly1305\"===e,o=i?16:0,s=i?{authTagLength:o}:void 0;return{encrypt:function(o){var a=(0,Tn.createCipheriv)(e,t,n,s);i&&void 0!==r&&a.setAAD(r);var c=a.update(o),d=a.final();return i?(0,An.concatBytes)(c,d,a.getAuthTag()):(0,An.concatBytes)(c,d)},decrypt:function(a){var c=a.subarray(0,a.length-o),d=a.subarray(a.length-o),l=(0,Tn.createDecipheriv)(e,t,n,s);i&&(void 0!==r&&l.setAAD(r),l.setAuthTag(d));var u=l.update(c),h=l.final();return(0,An.concatBytes)(u,h)}}},Object.defineProperty(kn,\"__esModule\",{value:!0}),kn.aes256cbc=kn.aes256gcm=void 0;var In=Mn;kn.aes256gcm=function(e,t,n){return(0,In._compat)(\"aes-256-gcm\",e,t,n)};kn.aes256cbc=function(e,t,n){return(0,In._compat)(\"aes-256-cbc\",e,t)};var Pn={},Rn={};Object.defineProperty(Rn,\"__esModule\",{value:!0}),Rn._hchacha=void 0;Rn._hchacha=function(e,t,n,r){for(var i=e[0],o=e[1],s=e[2],a=e[3],c=t[0],d=t[1],l=t[2],u=t[3],h=t[4],f=t[5],p=t[6],m=t[7],g=n[0],v=n[1],y=n[2],E=n[3],b=0;b<20;b+=2)g=On(g^(i=i+c|0),16),c=On(c^(h=h+g|0),12),g=On(g^(i=i+c|0),8),c=On(c^(h=h+g|0),7),v=On(v^(o=o+d|0),16),d=On(d^(f=f+v|0),12),v=On(v^(o=o+d|0),8),d=On(d^(f=f+v|0),7),y=On(y^(s=s+l|0),16),l=On(l^(p=p+y|0),12),y=On(y^(s=s+l|0),8),l=On(l^(p=p+y|0),7),E=On(E^(a=a+u|0),16),u=On(u^(m=m+E|0),12),E=On(E^(a=a+u|0),8),u=On(u^(m=m+E|0),7),E=On(E^(i=i+d|0),16),d=On(d^(p=p+E|0),12),E=On(E^(i=i+d|0),8),d=On(d^(p=p+E|0),7),g=On(g^(o=o+l|0),16),l=On(l^(m=m+g|0),12),g=On(g^(o=o+l|0),8),l=On(l^(m=m+g|0),7),v=On(v^(s=s+u|0),16),u=On(u^(h=h+v|0),12),v=On(v^(s=s+u|0),8),u=On(u^(h=h+v|0),7),y=On(y^(a=a+c|0),16),c=On(c^(f=f+y|0),12),y=On(y^(a=a+c|0),8),c=On(c^(f=f+y|0),7);var w=0;r[w++]=i,r[w++]=o,r[w++]=s,r[w++]=a,r[w++]=g,r[w++]=v,r[w++]=y,r[w++]=E};var On=function(e,t){return e<<t|e>>>32-t};Object.defineProperty(Pn,\"__esModule\",{value:!0}),Pn.xchacha20=void 0;var Nn=p,Dn=Mn,Ln=Rn;Pn.xchacha20=function(e,t,n){if(24!==t.length)throw new Error(\"xchacha20's nonce must be 24 bytes\");var r=new Uint32Array([1634760805,857760878,2036477234,1797285236]),i=new Uint32Array(8);(0,Ln._hchacha)(r,(0,Nn.u32)(e),(0,Nn.u32)(t.subarray(0,16)),i);var o=new Uint8Array(12);return o.set([0,0,0,0]),o.set(t.subarray(16),4),(0,Dn._compat)(\"chacha20-poly1305\",(0,Nn.u8)(i),o,n)},function(e){Object.defineProperty(e,\"__esModule\",{value:!0}),e.aesDecrypt=e.aesEncrypt=e.symDecrypt=e.symEncrypt=void 0;var t=p,n=I,r=kn,i=Pn,o=C,s=x;e.symEncrypt=function(e,t,n){return a(c,e,t,n)};function a(e,t,n,a){var c=(0,o.symmetricAlgorithm)();if(\"aes-256-gcm\"===c)return e(r.aes256gcm,t,n,(0,o.symmetricNonceLength)(),s.AEAD_TAG_LENGTH,a);if(\"xchacha20\"===c)return e(i.xchacha20,t,n,s.XCHACHA20_NONCE_LENGTH,s.AEAD_TAG_LENGTH,a);if(\"aes-256-cbc\"===c)return e(r.aes256cbc,t,n,16,0);throw new Error(\"Not implemented\")}function c(e,r,i,o,s,a){var c=(0,n.randomBytes)(o),d=e(r,c,a).encrypt(i);if(0===s)return(0,t.concatBytes)(c,d);var l=d.length-s,u=d.subarray(0,l),h=d.subarray(l);return(0,t.concatBytes)(c,h,u)}function d(e,n,r,i,o,s){var a=r.subarray(0,i),c=e(n,Uint8Array.from(a),s),d=r.subarray(i);if(0===o)return c.decrypt(d);var l=d.subarray(0,o),u=d.subarray(o);return c.decrypt((0,t.concatBytes)(u,l))}e.symDecrypt=function(e,t,n){return a(d,e,t,n)},e.aesEncrypt=e.symEncrypt,e.aesDecrypt=e.symDecrypt}(xn),function(e){var t=u&&u.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=u&&u.__exportStar||function(e,n){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(n,r)||t(n,e,r)};Object.defineProperty(e,\"__esModule\",{value:!0}),n(T,e),n(gn,e),n(mn,e),n(xn,e)}(A);var Bn={};Object.defineProperty(Bn,\"__esModule\",{value:!0}),Bn.PublicKey=void 0;var Kn=p,jn=A,$n=function(){function e(e){this.data=(0,jn.convertPublicKeyFormat)(e,!0)}return e.fromHex=function(t){return new e((0,jn.hexToPublicKey)(t))},Object.defineProperty(e.prototype,\"uncompressed\",{get:function(){return Buffer.from((0,jn.convertPublicKeyFormat)(this.data,!1))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"compressed\",{get:function(){return Buffer.from(this.data)},enumerable:!1,configurable:!0}),e.prototype.toHex=function(e){return void 0===e&&(e=!0),(0,Kn.bytesToHex)(e?this.data:this.uncompressed)},e.prototype.decapsulate=function(e,t){void 0===t&&(t=!1);var n=t?this.data:this.uncompressed,r=e.multiply(this,t);return(0,jn.getSharedKey)(n,r)},e.prototype.equals=function(e){return(0,Kn.equalBytes)(this.data,e.data)},e}();Bn.PublicKey=$n,Object.defineProperty(M,\"__esModule\",{value:!0}),M.PrivateKey=void 0;var Hn=p,Un=A,Fn=Bn,qn=function(){function e(e){if(void 0===e)this.data=(0,Un.getValidSecret)();else{if(!(0,Un.isValidPrivateKey)(e))throw new Error(\"Invalid private key\");this.data=e}this.publicKey=new Fn.PublicKey((0,Un.getPublicKey)(this.data))}return e.fromHex=function(t){return new e((0,Un.decodeHex)(t))},Object.defineProperty(e.prototype,\"secret\",{get:function(){return Buffer.from(this.data)},enumerable:!1,configurable:!0}),e.prototype.toHex=function(){return(0,Hn.bytesToHex)(this.data)},e.prototype.encapsulate=function(e,t){void 0===t&&(t=!1);var n=t?this.publicKey.compressed:this.publicKey.uncompressed,r=this.multiply(e,t);return(0,Un.getSharedKey)(n,r)},e.prototype.multiply=function(e,t){return void 0===t&&(t=!1),(0,Un.getSharedPoint)(this.data,e.compressed,t)},e.prototype.equals=function(e){return(0,Hn.equalBytes)(this.data,e.data)},e}();M.PrivateKey=qn,function(e){Object.defineProperty(e,\"__esModule\",{value:!0}),e.PublicKey=e.PrivateKey=void 0;var t=M;Object.defineProperty(e,\"PrivateKey\",{enumerable:!0,get:function(){return t.PrivateKey}});var n=Bn;Object.defineProperty(e,\"PublicKey\",{enumerable:!0,get:function(){return n.PublicKey}})}(k),function(e){Object.defineProperty(e,\"__esModule\",{value:!0}),e.utils=e.PublicKey=e.PrivateKey=e.ECIES_CONFIG=void 0,e.encrypt=function(e,o){var s=new r.PrivateKey,a=e instanceof Uint8Array?new r.PublicKey(e):r.PublicKey.fromHex(e),c=s.encapsulate(a,(0,n.isHkdfKeyCompressed)()),d=(0,n.isEphemeralKeyCompressed)()?s.publicKey.compressed:s.publicKey.uncompressed,l=(0,i.symEncrypt)(c,o);return Buffer.from((0,t.concatBytes)(d,l))},e.decrypt=function(e,t){var o=e instanceof Uint8Array?new r.PrivateKey(e):r.PrivateKey.fromHex(e),s=(0,n.ephemeralKeySize)(),a=new r.PublicKey(t.subarray(0,s)),c=t.subarray(s),d=a.decapsulate(o,(0,n.isHkdfKeyCompressed)());return Buffer.from((0,i.symDecrypt)(d,c))};var t=p,n=C,r=k,i=A;var o=C;Object.defineProperty(e,\"ECIES_CONFIG\",{enumerable:!0,get:function(){return o.ECIES_CONFIG}});var s=k;Object.defineProperty(e,\"PrivateKey\",{enumerable:!0,get:function(){return s.PrivateKey}}),Object.defineProperty(e,\"PublicKey\",{enumerable:!0,get:function(){return s.PublicKey}}),e.utils={aesEncrypt:i.aesEncrypt,aesDecrypt:i.aesDecrypt,symEncrypt:i.symEncrypt,symDecrypt:i.symDecrypt,decodeHex:i.decodeHex,getValidSecret:i.getValidSecret,remove0x:i.remove0x}}(f);const zn=t(\"KeyExchange:Layer\"),Wn=t(\"SocketService:Layer\"),Vn=t(\"Ecies:Layer\"),Gn=t(\"RemoteCommunication:Layer\");zn.color=\"##95c44e\",Wn.color=\"#f638d7\",Vn.color=\"#465b9c\",Gn.color=\"#47a2be\";const Yn={KeyExchange:zn,SocketService:Wn,Ecies:Vn,RemoteCommunication:Gn};let Zn,Jn=[],Qn=[];const Xn=(t,n)=>l(void 0,void 0,void 0,(function*(){Zn=n,Qn.push(t),function(t){return l(this,void 0,void 0,(function*(){if(!Zn||!t)return;!function(){const e=Qn;Qn=Jn,Jn=e}();const n=Zn.endsWith(\"/\")?`${Zn}evt`:`${Zn}/evt`,r=Object.assign({},t);if(delete r.params,t.params)for(const[e,n]of Object.entries(t.params))r[e]=n;const i=JSON.stringify(r);Yn.RemoteCommunication(`[sendBufferedEvents] Sending ${Jn.length} analytics events to ${n}`);try{const t=yield e(n,{method:\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"},body:i}),r=yield t.text();Yn.RemoteCommunication(`[sendBufferedEvents] Response: ${r}`),Jn.length=0}catch(n){}}))}(t).catch((()=>{}))}));class er{constructor(e){this.enabled=!0,(null==e?void 0:e.debug)&&t.enable(\"Ecies:Layer\"),this.ecies=(null==e?void 0:e.privateKey)?f.PrivateKey.fromHex(e.privateKey):new f.PrivateKey,Yn.Ecies(\"[ECIES constructor()] initialized secret: \",this.ecies.toHex()),Yn.Ecies(\"[ECIES constructor()] initialized public: \",this.ecies.publicKey.toHex()),Yn.Ecies(\"[ECIES constructor()] init with\",this)}generateECIES(){this.ecies=new f.PrivateKey}getPublicKey(){return this.ecies.publicKey.toHex()}encrypt(e,t){let r=e;if(this.enabled)try{Yn.Ecies(\"[ECIES: encrypt()] using otherPublicKey\",t);const i=n.Buffer.from(e),o=f.encrypt(t,i);r=n.Buffer.from(o).toString(\"base64\")}catch(r){throw Yn.Ecies(\"[ECIES: encrypt()] error encrypt:\",r),Yn.Ecies(\"[ECIES: encrypt()] private: \",this.ecies.toHex()),Yn.Ecies(\"[ECIES: encrypt()] data: \",e),Yn.Ecies(\"[ECIES: encrypt()] otherkey: \",t),r}return r}decrypt(e){let t=e;if(this.enabled)try{Yn.Ecies(\"[ECIES: decrypt()] using privateKey\",this.ecies.toHex());const r=n.Buffer.from(e.toString(),\"base64\");t=f.decrypt(this.ecies.toHex(),r).toString()}catch(t){throw Yn.Ecies(\"[ECIES: decrypt()] error decrypt\",t),Yn.Ecies(\"[ECIES: decrypt()] private: \",this.ecies.toHex()),Yn.Ecies(\"[ECIES: decrypt()] encryptedData: \",e),t}return t}getKeyInfo(){return{private:this.ecies.toHex(),public:this.ecies.publicKey.toHex()}}toString(){Yn.Ecies(\"[ECIES: toString()]\",this.getKeyInfo())}}var tr={name:\"@metamask/sdk-communication-layer\",version:\"0.32.0\",description:\"\",homepage:\"https://github.com/MetaMask/metamask-sdk#readme\",bugs:{url:\"https://github.com/MetaMask/metamask-sdk/issues\"},repository:{type:\"git\",url:\"https://github.com/MetaMask/metamask-sdk.git\",directory:\"packages/sdk-communication-layer\"},main:\"dist/node/cjs/metamask-sdk-communication-layer.js\",unpkg:\"dist/browser/umd/metamask-sdk-communication-layer.js\",module:\"dist/node/es/metamask-sdk-communication-layer.js\",browser:\"dist/browser/es/metamask-sdk-communication-layer.js\",\"react-native\":\"dist/react-native/es/metamask-sdk-communication-layer.js\",types:\"dist/types/src/index.d.ts\",files:[\"/dist\"],scripts:{\"build:types\":\"tsc --project tsconfig.build.json --emitDeclarationOnly --outDir dist/types\",\"build:clean\":\"yarn clean && yarn build\",build:\"yarn build:types && rollup -c --bundleConfigAsCjs\",\"build:dev\":\"yarn build:types && NODE_ENV=dev rollup -c --bundleConfigAsCjs\",dev:'concurrently \"tsc --watch\" \"rollup -c --bundleConfigAsCjs -w\"',\"build:post-tsc\":\"echo 'N/A'\",\"build:pre-tsc\":\"echo 'N/A'\",size:\"size-limit\",clean:\"rimraf ./dist\",lint:\"yarn lint:eslint && yarn lint:misc --check\",\"lint:changelog\":\"../../scripts/validate-changelog.sh @metamask/sdk-communication-layer\",\"lint:eslint\":\"eslint . --cache --ext js,ts\",\"lint:fix\":\"yarn lint:eslint --fix && yarn lint:misc --write\",\"lint:misc\":\"prettier '**/*.json' '**/*.md' '!CHANGELOG.md' --ignore-path ../../.gitignore\",\"publish:preview\":\"yarn npm publish --tag preview\",prepack:\"../../scripts/prepack.sh\",reset:\"yarn clean && rimraf ./node_modules/\",test:'jest --testPathIgnorePatterns \"/e2e/\"',\"test:e2e\":'jest --testPathPattern \"/e2e/\"',\"test:coverage\":\"jest --coverage\",\"test:ci\":'jest --coverage --passWithNoTests --setupFilesAfterEnv ./jest-preload.js --testPathIgnorePatterns \"/e2e/\"',\"test:dev\":\"jest\",watch:\"rollup -c --bundleConfigAsCjs -w\"},dependencies:{bufferutil:\"^4.0.8\",\"date-fns\":\"^2.29.3\",debug:\"^4.3.4\",\"utf-8-validate\":\"^5.0.2\",uuid:\"^8.3.2\"},devDependencies:{\"@jest/globals\":\"^29.3.1\",\"@lavamoat/allow-scripts\":\"^2.3.1\",\"@metamask/auto-changelog\":\"3.1.0\",\"@metamask/eslint-config\":\"^6.0.0\",\"@metamask/eslint-config-nodejs\":\"^6.0.0\",\"@metamask/eslint-config-typescript\":\"^6.0.0\",\"@rollup/plugin-commonjs\":\"^25.0.0\",\"@rollup/plugin-json\":\"^6.0.0\",\"@rollup/plugin-node-resolve\":\"^15.0.2\",\"@rollup/plugin-replace\":\"^6.0.1\",\"@rollup/plugin-terser\":\"^0.4.4\",\"@size-limit/preset-big-lib\":\"^11.0.2\",\"@types/jest\":\"^29.2.4\",\"@types/node\":\"^20.1.3\",\"@types/uuid\":\"^9.0.0\",\"@typescript-eslint/eslint-plugin\":\"^4.26.0\",\"@typescript-eslint/parser\":\"^4.26.0\",concurrently:\"^9.1.2\",\"cross-fetch\":\"^4.0.0\",eciesjs:\"^0.4.11\",eslint:\"^7.30.0\",\"eslint-config-prettier\":\"^8.3.0\",\"eslint-plugin-import\":\"^2.23.4\",\"eslint-plugin-jest\":\"^24.4.0\",\"eslint-plugin-jsdoc\":\"^36.1.0\",\"eslint-plugin-node\":\"^11.1.0\",\"eslint-plugin-prettier\":\"^3.4.0\",eventemitter2:\"^6.4.9\",jest:\"^29.3.1\",prettier:\"^2.3.0\",rimraf:\"^3.0.2\",rollup:\"^4.26.0\",\"rollup-plugin-jscc\":\"^2.0.0\",\"rollup-plugin-natives\":\"^0.7.5\",\"rollup-plugin-node-builtins\":\"^2.1.2\",\"rollup-plugin-node-globals\":\"^1.4.0\",\"rollup-plugin-peer-deps-external\":\"^2.2.4\",\"rollup-plugin-polyfill-node\":\"^0.13.0\",\"rollup-plugin-sizes\":\"^1.0.6\",\"rollup-plugin-typescript2\":\"^0.31.2\",\"rollup-plugin-visualizer\":\"^5.12.0\",\"size-limit\":\"^11.1.6\",\"socket.io-client\":\"^4.5.1\",\"stream-browserify\":\"^3.0.0\",\"ts-jest\":\"^29.0.3\",\"ts-node\":\"^10.9.1\",typescript:\"^5.6.3\"},peerDependencies:{\"cross-fetch\":\"^4.0.0\",eciesjs:\"*\",eventemitter2:\"^6.4.9\",\"readable-stream\":\"^3.6.2\",\"socket.io-client\":\"^4.5.1\"},publishConfig:{access:\"public\",registry:\"https://registry.npmjs.org/\"},lavamoat:{allowScripts:{\"@lavamoat/preinstall-always-fail\":!1,canvas:!0,\"eciesjs>secp256k1\":!1,\"socket.io-client>engine.io-client>ws>bufferutil\":!1,\"socket.io-client>engine.io-client>ws>utf-8-validate\":!1,bufferutil:!1,\"utf-8-validate\":!1}}};const nr=\"https://metamask-sdk.api.cx.metamask.io/\",rr=[\"websocket\"],ir=6048e5,or=3e3,sr={METAMASK_GETPROVIDERSTATE:\"metamask_getProviderState\",ETH_REQUESTACCOUNTS:\"eth_requestAccounts\"};function ar(e){const{context:t}=e;Yn.RemoteCommunication(`[RemoteCommunication: clean()] context=${t}`),e.channelConfig=void 0,e.ready=!1,e.originatorConnectStarted=!1}var cr,dr,lr,ur;exports.ConnectionStatus=void 0,exports.EventType=void 0,exports.MessageType=void 0,(ur=exports.ConnectionStatus||(exports.ConnectionStatus={})).DISCONNECTED=\"disconnected\",ur.WAITING=\"waiting\",ur.TIMEOUT=\"timeout\",ur.LINKED=\"linked\",ur.PAUSED=\"paused\",ur.TERMINATED=\"terminated\",function(e){e.KEY_INFO=\"key_info\",e.SERVICE_STATUS=\"service_status\",e.PROVIDER_UPDATE=\"provider_update\",e.RPC_UPDATE=\"rpc_update\",e.KEYS_EXCHANGED=\"keys_exchanged\",e.JOIN_CHANNEL=\"join_channel\",e.PUBLIC_KEY=\"public_key\",e.CHANNEL_CREATED=\"channel_created\",e.CLIENTS_CONNECTED=\"clients_connected\",e.CLIENTS_DISCONNECTED=\"clients_disconnected\",e.CLIENTS_WAITING=\"clients_waiting\",e.CLIENTS_READY=\"clients_ready\",e.REJECTED=\"rejected\",e.WALLET_INIT=\"wallet_init\",e.CHANNEL_PERSISTENCE=\"channel_persistence\",e.CONFIG=\"config\",e.MESSAGE_ACK=\"ack\",e.SOCKET_DISCONNECTED=\"socket_disconnected\",e.SOCKET_RECONNECT=\"socket_reconnect\",e.OTP=\"otp\",e.SDK_RPC_CALL=\"sdk_rpc_call\",e.AUTHORIZED=\"authorized\",e.CONNECTION_STATUS=\"connection_status\",e.MESSAGE=\"message\",e.TERMINATE=\"terminate\"}(exports.EventType||(exports.EventType={})),(cr||(cr={})).KEY_EXCHANGE=\"key_exchange\",function(e){e.KEY_HANDSHAKE_START=\"key_handshake_start\",e.KEY_HANDSHAKE_CHECK=\"key_handshake_check\",e.KEY_HANDSHAKE_SYN=\"key_handshake_SYN\",e.KEY_HANDSHAKE_SYNACK=\"key_handshake_SYNACK\",e.KEY_HANDSHAKE_ACK=\"key_handshake_ACK\",e.KEY_HANDSHAKE_WALLET=\"key_handshake_wallet\",e.KEY_HANDSHAKE_NONE=\"none\"}(dr||(dr={}));class hr extends i.EventEmitter2{constructor({communicationLayer:e,otherPublicKey:t,context:n,ecies:r,logging:i}){super(),this.keysExchanged=!1,this.step=dr.KEY_HANDSHAKE_NONE,this.debug=!1,this.context=n,this.communicationLayer=e,(null==r?void 0:r.privateKey)&&t&&(Yn.KeyExchange(`[KeyExchange: constructor()] otherPubKey=${t} set keysExchanged to true!`,r),this.keysExchanged=!0),this.myECIES=new er(Object.assign(Object.assign({},r),{debug:null==i?void 0:i.eciesLayer})),this.communicationLayer.state.eciesInstance=this.myECIES,this.myPublicKey=this.myECIES.getPublicKey(),this.debug=!0===(null==i?void 0:i.keyExchangeLayer),t&&this.setOtherPublicKey(t),this.communicationLayer.on(cr.KEY_EXCHANGE,this.onKeyExchangeMessage.bind(this))}onKeyExchangeMessage(e){const{relayPersistence:t}=this.communicationLayer.remote.state;if(Yn.KeyExchange(`[KeyExchange: onKeyExchangeMessage()] context=${this.context} keysExchanged=${this.keysExchanged} relayPersistence=${t}`,e),t)return void Yn.KeyExchange(\"[KeyExchange: onKeyExchangeMessage()] Ignoring key exchange message because relay persistence is activated\");const{message:n}=e;this.keysExchanged&&Yn.KeyExchange(`[KeyExchange: onKeyExchangeMessage()] context=${this.context} received handshake while already exchanged. step=${this.step} otherPubKey=${this.otherPublicKey}`),this.emit(exports.EventType.KEY_INFO,n.type),n.type===dr.KEY_HANDSHAKE_SYN?(this.checkStep([dr.KEY_HANDSHAKE_NONE,dr.KEY_HANDSHAKE_ACK]),Yn.KeyExchange(\"[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_SYN\",n),n.pubkey&&this.setOtherPublicKey(n.pubkey),this.communicationLayer.sendMessage({type:dr.KEY_HANDSHAKE_SYNACK,pubkey:this.myPublicKey}).catch((e=>{Yn.KeyExchange(\"[KeyExchange: onKeyExchangeMessage()] Error sending KEY_HANDSHAKE_SYNACK\",e)})),this.setStep(dr.KEY_HANDSHAKE_ACK)):n.type===dr.KEY_HANDSHAKE_SYNACK?(this.checkStep([dr.KEY_HANDSHAKE_SYNACK,dr.KEY_HANDSHAKE_ACK,dr.KEY_HANDSHAKE_NONE]),Yn.KeyExchange(\"[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_SYNACK\"),n.pubkey&&this.setOtherPublicKey(n.pubkey),this.communicationLayer.sendMessage({type:dr.KEY_HANDSHAKE_ACK}).catch((e=>{Yn.KeyExchange(\"[KeyExchange: onKeyExchangeMessage()] Error sending KEY_HANDSHAKE_ACK\",e)})),this.keysExchanged=!0,this.setStep(dr.KEY_HANDSHAKE_ACK),this.emit(exports.EventType.KEYS_EXCHANGED)):n.type===dr.KEY_HANDSHAKE_ACK&&(Yn.KeyExchange(\"[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_ACK set keysExchanged to true!\"),this.checkStep([dr.KEY_HANDSHAKE_ACK,dr.KEY_HANDSHAKE_NONE]),this.keysExchanged=!0,this.setStep(dr.KEY_HANDSHAKE_ACK),this.emit(exports.EventType.KEYS_EXCHANGED))}resetKeys(e){this.clean(),this.myECIES=new er(e)}clean(){Yn.KeyExchange(`[KeyExchange: clean()] context=${this.context} reset handshake state`),this.setStep(dr.KEY_HANDSHAKE_NONE),this.emit(exports.EventType.KEY_INFO,this.step),this.keysExchanged=!1}start({isOriginator:e,force:t}){const{relayPersistence:n,protocolVersion:r}=this.communicationLayer.remote.state,i=r>=2;n?Yn.KeyExchange(\"[KeyExchange: start()] Ignoring key exchange message because relay persistence is activated\"):(Yn.KeyExchange(`[KeyExchange: start()] context=${this.context} protocolVersion=${r} isOriginator=${e} step=${this.step} force=${t} relayPersistence=${n} keysExchanged=${this.keysExchanged}`),e?!(this.keysExchanged||this.step!==dr.KEY_HANDSHAKE_NONE&&this.step!==dr.KEY_HANDSHAKE_SYNACK)||t?(Yn.KeyExchange(`[KeyExchange: start()] context=${this.context} -- start key exchange (force=${t}) -- step=${this.step}`,this.step),this.clean(),this.setStep(dr.KEY_HANDSHAKE_SYNACK),this.communicationLayer.sendMessage({type:dr.KEY_HANDSHAKE_SYN,pubkey:this.myPublicKey,v:2}).catch((e=>{Yn.KeyExchange(\"[KeyExchange: start()] Error sending KEY_HANDSHAKE_SYN\",e)}))):Yn.KeyExchange(`[KeyExchange: start()] context=${this.context} -- key exchange already ${this.keysExchanged?\"done\":\"in progress\"} -- aborted.`,this.step):this.keysExchanged&&!0!==t?Yn.KeyExchange(\"[KeyExchange: start()] don't send KEY_HANDSHAKE_START -- exchange already done.\"):i?this.communicationLayer.sendMessage({type:dr.KEY_HANDSHAKE_SYNACK,pubkey:this.myPublicKey,v:2}).catch((e=>{Yn.KeyExchange(\"[KeyExchange: start()] Error sending KEY_HANDSHAKE_SYNACK\",e)})):(this.communicationLayer.sendMessage({type:dr.KEY_HANDSHAKE_START}).catch((e=>{Yn.KeyExchange(\"[KeyExchange: start()] Error sending KEY_HANDSHAKE_START\",e)})),this.clean()))}setStep(e){this.step=e,this.emit(exports.EventType.KEY_INFO,e)}checkStep(e){e.length>0&&e.indexOf(this.step.toString())}setRelayPersistence({localKey:e,otherKey:t}){this.otherPublicKey=t,this.myECIES=new er({privateKey:e,debug:this.debug}),this.keysExchanged=!0}setKeysExchanged(e){this.keysExchanged=e}areKeysExchanged(){return this.keysExchanged}getMyPublicKey(){return this.myPublicKey}getOtherPublicKey(){return this.otherPublicKey}setOtherPublicKey(e){Yn.KeyExchange(\"[KeyExchange: setOtherPubKey()]\",e),this.otherPublicKey=e}encryptMessage(e){if(!this.otherPublicKey)throw new Error(\"encryptMessage: Keys not exchanged - missing otherPubKey\");return this.myECIES.encrypt(e,this.otherPublicKey)}decryptMessage(e){if(!this.otherPublicKey)throw new Error(\"decryptMessage: Keys not exchanged - missing otherPubKey\");return this.myECIES.decrypt(e)}getKeyInfo(){return{ecies:Object.assign(Object.assign({},this.myECIES.getKeyInfo()),{otherPubKey:this.otherPublicKey}),step:this.step,keysExchanged:this.areKeysExchanged()}}toString(){const e={keyInfo:this.getKeyInfo(),keysExchanged:this.keysExchanged,step:this.step};return JSON.stringify(e)}}!function(e){e.TERMINATE=\"terminate\",e.ANSWER=\"answer\",e.OFFER=\"offer\",e.CANDIDATE=\"candidate\",e.JSONRPC=\"jsonrpc\",e.WALLET_INFO=\"wallet_info\",e.WALLET_INIT=\"wallet_init\",e.ORIGINATOR_INFO=\"originator_info\",e.PAUSE=\"pause\",e.OTP=\"otp\",e.AUTHORIZED=\"authorized\",e.PING=\"ping\",e.READY=\"ready\"}(exports.MessageType||(exports.MessageType={})),function(e){e.REQUEST=\"sdk_connect_request_started\",e.REQUEST_MOBILE=\"sdk_connect_request_started_mobile\",e.RECONNECT=\"sdk_reconnect_request_started\",e.CONNECTED=\"sdk_connection_established\",e.CONNECTED_MOBILE=\"sdk_connection_established_mobile\",e.AUTHORIZED=\"sdk_connection_authorized\",e.REJECTED=\"sdk_connection_rejected\",e.TERMINATED=\"sdk_connection_terminated\",e.DISCONNECTED=\"sdk_disconnected\",e.SDK_USE_EXTENSION=\"sdk_use_extension\",e.SDK_RPC_REQUEST=\"sdk_rpc_request\",e.SDK_RPC_REQUEST_RECEIVED=\"sdk_rpc_request_received\",e.SDK_RPC_REQUEST_DONE=\"sdk_rpc_request_done\",e.SDK_EXTENSION_UTILIZED=\"sdk_extension_utilized\",e.SDK_USE_INAPP_BROWSER=\"sdk_use_inapp_browser\"}(lr||(lr={}));const fr=(e,t,n)=>l(void 0,void 0,void 0,(function*(){var r,i,o,s,a,c;const{remote:d,state:l}=e,{channelId:u,isOriginator:h}=l;if(\"error_terminated\"===t)return Yn.SocketService(`handleJoinChannelResults: Channel ${u} terminated`),void e.emit(exports.EventType.TERMINATE);if(!n)return void Yn.SocketService(`handleJoinChannelResults: No result for channel ${u}`);const{persistence:f,walletKey:p,rejected:m}=n;if(Yn.SocketService(`handleJoinChannelResults: Channel ${u} persistence=${f} walletKey=${p} rejected=${m}`),m)return Yn.SocketService(`handleJoinChannelResults: Channel ${u} rejected`),yield e.remote.disconnect({terminate:!0}),e.remote.emit(exports.EventType.REJECTED,{channelId:u}),void e.remote.emitServiceStatusEvent();if(p&&!(null===(r=d.state.channelConfig)||void 0===r?void 0:r.otherKey)){e.getKeyExchange().setOtherPublicKey(p),null===(i=e.state.keyExchange)||void 0===i||i.setKeysExchanged(!0),d.state.ready=!0,d.state.authorized=!0,d.emit(exports.EventType.AUTHORIZED);const{communicationLayer:t,storageManager:n}=d.state,r=Object.assign(Object.assign({},d.state.channelConfig),{channelId:null!==(o=d.state.channelId)&&void 0!==o?o:\"\",validUntil:Date.now()+ir,localKey:null==t?void 0:t.getKeyInfo().ecies.private,otherKey:p});e.sendMessage({type:dr.KEY_HANDSHAKE_ACK}).catch((e=>{})),null===(s=e.state.socket)||void 0===s||s.emit(exports.MessageType.PING,{id:u,clientType:h?\"dapp\":\"wallet\",context:\"on_channel_reconnect\",message:\"\"}),yield null==n?void 0:n.persistChannelConfig(r),d.emitServiceStatusEvent(),d.setConnectionStatus(exports.ConnectionStatus.LINKED)}f&&(e.emit(exports.EventType.CHANNEL_PERSISTENCE),null===(a=e.state.keyExchange)||void 0===a||a.setKeysExchanged(!0),d.state.ready=!0,d.state.authorized=!0,d.emit(exports.EventType.AUTHORIZED),Xn(Object.assign(Object.assign({id:null!=u?u:\"\",event:h?lr.CONNECTED:lr.CONNECTED_MOBILE},e.remote.state.originatorInfo),{sdkVersion:e.remote.state.sdkVersion,commLayer:e.state.communicationLayerPreference,commLayerVersion:tr.version,walletVersion:null===(c=e.remote.state.walletInfo)||void 0===c?void 0:c.version}),l.communicationServerUrl).catch((e=>{})))})),pr=e=>new Promise((t=>{setTimeout(t,e)})),mr=(e,t,...n)=>l(void 0,[e,t,...n],void 0,(function*(e,t,n=200){let r;const i=Date.now();let o=!1;for(;!o;){if(o=Date.now()-i>3e5,r=t[e],void 0!==r.elapsedTime)return r;yield pr(n)}throw new Error(`RPC ${e} timed out`)})),gr=e=>l(void 0,void 0,void 0,(function*(){const{state:t}=e,{socket:n,channelId:r,context:i,isOriginator:o,isReconnecting:s}=t;if(s)return Yn.SocketService(\"[SocketService: reconnectSocket()] Reconnection already in progress, skipping\",e),!1;if(!n)return Yn.SocketService(\"[SocketService: reconnectSocket()] socket is not defined\",e),!1;if(!r)return!1;const{connected:a}=n;t.isReconnecting=!0,t.reconnectionAttempts=0,Yn.SocketService(`[SocketService: reconnectSocket()] connected=${a} trying to reconnect after socketio disconnection`,e);try{for(;3>t.reconnectionAttempts;){if(Yn.SocketService(`[SocketService: reconnectSocket()] Attempt ${t.reconnectionAttempts+1} of 3`,e),yield pr(200),n.connected)return Yn.SocketService(\"Socket already connected --- ping to retrieve messages\"),n.emit(exports.MessageType.PING,{id:r,clientType:o?\"dapp\":\"wallet\",context:\"on_channel_config\",message:\"\"}),!0;t.resumed=!0,n.connect(),e.emit(exports.EventType.SOCKET_RECONNECT);try{if(yield new Promise(((t,s)=>{n.emit(exports.EventType.JOIN_CHANNEL,{channelId:r,context:`${i}connect_again`,clientType:o?\"dapp\":\"wallet\"},((n,r)=>l(void 0,void 0,void 0,(function*(){try{yield fr(e,n,r),t()}catch(e){s(e)}}))))})),yield pr(100),n.connected)return Yn.SocketService(`Reconnection successful on attempt ${t.reconnectionAttempts+1}`),!0}catch(e){Yn.SocketService(`Error during reconnection attempt ${t.reconnectionAttempts+1}:`,e)}t.reconnectionAttempts+=1,3>t.reconnectionAttempts&&(yield pr(200))}return Yn.SocketService(\"Failed to reconnect after 3 attempts\"),!1}finally{t.isReconnecting=!1,t.reconnectionAttempts=0}}));function vr(e,t){return l(this,void 0,void 0,(function*(){var n;const r=null===(n=e.state.keyExchange)||void 0===n?void 0:n.encryptMessage(JSON.stringify(t)),i={id:e.state.channelId,context:e.state.context,clientType:e.state.isOriginator?\"dapp\":\"wallet\",message:r,plaintext:e.state.hasPlaintext?JSON.stringify(t):void 0};return Yn.SocketService(`[SocketService: encryptAndSendMessage()] context=${e.state.context}`,i),t.type===exports.MessageType.TERMINATE&&(e.state.manualDisconnect=!0),new Promise(((t,n)=>{var r;null===(r=e.state.socket)||void 0===r||r.emit(exports.EventType.MESSAGE,i,((e,r)=>{var i;e&&(Yn.SocketService(`[SocketService: encryptAndSendMessage()] error=${e}`),n(e)),Yn.SocketService(\"[encryptAndSendMessage] response\",r),t(null!==(i=null==r?void 0:r.success)&&void 0!==i&&i)}))}))}))}var yr;!function(e){e.RPC_CHECK=\"rpcCheck\",e.SKIPPED_RPC=\"skippedRpc\"}(yr||(yr={}));const Er=[\"eth_sendTransaction\",\"eth_signTypedData\",\"eth_signTransaction\",\"personal_sign\",\"wallet_requestPermissions\",\"wallet_switchEthereumChain\",\"eth_signTypedData_v3\",\"eth_signTypedData_v4\",\"metamask_connectSign\",\"metamask_connectWith\",\"metamask_batch\"].map((e=>e.toLowerCase()));const br=[{event:exports.EventType.CLIENTS_CONNECTED,handler:function(e,t){return n=>l(this,void 0,void 0,(function*(){var n,r,i,o,s,a,c,d,l,u,h;const f=null!==(r=null===(n=e.remote.state.channelConfig)||void 0===n?void 0:n.relayPersistence)&&void 0!==r&&r;if(Yn.SocketService(`[SocketService: handleClientsConnected()] context=${e.state.context} on 'clients_connected-${t}' relayPersistence=${f} resumed=${e.state.resumed}  clientsPaused=${e.state.clientsPaused} keysExchanged=${null===(i=e.state.keyExchange)||void 0===i?void 0:i.areKeysExchanged()} isOriginator=${e.state.isOriginator}`),e.emit(exports.EventType.CLIENTS_CONNECTED,{isOriginator:e.state.isOriginator,keysExchanged:null===(o=e.state.keyExchange)||void 0===o?void 0:o.areKeysExchanged(),context:e.state.context}),e.state.resumed)e.state.isOriginator||(Yn.SocketService(`[SocketService: handleClientsConnected()] context=${e.state.context} 'clients_connected' / keysExchanged=${null===(s=e.state.keyExchange)||void 0===s?void 0:s.areKeysExchanged()} -- backward compatibility`),null===(a=e.state.keyExchange)||void 0===a||a.start({isOriginator:null!==(c=e.state.isOriginator)&&void 0!==c&&c})),e.state.resumed=!1;else if(e.state.clientsPaused)Yn.SocketService(\"[SocketService: handleClientsConnected()] 'clients_connected' skip sending originatorInfo on pause\");else if(!e.state.isOriginator){const t=!f;Yn.SocketService(`[SocketService: handleClientsConnected()] context=${e.state.context} on 'clients_connected' / keysExchanged=${null===(d=e.state.keyExchange)||void 0===d?void 0:d.areKeysExchanged()} -- force=${t} -- backward compatibility`),Yn.SocketService(`[SocketService: handleClientsConnected()] context=${e.state.context} on 'clients_connected' / keysExchanged=${null===(l=e.state.keyExchange)||void 0===l?void 0:l.areKeysExchanged()} -- force=${t} -- backward compatibility`),null===(u=e.state.keyExchange)||void 0===u||u.start({isOriginator:null!==(h=e.state.isOriginator)&&void 0!==h&&h,force:t})}e.state.clientsConnected=!0,e.state.clientsPaused=!1}))}},{event:exports.EventType.CHANNEL_CREATED,handler:function(e,t){return n=>{Yn.SocketService(`[SocketService: handleChannelCreated()] context=${e.state.context} on 'channel_created-${t}'`,n),e.emit(exports.EventType.CHANNEL_CREATED,n)}}},{event:exports.EventType.CLIENTS_DISCONNECTED,handler:function(e,t){return()=>{var n;e.state.clientsConnected=!1,Yn.SocketService(`[SocketService: handlesClientsDisconnected()] context=${e.state.context} on 'clients_disconnected-${t}'`),e.remote.state.relayPersistence?Yn.SocketService(`[SocketService: handlesClientsDisconnected()] context=${e.state.context} on 'clients_disconnected-${t}' - relayPersistence enabled, skipping key exchange cleanup.`):(e.state.isOriginator&&!e.state.clientsPaused&&(null===(n=e.state.keyExchange)||void 0===n||n.clean()),e.emit(exports.EventType.CLIENTS_DISCONNECTED,t))}}},{event:exports.EventType.CONFIG,handler:function(e,t){return n=>l(this,void 0,void 0,(function*(){var r,i,o;Yn.SocketService(`[SocketService: handleChannelConfig()] update relayPersistence on 'config-${t}'`,n);const{persistence:s,walletKey:a}=n;e.state.isOriginator&&e.remote.state.channelConfig?(n.walletKey&&!e.remote.state.channelConfig.otherKey&&(Yn.SocketService(`Setting wallet key ${a}`),e.remote.state.channelConfig.otherKey=a,e.getKeyExchange().setOtherPublicKey(n.walletKey),null===(r=e.state.keyExchange)||void 0===r||r.setKeysExchanged(!0),yield e.remote.sendMessage({type:dr.KEY_HANDSHAKE_ACK}),yield e.remote.sendMessage({type:exports.MessageType.PING}),yield null===(i=e.remote.state.storageManager)||void 0===i?void 0:i.persistChannelConfig(e.remote.state.channelConfig)),!0!==s||e.remote.state.channelConfig.relayPersistence||(Yn.SocketService(`Setting relay persistence ${s}`),e.remote.state.channelConfig.relayPersistence=s,e.remote.state.relayPersistence=!0,e.remote.emit(exports.EventType.CHANNEL_PERSISTENCE),e.remote.state.authorized=!0,e.remote.state.ready=!0,e.remote.emit(exports.EventType.AUTHORIZED),yield null===(o=e.remote.state.storageManager)||void 0===o?void 0:o.persistChannelConfig(e.remote.state.channelConfig))):e.state.isOriginator||n.persistence&&(e.remote.state.relayPersistence=!0,e.remote.emit(exports.EventType.CHANNEL_PERSISTENCE))}))}},{event:exports.EventType.MESSAGE,handler:function(e,t){return n=>{var r,i,o,s,a,c,d,l,u,h,f,p,m,g,v,y,E,b;const{ackId:w,message:S,error:_}=n,C=null!==(r=e.remote.state.relayPersistence)&&void 0!==r&&r;if(Yn.SocketService(`[SocketService handleMessage()]  relayPersistence=${C}  context=${e.state.context} on 'message' ${t} keysExchanged=${null===(i=e.state.keyExchange)||void 0===i?void 0:i.areKeysExchanged()}`,n),_)throw Yn.SocketService(`\\n      [SocketService handleMessage()] context=${e.state.context}::on 'message' error=${_}`),new Error(_);const x=\"string\"==typeof S;if(!x&&(null==S?void 0:S.type)===dr.KEY_HANDSHAKE_START){if(C)return;return Yn.SocketService(`[SocketService handleMessage()] context=${e.state.context}::on 'message' received HANDSHAKE_START isOriginator=${e.state.isOriginator}`,S),void(null===(o=e.state.keyExchange)||void 0===o||o.start({isOriginator:null!==(s=e.state.isOriginator)&&void 0!==s&&s,force:!0}))}if(!x&&(null===(a=null==S?void 0:S.type)||void 0===a?void 0:a.startsWith(\"key_handshake\"))){if(C)return;return Yn.SocketService(`[SocketService handleMessage()] context=${e.state.context}::on 'message' emit KEY_EXCHANGE`,S),void e.emit(cr.KEY_EXCHANGE,{message:S,context:e.state.context})}if(x&&!(null===(c=e.state.keyExchange)||void 0===c?void 0:c.areKeysExchanged())){let t=!1;try{Yn.SocketService(`[SocketService handleMessage()] context=${e.state.context}::on 'message' trying to decrypt message`),null===(d=e.state.keyExchange)||void 0===d||d.decryptMessage(S),t=!0}catch(t){Yn.SocketService(`[SocketService handleMessage()] context=${e.state.context}::on 'message' error`,t)}if(!t)return e.state.isOriginator?null===(u=e.state.keyExchange)||void 0===u||u.start({isOriginator:null!==(h=e.state.isOriginator)&&void 0!==h&&h}):e.sendMessage({type:dr.KEY_HANDSHAKE_START}).catch((e=>{})),void Yn.SocketService(`Message ignored because invalid key exchange status. step=${null===(f=e.state.keyExchange)||void 0===f?void 0:f.getKeyInfo().step}`,null===(p=e.state.keyExchange)||void 0===p?void 0:p.getKeyInfo(),S);Yn.SocketService(\"Invalid key exchange status detected --- updating it.\"),null===(l=e.state.keyExchange)||void 0===l||l.setKeysExchanged(!0)}else if(!x&&(null==S?void 0:S.type))return void e.emit(exports.EventType.MESSAGE,S);if(!x)return void e.emit(exports.EventType.MESSAGE,S);const k=null===(m=e.state.keyExchange)||void 0===m?void 0:m.decryptMessage(S),M=JSON.parse(null!=k?k:\"{}\");if(w&&(null==w?void 0:w.length)>0&&(Yn.SocketService(`[SocketService handleMessage()] context=${e.state.context}::on 'message' ackid=${w} channelId=${t}`),null===(g=e.state.socket)||void 0===g||g.emit(exports.EventType.MESSAGE_ACK,{ackId:w,channelId:t,clientType:e.state.isOriginator?\"dapp\":\"wallet\"})),e.state.clientsPaused=(null==M?void 0:M.type)===exports.MessageType.PAUSE,e.state.isOriginator&&M.data){const t=M.data,n=e.state.rpcMethodTracker[t.id];if(n){const r=Date.now()-n.timestamp;Yn.SocketService(`[SocketService handleMessage()] context=${e.state.context}::on 'message' received answer for id=${t.id} method=${n.method} responseTime=${r}`,M),e.remote.state.analytics&&Er.includes(n.method.toLowerCase())&&Xn(Object.assign(Object.assign({id:null!==(v=e.remote.state.channelId)&&void 0!==v?v:\"\",event:lr.SDK_RPC_REQUEST_DONE,sdkVersion:e.remote.state.sdkVersion,commLayerVersion:tr.version},e.remote.state.originatorInfo),{walletVersion:null===(y=e.remote.state.walletInfo)||void 0===y?void 0:y.version,params:{method:n.method,from:\"mobile\"}}),e.remote.state.communicationServerUrl).catch((e=>{}));const i=Object.assign(Object.assign({},n),{result:t.result,error:t.error?{code:null===(E=t.error)||void 0===E?void 0:E.code,message:null===(b=t.error)||void 0===b?void 0:b.message}:void 0,elapsedTime:r});e.state.rpcMethodTracker[t.id]=i,e.emit(exports.EventType.RPC_UPDATE,i)}}e.emit(exports.EventType.MESSAGE,{message:M})}}},{event:exports.EventType.REJECTED,handler:function(e,t){return n=>l(this,void 0,void 0,(function*(){var n;e.state.isOriginator&&!e.remote.state.ready?(Yn.SocketService(`[SocketService: handleChannelRejected()] context=${e.state.context} channelId=${t} isOriginator=${e.state.isOriginator} ready=${e.remote.state.ready}`,e.remote.state.originatorInfo),Xn(Object.assign(Object.assign({id:t,event:lr.REJECTED},e.remote.state.originatorInfo),{sdkVersion:e.remote.state.sdkVersion,commLayer:e.state.communicationLayerPreference,commLayerVersion:tr.version,walletVersion:null===(n=e.remote.state.walletInfo)||void 0===n?void 0:n.version}),e.remote.state.communicationServerUrl).catch((e=>{})),yield e.remote.disconnect({terminate:!0}),e.remote.emit(exports.EventType.REJECTED,{channelId:t}),e.remote.setConnectionStatus(exports.ConnectionStatus.DISCONNECTED)):Yn.SocketService(`[SocketService: handleChannelRejected()] SKIP -- channelId=${t} isOriginator=${e.state.isOriginator} ready=${e.remote.state.ready}`)}))}},{event:\"clients_waiting_to_join\",handler:function(e,t){return n=>{Yn.SocketService(`[SocketService: handleClientsWaitingToJoin()] context=${e.state.context} on 'clients_waiting_to_join-${t}'`,n),e.emit(exports.EventType.CLIENTS_WAITING,n)}}}],wr=[{event:exports.EventType.KEY_INFO,handler:function(e){return t=>{Yn.SocketService(\"[SocketService: handleKeyInfo()] on 'KEY_INFO'\",t),e.emit(exports.EventType.KEY_INFO,t)}}},{event:exports.EventType.KEYS_EXCHANGED,handler:function(e){return()=>{var t,n,r;Yn.SocketService(`[SocketService: handleKeysExchanged()] on 'keys_exchanged' keyschanged=${null===(t=e.state.keyExchange)||void 0===t?void 0:t.areKeysExchanged()}`);const{channelConfig:i}=e.remote.state;if(i){const t=e.getKeyExchange().getKeyInfo().ecies;i.localKey=t.private,i.otherKey=t.otherPubKey,e.remote.state.channelConfig=i,null===(n=e.remote.state.storageManager)||void 0===n||n.persistChannelConfig(i).catch((e=>{}))}e.emit(exports.EventType.KEYS_EXCHANGED,{keysExchanged:null===(r=e.state.keyExchange)||void 0===r?void 0:r.areKeysExchanged(),isOriginator:e.state.isOriginator});const o={keyInfo:e.getKeyInfo()};e.emit(exports.EventType.SERVICE_STATUS,o)}}}];function Sr(e,t){Yn.SocketService(`[SocketService: setupChannelListener()] context=${e.state.context} setting socket listeners for channel ${t}...`);const{socket:n}=e.state,{keyExchange:r}=e.state;n&&e.state.isOriginator&&(e.state.debug&&(null==n||n.io.on(\"error\",(t=>{Yn.SocketService(`[SocketService: setupChannelListener()] context=${e.state.context} socket event=error`,t)})),null==n||n.io.on(\"reconnect\",(t=>{Yn.SocketService(`[SocketService: setupChannelListener()] context=${e.state.context} socket event=reconnect`,t),gr(e).catch((e=>{}))})),null==n||n.io.on(\"reconnect_error\",(t=>{Yn.SocketService(`[SocketService: setupChannelListener()] context=${e.state.context} socket event=reconnect_error`,t)})),null==n||n.io.on(\"reconnect_failed\",(()=>{Yn.SocketService(`[SocketService: setupChannelListener()] context=${e.state.context} socket event=reconnect_failed`)}))),null==n||n.on(\"disconnect\",(t=>(Yn.SocketService(`[SocketService: setupChannelListener()] on 'disconnect' -- MetaMaskSDK socket disconnected '${t}' begin recovery...`),function(e){return t=>{Yn.SocketService(`[SocketService: handleDisconnect()] on 'disconnect' manualDisconnect=${e.state.manualDisconnect}`,t),e.state.manualDisconnect||(e.emit(exports.EventType.SOCKET_DISCONNECTED),gr(e).catch((e=>{})))}}(e)(t))))),br.forEach((({event:r,handler:i})=>{null==n||n.on(`${r}-${t}`,i(e,t))})),wr.forEach((({event:t,handler:n})=>{null==r||r.on(t,n(e))})),e.state.setupChannelListeners=!0}class _r extends i.EventEmitter2{constructor(e){super(),this.state={clientsConnected:!1,clientsPaused:!1,manualDisconnect:!1,lastRpcId:void 0,rpcMethodTracker:{},hasPlaintext:!1,communicationServerUrl:\"\",focusListenerAdded:!1,removeFocusListener:void 0,isReconnecting:!1,reconnectionAttempts:0},this.options=e;const{reconnect:n,communicationLayerPreference:r,communicationServerUrl:i,context:o,remote:s,logging:a}=e;this.state.resumed=n,this.state.context=o,this.state.isOriginator=s.state.isOriginator,this.state.communicationLayerPreference=r,this.state.debug=!0===(null==a?void 0:a.serviceLayer),this.remote=s,!0===(null==a?void 0:a.serviceLayer)&&t.enable(\"SocketService:Layer\"),this.state.communicationServerUrl=i,this.state.hasPlaintext=this.state.communicationServerUrl!==nr&&!0===(null==a?void 0:a.plaintext),Yn.SocketService(`[SocketService: constructor()] Socket IO url: ${this.state.communicationServerUrl}`),this.initSocket()}initSocket(){var e;const{otherPublicKey:t,ecies:n,logging:r}=this.options,i={autoConnect:!1,transports:rr,withCredentials:!0},o=this.state.communicationServerUrl;Yn.SocketService(`[SocketService: initSocket()] Socket IO url: ${o}`),this.state.socket=s.io(o,i),function(e){if(\"undefined\"!=typeof window&&\"undefined\"!=typeof document&&(Yn.SocketService(`[SocketService: setupSocketFocusListener()] hasFocus=${document.hasFocus()}`,e),!e.state.focusListenerAdded)){const t=()=>{Yn.SocketService(\"Document has focus --- reconnecting socket\"),gr(e).catch((e=>{}))};window.addEventListener(\"focus\",t),e.state.focusListenerAdded=!0,e.state.removeFocusListener=()=>{window.removeEventListener(\"focus\",t),e.state.focusListenerAdded=!1}}}(this);const a={communicationLayer:this,otherPublicKey:t,sendPublicKey:!1,context:null!==(e=this.state.context)&&void 0!==e?e:\"\",ecies:n,logging:r};this.state.keyExchange=new hr(a)}resetKeys(){return Yn.SocketService(\"[SocketService: resetKeys()] Resetting keys.\"),void(null===(e=this.state.keyExchange)||void 0===e||e.resetKeys());var e}createChannel(){return l(this,void 0,void 0,(function*(){return function(e){return l(this,void 0,void 0,(function*(){var t,n,r;if(Yn.SocketService(`[SocketService: createChannel()] context=${e.state.context}`),e.state.socket||e.initSocket(),null===(t=e.state.socket)||void 0===t?void 0:t.connected)throw new Error(\"socket already connected\");null===(n=e.state.socket)||void 0===n||n.connect(),e.state.manualDisconnect=!1,e.state.isOriginator=!0;const i=o.v4();e.state.channelId=i,Sr(e,i),yield new Promise(((t,n)=>{var r;null===(r=e.state.socket)||void 0===r||r.emit(exports.EventType.JOIN_CHANNEL,{channelId:i,context:`${e.state.context}createChannel`,clientType:\"dapp\"},((r,i)=>l(this,void 0,void 0,(function*(){try{yield fr(e,r,i),t()}catch(e){n(e)}}))))}));const s=null===(r=e.state.keyExchange)||void 0===r?void 0:r.getKeyInfo();return{channelId:i,pubKey:(null==s?void 0:s.ecies.public)||\"\",privKey:(null==s?void 0:s.ecies.private)||\"\"}}))}(this)}))}connectToChannel({channelId:e,withKeyExchange:t=!1,authorized:n}){return function(e){return l(this,arguments,void 0,(function*({options:e,instance:t}){const{channelId:n,authorized:r,withKeyExchange:i}=e,{state:o,remote:s}=t,{isOriginator:a=!1,socket:c,keyExchange:d}=o,{channelConfig:u}=s.state;if(null==c?void 0:c.connected)throw new Error(\"socket already connected\");if(a&&(null==u?void 0:u.relayPersistence)){const{localKey:e,otherKey:t}=u;e&&t&&(null==d||d.setRelayPersistence({localKey:e,otherKey:t}))}return Object.assign(o,{manualDisconnect:!1,withKeyExchange:i,isOriginator:a,channelId:n}),null==c||c.connect(),Sr(t,n),!a&&r&&(null==d||d.setKeysExchanged(!0),Object.assign(s.state,{ready:!0,authorized:!0})),new Promise((e=>{var i;const s=null===(i=null==d?void 0:d.getKeyInfo())||void 0===i?void 0:i.ecies.public;null==c||c.emit(exports.EventType.JOIN_CHANNEL,{channelId:n,context:`${o.context}_connectToChannel`,clientType:a?\"dapp\":\"wallet\",publicKey:r&&!a?s:void 0},((n,r)=>l(this,void 0,void 0,(function*(){yield fr(t,n,r),e()}))))}))}))}({options:{channelId:e,withKeyExchange:t,authorized:n},instance:this})}getKeyInfo(){return this.state.keyExchange.getKeyInfo()}keyCheck(){var e,t;null===(t=(e=this).state.socket)||void 0===t||t.emit(exports.EventType.MESSAGE,{id:e.state.channelId,context:e.state.context,message:{type:dr.KEY_HANDSHAKE_CHECK,pubkey:e.getKeyInfo().ecies.otherPubKey}})}getKeyExchange(){return this.state.keyExchange}sendMessage(e){return l(this,void 0,void 0,(function*(){return function(e,t){return l(this,void 0,void 0,(function*(){var n,r,i;if(!e.state.channelId)throw Yn.SocketService(\"handleSendMessage: no channelId - Create a channel first\"),new Error(\"Create a channel first\");if(Yn.SocketService(`[SocketService: handleSendMessage()] context=${e.state.context} areKeysExchanged=${null===(n=e.state.keyExchange)||void 0===n?void 0:n.areKeysExchanged()}`,t),null===(r=null==t?void 0:t.type)||void 0===r?void 0:r.startsWith(\"key_handshake\"))return function(e,t){var n;Yn.SocketService(`[SocketService: handleKeyHandshake()] context=${e.state.context}`,t),null===(n=e.state.socket)||void 0===n||n.emit(exports.EventType.MESSAGE,{id:e.state.channelId,context:e.state.context,clientType:e.state.isOriginator?\"dapp\":\"wallet\",message:t})}(e,t),!0;!function(e,t){var n;if(!(null===(n=e.state.keyExchange)||void 0===n?void 0:n.areKeysExchanged())&&!e.remote.state.relayPersistence)throw Yn.SocketService(`[SocketService: validateKeyExchange()] context=${e.state.context} ERROR keys not exchanged`,t),new Error(\"Keys not exchanged BBB\")}(e,t),function(e,t){var n;const r=null!==(n=null==t?void 0:t.method)&&void 0!==n?n:\"\",i=null==t?void 0:t.id;e.state.isOriginator&&i&&(e.state.rpcMethodTracker[i]={id:i,timestamp:Date.now(),method:r},e.emit(exports.EventType.RPC_UPDATE,e.state.rpcMethodTracker[i]))}(e,t);const o=yield vr(e,t);return e.remote.state.analytics&&e.remote.state.isOriginator&&t.method&&Er.includes(t.method.toLowerCase())&&Xn({id:null!==(i=e.remote.state.channelId)&&void 0!==i?i:\"\",event:lr.SDK_RPC_REQUEST,params:{method:t.method,from:\"mobile\"}},e.remote.state.communicationServerUrl).catch((e=>{})),function(e,t){return l(this,void 0,void 0,(function*(){var n;const r=null==t?void 0:t.id,i=null!==(n=null==t?void 0:t.method)&&void 0!==n?n:\"\";if(e.state.isOriginator&&r)try{const n=mr(r,e.state.rpcMethodTracker,200).then((e=>({type:yr.RPC_CHECK,result:e}))),o=(()=>l(this,void 0,void 0,(function*(){const t=yield(e=>l(void 0,[e],void 0,(function*({rpcId:e,instance:t}){for(;t.state.lastRpcId===e||void 0===t.state.lastRpcId;)yield pr(200);return t.state.lastRpcId})))({instance:e,rpcId:r}),n=yield mr(t,e.state.rpcMethodTracker,200);return{type:yr.SKIPPED_RPC,result:n}})))(),s=yield Promise.race([n,o]);if(s.type===yr.RPC_CHECK){const e=s.result;Yn.SocketService(`[SocketService:handleRpcReplies()] id=${t.id} ${i} ( ${e.elapsedTime} ms)`,e.result)}else{if(s.type!==yr.SKIPPED_RPC)throw new Error(`Error handling RPC replies for ${r}`);{const t=Object.assign(Object.assign({},e.state.rpcMethodTracker[r]),{error:new Error(\"SDK_CONNECTION_ISSUE\")});e.emit(exports.EventType.RPC_UPDATE,t);const n={data:Object.assign(Object.assign({},t),{jsonrpc:\"2.0\"}),name:\"metamask-provider\"};e.emit(exports.EventType.MESSAGE,{message:n})}}}catch(e){throw e}}))}(e,t).catch((e=>{})),o}))}(this,e)}))}ping(){return function(e){return l(this,void 0,void 0,(function*(){var t,n;Yn.SocketService(`[SocketService: ping()] context=${e.state.context} originator=${e.state.isOriginator} keysExchanged=${null===(t=e.state.keyExchange)||void 0===t?void 0:t.areKeysExchanged()}`),null===(n=e.state.socket)||void 0===n||n.emit(exports.MessageType.PING,{id:e.state.channelId,context:\"ping\",clientType:e.remote.state.isOriginator?\"dapp\":\"wallet\",message:\"\"})}))}(this)}pause(){return function(e){return l(this,void 0,void 0,(function*(){var t,n;Yn.SocketService(`[SocketService: pause()] context=${e.state.context}`),e.state.manualDisconnect=!0,(null===(t=e.state.keyExchange)||void 0===t?void 0:t.areKeysExchanged())&&(yield e.sendMessage({type:exports.MessageType.PAUSE})),null===(n=e.state.socket)||void 0===n||n.disconnect()}))}(this)}isConnected(){var e;return null===(e=this.state.socket)||void 0===e?void 0:e.connected}resume(){return function(e){return l(this,void 0,void 0,(function*(){const{state:t,remote:n}=e,{socket:r,channelId:i,context:o,keyExchange:s,isOriginator:a}=t,{isOriginator:c}=n.state;if(Yn.SocketService(`[SocketService: resume()] channelId=${i} context=${o} connected=${null==r?void 0:r.connected} manualDisconnect=${t.manualDisconnect} resumed=${t.resumed} keysExchanged=${null==s?void 0:s.areKeysExchanged()}`),!i)throw Yn.SocketService(\"[SocketService: resume()] channelId is not defined\"),new Error(\"ChannelId is not defined\");(null==r?void 0:r.connected)?(Yn.SocketService(\"[SocketService: resume()] already connected.\"),r.emit(exports.MessageType.PING,{id:i,clientType:c?\"dapp\":\"wallet\",context:\"on_channel_config\",message:\"\"}),n.hasRelayPersistence()||(null==s?void 0:s.areKeysExchanged())||(a?yield e.sendMessage({type:exports.MessageType.READY}):null==s||s.start({isOriginator:!1}))):(null==r||r.connect(),Yn.SocketService(`[SocketService: resume()] after connecting socket --\\x3e connected=${null==r?void 0:r.connected}`),null==r||r.emit(exports.EventType.JOIN_CHANNEL,{channelId:i,context:`${o}_resume`,clientType:c?\"dapp\":\"wallet\"},((t,n)=>l(this,void 0,void 0,(function*(){try{yield fr(e,t,n)}catch(e){}}))))),t.manualDisconnect=!1,t.resumed=!0}))}(this)}getRPCMethodTracker(){return this.state.rpcMethodTracker}disconnect(e){return function(e,t){var n,r,i,o,s;Yn.SocketService(`[SocketService: disconnect()] context=${e.state.context}`,t),(null==t?void 0:t.terminate)&&(null===(r=(n=e.state).removeFocusListener)||void 0===r||r.call(n),e.state.channelId=t.channelId,null===(i=e.state.socket)||void 0===i||i.removeAllListeners(),null===(o=e.state.keyExchange)||void 0===o||o.clean(),e.remote.state.ready=!1,e.state.socket=void 0,e.state.rpcMethodTracker={}),e.state.manualDisconnect=!0,null===(s=e.state.socket)||void 0===s||s.disconnect()}(this,e)}}var Cr;function xr(e){return()=>l(this,void 0,void 0,(function*(){var t,n,r;const{state:i}=e;if(i.authorized)return;yield(()=>l(this,void 0,void 0,(function*(){for(;!i.walletInfo;)yield pr(500)})))();const o=\"7.3\".localeCompare((null===(t=i.walletInfo)||void 0===t?void 0:t.version)||\"\");if(Yn.RemoteCommunication(`[RemoteCommunication: handleAuthorizedEvent()] HACK 'authorized' version=${null===(n=i.walletInfo)||void 0===n?void 0:n.version} compareValue=${o}`),1!==o)return;const s=i.platformType===exports.PlatformType.MobileWeb||i.platformType===exports.PlatformType.ReactNative||i.platformType===exports.PlatformType.MetaMaskMobileWebview;Yn.RemoteCommunication(`[RemoteCommunication: handleAuthorizedEvent()] HACK 'authorized' platform=${i.platformType} secure=${s} channel=${i.channelId} walletVersion=${null===(r=i.walletInfo)||void 0===r?void 0:r.version}`),s&&(i.authorized=!0,e.emit(exports.EventType.AUTHORIZED))}))}function kr(e){return t=>{const{state:n}=e;Yn.RemoteCommunication(`[RemoteCommunication: handleChannelCreatedEvent()] context=${n.context} on 'channel_created' channelId=${t}`),e.emit(exports.EventType.CHANNEL_CREATED,t)}}function Mr(e,t){return()=>{var n,r,i,o;const{state:s}=e;Yn.RemoteCommunication(`[RemoteCommunication: handleClientsConnectedEvent()] on 'clients_connected' channel=${s.channelId} keysExchanged=${null===(r=null===(n=s.communicationLayer)||void 0===n?void 0:n.getKeyInfo())||void 0===r?void 0:r.keysExchanged}`),s.analytics&&Xn(Object.assign(Object.assign({id:null!==(i=s.channelId)&&void 0!==i?i:\"\",event:s.reconnection?lr.RECONNECT:s.isOriginator?lr.REQUEST:lr.REQUEST_MOBILE},s.originatorInfo),{commLayer:t,sdkVersion:s.sdkVersion,walletVersion:null===(o=s.walletInfo)||void 0===o?void 0:o.version,commLayerVersion:tr.version}),s.communicationServerUrl).catch((e=>{})),s.clientsConnected=!0,s.originatorInfoSent=!1,e.emit(exports.EventType.CLIENTS_CONNECTED)}}function Ar(e){return t=>{const{state:n}=e;Yn.RemoteCommunication(`[RemoteCommunication: handleClientsDisconnectedEvent()] context=${n.context} on 'clients_disconnected' channelId=${t}`),n.relayPersistence||(n.clientsConnected=!1,n.ready=!1,n.authorized=!1),e.emit(exports.EventType.CLIENTS_DISCONNECTED,n.channelId),e.setConnectionStatus(exports.ConnectionStatus.DISCONNECTED)}}function Tr(e){return t=>{var n;const{state:r}=e;if(Yn.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] context=${r.context} on 'clients_waiting' numberUsers=${t} ready=${r.ready} autoStarted=${r.originatorConnectStarted}`),e.setConnectionStatus(exports.ConnectionStatus.WAITING),e.emit(exports.EventType.CLIENTS_WAITING,t),r.originatorConnectStarted){Yn.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] on 'clients_waiting' watch autoStarted=${r.originatorConnectStarted} timeout`,r.autoConnectOptions);const t=(null===(n=r.autoConnectOptions)||void 0===n?void 0:n.timeout)||3e3,i=setTimeout((()=>{Yn.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] setTimeout(${t}) terminate channelConfig`,r.autoConnectOptions),r.originatorConnectStarted=!1,r.ready||e.setConnectionStatus(exports.ConnectionStatus.TIMEOUT),clearTimeout(i)}),t)}}}function Ir(e,t){return n=>{var r,i,o,s,a,c,d,l;const{state:u}=e;if(Yn.RemoteCommunication(`[RemoteCommunication: handleKeysExchangedEvent()] context=${u.context} on commLayer.'keys_exchanged' channel=${u.channelId}`,n),null===(i=null===(r=u.communicationLayer)||void 0===r?void 0:r.getKeyInfo())||void 0===i?void 0:i.keysExchanged){const t=Object.assign(Object.assign({},u.channelConfig),{channelId:null!==(o=u.channelId)&&void 0!==o?o:\"\",validUntil:(null===(s=u.channelConfig)||void 0===s?void 0:s.validUntil)||ir,localKey:u.communicationLayer.getKeyInfo().ecies.private,otherKey:u.communicationLayer.getKeyInfo().ecies.otherPubKey});null===(a=u.storageManager)||void 0===a||a.persistChannelConfig(t).catch((e=>{})),e.setConnectionStatus(exports.ConnectionStatus.LINKED)}!function(e,t){var n,r,i,o,s,a,c,d;const{state:l}=e;Yn.RemoteCommunication(`[RemoteCommunication: setLastActiveDate()] channel=${l.channelId}`,t);const u=Object.assign(Object.assign({},l.channelConfig),{channelId:null!==(n=l.channelId)&&void 0!==n?n:\"\",validUntil:null!==(i=null===(r=l.channelConfig)||void 0===r?void 0:r.validUntil)&&void 0!==i?i:0,relayPersistence:l.relayPersistence,localKey:null===(s=null===(o=l.communicationLayer)||void 0===o?void 0:o.state.keyExchange)||void 0===s?void 0:s.getKeyInfo().ecies.private,otherKey:null===(c=null===(a=l.communicationLayer)||void 0===a?void 0:a.state.keyExchange)||void 0===c?void 0:c.getKeyInfo().ecies.otherPubKey,lastActive:t.getTime()});null===(d=l.storageManager)||void 0===d||d.persistChannelConfig(u)}(e,new Date),u.analytics&&u.channelId&&Xn(Object.assign(Object.assign({id:u.channelId,event:n.isOriginator?lr.CONNECTED:lr.CONNECTED_MOBILE},u.originatorInfo),{sdkVersion:u.sdkVersion,commLayer:t,commLayerVersion:tr.version,walletVersion:null===(c=u.walletInfo)||void 0===c?void 0:c.version}),u.communicationServerUrl).catch((e=>{})),u.isOriginator=n.isOriginator,n.isOriginator||(null===(d=u.communicationLayer)||void 0===d||d.sendMessage({type:exports.MessageType.READY}),u.ready=!0,u.paused=!1),n.isOriginator&&!u.originatorInfoSent&&(null===(l=u.communicationLayer)||void 0===l||l.sendMessage({type:exports.MessageType.ORIGINATOR_INFO,originatorInfo:u.originatorInfo,originator:u.originatorInfo}),u.originatorInfoSent=!0)}}function Pr(e){return t=>{let n=t;t.message&&(n=n.message),function(e,t){const{state:n}=t;if(Yn.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] context=${n.context} on 'message' typeof=${typeof e}`,e),t.state.ready=!0,n.isOriginator||e.type!==exports.MessageType.ORIGINATOR_INFO)if(n.isOriginator&&e.type===exports.MessageType.WALLET_INFO)!function(e,t){const{state:n}=e;n.walletInfo=t.walletInfo,n.paused=!1}(t,e);else{if(n.isOriginator&&e.type===exports.MessageType.WALLET_INIT)(function(e,t){return l(this,void 0,void 0,(function*(){var n,r,i;const{state:o}=e;if(o.isOriginator){const o=t.data||{};if(\"object\"==typeof o&&\"accounts\"in o&&\"chainId\"in o&&\"walletKey\"in o)try{const{channelConfig:t}=e.state;if(Yn.RemoteCommunication(\"WALLET_INIT: channelConfig\",JSON.stringify(t,null,2)),t){const s=o.accounts,a=o.chainId,c=o.walletKey;let d,l=!1;\"deeplinkProtocol\"in o&&(l=Boolean(o.deeplinkProtocol),e.state.deeplinkProtocolAvailable=l),\"walletVersion\"in o&&(d=o.walletVersion),yield null===(n=e.state.storageManager)||void 0===n?void 0:n.persistChannelConfig(Object.assign(Object.assign({},t),{otherKey:c,walletVersion:d,deeplinkProtocolAvailable:l,relayPersistence:!0})),yield null===(r=e.state.storageManager)||void 0===r?void 0:r.persistAccounts(s),yield null===(i=e.state.storageManager)||void 0===i?void 0:i.persistChainId(a)}e.emit(exports.EventType.WALLET_INIT,{accounts:o.accounts,chainId:o.chainId})}catch(n){}}}))})(t,e).catch((e=>{Yn.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] error=${e}`)}));else if(e.type===exports.MessageType.TERMINATE)(function(e){return l(this,void 0,void 0,(function*(){const{state:t}=e;t.isOriginator&&(yield Lr({options:{terminate:!0,sendMessage:!1},instance:e}),e.emit(exports.EventType.TERMINATE))}))})(t).catch((e=>{Yn.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] error=${e}`)}));else if(e.type===exports.MessageType.PAUSE)!function(e){const{state:t}=e;t.paused=!0,e.setConnectionStatus(exports.ConnectionStatus.PAUSED)}(t);else if(e.type===exports.MessageType.READY&&n.isOriginator)!function(e){const{state:t}=e;e.setConnectionStatus(exports.ConnectionStatus.LINKED);const n=t.paused;t.paused=!1,e.emit(exports.EventType.CLIENTS_READY,{isOriginator:t.isOriginator,walletInfo:t.walletInfo}),n&&(t.authorized=!0,e.emit(exports.EventType.AUTHORIZED))}(t);else{if(e.type===exports.MessageType.OTP&&n.isOriginator)return void function(e,t){var n;const{state:r}=e;e.emit(exports.EventType.OTP,t.otpAnswer),1===\"6.6\".localeCompare((null===(n=r.walletInfo)||void 0===n?void 0:n.version)||\"\")&&e.emit(exports.EventType.SDK_RPC_CALL,{method:sr.ETH_REQUESTACCOUNTS,params:[]})}(t,e);e.type===exports.MessageType.AUTHORIZED&&n.isOriginator&&function(e){const{state:t}=e;t.authorized=!0,e.emit(exports.EventType.AUTHORIZED)}(t)}t.emit(exports.EventType.MESSAGE,e)}else!function(e,t){var n;const{state:r}=e;null===(n=r.communicationLayer)||void 0===n||n.sendMessage({type:exports.MessageType.WALLET_INFO,walletInfo:r.walletInfo}),r.originatorInfo=t.originatorInfo||t.originator,e.emit(exports.EventType.CLIENTS_READY,{isOriginator:r.isOriginator,originatorInfo:r.originatorInfo}),r.paused=!1}(t,e)}(n,e)}}function Rr(e){return()=>{const{state:t}=e;Yn.RemoteCommunication(\"[RemoteCommunication: handleSocketReconnectEvent()] on 'socket_reconnect' -- reset key exchange status / set ready to false\"),t.ready=!1,t.authorized=!1,ar(t),e.emitServiceStatusEvent({context:\"socket_reconnect\"})}}function Or(e){return()=>{const{state:t}=e;Yn.RemoteCommunication(\"[RemoteCommunication: handleSocketDisconnectedEvent()] on 'socket_Disconnected' set ready to false\"),t.ready=!1}}function Nr(e){return()=>l(this,void 0,void 0,(function*(){var t,n,r,i,o,s,a;const{state:c}=e;Yn.RemoteCommunication(`[RemoteCommunication: handleFullPersistenceEvent()] context=${c.context}`),e.state.ready=!0,e.state.clientsConnected=!0,e.state.authorized=!0,e.state.relayPersistence=!0,null===(t=e.state.communicationLayer)||void 0===t||t.getKeyExchange().setKeysExchanged(!0),e.emit(exports.EventType.KEYS_EXCHANGED,{keysExchanged:!0,isOriginator:!0}),e.emit(exports.EventType.AUTHORIZED),e.emit(exports.EventType.CLIENTS_READY),e.emit(exports.EventType.CHANNEL_PERSISTENCE);try{c.channelConfig=Object.assign(Object.assign({},c.channelConfig),{localKey:null===(n=c.communicationLayer)||void 0===n?void 0:n.getKeyExchange().getKeyInfo().ecies.private,otherKey:null===(r=c.communicationLayer)||void 0===r?void 0:r.getKeyExchange().getOtherPublicKey(),channelId:null!==(i=c.channelId)&&void 0!==i?i:\"\",validUntil:null!==(s=null===(o=c.channelConfig)||void 0===o?void 0:o.validUntil)&&void 0!==s?s:ir,relayPersistence:!0}),yield null===(a=c.storageManager)||void 0===a?void 0:a.persistChannelConfig(c.channelConfig)}catch(t){}}))}function Dr({communicationLayerPreference:e,otherPublicKey:t,reconnect:n,ecies:r,communicationServerUrl:i=nr,instance:o}){var s,a,c,d,l,u,h,f,p,m,g;const{state:v}=o;if(Yn.RemoteCommunication(\"[initCommunicationLayer()] \",JSON.stringify(v,null,2)),e!==exports.CommunicationLayerPreference.SOCKET)throw new Error(\"Invalid communication protocol\");v.communicationLayer=new _r({communicationLayerPreference:e,otherPublicKey:t,reconnect:n,transports:v.transports,communicationServerUrl:i,context:v.context,ecies:r,logging:v.logging,remote:o});let y=\"undefined\"!=typeof document&&document.URL||\"\",E=\"undefined\"!=typeof document&&document.title||\"\";(null===(s=v.dappMetadata)||void 0===s?void 0:s.url)&&(y=v.dappMetadata.url),(null===(a=v.dappMetadata)||void 0===a?void 0:a.name)&&(E=v.dappMetadata.name);const b=null!==(u=null!==(d=null===(c=v.dappMetadata)||void 0===c?void 0:c.name)&&void 0!==d?d:null===(l=v.dappMetadata)||void 0===l?void 0:l.url)&&void 0!==u?u:\"N/A\",w=\"undefined\"!=typeof window&&void 0!==window.location&&null!==(h=window.location.hostname)&&void 0!==h?h:b,S={url:y,title:E,source:null===(f=v.dappMetadata)||void 0===f?void 0:f.source,dappId:w,icon:(null===(p=v.dappMetadata)||void 0===p?void 0:p.iconUrl)||(null===(m=v.dappMetadata)||void 0===m?void 0:m.base64Icon),platform:v.platformType,apiVersion:tr.version,connector:null===(g=v.dappMetadata)||void 0===g?void 0:g.connector};v.originatorInfo=S;const _={[exports.EventType.AUTHORIZED]:xr(o),[exports.EventType.MESSAGE]:Pr(o),[exports.EventType.CHANNEL_PERSISTENCE]:Nr(o),[exports.EventType.CLIENTS_CONNECTED]:Mr(o,e),[exports.EventType.KEYS_EXCHANGED]:Ir(o,e),[exports.EventType.SOCKET_DISCONNECTED]:Or(o),[exports.EventType.SOCKET_RECONNECT]:Rr(o),[exports.EventType.CLIENTS_DISCONNECTED]:Ar(o),[exports.EventType.KEY_INFO]:()=>{},[exports.EventType.CHANNEL_CREATED]:kr(o),[exports.EventType.CLIENTS_WAITING]:Tr(o),[exports.EventType.RPC_UPDATE]:e=>{o.emit(exports.EventType.RPC_UPDATE,e)}};for(const[t,n]of Object.entries(_))try{v.communicationLayer.on(t,n)}catch(e){}}function Lr(e){return l(this,arguments,void 0,(function*({options:e,instance:t}){const{state:n}=t;return Yn.RemoteCommunication(`[RemoteCommunication: disconnect()] channel=${n.channelId}`,e),new Promise(((r,i)=>{var s,a,c,d,l,u;(null==e?void 0:e.terminate)?(t.state.ready&&Xn({id:null!==(s=t.state.channelId)&&void 0!==s?s:\"\",event:lr.TERMINATED},t.state.communicationServerUrl).catch((e=>{})),n.ready=!1,n.paused=!1,null===(a=n.storageManager)||void 0===a||a.terminate(null!==(c=n.channelId)&&void 0!==c?c:\"\"),t.state.terminated=!0,e.sendMessage?(null===(d=n.communicationLayer)||void 0===d?void 0:d.getKeyInfo().keysExchanged)&&t.state.communicationLayer&&vr(t.state.communicationLayer,{type:exports.MessageType.TERMINATE}).then((()=>{r(!0)})).catch((e=>{i(e)})):r(!0),n.authorized=!1,n.relayPersistence=!1,n.channelId=o.v4(),e.channelId=n.channelId,n.channelConfig=void 0,n.originatorConnectStarted=!1,null===(l=n.communicationLayer)||void 0===l||l.disconnect(e),t.setConnectionStatus(exports.ConnectionStatus.TERMINATED)):(null===(u=n.communicationLayer)||void 0===u||u.disconnect(e),t.setConnectionStatus(exports.ConnectionStatus.DISCONNECTED),r(!0))}))}))}exports.CommunicationLayerPreference=void 0,exports.PlatformType=void 0,(exports.CommunicationLayerPreference||(exports.CommunicationLayerPreference={})).SOCKET=\"socket\",function(e){e.NonBrowser=\"nodejs\",e.MetaMaskMobileWebview=\"in-app-browser\",e.DesktopWeb=\"web-desktop\",e.MobileWeb=\"web-mobile\",e.ReactNative=\"react-native\"}(exports.PlatformType||(exports.PlatformType={}));class Br extends i.EventEmitter2{constructor(e){super(),this.state={ready:!1,authorized:!1,isOriginator:!1,terminated:!1,protocolVersion:1,paused:!1,deeplinkProtocolAvailable:!1,platformType:\"metamask-mobile\",analytics:!1,reconnection:!1,originatorInfoSent:!1,communicationServerUrl:nr,context:\"\",persist:!1,clientsConnected:!1,sessionDuration:ir,originatorConnectStarted:!1,debug:!1,_connectionStatus:exports.ConnectionStatus.DISCONNECTED},this._options=e;const{platformType:n,communicationLayerPreference:r,otherPublicKey:i,reconnect:o,walletInfo:s,dappMetadata:a,protocolVersion:c,transports:d,context:l,relayPersistence:u,ecies:h,analytics:f=!1,storage:p,sdkVersion:m,communicationServerUrl:g=nr,logging:v,autoConnect:y={timeout:or}}=e;this.state.otherPublicKey=i,this.state.dappMetadata=a,this.state.walletInfo=s,this.state.transports=d,this.state.platformType=n,this.state.analytics=f,this.state.protocolVersion=null!=c?c:1,this.state.isOriginator=!i,this.state.relayPersistence=u,this.state.communicationServerUrl=g,this.state.context=l,this.state.terminated=!1,this.state.sdkVersion=m,this.setMaxListeners(50),this.setConnectionStatus(exports.ConnectionStatus.DISCONNECTED),(null==p?void 0:p.duration)&&(this.state.sessionDuration=ir),this.state.storageOptions=p,this.state.autoConnectOptions=y,this.state.debug=!0===(null==v?void 0:v.remoteLayer),!0===(null==v?void 0:v.remoteLayer)&&t.enable(\"RemoteCommunication:Layer\"),!0===(null==v?void 0:v.serviceLayer)&&t.enable(\"SocketService:Layer\"),!0===(null==v?void 0:v.eciesLayer)&&t.enable(\"ECIES:Layer\"),!0===(null==v?void 0:v.keyExchangeLayer)&&t.enable(\"KeyExchange:Layer\"),this.state.logging=v,(null==p?void 0:p.storageManager)&&(this.state.storageManager=p.storageManager),Yn.RemoteCommunication(`[RemoteCommunication: constructor()] protocolVersion=${c} relayPersistence=${u} isOriginator=${this.state.isOriginator} communicationLayerPreference=${r} otherPublicKey=${i} reconnect=${o}`),this.state.isOriginator||Dr({communicationLayerPreference:r,otherPublicKey:i,reconnect:o,ecies:h,communicationServerUrl:g,instance:this}),this.emitServiceStatusEvent({context:\"constructor\"})}initFromDappStorage(){return l(this,void 0,void 0,(function*(){var e;if(this.state.storageManager){const t=yield this.state.storageManager.getPersistedChannelConfig({});t&&(this.state.channelConfig=t,this.state.channelId=t.channelId,this.state.deeplinkProtocolAvailable=null!==(e=t.deeplinkProtocolAvailable)&&void 0!==e&&e,t.relayPersistence&&(this.state.authorized=!0,this.state.ready=!0,this.setConnectionStatus(exports.ConnectionStatus.LINKED),yield this.connectToChannel({channelId:t.channelId})))}Dr({communicationLayerPreference:exports.CommunicationLayerPreference.SOCKET,otherPublicKey:this.state.otherPublicKey,reconnect:this._options.reconnect,ecies:this._options.ecies,communicationServerUrl:this.state.communicationServerUrl,instance:this})}))}originatorSessionConnect(){return l(this,void 0,void 0,(function*(){return yield function(e){return l(this,void 0,void 0,(function*(){var t;const{state:n}=e;if(!n.storageManager)return void Yn.RemoteCommunication(\"[RemoteCommunication: originatorSessionConnect()] no storage manager defined - skip\");const r=yield n.storageManager.getPersistedChannelConfig({});if(Yn.RemoteCommunication(`[RemoteCommunication: originatorSessionConnect()] autoStarted=${n.originatorConnectStarted} channelConfig`,r),null===(t=n.communicationLayer)||void 0===t?void 0:t.isConnected())return Yn.RemoteCommunication(\"[RemoteCommunication: originatorSessionConnect()] socket already connected - skip\"),r;if(r){if(r.validUntil>Date.now())return n.channelConfig=r,n.originatorConnectStarted=!0,n.channelId=null==r?void 0:r.channelId,n.reconnection=!0,r;Yn.RemoteCommunication(\"[RemoteCommunication: autoConnect()] Session has expired\")}n.originatorConnectStarted=!1}))}(this)}))}generateChannelIdConnect(){return l(this,void 0,void 0,(function*(){return function(e){return l(this,void 0,void 0,(function*(){var t,n,r,i,o,s;if(!e.communicationLayer)throw new Error(\"communication layer not initialized\");if(e.ready)throw new Error(\"Channel already connected\");if(e.channelId&&(null===(t=e.communicationLayer)||void 0===t?void 0:t.isConnected()))return e.channelConfig=Object.assign(Object.assign({},e.channelConfig),{channelId:e.channelId,validUntil:Date.now()+e.sessionDuration}),null===(n=e.storageManager)||void 0===n||n.persistChannelConfig(e.channelConfig),{channelId:e.channelId,privKey:null===(i=null===(r=e.communicationLayer)||void 0===r?void 0:r.getKeyInfo())||void 0===i?void 0:i.ecies.private,pubKey:null===(s=null===(o=e.communicationLayer)||void 0===o?void 0:o.getKeyInfo())||void 0===s?void 0:s.ecies.public};Yn.RemoteCommunication(\"[RemoteCommunication: generateChannelId()]\");const a=yield e.communicationLayer.createChannel();Yn.RemoteCommunication(\"[RemoteCommunication: generateChannelId()] channel created\",a);const c=Object.assign(Object.assign({},e.channelConfig),{channelId:a.channelId,localKey:a.privKey,validUntil:Date.now()+e.sessionDuration});return e.channelId=a.channelId,e.channelConfig=c,{channelId:e.channelId,pubKey:a.pubKey,privKey:a.privKey}}))}(this.state)}))}clean(){return ar(this.state)}connectToChannel({channelId:e,withKeyExchange:t,authorized:n}){return function(e){return l(this,arguments,void 0,(function*({channelId:e,withKeyExchange:t,authorized:n,state:r}){var i,s,a;if(!o.validate(e))throw Yn.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${r.context} invalid channel channelId=${e}`),new Error(`Invalid channel ${e}`);if(Yn.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${r.context} channelId=${e} withKeyExchange=${t}`),null===(i=r.communicationLayer)||void 0===i?void 0:i.isConnected())return void Yn.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${r.context} already connected - interrupt connection.`);r.channelId=e,yield null===(s=r.communicationLayer)||void 0===s?void 0:s.connectToChannel({channelId:e,authorized:n,withKeyExchange:t});const c=Object.assign(Object.assign({},r.channelConfig),{channelId:e,validUntil:Date.now()+r.sessionDuration});r.channelConfig=c,null===(a=r.storageManager)||void 0===a||a.persistChannelConfig(c)}))}({channelId:e,authorized:n,withKeyExchange:t,state:this.state})}sendMessage(e){return function(e,t){return l(this,void 0,void 0,(function*(){var n,r;const{state:i}=e;Yn.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${i.context} paused=${i.paused} ready=${i.ready} relayPersistence=${i.relayPersistence} authorized=${i.authorized} socket=${null===(n=i.communicationLayer)||void 0===n?void 0:n.isConnected()} clientsConnected=${i.clientsConnected} status=${i._connectionStatus}`,t),i.relayPersistence||i.ready&&(null===(r=i.communicationLayer)||void 0===r?void 0:r.isConnected())&&i.clientsConnected||(Yn.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${i.context}  SKIP message waiting for MM mobile readiness.`),yield new Promise((t=>{e.once(exports.EventType.CLIENTS_READY,t)})),Yn.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${i.context}  AFTER SKIP / READY -- sending pending message`));try{const n=yield function(e,t){return l(this,void 0,void 0,(function*(){return new Promise((n=>{var r;const{state:i}=e;Yn.RemoteCommunication(`[RemoteCommunication: handleAuthorization()] context=${i.context} ready=${i.ready} authorized=${i.authorized} method=${t.method}`),!i.isOriginator||i.authorized||i.relayPersistence?null===(r=i.communicationLayer)||void 0===r||r.sendMessage(t).then((e=>{n(e)})).catch((e=>{n(!1)})):e.once(exports.EventType.AUTHORIZED,(()=>{var e;Yn.RemoteCommunication(`[RemoteCommunication: handleAuthorization()] context=${i.context}  AFTER SKIP / AUTHORIZED -- sending pending message`),null===(e=i.communicationLayer)||void 0===e||e.sendMessage(t).then((e=>{n(e)})).catch((e=>{n(!1)}))}))}))}))}(e,t);return n}catch(e){throw e}}))}(this,e)}testStorage(){return l(this,void 0,void 0,(function*(){return function(e){return l(this,void 0,void 0,(function*(){var t;const n=yield null===(t=e.storageManager)||void 0===t?void 0:t.getPersistedChannelConfig();Yn.RemoteCommunication(\"[RemoteCommunication: testStorage()] res\",n)}))}(this.state)}))}hasDeeplinkProtocol(){return this.state.deeplinkProtocolAvailable}getChannelConfig(){return this.state.channelConfig}isReady(){return this.state.ready}isConnected(){var e;return null===(e=this.state.communicationLayer)||void 0===e?void 0:e.isConnected()}isAuthorized(){return this.state.authorized}isPaused(){return this.state.paused}getCommunicationLayer(){return this.state.communicationLayer}ping(){return l(this,void 0,void 0,(function*(){var e;Yn.RemoteCommunication(`[RemoteCommunication: ping()] channel=${this.state.channelId}`),yield null===(e=this.state.communicationLayer)||void 0===e?void 0:e.ping()}))}testLogger(){Yn.RemoteCommunication(`testLogger() channel=${this.state.channelId}`),Yn.SocketService(`testLogger() channel=${this.state.channelId}`),Yn.Ecies(`testLogger() channel=${this.state.channelId}`),Yn.KeyExchange(`testLogger() channel=${this.state.channelId}`)}keyCheck(){var e;Yn.RemoteCommunication(`[RemoteCommunication: keyCheck()] channel=${this.state.channelId}`),null===(e=this.state.communicationLayer)||void 0===e||e.keyCheck()}setConnectionStatus(e){this.state._connectionStatus!==e&&(this.state._connectionStatus=e,this.emit(exports.EventType.CONNECTION_STATUS,e),this.emitServiceStatusEvent({context:\"setConnectionStatus\"}))}emitServiceStatusEvent(e={}){this.emit(exports.EventType.SERVICE_STATUS,this.getServiceStatus())}getConnectionStatus(){return this.state._connectionStatus}getServiceStatus(){return{originatorInfo:this.state.originatorInfo,keyInfo:this.getKeyInfo(),connectionStatus:this.state._connectionStatus,channelConfig:this.state.channelConfig,channelId:this.state.channelId}}getKeyInfo(){var e;return null===(e=this.state.communicationLayer)||void 0===e?void 0:e.getKeyInfo()}resetKeys(){var e;null===(e=this.state.communicationLayer)||void 0===e||e.resetKeys()}setOtherPublicKey(e){var t;const n=null===(t=this.state.communicationLayer)||void 0===t?void 0:t.getKeyExchange();if(!n)throw new Error(\"KeyExchange is not initialized.\");n.getOtherPublicKey()!==e&&n.setOtherPublicKey(e)}pause(){return l(this,void 0,void 0,(function*(){var e;Yn.RemoteCommunication(`[RemoteCommunication: pause()] channel=${this.state.channelId}`),yield null===(e=this.state.communicationLayer)||void 0===e?void 0:e.pause(),this.setConnectionStatus(exports.ConnectionStatus.PAUSED)}))}getVersion(){return tr.version}hasRelayPersistence(){var e;return null!==(e=this.state.relayPersistence)&&void 0!==e&&e}resume(){return l(this,void 0,void 0,(function*(){return function(e){return l(this,void 0,void 0,(function*(){var t;const{state:n}=e;Yn.RemoteCommunication(`[RemoteCommunication: resume()] channel=${n.channelId}`),yield null===(t=n.communicationLayer)||void 0===t?void 0:t.resume(),e.setConnectionStatus(exports.ConnectionStatus.LINKED)}))}(this)}))}encrypt(e){var t,n,r;const i=null===(t=this.state.communicationLayer)||void 0===t?void 0:t.getKeyExchange(),o=null==i?void 0:i.getOtherPublicKey();if(!o)throw new Error(\"KeyExchange not completed\");return null===(r=null===(n=this.state.communicationLayer)||void 0===n?void 0:n.state.eciesInstance)||void 0===r?void 0:r.encrypt(e,o)}decrypt(e){var t,n,r;if(!(null===(t=this.state.communicationLayer)||void 0===t?void 0:t.state.eciesInstance))throw new Error(\"ECIES instance is not initialized\");return null===(r=null===(n=this.state.communicationLayer)||void 0===n?void 0:n.state.eciesInstance)||void 0===r?void 0:r.decrypt(e)}getChannelId(){return this.state.channelId}getRPCMethodTracker(){var e;return null===(e=this.state.communicationLayer)||void 0===e?void 0:e.getRPCMethodTracker()}reject({channelId:e}){return function(e){return l(this,arguments,void 0,(function*({channelId:e,state:t}){var n,r,i;if(!o.validate(e))throw Yn.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${t.context} invalid channel channelId=${e}`),new Error(`Invalid channel ${e}`);if(t.isOriginator)return void Yn.RemoteCommunication(`[RemoteCommunication: reject()] context=${t.context} isOriginator=${t.isOriginator} channelId=${e}`);const{socket:s}=null!==(r=null===(n=t.communicationLayer)||void 0===n?void 0:n.state)&&void 0!==r?r:{};(null==s?void 0:s.connected)||(Yn.RemoteCommunication(`[RemoteCommunication: reject()] context=${t.context} socket already connected`),null==s||s.connect()),Xn(Object.assign(Object.assign({id:e,event:lr.REJECTED},t.originatorInfo),{sdkVersion:t.sdkVersion,commLayerVersion:tr.version,walletVersion:null===(i=t.walletInfo)||void 0===i?void 0:i.version}),t.communicationServerUrl).catch((e=>{})),yield new Promise(((n,r)=>{null==s||s.emit(exports.EventType.REJECTED,{channelId:e},((e,i)=>{Yn.RemoteCommunication(`[RemoteCommunication: reject()] context=${t.context} socket=${null==s?void 0:s.id}`,{error:e,response:i}),e?r(e):n(i)}))}))}))}({channelId:e,state:this.state})}disconnect(e){return l(this,void 0,void 0,(function*(){return Lr({options:e,instance:this})}))}}!function(e){e.RENEW=\"renew\",e.LINK=\"link\"}(Cr||(Cr={}));var Kr=\"ERC721\",jr=\"ERC1155\",$r={errors:{disconnected:()=>\"MetaMask: Disconnected from chain. Attempting to connect.\",permanentlyDisconnected:()=>\"MetaMask: Disconnected from MetaMask background. Page reload required.\",sendSiteMetadata:()=>\"MetaMask: Failed to send site metadata. This is an internal error, please report this bug.\",unsupportedSync:e=>`MetaMask: The MetaMask Ethereum provider does not support synchronous methods like ${e} without a callback parameter.`,invalidDuplexStream:()=>\"Must provide a Node.js-style duplex stream.\",invalidNetworkParams:()=>\"MetaMask: Received invalid network parameters. Please report this bug.\",invalidRequestArgs:()=>\"Expected a single, non-array, object argument.\",invalidRequestMethod:()=>\"'args.method' must be a non-empty string.\",invalidRequestParams:()=>\"'args.params' must be an object or array if provided.\",invalidLoggerObject:()=>\"'args.logger' must be an object if provided.\",invalidLoggerMethod:e=>`'args.logger' must include required method '${e}'.`},info:{connected:e=>`MetaMask: Connected to chain with ID \"${e}\".`},warnings:{chainIdDeprecation:\"MetaMask: 'ethereum.chainId' is deprecated and may be removed in the future. Please use the 'eth_chainId' RPC method instead.\\nFor more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23\",networkVersionDeprecation:\"MetaMask: 'ethereum.networkVersion' is deprecated and may be removed in the future. Please use the 'net_version' RPC method instead.\\nFor more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23\",selectedAddressDeprecation:\"MetaMask: 'ethereum.selectedAddress' is deprecated and may be removed in the future. Please use the 'eth_accounts' RPC method instead.\\nFor more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23\",enableDeprecation:\"MetaMask: 'ethereum.enable()' is deprecated and may be removed in the future. Please use the 'eth_requestAccounts' RPC method instead.\\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1102\",sendDeprecation:\"MetaMask: 'ethereum.send(...)' is deprecated and may be removed in the future. Please use 'ethereum.sendAsync(...)' or 'ethereum.request(...)' instead.\\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193\",events:{close:\"MetaMask: The event 'close' is deprecated and may be removed in the future. Please use 'disconnect' instead.\\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#disconnect\",data:\"MetaMask: The event 'data' is deprecated and will be removed in the future. Use 'message' instead.\\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message\",networkChanged:\"MetaMask: The event 'networkChanged' is deprecated and may be removed in the future. Use 'chainChanged' instead.\\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#chainchanged\",notification:\"MetaMask: The event 'notification' is deprecated and may be removed in the future. Use 'message' instead.\\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message\"},rpc:{ethDecryptDeprecation:\"MetaMask: The RPC method 'eth_decrypt' is deprecated and may be removed in the future.\\nFor more information, see: https://medium.com/metamask/metamask-api-method-deprecation-2b0564a84686\",ethGetEncryptionPublicKeyDeprecation:\"MetaMask: The RPC method 'eth_getEncryptionPublicKey' is deprecated and may be removed in the future.\\nFor more information, see: https://medium.com/metamask/metamask-api-method-deprecation-2b0564a84686\",walletWatchAssetNFTExperimental:\"MetaMask: The RPC method 'wallet_watchAsset' is experimental for ERC721/ERC1155 assets and may change in the future.\\nFor more information, see: https://github.com/MetaMask/metamask-improvement-proposals/blob/main/MIPs/mip-1.md and https://github.com/MetaMask/metamask-improvement-proposals/blob/main/PROCESS-GUIDE.md#proposal-lifecycle\"},experimentalMethods:\"MetaMask: 'ethereum._metamask' exposes non-standard, experimental methods. They may be removed or changed without warning.\"}};function Hr(e){const t={ethDecryptDeprecation:!1,ethGetEncryptionPublicKeyDeprecation:!1,walletWatchAssetNFTExperimental:!1};return(n,r,i)=>{t.ethDecryptDeprecation||\"eth_decrypt\"!==n.method?t.ethGetEncryptionPublicKeyDeprecation||\"eth_getEncryptionPublicKey\"!==n.method?!t.walletWatchAssetNFTExperimental&&\"wallet_watchAsset\"===n.method&&[Kr,jr].includes(n.params?.type||\"\")&&(e.warn($r.warnings.rpc.walletWatchAssetNFTExperimental),t.walletWatchAssetNFTExperimental=!0):(e.warn($r.warnings.rpc.ethGetEncryptionPublicKeyDeprecation),t.ethGetEncryptionPublicKeyDeprecation=!0):(e.warn($r.warnings.rpc.ethDecryptDeprecation),t.ethDecryptDeprecation=!0),i()}}var Ur=4294967295,Fr=Math.floor(Math.random()*Ur);function qr(){return(e,t,n,r)=>{const i=e.id,o=Fr=(Fr+1)%Ur;e.id=o,t.id=o,n((n=>{e.id=i,t.id=i,n()}))}}var zr=(e,t,n)=>{if(!t.has(e))throw TypeError(\"Cannot \"+n)},Wr=(e,t,n)=>(zr(e,t,\"read from private field\"),n?n.call(e):t.get(e)),Vr=(e,t,n)=>{if(t.has(e))throw TypeError(\"Cannot add the same private member more than once\");t instanceof WeakSet?t.add(e):t.set(e,n)},Gr=(e,t,n,r)=>(zr(e,t,\"write to private field\"),t.set(e,n),n),Yr=(e,t,n)=>(zr(e,t,\"access private method\"),n),Zr={invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},Jr={\"-32700\":{standard:\"JSON RPC 2.0\",message:\"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text.\"},\"-32600\":{standard:\"JSON RPC 2.0\",message:\"The JSON sent is not a valid Request object.\"},\"-32601\":{standard:\"JSON RPC 2.0\",message:\"The method does not exist / is not available.\"},\"-32602\":{standard:\"JSON RPC 2.0\",message:\"Invalid method parameter(s).\"},\"-32603\":{standard:\"JSON RPC 2.0\",message:\"Internal JSON-RPC error.\"},\"-32000\":{standard:\"EIP-1474\",message:\"Invalid input.\"},\"-32001\":{standard:\"EIP-1474\",message:\"Resource not found.\"},\"-32002\":{standard:\"EIP-1474\",message:\"Resource unavailable.\"},\"-32003\":{standard:\"EIP-1474\",message:\"Transaction rejected.\"},\"-32004\":{standard:\"EIP-1474\",message:\"Method not supported.\"},\"-32005\":{standard:\"EIP-1474\",message:\"Request limit exceeded.\"},4001:{standard:\"EIP-1193\",message:\"User rejected the request.\"},4100:{standard:\"EIP-1193\",message:\"The requested account and/or method has not been authorized by the user.\"},4200:{standard:\"EIP-1193\",message:\"The requested method is not supported by this Ethereum provider.\"},4900:{standard:\"EIP-1193\",message:\"The provider is disconnected from all chains.\"},4901:{standard:\"EIP-1193\",message:\"The provider is disconnected from the specified chain.\"}};function Qr(e){return Boolean(e)&&\"object\"==typeof e&&!Array.isArray(e)}var Xr=(e,t)=>Object.hasOwnProperty.call(e,t);class ei extends TypeError{constructor(e,t){let n;const{message:r,explanation:i,...o}=e,{path:s}=e,a=0===s.length?r:`At path: ${s.join(\".\")} -- ${r}`;super(i??a),null!=i&&(this.cause=a),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}}function ti(e){return\"object\"==typeof e&&null!=e}function ni(e){return\"symbol\"==typeof e?e.toString():\"string\"==typeof e?JSON.stringify(e):`${e}`}function ri(e,t,n,r){if(!0===e)return;!1===e?e={}:\"string\"==typeof e&&(e={message:e});const{path:i,branch:o}=t,{type:s}=n,{refinement:a,message:c=`Expected a value of type \\`${s}\\`${a?` with refinement \\`${a}\\``:\"\"}, but received: \\`${ni(r)}\\``}=e;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...e,message:c}}function*ii(e,t,n,r){(function(e){return ti(e)&&\"function\"==typeof e[Symbol.iterator]})(e)||(e=[e]);for(const i of e){const e=ri(i,t,n,r);e&&(yield e)}}function*oi(e,t,n={}){const{path:r=[],branch:i=[e],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i};if(o&&(e=t.coercer(e,a),s&&\"type\"!==t.type&&ti(t.schema)&&ti(e)&&!Array.isArray(e)))for(const n in e)void 0===t.schema[n]&&delete e[n];let c=\"valid\";for(const r of t.validator(e,a))r.explanation=n.message,c=\"not_valid\",yield[r,void 0];for(let[d,l,u]of t.entries(e,a)){const t=oi(l,u,{path:void 0===d?r:[...r,d],branch:void 0===d?i:[...i,l],coerce:o,mask:s,message:n.message});for(const n of t)n[0]?(c=null!=n[0].refinement?\"not_refined\":\"not_valid\",yield[n[0],void 0]):o&&(l=n[1],void 0===d?e=l:e instanceof Map?e.set(d,l):e instanceof Set?e.add(l):ti(e)&&(void 0!==l||d in e)&&(e[d]=l))}if(\"not_valid\"!==c)for(const r of t.refiner(e,a))r.explanation=n.message,c=\"not_refined\",yield[r,void 0];\"valid\"===c&&(yield[void 0,e])}class si{constructor(e){const{type:t,schema:n,validator:r,refiner:i,coercer:o=(e=>e),entries:s=function*(){}}=e;this.type=t,this.schema=n,this.entries=s,this.coercer=o,this.validator=r?(e,t)=>ii(r(e,t),t,this,e):()=>[],this.refiner=i?(e,t)=>ii(i(e,t),t,this,e):()=>[]}assert(e,t){return ai(e,this,t)}create(e,t){return ci(e,this,t)}is(e){return di(e,this)}mask(e,t){return function(e,t,n){const r=li(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}validate(e,t={}){return li(e,this,t)}}function ai(e,t,n){const r=li(e,t,{message:n});if(r[0])throw r[0]}function ci(e,t,n){const r=li(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function di(e,t){return!li(e,t)[0]}function li(e,t,n={}){const r=oi(e,t,n),i=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(r);if(i[0]){const e=new ei(i[0],(function*(){for(const e of r)e[0]&&(yield e[0])}));return[e,void 0]}return[void 0,i[1]]}function ui(e,t){return new si({type:e,schema:null,validator:t})}function hi(e){let t;return new si({type:\"lazy\",schema:null,*entries(n,r){t??(t=e()),yield*t.entries(n,r)},validator:(n,r)=>(t??(t=e()),t.validator(n,r)),coercer:(n,r)=>(t??(t=e()),t.coercer(n,r)),refiner:(n,r)=>(t??(t=e()),t.refiner(n,r))})}function fi(e){return new si({type:\"array\",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${ni(e)}`})}function pi(e){const t=ni(e),n=typeof e;return new si({type:\"literal\",schema:\"string\"===n||\"number\"===n||\"boolean\"===n?e:null,validator:n=>n===e||`Expected the literal \\`${t}\\`, but received: ${ni(n)}`})}function mi(){return ui(\"number\",(e=>\"number\"==typeof e&&!isNaN(e)||`Expected a number, but received: ${ni(e)}`))}function gi(e){const t=e?Object.keys(e):[],n=ui(\"never\",(()=>!1));return new si({type:\"object\",schema:e||null,*entries(r){if(e&&ti(r)){const i=new Set(Object.keys(r));for(const n of t)i.delete(n),yield[n,r[n],e[n]];for(const e of i)yield[e,r[e],n]}},validator:e=>ti(e)||`Expected an object, but received: ${ni(e)}`,coercer:e=>ti(e)?{...e}:e})}function vi(e){return new si({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})}function yi(e,t){return new si({type:\"record\",schema:null,*entries(n){if(ti(n))for(const r in n){const i=n[r];yield[r,r,e],yield[r,i,t]}},validator:e=>ti(e)||`Expected an object, but received: ${ni(e)}`})}function Ei(){return ui(\"string\",(e=>\"string\"==typeof e||`Expected a string, but received: ${ni(e)}`))}function bi(e){const t=e.map((e=>e.type)).join(\" | \");return new si({type:\"union\",schema:null,coercer(t){for(const n of e){const[e,r]=n.validate(t,{coerce:!0});if(!e)return r}return t},validator(n,r){const i=[];for(const t of e){const[...e]=oi(n,t,r),[o]=e;if(!o[0])return[];for(const[t]of e)t&&i.push(t)}return[`Expected the value to satisfy a union of \\`${t}\\`, but received: ${ni(n)}`,...i]}})}function wi(e){return function(e){return function(e){return\"object\"==typeof e&&null!==e&&\"message\"in e}(e)&&\"string\"==typeof e.message?e.message:null==e?\"\":String(e)}(e).replace(/\\.$/u,\"\")}function Si(e,t){return n=e,Boolean(\"string\"==typeof n?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var n}var _i=class extends Error{constructor(e){super(e.message),this.code=\"ERR_ASSERTION\"}};var Ci=e=>gi(e);function xi({path:e,branch:t}){const n=e[e.length-1];return Xr(t[t.length-2],n)}function ki(e){return new si({...e,type:`optional ${e.type}`,validator:(t,n)=>!xi(n)||e.validator(t,n),refiner:(t,n)=>!xi(n)||e.refiner(t,n)})}var Mi,Ai,Ti,Ii=bi([pi(null),ui(\"boolean\",(e=>\"boolean\"==typeof e)),ui(\"finite number\",(e=>di(e,mi())&&Number.isFinite(e))),Ei(),fi(hi((()=>Ii))),yi(Ei(),hi((()=>Ii)))]),Pi=(Mi=Ii,Ai=ui(\"any\",(()=>!0)),Ti=e=>(function(e,t,n=\"Assertion failed\",r=_i){try{ai(e,t)}catch(e){throw Si(r,`${n}: ${wi(e)}.`)}}(e,Ii),JSON.parse(JSON.stringify(e,((e,t)=>{if(\"__proto__\"!==e&&\"constructor\"!==e)return t})))),new si({...Mi,coercer:(e,t)=>di(e,Ai)?Mi.coercer(Ti(e,t),t):Mi.coercer(e,t)}));function Ri(e){try{return function(e){ci(e,Pi)}(e),!0}catch{return!1}}var Oi=pi(\"2.0\"),Ni=function(e){return new si({...e,validator:(t,n)=>null===t||e.validator(t,n),refiner:(t,n)=>null===t||e.refiner(t,n)})}(bi([mi(),Ei()])),Di=Ci({code:ui(\"integer\",(e=>\"number\"==typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${ni(e)}`)),message:Ei(),data:ki(Pi),stack:ki(Ei())}),Li=bi([yi(Ei(),Pi),fi(Pi)]),Bi=Ci({id:Ni,jsonrpc:Oi,method:Ei(),params:ki(Li)}),Ki=Ci({jsonrpc:Oi,method:Ei(),params:ki(Li)});function ji(e){return di(e,Bi)}function $i(e){return di(e,Di)}gi({id:Ni,jsonrpc:Oi,result:vi(ui(\"unknown\",(()=>!0))),error:vi(Di)}),bi([Ci({id:Ni,jsonrpc:Oi,result:Pi}),Ci({id:Ni,jsonrpc:Oi,error:Di})]);var Hi=Zr.internal,Ui=\"Unspecified error message. This is a bug, please report it.\",Fi={code:Hi,message:zi(Hi)},qi=\"Unspecified server error.\";function zi(e,t=Ui){if(function(e){return Number.isInteger(e)}(e)){const t=e.toString();if(Xr(Jr,t))return Jr[t].message;if(function(e){return e>=-32099&&e<=-32e3}(e))return qi}return t}function Wi(e,{fallbackError:t=Fi,shouldIncludeStack:n=!0}={}){if(!$i(t))throw new Error(\"Must provide fallback error with integer number code and string message.\");const r=function(e,t){if(e&&\"object\"==typeof e&&\"serialize\"in e&&\"function\"==typeof e.serialize)return e.serialize();if($i(e))return e;const n=Vi(e),r={...t,data:{cause:n}};return r}(e,t);return n||delete r.stack,r}function Vi(e){return Array.isArray(e)?e.map((e=>Ri(e)?e:Qr(e)?Gi(e):null)):Qr(e)?Gi(e):Ri(e)?e:null}function Gi(e){return Object.getOwnPropertyNames(e).reduce(((t,n)=>{const r=e[n];return Ri(r)&&(t[n]=r),t}),{})}var Yi=to;to.default=to,to.stable=oo,to.stableStringify=oo;var Zi=\"[...]\",Ji=\"[Circular]\",Qi=[],Xi=[];function eo(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function to(e,t,n,r){var i;void 0===r&&(r=eo()),ro(e,\"\",0,[],void 0,0,r);try{i=0===Xi.length?JSON.stringify(e,t,n):JSON.stringify(e,ao(t),n)}catch(e){return JSON.stringify(\"[unable to serialize, circular reference is too complex to analyze]\")}finally{for(;0!==Qi.length;){var o=Qi.pop();4===o.length?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return i}function no(e,t,n,r){var i=Object.getOwnPropertyDescriptor(r,n);void 0!==i.get?i.configurable?(Object.defineProperty(r,n,{value:e}),Qi.push([r,n,t,i])):Xi.push([t,n,e]):(r[n]=e,Qi.push([r,n,t]))}function ro(e,t,n,r,i,o,s){var a;if(o+=1,\"object\"==typeof e&&null!==e){for(a=0;a<r.length;a++)if(r[a]===e)return void no(Ji,e,t,i);if(void 0!==s.depthLimit&&o>s.depthLimit)return void no(Zi,e,t,i);if(void 0!==s.edgesLimit&&n+1>s.edgesLimit)return void no(Zi,e,t,i);if(r.push(e),Array.isArray(e))for(a=0;a<e.length;a++)ro(e[a],a,a,r,e,o,s);else{var c=Object.keys(e);for(a=0;a<c.length;a++){var d=c[a];ro(e[d],d,a,r,e,o,s)}}r.pop()}}function io(e,t){return e<t?-1:e>t?1:0}function oo(e,t,n,r){void 0===r&&(r=eo());var i,o=so(e,\"\",0,[],void 0,0,r)||e;try{i=0===Xi.length?JSON.stringify(o,t,n):JSON.stringify(o,ao(t),n)}catch(e){return JSON.stringify(\"[unable to serialize, circular reference is too complex to analyze]\")}finally{for(;0!==Qi.length;){var s=Qi.pop();4===s.length?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function so(e,t,n,r,i,o,s){var a;if(o+=1,\"object\"==typeof e&&null!==e){for(a=0;a<r.length;a++)if(r[a]===e)return void no(Ji,e,t,i);try{if(\"function\"==typeof e.toJSON)return}catch(e){return}if(void 0!==s.depthLimit&&o>s.depthLimit)return void no(Zi,e,t,i);if(void 0!==s.edgesLimit&&n+1>s.edgesLimit)return void no(Zi,e,t,i);if(r.push(e),Array.isArray(e))for(a=0;a<e.length;a++)so(e[a],a,a,r,e,o,s);else{var c={},d=Object.keys(e).sort(io);for(a=0;a<d.length;a++){var l=d[a];so(e[l],l,a,r,e,o,s),c[l]=e[l]}if(void 0===i)return c;Qi.push([i,t,e]),i[t]=c}r.pop()}}function ao(e){return e=void 0!==e?e:function(e,t){return t},function(t,n){if(Xi.length>0)for(var r=0;r<Xi.length;r++){var i=Xi[r];if(i[1]===t&&i[0]===n){n=i[2],Xi.splice(r,1);break}}return e.call(this,t,n)}}var co=h(Yi),lo=class extends Error{constructor(e,t,n){if(!Number.isInteger(e))throw new Error('\"code\" must be an integer.');if(!t||\"string\"!=typeof t)throw new Error('\"message\" must be a non-empty string.');super(t),this.code=e,void 0!==n&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data,function(e){if(\"object\"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}}(this.data)&&(e.data.cause=Vi(this.data.cause))),this.stack&&(e.stack=this.stack),e}toString(){return co(this.serialize(),uo,2)}};function uo(e,t){if(\"[Circular]\"!==t)return t}var ho=e=>fo(Zr.invalidRequest,e);function fo(e,t){const[n,r]=function(e){if(e){if(\"string\"==typeof e)return[e];if(\"object\"==typeof e&&!Array.isArray(e)){const{message:t,data:n}=e;if(t&&\"string\"!=typeof t)throw new Error(\"Must specify string message.\");return[t??void 0,n]}}return[]}(t);return new lo(e,n??zi(e),r)}var po={};Object.defineProperty(po,\"__esModule\",{value:!0});const mo=a;function go(e,t,n){try{Reflect.apply(e,t,n)}catch(e){setTimeout((()=>{throw e}))}}let vo=class extends mo.EventEmitter{emit(e,...t){let n=\"error\"===e;const r=this._events;if(void 0!==r)n=n&&void 0===r.error;else if(!n)return!1;if(n){let e;if(t.length>0&&([e]=t),e instanceof Error)throw e;const n=new Error(\"Unhandled error.\"+(e?` (${e.message})`:\"\"));throw n.context=e,n}const i=r[e];if(void 0===i)return!1;if(\"function\"==typeof i)go(i,this,t);else{const e=i.length,n=function(e){const t=e.length,n=new Array(t);for(let r=0;r<t;r+=1)n[r]=e[r];return n}(i);for(let r=0;r<e;r+=1)go(n[r],this,t)}return!0}};var yo,Eo,bo,wo,So,_o,Co,xo,ko,Mo,Ao,To,Io,Po,Ro,Oo,No,Do,Lo,Bo=po.default=vo,Ko=class e extends Bo{constructor({notificationHandler:e}={}){super(),Vr(this,wo),Vr(this,_o),Vr(this,xo),Vr(this,yo,!1),Vr(this,Eo,void 0),Vr(this,bo,void 0),Gr(this,Eo,[]),Gr(this,bo,e)}destroy(){Wr(this,Eo).forEach((e=>{\"destroy\"in e&&\"function\"==typeof e.destroy&&e.destroy()})),Gr(this,Eo,[]),Gr(this,yo,!0)}push(e){Yr(this,wo,So).call(this),Wr(this,Eo).push(e)}handle(e,t){if(Yr(this,wo,So).call(this),t&&\"function\"!=typeof t)throw new Error('\"callback\" must be a function if provided.');return Array.isArray(e)?t?Yr(this,_o,Co).call(this,e,t):Yr(this,_o,Co).call(this,e):t?Yr(this,xo,ko).call(this,e,t):this._promiseHandle(e)}asMiddleware(){return Yr(this,wo,So).call(this),async(t,n,r,i)=>{var o,s;try{const[a,c,d]=await Yr(o=e,To,Io).call(o,t,n,Wr(this,Eo));return c?(await Yr(s=e,Oo,No).call(s,d),i(a)):r((async t=>{var n;try{await Yr(n=e,Oo,No).call(n,d)}catch(e){return t(e)}return t()}))}catch(e){return i(e)}}}async _promiseHandle(e){return new Promise(((t,n)=>{Yr(this,xo,ko).call(this,e,((e,r)=>{e&&void 0===r?n(e):t(r)})).catch(n)}))}};yo=new WeakMap,Eo=new WeakMap,bo=new WeakMap,wo=new WeakSet,So=function(){if(Wr(this,yo))throw new Error(\"This engine is destroyed and can no longer be used.\")},_o=new WeakSet,Co=async function(e,t){try{if(0===e.length){const e=[{id:null,jsonrpc:\"2.0\",error:new lo(Zr.invalidRequest,\"Request batch must contain plain objects. Received an empty array\")}];return t?t(null,e):e}const n=(await Promise.all(e.map(this._promiseHandle.bind(this)))).filter((e=>void 0!==e));return t?t(null,n):n}catch(e){if(t)return t(e);throw e}},xo=new WeakSet,ko=async function(e,t){var n;if(!e||Array.isArray(e)||\"object\"!=typeof e){const n=new lo(Zr.invalidRequest,\"Requests must be plain objects. Received: \"+typeof e,{request:e});return t(n,{id:null,jsonrpc:\"2.0\",error:n})}if(\"string\"!=typeof e.method){const n=new lo(Zr.invalidRequest,\"Must specify a string method. Received: \"+typeof e.method,{request:e});return Wr(this,bo)&&!ji(e)?t(null):t(n,{id:e.id??null,jsonrpc:\"2.0\",error:n})}if(Wr(this,bo)&&di(e,Ki)&&!ji(e)){try{await Wr(this,bo).call(this,e)}catch(e){return t(e)}return t(null)}let r=null;const i={...e},o={id:i.id,jsonrpc:i.jsonrpc};try{await Yr(n=Ko,Mo,Ao).call(n,i,o,Wr(this,Eo))}catch(e){r=e}return r&&(delete o.result,o.error||(o.error=Wi(r))),t(r,o)},Mo=new WeakSet,Ao=async function(e,t,n){var r,i,o;const[s,a,c]=await Yr(r=Ko,To,Io).call(r,e,t,n);if(Yr(i=Ko,Do,Lo).call(i,e,t,a),await Yr(o=Ko,Oo,No).call(o,c),s)throw s},To=new WeakSet,Io=async function(e,t,n){var r;const i=[];let o=null,s=!1;for(const a of n)if([o,s]=await Yr(r=Ko,Po,Ro).call(r,e,t,a,i),s)break;return[o,s,i.reverse()]},Po=new WeakSet,Ro=async function(e,t,n,r){return new Promise((i=>{const o=e=>{const n=e||t.error;n&&(t.error=Wi(n)),i([n,!0])},s=n=>{t.error?o(t.error):(n&&(\"function\"!=typeof n&&o(new lo(Zr.internal,`JsonRpcEngine: \"next\" return handlers must be functions. Received \"${typeof n}\" for request:\\n${$o(e)}`,{request:e})),r.push(n)),i([null,!1]))};try{n(e,t,s,o)}catch(e){o(e)}}))},Oo=new WeakSet,No=async function(e){for(const t of e)await new Promise(((e,n)=>{t((t=>t?n(t):e()))}))},Do=new WeakSet,Lo=function(e,t,n){if(!Xr(t,\"result\")&&!Xr(t,\"error\"))throw new lo(Zr.internal,`JsonRpcEngine: Response has no error or result for request:\\n${$o(e)}`,{request:e});if(!n)throw new lo(Zr.internal,`JsonRpcEngine: Nothing ended request:\\n${$o(e)}`,{request:e})},Vr(Ko,Mo),Vr(Ko,To),Vr(Ko,Po),Vr(Ko,Oo),Vr(Ko,Do);var jo=Ko;function $o(e){return JSON.stringify(e,null,2)}var Ho=Object.freeze([\"eth_subscription\"]),Uo=(e=console)=>{return[qr(),(t=e,(e,n,r)=>{\"string\"==typeof e.method&&e.method||(n.error=ho({message:\"The request 'method' must be a non-empty string.\",data:e})),r((e=>{const{error:r}=n;return r?(t.error(`MetaMask - RPC Error: ${r.message}`,r),e()):e()}))}),Hr(e)];var t};var Fo=(e,t,n=!0)=>(r,i)=>{r||i.error?t(r||i.error):!n||Array.isArray(i)?e(i):e(i.result)},qo=e=>Boolean(e)&&\"string\"==typeof e&&e.startsWith(\"0x\"),zo=()=>{};async function Wo(e,t){try{const t=await async function(){return{name:Vo(window),icon:await Go(window)}}();e.handle({jsonrpc:\"2.0\",id:1,method:\"metamask_sendDomainMetadata\",params:t},zo)}catch(e){t.error({message:$r.errors.sendSiteMetadata(),originalError:e})}}function Vo(e){const{document:t}=e,n=t.querySelector('head > meta[property=\"og:site_name\"]');if(n)return n.content;const r=t.querySelector('head > meta[name=\"title\"]');return r?r.content:t.title&&t.title.length>0?t.title:window.location.hostname}async function Go(e){const{document:t}=e,n=t.querySelectorAll('head > link[rel~=\"icon\"]');for(const e of Array.from(n))if(e&&await Yo(e.href))return e.href;return null}async function Yo(e){return new Promise(((t,n)=>{try{const n=document.createElement(\"img\");n.onload=()=>t(!0),n.onerror=()=>t(!1),n.src=e}catch(e){n(e)}}))}var Zo=(e,t,n)=>{if(!t.has(e))throw TypeError(\"Cannot \"+n)},Jo=(e,t,n)=>(Zo(e,t,\"read from private field\"),n?n.call(e):t.get(e)),Qo=(e,t,n)=>{if(t.has(e))throw TypeError(\"Cannot add the same private member more than once\");t instanceof WeakSet?t.add(e):t.set(e,n)},Xo=(e,t,n,r)=>(Zo(e,t,\"write to private field\"),t.set(e,n),n);function es(e,t,n){try{Reflect.apply(e,t,n)}catch(e){setTimeout((()=>{throw e}))}}class ts extends a.EventEmitter{emit(e,...t){let n=\"error\"===e;const r=this._events;if(void 0!==r)n=n&&void 0===r.error;else if(!n)return!1;if(n){let e;if(t.length>0&&([e]=t),e instanceof Error)throw e;const n=new Error(\"Unhandled error.\"+(e?` (${e.message})`:\"\"));throw n.context=e,n}const i=r[e];if(void 0===i)return!1;if(\"function\"==typeof i)es(i,this,t);else{const e=i.length,n=function(e){const t=e.length,n=new Array(t);for(let r=0;r<t;r+=1)n[r]=e[r];return n}(i);for(let r=0;r<e;r+=1)es(n[r],this,t)}return!0}}var ns,rs,is=function e(t,n){if(t===n)return!0;if(t&&n&&\"object\"==typeof t&&\"object\"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!=i--;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!=t&&n!=n},os=h(is),ss=class e extends ts{constructor({logger:t=console,maxEventListeners:n=100,rpcMiddleware:r=[]}={}){super(),Qo(this,ns,void 0),Qo(this,rs,void 0),this._log=t,this.setMaxListeners(n),this._state={...e._defaultState},Xo(this,rs,null),Xo(this,ns,null),this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleConnect=this._handleConnect.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this.request=this.request.bind(this);const i=new jo;r.forEach((e=>i.push(e))),this._rpcEngine=i}get chainId(){return Jo(this,ns)}get selectedAddress(){return Jo(this,rs)}isConnected(){return this._state.isConnected}async request(e){if(!e||\"object\"!=typeof e||Array.isArray(e))throw ho({message:$r.errors.invalidRequestArgs(),data:e});const{method:t,params:n}=e;if(\"string\"!=typeof t||0===t.length)throw ho({message:$r.errors.invalidRequestMethod(),data:e});if(void 0!==n&&!Array.isArray(n)&&(\"object\"!=typeof n||null===n))throw ho({message:$r.errors.invalidRequestParams(),data:e});const r=null==n?{method:t}:{method:t,params:n};return new Promise(((e,t)=>{this._rpcRequest(r,Fo(e,t))}))}_initializeState(e){if(this._state.initialized)throw new Error(\"Provider already initialized.\");if(e){const{accounts:t,chainId:n,isUnlocked:r,networkVersion:i}=e;this._handleConnect(n),this._handleChainChanged({chainId:n,networkVersion:i}),this._handleUnlockStateChanged({accounts:t,isUnlocked:r}),this._handleAccountsChanged(t)}this._state.initialized=!0,this.emit(\"_initialized\")}_rpcRequest(e,t){let n=t;return Array.isArray(e)||(e.jsonrpc||(e.jsonrpc=\"2.0\"),\"eth_accounts\"!==e.method&&\"eth_requestAccounts\"!==e.method||(n=(n,r)=>{this._handleAccountsChanged(r.result??[],\"eth_accounts\"===e.method),t(n,r)})),this._rpcEngine.handle(e,n)}_handleConnect(e){this._state.isConnected||(this._state.isConnected=!0,this.emit(\"connect\",{chainId:e}),this._log.debug($r.info.connected(e)))}_handleDisconnect(e,t){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e){let n;this._state.isConnected=!1,e?(n=new lo(1013,t??$r.errors.disconnected()),this._log.debug(n)):(n=new lo(1011,t??$r.errors.permanentlyDisconnected()),this._log.error(n),Xo(this,ns,null),this._state.accounts=null,Xo(this,rs,null),this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit(\"disconnect\",n)}}_handleChainChanged({chainId:e}={}){qo(e)?(this._handleConnect(e),e!==Jo(this,ns)&&(Xo(this,ns,e),this._state.initialized&&this.emit(\"chainChanged\",Jo(this,ns)))):this._log.error($r.errors.invalidNetworkParams(),{chainId:e})}_handleAccountsChanged(e,t=!1){let n=e;Array.isArray(e)||(this._log.error(\"MetaMask: Received invalid accounts parameter. Please report this bug.\",e),n=[]);for(const t of e)if(\"string\"!=typeof t){this._log.error(\"MetaMask: Received non-string account. Please report this bug.\",e),n=[];break}if(!os(this._state.accounts,n)&&(t&&null!==this._state.accounts&&this._log.error(\"MetaMask: 'eth_accounts' unexpectedly updated accounts. Please report this bug.\",n),this._state.accounts=n,Jo(this,rs)!==n[0]&&Xo(this,rs,n[0]||null),this._state.initialized)){const e=[...n];this.emit(\"accountsChanged\",e)}}_handleUnlockStateChanged({accounts:e,isUnlocked:t}={}){\"boolean\"==typeof t?t!==this._state.isUnlocked&&(this._state.isUnlocked=t,this._handleAccountsChanged(e??[])):this._log.error(\"MetaMask: Received invalid isUnlocked parameter. Please report this bug.\")}};ns=new WeakMap,rs=new WeakMap,ss._defaultState={accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1};var as,cs,ds,ls,us,hs,fs=ss,ps={exports:{}};function ms(){return cs?as:(cs=1,as=c)}function gs(){if(ls)return ds;function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function t(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?e(Object(i),!0).forEach((function(e){r(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function r(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}(e.prototype,t),Object.defineProperty(e,\"prototype\",{writable:!1}),e}function o(e){var t=function(e,t){if(\"object\"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||\"default\");if(\"object\"!=typeof r)return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(e,\"string\");return\"symbol\"==typeof t?t:String(t)}ls=1;var s=n.Buffer,a=d.inspect,c=a&&a.custom||\"inspect\";return ds=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.head=null,this.tail=null,this.length=0}return i(e,[{key:\"push\",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:\"unshift\",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:\"shift\",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:\"clear\",value:function(){this.head=this.tail=null,this.length=0}},{key:\"join\",value:function(e){if(0===this.length)return\"\";for(var t=this.head,n=\"\"+t.data;t=t.next;)n+=e+t.data;return n}},{key:\"concat\",value:function(e){if(0===this.length)return s.alloc(0);for(var t,n,r,i=s.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,n=i,r=a,s.prototype.copy.call(t,n,r),a+=o.data.length,o=o.next;return i}},{key:\"consume\",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:\"first\",value:function(){return this.head.data}},{key:\"_getString\",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?r+=i:r+=i.slice(0,e),0===(e-=o)){o===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++n}return this.length-=n,r}},{key:\"_getBuffer\",value:function(e){var t=s.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0===(e-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,t}},{key:c,value:function(e,n){return a(this,t(t({},n),{},{depth:0,customInspect:!1}))}}]),e}(),ds}function vs(){if(hs)return us;function e(e,r){n(e,r),t(e)}function t(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit(\"close\")}function n(e,t){e.emit(\"error\",t)}return hs=1,us={destroy:function(r,i){var o=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?(i?i(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(n,this,r)):process.nextTick(n,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,(function(n){!i&&n?o._writableState?o._writableState.errorEmitted?process.nextTick(t,o):(o._writableState.errorEmitted=!0,process.nextTick(e,o,n)):process.nextTick(e,o,n):i?(process.nextTick(t,o),i(n)):process.nextTick(t,o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit(\"error\",t)}},us}var ys,Es,bs,ws={};function Ss(){if(ys)return ws;ys=1;const e={};function t(t,n,r){r||(r=Error);class i extends r{constructor(e,t,r){super(function(e,t,r){return\"string\"==typeof n?n:n(e,t,r)}(e,t,r))}}i.prototype.name=r.name,i.prototype.code=t,e[t]=i}function n(e,t){if(Array.isArray(e)){const n=e.length;return e=e.map((e=>String(e))),n>2?`one of ${t} ${e.slice(0,n-1).join(\", \")}, or `+e[n-1]:2===n?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}return t(\"ERR_INVALID_OPT_VALUE\",(function(e,t){return'The value \"'+t+'\" is invalid for option \"'+e+'\"'}),TypeError),t(\"ERR_INVALID_ARG_TYPE\",(function(e,t,r){let i;var o;let s;if(\"string\"==typeof t&&(o=\"not \",t.substr(0,o.length)===o)?(i=\"must not be\",t=t.replace(/^not /,\"\")):i=\"must be\",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e,\" argument\"))s=`The ${e} ${i} ${n(t,\"type\")}`;else{const r=function(e,t,n){return\"number\"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,\".\")?\"property\":\"argument\";s=`The \"${e}\" ${r} ${i} ${n(t,\"type\")}`}return s+=\". Received type \"+typeof r,s}),TypeError),t(\"ERR_STREAM_PUSH_AFTER_EOF\",\"stream.push() after EOF\"),t(\"ERR_METHOD_NOT_IMPLEMENTED\",(function(e){return\"The \"+e+\" method is not implemented\"})),t(\"ERR_STREAM_PREMATURE_CLOSE\",\"Premature close\"),t(\"ERR_STREAM_DESTROYED\",(function(e){return\"Cannot call \"+e+\" after a stream was destroyed\"})),t(\"ERR_MULTIPLE_CALLBACK\",\"Callback called multiple times\"),t(\"ERR_STREAM_CANNOT_PIPE\",\"Cannot pipe, not readable\"),t(\"ERR_STREAM_WRITE_AFTER_END\",\"write after end\"),t(\"ERR_STREAM_NULL_VALUES\",\"May not write null values to stream\",TypeError),t(\"ERR_UNKNOWN_ENCODING\",(function(e){return\"Unknown encoding: \"+e}),TypeError),t(\"ERR_STREAM_UNSHIFT_AFTER_END_EVENT\",\"stream.unshift() after end event\"),ws.codes=e,ws}function _s(){if(bs)return Es;bs=1;var e=Ss().codes.ERR_INVALID_OPT_VALUE;return Es={getHighWaterMark:function(t,n,r,i){var o=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(n,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new e(i?r:\"highWaterMark\",o);return Math.floor(o)}return t.objectMode?16:16384}}}var Cs,xs,ks,Ms,As,Ts,Is,Ps,Rs={exports:{}},Os={exports:{}};function Ns(){if(xs)return Rs.exports;xs=1;try{var e=__webpack_require__(/*! util */ \"util\");if(\"function\"!=typeof e.inherits)throw\"\";Rs.exports=e.inherits}catch(e){Rs.exports=(Cs||(Cs=1,\"function\"==typeof Object.create?Os.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Os.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}),Os.exports)}return Rs.exports}function Ds(){if(Ts)return As;function e(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var t;Ts=1,As=C,C.WritableState=_;var r={deprecate:Ms?ks:(Ms=1,ks=d.deprecate)},i=ms(),o=n.Buffer,s=(void 0!==u?u:\"undefined\"!=typeof window?window:\"undefined\"!=typeof self?self:{}).Uint8Array||function(){};var a,c=vs(),l=_s().getHighWaterMark,h=Ss().codes,f=h.ERR_INVALID_ARG_TYPE,p=h.ERR_METHOD_NOT_IMPLEMENTED,m=h.ERR_MULTIPLE_CALLBACK,g=h.ERR_STREAM_CANNOT_PIPE,v=h.ERR_STREAM_DESTROYED,y=h.ERR_STREAM_NULL_VALUES,E=h.ERR_STREAM_WRITE_AFTER_END,b=h.ERR_UNKNOWN_ENCODING,w=c.errorOrDestroy;function S(){}function _(n,r,i){t=t||Ls(),n=n||{},\"boolean\"!=typeof i&&(i=r instanceof t),this.objectMode=!!n.objectMode,i&&(this.objectMode=this.objectMode||!!n.writableObjectMode),this.highWaterMark=l(this,n,\"writableHighWaterMark\",i),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===n.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=n.defaultEncoding||\"utf8\",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(\"function\"!=typeof i)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(process.nextTick(i,r),process.nextTick(I,e,t),e._writableState.errorEmitted=!0,w(e,r)):(i(r),e._writableState.errorEmitted=!0,w(e,r),I(e,t))}(e,n,r,t,i);else{var o=A(n)||e.destroyed;o||n.corked||n.bufferProcessing||!n.bufferedRequest||M(e,n),r?process.nextTick(k,e,n,o,i):k(e,n,o,i)}}(r,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==n.emitClose,this.autoDestroy=!!n.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}function C(e){var n=this instanceof(t=t||Ls());if(!n&&!a.call(C,this))return new C(e);this._writableState=new _(e,this,n),this.writable=!0,e&&(\"function\"==typeof e.write&&(this._write=e.write),\"function\"==typeof e.writev&&(this._writev=e.writev),\"function\"==typeof e.destroy&&(this._destroy=e.destroy),\"function\"==typeof e.final&&(this._final=e.final)),i.call(this)}function x(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new v(\"write\")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function k(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit(\"drain\"))}(e,t),t.pendingcb--,r(),I(e,t)}function M(t,n){n.bufferProcessing=!0;var r=n.bufferedRequest;if(t._writev&&r&&r.next){var i=n.bufferedRequestCount,o=new Array(i),s=n.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)o[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;o.allBuffers=c,x(t,n,!0,n.length,o,\"\",s.finish),n.pendingcb++,n.lastBufferedRequest=null,s.next?(n.corkedRequestsFree=s.next,s.next=null):n.corkedRequestsFree=new e(n),n.bufferedRequestCount=0}else{for(;r;){var d=r.chunk,l=r.encoding,u=r.callback;if(x(t,n,!1,n.objectMode?1:d.length,d,l,u),r=r.next,n.bufferedRequestCount--,n.writing)break}null===r&&(n.lastBufferedRequest=null)}n.bufferedRequest=r,n.bufferProcessing=!1}function A(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function T(e,t){e._final((function(n){t.pendingcb--,n&&w(e,n),t.prefinished=!0,e.emit(\"prefinish\"),I(e,t)}))}function I(e,t){var n=A(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||(\"function\"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit(\"prefinish\")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(T,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit(\"finish\"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}return Ns()(C,i),_.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(_.prototype,\"buffer\",{get:r.deprecate((function(){return this.getBuffer()}),\"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.\",\"DEP0003\")})}catch(e){}}(),\"function\"==typeof Symbol&&Symbol.hasInstance&&\"function\"==typeof Function.prototype[Symbol.hasInstance]?(a=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(e){return!!a.call(this,e)||this===C&&(e&&e._writableState instanceof _)}})):a=function(e){return e instanceof this},C.prototype.pipe=function(){w(this,new g)},C.prototype.write=function(e,t,n){var r,i=this._writableState,a=!1,c=!i.objectMode&&(r=e,o.isBuffer(r)||r instanceof s);return c&&!o.isBuffer(e)&&(e=function(e){return o.from(e)}(e)),\"function\"==typeof t&&(n=t,t=null),c?t=\"buffer\":t||(t=i.defaultEncoding),\"function\"!=typeof n&&(n=S),i.ending?function(e,t){var n=new E;w(e,n),process.nextTick(t,n)}(this,n):(c||function(e,t,n,r){var i;return null===n?i=new y:\"string\"==typeof n||t.objectMode||(i=new f(\"chunk\",[\"string\",\"Buffer\"],n)),!i||(w(e,i),process.nextTick(r,i),!1)}(this,i,e,n))&&(i.pendingcb++,a=function(e,t,n,r,i,s){if(!n){var a=function(e,t,n){e.objectMode||!1===e.decodeStrings||\"string\"!=typeof t||(t=o.from(t,n));return t}(t,r,i);r!==a&&(n=!0,i=\"buffer\",r=a)}var c=t.objectMode?1:r.length;t.length+=c;var d=t.length<t.highWaterMark;d||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:s,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else x(e,t,!1,c,r,i,s);return d}(this,i,c,e,t,n)),a},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||M(this,e))},C.prototype.setDefaultEncoding=function(e){if(\"string\"==typeof e&&(e=e.toLowerCase()),!([\"hex\",\"utf8\",\"utf-8\",\"ascii\",\"binary\",\"base64\",\"ucs2\",\"ucs-2\",\"utf16le\",\"utf-16le\",\"raw\"].indexOf((e+\"\").toLowerCase())>-1))throw new b(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(C.prototype,\"writableBuffer\",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,\"writableHighWaterMark\",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(e,t,n){n(new p(\"_write()\"))},C.prototype._writev=null,C.prototype.end=function(e,t,n){var r=this._writableState;return\"function\"==typeof e?(n=e,e=null,t=null):\"function\"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||function(e,t,n){t.ending=!0,I(e,t),n&&(t.finished?process.nextTick(n):e.once(\"finish\",n));t.ended=!0,e.writable=!1}(this,r,n),this},Object.defineProperty(C.prototype,\"writableLength\",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,\"destroyed\",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),C.prototype.destroy=c.destroy,C.prototype._undestroy=c.undestroy,C.prototype._destroy=function(e,t){t(e)},As}function Ls(){if(Ps)return Is;Ps=1;var e=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};Is=s;var t=oa(),n=Ds();Ns()(s,t);for(var r=e(n.prototype),i=0;i<r.length;i++){var o=r[i];s.prototype[o]||(s.prototype[o]=n.prototype[o])}function s(e){if(!(this instanceof s))return new s(e);t.call(this,e),n.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once(\"end\",a)))}function a(){this._writableState.ended||process.nextTick(c,this)}function c(e){e.end()}return Object.defineProperty(s.prototype,\"writableHighWaterMark\",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,\"writableBuffer\",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,\"writableLength\",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(s.prototype,\"destroyed\",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),Is}var Bs,Ks,js,$s,Hs,Us,Fs,qs,zs,Ws,Vs,Gs,Ys,Zs,Js,Qs,Xs={},ea={exports:{}};function ta(){if(Ks)return Xs;Ks=1;var e=(Bs||(Bs=1,function(e,t){var r=n,i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,n){if(\"number\"==typeof e)throw new TypeError(\"Argument must not be a number\");return i(e,t,n)},s.alloc=function(e,t,n){if(\"number\"!=typeof e)throw new TypeError(\"Argument must be a number\");var r=i(e);return void 0!==t?\"string\"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if(\"number\"!=typeof e)throw new TypeError(\"Argument must be a number\");return i(e)},s.allocUnsafeSlow=function(e){if(\"number\"!=typeof e)throw new TypeError(\"Argument must be a number\");return r.SlowBuffer(e)}}(ea,ea.exports)),ea.exports).Buffer,t=e.isEncoding||function(e){switch((e=\"\"+e)&&e.toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":case\"raw\":return!0;default:return!1}};function r(n){var r;switch(this.encoding=function(n){var r=function(e){if(!e)return\"utf8\";for(var t;;)switch(e){case\"utf8\":case\"utf-8\":return\"utf8\";case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return\"utf16le\";case\"latin1\":case\"binary\":return\"latin1\";case\"base64\":case\"ascii\":case\"hex\":return e;default:if(t)return;e=(\"\"+e).toLowerCase(),t=!0}}(n);if(\"string\"!=typeof r&&(e.isEncoding===t||!t(n)))throw new Error(\"Unknown encoding: \"+n);return r||n}(n),this.encoding){case\"utf16le\":this.text=s,this.end=a,r=4;break;case\"utf8\":this.fillLast=o,r=4;break;case\"base64\":this.text=c,this.end=d,r=3;break;default:return this.write=l,void(this.end=u)}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(r)}function i(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function o(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,\"�\";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,\"�\";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,\"�\"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function s(e,t){if((e.length-t)%2==0){var n=e.toString(\"utf16le\",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString(\"utf16le\",t,e.length-1)}function a(e){var t=e&&e.length?this.write(e):\"\";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString(\"utf16le\",0,n)}return t}function c(e,t){var n=(e.length-t)%3;return 0===n?e.toString(\"base64\",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString(\"base64\",t,e.length-n))}function d(e){var t=e&&e.length?this.write(e):\"\";return this.lastNeed?t+this.lastChar.toString(\"base64\",0,3-this.lastNeed):t}function l(e){return e.toString(this.encoding)}function u(e){return e&&e.length?this.write(e):\"\"}return Xs.StringDecoder=r,r.prototype.write=function(e){if(0===e.length)return\"\";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return\"\";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||\"\"},r.prototype.end=function(e){var t=e&&e.length?this.write(e):\"\";return this.lastNeed?t+\"�\":t},r.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var o=i(t[r]);if(o>=0)return o>0&&(e.lastNeed=o-1),o;if(--r<n||-2===o)return 0;if(o=i(t[r]),o>=0)return o>0&&(e.lastNeed=o-2),o;if(--r<n||-2===o)return 0;if(o=i(t[r]),o>=0)return o>0&&(2===o?o=0:e.lastNeed=o-3),o;return 0}(this,e,t);if(!this.lastNeed)return e.toString(\"utf8\",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString(\"utf8\",t,r)},r.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length},Xs}function na(){if($s)return js;$s=1;var e=Ss().codes.ERR_STREAM_PREMATURE_CLOSE;function t(){}return js=function n(r,i,o){if(\"function\"==typeof i)return n(r,null,i);i||(i={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(o||t);var s=i.readable||!1!==i.readable&&r.readable,a=i.writable||!1!==i.writable&&r.writable,c=function(){r.writable||l()},d=r._writableState&&r._writableState.finished,l=function(){a=!1,d=!0,s||o.call(r)},u=r._readableState&&r._readableState.endEmitted,h=function(){s=!1,u=!0,a||o.call(r)},f=function(e){o.call(r,e)},p=function(){var t;return s&&!u?(r._readableState&&r._readableState.ended||(t=new e),o.call(r,t)):a&&!d?(r._writableState&&r._writableState.ended||(t=new e),o.call(r,t)):void 0},m=function(){r.req.on(\"finish\",l)};return!function(e){return e.setHeader&&\"function\"==typeof e.abort}(r)?a&&!r._writableState&&(r.on(\"end\",c),r.on(\"close\",c)):(r.on(\"complete\",l),r.on(\"abort\",p),r.req?m():r.on(\"request\",m)),r.on(\"end\",h),r.on(\"finish\",l),!1!==i.error&&r.on(\"error\",f),r.on(\"close\",p),function(){r.removeListener(\"complete\",l),r.removeListener(\"abort\",p),r.removeListener(\"request\",m),r.req&&r.req.removeListener(\"finish\",l),r.removeListener(\"end\",c),r.removeListener(\"close\",c),r.removeListener(\"finish\",l),r.removeListener(\"end\",h),r.removeListener(\"error\",f),r.removeListener(\"close\",p)}},js}function ra(){if(Us)return Hs;var e;function t(e,t,n){return(t=function(e){var t=function(e,t){if(\"object\"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||\"default\");if(\"object\"!=typeof r)return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(e,\"string\");return\"symbol\"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Us=1;var n=na(),r=Symbol(\"lastResolve\"),i=Symbol(\"lastReject\"),o=Symbol(\"error\"),s=Symbol(\"ended\"),a=Symbol(\"lastPromise\"),c=Symbol(\"handlePromise\"),d=Symbol(\"stream\");function l(e,t){return{value:e,done:t}}function u(e){var t=e[r];if(null!==t){var n=e[d].read();null!==n&&(e[a]=null,e[r]=null,e[i]=null,t(l(n,!1)))}}function h(e){process.nextTick(u,e)}var f=Object.getPrototypeOf((function(){})),p=Object.setPrototypeOf((t(e={get stream(){return this[d]},next:function(){var e=this,t=this[o];if(null!==t)return Promise.reject(t);if(this[s])return Promise.resolve(l(void 0,!0));if(this[d].destroyed)return new Promise((function(t,n){process.nextTick((function(){e[o]?n(e[o]):t(l(void 0,!0))}))}));var n,r=this[a];if(r)n=new Promise(function(e,t){return function(n,r){e.then((function(){t[s]?n(l(void 0,!0)):t[c](n,r)}),r)}}(r,this));else{var i=this[d].read();if(null!==i)return Promise.resolve(l(i,!1));n=new Promise(this[c])}return this[a]=n,n}},Symbol.asyncIterator,(function(){return this})),t(e,\"return\",(function(){var e=this;return new Promise((function(t,n){e[d].destroy(null,(function(e){e?n(e):t(l(void 0,!0))}))}))})),e),f);return Hs=function(e){var u,f=Object.create(p,(t(u={},d,{value:e,writable:!0}),t(u,r,{value:null,writable:!0}),t(u,i,{value:null,writable:!0}),t(u,o,{value:null,writable:!0}),t(u,s,{value:e._readableState.endEmitted,writable:!0}),t(u,c,{value:function(e,t){var n=f[d].read();n?(f[a]=null,f[r]=null,f[i]=null,e(l(n,!1))):(f[r]=e,f[i]=t)},writable:!0}),u));return f[a]=null,n(e,(function(e){if(e&&\"ERR_STREAM_PREMATURE_CLOSE\"!==e.code){var t=f[i];return null!==t&&(f[a]=null,f[r]=null,f[i]=null,t(e)),void(f[o]=e)}var n=f[r];null!==n&&(f[a]=null,f[r]=null,f[i]=null,n(l(void 0,!0))),f[s]=!0})),e.on(\"readable\",h.bind(null,f)),f},Hs}function ia(){if(qs)return Fs;function e(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,i)}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function n(e,t,n){return(t=function(e){var t=function(e,t){if(\"object\"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||\"default\");if(\"object\"!=typeof r)return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(e,\"string\");return\"symbol\"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}qs=1;var r=Ss().codes.ERR_INVALID_ARG_TYPE;return Fs=function(i,o,s){var a;if(o&&\"function\"==typeof o.next)a=o;else if(o&&o[Symbol.asyncIterator])a=o[Symbol.asyncIterator]();else{if(!o||!o[Symbol.iterator])throw new r(\"iterable\",[\"Iterable\"],o);a=o[Symbol.iterator]()}var c=new i(function(e){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?t(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({objectMode:!0},s)),d=!1;function l(){return u.apply(this,arguments)}function u(){var t;return t=function*(){try{var e=yield a.next(),t=e.value;e.done?c.push(null):c.push(yield t)?l():d=!1}catch(e){c.destroy(e)}},u=function(){var n=this,r=arguments;return new Promise((function(i,o){var s=t.apply(n,r);function a(t){e(s,i,o,a,c,\"next\",t)}function c(t){e(s,i,o,a,c,\"throw\",t)}a(void 0)}))},u.apply(this,arguments)}return c._read=function(){d||(d=!0,l())},c},Fs}function oa(){if(Ws)return zs;var e;Ws=1,zs=x,x.ReadableState=C,a.EventEmitter;var t=function(e,t){return e.listeners(t).length},r=ms(),i=n.Buffer,o=(void 0!==u?u:\"undefined\"!=typeof window?window:\"undefined\"!=typeof self?self:{}).Uint8Array||function(){};var s,c=d;s=c&&c.debuglog?c.debuglog(\"stream\"):function(){};var l,h,f,p=gs(),m=vs(),g=_s().getHighWaterMark,v=Ss().codes,y=v.ERR_INVALID_ARG_TYPE,E=v.ERR_STREAM_PUSH_AFTER_EOF,b=v.ERR_METHOD_NOT_IMPLEMENTED,w=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;Ns()(x,r);var S=m.errorOrDestroy,_=[\"error\",\"close\",\"destroy\",\"pause\",\"resume\"];function C(t,n,r){e=e||Ls(),t=t||{},\"boolean\"!=typeof r&&(r=n instanceof e),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=g(this,t,\"readableHighWaterMark\",r),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||\"utf8\",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(l||(l=ta().StringDecoder),this.decoder=new l(t.encoding),this.encoding=t.encoding)}function x(t){if(e=e||Ls(),!(this instanceof x))return new x(t);var n=this instanceof e;this._readableState=new C(t,this,n),this.readable=!0,t&&(\"function\"==typeof t.read&&(this._read=t.read),\"function\"==typeof t.destroy&&(this._destroy=t.destroy)),r.call(this)}function k(e,t,n,r,a){s(\"readableAddChunk\",t);var c,d=e._readableState;if(null===t)d.reading=!1,function(e,t){if(s(\"onEofChunk\"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?I(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,P(e)))}(e,d);else if(a||(c=function(e,t){var n;r=t,i.isBuffer(r)||r instanceof o||\"string\"==typeof t||void 0===t||e.objectMode||(n=new y(\"chunk\",[\"string\",\"Buffer\",\"Uint8Array\"],t));var r;return n}(d,t)),c)S(e,c);else if(d.objectMode||t&&t.length>0)if(\"string\"==typeof t||d.objectMode||Object.getPrototypeOf(t)===i.prototype||(t=function(e){return i.from(e)}(t)),r)d.endEmitted?S(e,new w):M(e,d,t,!0);else if(d.ended)S(e,new E);else{if(d.destroyed)return!1;d.reading=!1,d.decoder&&!n?(t=d.decoder.write(t),d.objectMode||0!==t.length?M(e,d,t,!1):R(e,d)):M(e,d,t,!1)}else r||(d.reading=!1,R(e,d));return!d.ended&&(d.length<d.highWaterMark||0===d.length)}function M(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit(\"data\",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&I(e)),R(e,t)}Object.defineProperty(x.prototype,\"destroyed\",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),x.prototype.destroy=m.destroy,x.prototype._undestroy=m.undestroy,x.prototype._destroy=function(e,t){t(e)},x.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:\"string\"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=i.from(e,t),t=\"\"),n=!0),k(this,e,t,!1,n)},x.prototype.unshift=function(e){return k(this,e,null,!0,!1)},x.prototype.isPaused=function(){return!1===this._readableState.flowing},x.prototype.setEncoding=function(e){l||(l=ta().StringDecoder);var t=new l(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,r=\"\";null!==n;)r+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),\"\"!==r&&this._readableState.buffer.push(r),this._readableState.length=r.length,this};var A=1073741824;function T(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=A?e=A:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function I(e){var t=e._readableState;s(\"emitReadable\",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(s(\"emitReadable\",t.flowing),t.emittedReadable=!0,process.nextTick(P,e))}function P(e){var t=e._readableState;s(\"emitReadable_\",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit(\"readable\"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,B(e)}function R(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(O,e,t))}function O(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(s(\"maybeReadMore read 0\"),e.read(0),n===t.length)break}t.readingMore=!1}function N(e){var t=e._readableState;t.readableListening=e.listenerCount(\"readable\")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount(\"data\")>0&&e.resume()}function D(e){s(\"readable nexttick read 0\"),e.read(0)}function L(e,t){s(\"resume\",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit(\"resume\"),B(e),t.flowing&&!t.reading&&e.read(0)}function B(e){var t=e._readableState;for(s(\"flow\",t.flowing);t.flowing&&null!==e.read(););}function K(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(\"\"):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function j(e){var t=e._readableState;s(\"endReadable\",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick($,t,e))}function $(e,t){if(s(\"endReadableNT\",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit(\"end\"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function H(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}return x.prototype.read=function(e){s(\"read\",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return s(\"read: emitReadable\",t.length,t.ended),0===t.length&&t.ended?j(this):I(this),null;if(0===(e=T(e,t))&&t.ended)return 0===t.length&&j(this),null;var r,i=t.needReadable;return s(\"need readable\",i),(0===t.length||t.length-e<t.highWaterMark)&&s(\"length less than watermark\",i=!0),t.ended||t.reading?s(\"reading or ended\",i=!1):i&&(s(\"do read\"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=T(n,t))),null===(r=e>0?K(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&j(this)),null!==r&&this.emit(\"data\",r),r},x.prototype._read=function(e){S(this,new b(\"_read()\"))},x.prototype.pipe=function(e,n){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,s(\"pipe count=%d opts=%j\",i.pipesCount,n);var o=(!n||!1!==n.end)&&e!==process.stdout&&e!==process.stderr?c:m;function a(t,n){s(\"onunpipe\"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,s(\"cleanup\"),e.removeListener(\"close\",f),e.removeListener(\"finish\",p),e.removeListener(\"drain\",d),e.removeListener(\"error\",h),e.removeListener(\"unpipe\",a),r.removeListener(\"end\",c),r.removeListener(\"end\",m),r.removeListener(\"data\",u),l=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||d())}function c(){s(\"onend\"),e.end()}i.endEmitted?process.nextTick(o):r.once(\"end\",o),e.on(\"unpipe\",a);var d=function(e){return function(){var n=e._readableState;s(\"pipeOnDrain\",n.awaitDrain),n.awaitDrain&&n.awaitDrain--,0===n.awaitDrain&&t(e,\"data\")&&(n.flowing=!0,B(e))}}(r);e.on(\"drain\",d);var l=!1;function u(t){s(\"ondata\");var n=e.write(t);s(\"dest.write\",n),!1===n&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==H(i.pipes,e))&&!l&&(s(\"false write response, pause\",i.awaitDrain),i.awaitDrain++),r.pause())}function h(n){s(\"onerror\",n),m(),e.removeListener(\"error\",h),0===t(e,\"error\")&&S(e,n)}function f(){e.removeListener(\"finish\",p),m()}function p(){s(\"onfinish\"),e.removeListener(\"close\",f),m()}function m(){s(\"unpipe\"),r.unpipe(e)}return r.on(\"data\",u),function(e,t,n){if(\"function\"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,\"error\",h),e.once(\"close\",f),e.once(\"finish\",p),e.emit(\"pipe\",r),i.flowing||(s(\"pipe resume\"),r.resume()),e},x.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit(\"unpipe\",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit(\"unpipe\",this,{hasUnpiped:!1});return this}var s=H(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit(\"unpipe\",this,n)),this},x.prototype.on=function(e,t){var n=r.prototype.on.call(this,e,t),i=this._readableState;return\"data\"===e?(i.readableListening=this.listenerCount(\"readable\")>0,!1!==i.flowing&&this.resume()):\"readable\"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,s(\"on readable\",i.length,i.reading),i.length?I(this):i.reading||process.nextTick(D,this))),n},x.prototype.addListener=x.prototype.on,x.prototype.removeListener=function(e,t){var n=r.prototype.removeListener.call(this,e,t);return\"readable\"===e&&process.nextTick(N,this),n},x.prototype.removeAllListeners=function(e){var t=r.prototype.removeAllListeners.apply(this,arguments);return\"readable\"!==e&&void 0!==e||process.nextTick(N,this),t},x.prototype.resume=function(){var e=this._readableState;return e.flowing||(s(\"resume\"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(L,e,t))}(this,e)),e.paused=!1,this},x.prototype.pause=function(){return s(\"call pause flowing=%j\",this._readableState.flowing),!1!==this._readableState.flowing&&(s(\"pause\"),this._readableState.flowing=!1,this.emit(\"pause\")),this._readableState.paused=!0,this},x.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on(\"end\",(function(){if(s(\"wrapped end\"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on(\"data\",(function(i){(s(\"wrapped data\"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&\"function\"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<_.length;o++)e.on(_[o],this.emit.bind(this,_[o]));return this._read=function(t){s(\"wrapped _read\",t),r&&(r=!1,e.resume())},this},\"function\"==typeof Symbol&&(x.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=ra()),h(this)}),Object.defineProperty(x.prototype,\"readableHighWaterMark\",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(x.prototype,\"readableBuffer\",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(x.prototype,\"readableFlowing\",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),x._fromList=K,Object.defineProperty(x.prototype,\"readableLength\",{enumerable:!1,get:function(){return this._readableState.length}}),\"function\"==typeof Symbol&&(x.from=function(e,t){return void 0===f&&(f=ia()),f(x,e,t)}),zs}function sa(){if(Gs)return Vs;Gs=1,Vs=a;var e=Ss().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,n=e.ERR_MULTIPLE_CALLBACK,r=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=e.ERR_TRANSFORM_WITH_LENGTH_0,o=Ls();function s(e,t){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(null===i)return this.emit(\"error\",new n);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),i(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);o.call(this,e),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(\"function\"==typeof e.transform&&(this._transform=e.transform),\"function\"==typeof e.flush&&(this._flush=e.flush)),this.on(\"prefinish\",c)}function c(){var e=this;\"function\"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,n){d(e,t,n)}))}function d(e,t,n){if(t)return e.emit(\"error\",t);if(null!=n&&e.push(n),e._writableState.length)throw new i;if(e._transformState.transforming)throw new r;return e.push(null)}return Ns()(a,o),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,o.prototype.push.call(this,e,t)},a.prototype._transform=function(e,n,r){r(new t(\"_transform()\"))},a.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},a.prototype._destroy=function(e,t){o.prototype._destroy.call(this,e,(function(e){t(e)}))},Vs}function aa(){if(Qs)return Js;var e;Qs=1;var t=Ss().codes,n=t.ERR_MISSING_ARGS,r=t.ERR_STREAM_DESTROYED;function i(e){if(e)throw e}function o(e){e()}function s(e,t){return e.pipe(t)}return Js=function(){for(var t=arguments.length,a=new Array(t),c=0;c<t;c++)a[c]=arguments[c];var d,l=function(e){return e.length?\"function\"!=typeof e[e.length-1]?i:e.pop():i}(a);if(Array.isArray(a[0])&&(a=a[0]),a.length<2)throw new n(\"streams\");var u=a.map((function(t,n){var i=n<a.length-1;return function(t,n,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;t.on(\"close\",(function(){s=!0})),void 0===e&&(e=na()),e(t,{readable:n,writable:i},(function(e){if(e)return o(e);s=!0,o()}));var a=!1;return function(e){if(!s&&!a)return a=!0,function(e){return e.setHeader&&\"function\"==typeof e.abort}(t)?t.abort():\"function\"==typeof t.destroy?t.destroy():void o(e||new r(\"pipe\"))}}(t,i,n>0,(function(e){d||(d=e),e&&u.forEach(o),i||(u.forEach(o),l(d))}))}));return a.reduce(s)},Js}!function(e,t){var n=c;\"disable\"===process.env.READABLE_STREAM&&n?(e.exports=n.Readable,Object.assign(e.exports,n),e.exports.Stream=n):((t=e.exports=oa()).Stream=n||t,t.Readable=t,t.Writable=Ds(),t.Duplex=Ls(),t.Transform=sa(),t.PassThrough=function(){if(Zs)return Ys;Zs=1,Ys=t;var e=sa();function t(n){if(!(this instanceof t))return new t(n);e.call(this,n)}return Ns()(t,e),t.prototype._transform=function(e,t,n){n(null,e)},Ys}(),t.finished=na(),t.pipeline=aa())}(ps,ps.exports);var ca=ps.exports;function da(e={}){const t={},n=new ca.Duplex({objectMode:!0,read:()=>{},write:function(n,o,s){let a=null;try{!n.id?function(n){e?.retryOnMessage&&n.method===e.retryOnMessage&&Object.values(t).forEach((({req:e,retryCount:n=0})=>{if(!e.id)return;if(n>=3)throw new Error(`StreamMiddleware - Retry limit exceeded for request id \"${e.id}\"`);const r=t[e.id];r&&(r.retryCount=n+1),i(e)}));r.emit(\"notification\",n)}(n):function(e){const{id:n}=e;if(null===n)return;const r=t[n];if(!r)return void console.warn(`StreamMiddleware - Unknown response id \"${n}\"`);delete t[n],Object.assign(r.res,e),setTimeout(r.end)}(n)}catch(e){a=e}s(a)}}),r=new Bo;return{events:r,middleware:(e,n,r,o)=>{t[e.id]={req:e,res:n,next:r,end:o},i(e)},stream:n};function i(e){n.push(e)}}var la={},ua={exports:{}},ha=function e(t,n){if(t&&n)return e(t)(n);if(\"function\"!=typeof t)throw new TypeError(\"need wrapper function\");return Object.keys(t).forEach((function(e){r[e]=t[e]})),r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),i=e[e.length-1];return\"function\"==typeof r&&r!==i&&Object.keys(i).forEach((function(e){r[e]=i[e]})),r}};var fa=ha;function pa(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function ma(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||\"Function wrapped with `once`\";return t.onceError=n+\" shouldn't be called more than once\",t.called=!1,t}ua.exports=fa(pa),ua.exports.strict=fa(ma),pa.proto=pa((function(){Object.defineProperty(Function.prototype,\"once\",{value:function(){return pa(this)},configurable:!0}),Object.defineProperty(Function.prototype,\"onceStrict\",{value:function(){return ma(this)},configurable:!0})}));var ga=ua.exports,va={};Object.defineProperty(va,\"__esModule\",{value:!0}),va.Substream=void 0;const ya=ca;class Ea extends ya.Duplex{constructor({parent:e,name:t}){super({objectMode:!0}),this._parent=e,this._name=t}_read(){}_write(e,t,n){this._parent.push({name:this._name,data:e}),n()}}va.Substream=Ea;var ba=u&&u.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(la,\"__esModule\",{value:!0}),la.ObjectMultiplex=void 0;const wa=ca,Sa=ba(ga),_a=va,Ca=Symbol(\"IGNORE_SUBSTREAM\");let xa=class extends wa.Duplex{constructor(e={}){super(Object.assign(Object.assign({},e),{objectMode:!0})),this._substreams={}}createStream(e){if(this.destroyed)throw new Error(`ObjectMultiplex - parent stream for name \"${e}\" already destroyed`);if(this._readableState.ended||this._writableState.ended)throw new Error(`ObjectMultiplex - parent stream for name \"${e}\" already ended`);if(!e)throw new Error(\"ObjectMultiplex - name must not be empty\");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name \"${e}\" already exists`);const t=new _a.Substream({parent:this,name:e});return this._substreams[e]=t,function(e,t){const n=(0,Sa.default)(t);(0,wa.finished)(e,{readable:!1},n),(0,wa.finished)(e,{writable:!1},n)}(this,(e=>t.destroy(e||void 0))),t}ignoreStream(e){if(!e)throw new Error(\"ObjectMultiplex - name must not be empty\");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name \"${e}\" already exists`);this._substreams[e]=Ca}_read(){}_write(e,t,n){const{name:r,data:i}=e;if(!r)return console.warn(`ObjectMultiplex - malformed chunk without name \"${e}\"`),n();const o=this._substreams[r];return o?(o!==Ca&&o.push(i),n()):(console.warn(`ObjectMultiplex - orphaned data for stream \"${r}\"`),n())}};la.ObjectMultiplex=xa;var ka=h(la.ObjectMultiplex);const Ma=e=>null!==e&&\"object\"==typeof e&&\"function\"==typeof e.pipe;Ma.writable=e=>Ma(e)&&!1!==e.writable&&\"function\"==typeof e._write&&\"object\"==typeof e._writableState,Ma.readable=e=>Ma(e)&&!1!==e.readable&&\"function\"==typeof e._read&&\"object\"==typeof e._readableState,Ma.duplex=e=>Ma.writable(e)&&Ma.readable(e),Ma.transform=e=>Ma.duplex(e)&&\"function\"==typeof e._transform;var Aa,Ta=Ma,Ia=class extends fs{constructor(e,{jsonRpcStreamName:t,logger:n=console,maxEventListeners:r=100,rpcMiddleware:i=[]}){if(super({logger:n,maxEventListeners:r,rpcMiddleware:i}),!Ta.duplex(e))throw new Error($r.errors.invalidDuplexStream());this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this);const o=new ka;ca.pipeline(e,o,e,this._handleStreamDisconnect.bind(this,\"MetaMask\")),this._jsonRpcConnection=da({retryOnMessage:\"METAMASK_EXTENSION_CONNECT_CAN_RETRY\"}),ca.pipeline(this._jsonRpcConnection.stream,o.createStream(t),this._jsonRpcConnection.stream,this._handleStreamDisconnect.bind(this,\"MetaMask RpcProvider\")),this._rpcEngine.push(this._jsonRpcConnection.middleware),this._jsonRpcConnection.events.on(\"notification\",(t=>{const{method:n,params:r}=t;\"metamask_accountsChanged\"===n?this._handleAccountsChanged(r):\"metamask_unlockStateChanged\"===n?this._handleUnlockStateChanged(r):\"metamask_chainChanged\"===n?this._handleChainChanged(r):Ho.includes(n)?this.emit(\"message\",{type:n,data:r}):\"METAMASK_STREAM_FAILURE\"===n&&e.destroy(new Error($r.errors.permanentlyDisconnected()))}))}async _initializeStateAsync(){let e;try{e=await this.request({method:\"metamask_getProviderState\"})}catch(e){this._log.error(\"MetaMask: Failed to get initial state. Please report this bug.\",e)}this._initializeState(e)}_handleStreamDisconnect(e,t){let n=`MetaMask: Lost connection to \"${e}\".`;t?.stack&&(n+=`\\n${t.stack}`),this._log.warn(n),this.listenerCount(\"error\")>0&&this.emit(\"error\",n),this._handleDisconnect(!1,t?t.message:void 0)}_handleChainChanged({chainId:e,networkVersion:t}={}){qo(e)&&(e=>Boolean(e)&&\"string\"==typeof e)(t)?\"loading\"===t?this._handleDisconnect(!0):super._handleChainChanged({chainId:e}):this._log.error($r.errors.invalidNetworkParams(),{chainId:e,networkVersion:t})}},Pa=class extends Ia{constructor(e,{jsonRpcStreamName:t=\"metamask-provider\",logger:n=console,maxEventListeners:r=100,shouldSendMetadata:i}={}){if(super(e,{jsonRpcStreamName:t,logger:n,maxEventListeners:r,rpcMiddleware:Uo(n)}),this._sentWarnings={chainId:!1,networkVersion:!1,selectedAddress:!1,enable:!1,experimentalMethods:!1,send:!1,events:{close:!1,data:!1,networkChanged:!1,notification:!1}},Qo(this,Aa,void 0),this._initializeStateAsync(),Xo(this,Aa,null),this.isMetaMask=!0,this._sendSync=this._sendSync.bind(this),this.enable=this.enable.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this._warnOfDeprecation=this._warnOfDeprecation.bind(this),this._metamask=this._getExperimentalApi(),this._jsonRpcConnection.events.on(\"notification\",(e=>{const{method:t}=e;Ho.includes(t)&&(this.emit(\"data\",e),this.emit(\"notification\",e.params.result))})),i)if(\"complete\"===document.readyState)Wo(this._rpcEngine,this._log);else{const e=()=>{Wo(this._rpcEngine,this._log),window.removeEventListener(\"DOMContentLoaded\",e)};window.addEventListener(\"DOMContentLoaded\",e)}}get chainId(){return this._sentWarnings.chainId||(this._log.warn($r.warnings.chainIdDeprecation),this._sentWarnings.chainId=!0),super.chainId}get networkVersion(){return this._sentWarnings.networkVersion||(this._log.warn($r.warnings.networkVersionDeprecation),this._sentWarnings.networkVersion=!0),Jo(this,Aa)}get selectedAddress(){return this._sentWarnings.selectedAddress||(this._log.warn($r.warnings.selectedAddressDeprecation),this._sentWarnings.selectedAddress=!0),super.selectedAddress}sendAsync(e,t){this._rpcRequest(e,t)}addListener(e,t){return this._warnOfDeprecation(e),super.addListener(e,t)}on(e,t){return this._warnOfDeprecation(e),super.on(e,t)}once(e,t){return this._warnOfDeprecation(e),super.once(e,t)}prependListener(e,t){return this._warnOfDeprecation(e),super.prependListener(e,t)}prependOnceListener(e,t){return this._warnOfDeprecation(e),super.prependOnceListener(e,t)}_handleDisconnect(e,t){super._handleDisconnect(e,t),Jo(this,Aa)&&!e&&Xo(this,Aa,null)}_warnOfDeprecation(e){!1===this._sentWarnings?.events[e]&&(this._log.warn($r.warnings.events[e]),this._sentWarnings.events[e]=!0)}async enable(){return this._sentWarnings.enable||(this._log.warn($r.warnings.enableDeprecation),this._sentWarnings.enable=!0),new Promise(((e,t)=>{try{this._rpcRequest({method:\"eth_requestAccounts\",params:[]},Fo(e,t))}catch(e){t(e)}}))}send(e,t){return this._sentWarnings.send||(this._log.warn($r.warnings.sendDeprecation),this._sentWarnings.send=!0),\"string\"!=typeof e||t&&!Array.isArray(t)?e&&\"object\"==typeof e&&\"function\"==typeof t?this._rpcRequest(e,t):this._sendSync(e):new Promise(((n,r)=>{try{this._rpcRequest({method:e,params:t},Fo(n,r,!1))}catch(e){r(e)}}))}_sendSync(e){let t;switch(e.method){case\"eth_accounts\":t=this.selectedAddress?[this.selectedAddress]:[];break;case\"eth_coinbase\":t=this.selectedAddress??null;break;case\"eth_uninstallFilter\":this._rpcRequest(e,zo),t=!0;break;case\"net_version\":t=Jo(this,Aa)??null;break;default:throw new Error($r.errors.unsupportedSync(e.method))}return{id:e.id,jsonrpc:e.jsonrpc,result:t}}_getExperimentalApi(){return new Proxy({isUnlocked:async()=>(this._state.initialized||await new Promise((e=>{this.on(\"_initialized\",(()=>e()))})),this._state.isUnlocked),requestBatch:async e=>{if(!Array.isArray(e))throw ho({message:\"Batch requests must be made with an array of request objects.\",data:e});return new Promise(((t,n)=>{this._rpcRequest(e,Fo(t,n))}))}},{get:(e,t,...n)=>(this._sentWarnings.experimentalMethods||(this._log.warn($r.warnings.experimentalMethods),this._sentWarnings.experimentalMethods=!0),Reflect.get(e,t,...n))})}_handleChainChanged({chainId:e,networkVersion:t}={}){super._handleChainChanged({chainId:e,networkVersion:t}),this._state.isConnected&&t!==Jo(this,Aa)&&(Xo(this,Aa,t),this._state.initialized&&this.emit(\"networkChanged\",Jo(this,Aa)))}};Aa=new WeakMap;const Ra=t(\"MM_SDK\");Ra.color=\"#FFAC1C\";var Oa={},Na={};Object.defineProperty(Na,\"__esModule\",{value:!0}),Na.EthereumProviderError=Na.EthereumRpcError=void 0;const Da=Yi;class La extends Error{constructor(e,t,n){if(!Number.isInteger(e))throw new Error('\"code\" must be an integer.');if(!t||\"string\"!=typeof t)throw new Error('\"message\" must be a nonempty string.');super(t),this.code=e,void 0!==n&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return Da.default(this.serialize(),Ba,2)}}Na.EthereumRpcError=La;function Ba(e,t){if(\"[Circular]\"!==t)return t}Na.EthereumProviderError=class extends La{constructor(e,t,n){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('\"code\" must be an integer such that: 1000 <= code <= 4999');super(e,t,n)}};var Ka={},ja={};Object.defineProperty(ja,\"__esModule\",{value:!0}),ja.errorValues=ja.errorCodes=void 0,ja.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},ja.errorValues={\"-32700\":{standard:\"JSON RPC 2.0\",message:\"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text.\"},\"-32600\":{standard:\"JSON RPC 2.0\",message:\"The JSON sent is not a valid Request object.\"},\"-32601\":{standard:\"JSON RPC 2.0\",message:\"The method does not exist / is not available.\"},\"-32602\":{standard:\"JSON RPC 2.0\",message:\"Invalid method parameter(s).\"},\"-32603\":{standard:\"JSON RPC 2.0\",message:\"Internal JSON-RPC error.\"},\"-32000\":{standard:\"EIP-1474\",message:\"Invalid input.\"},\"-32001\":{standard:\"EIP-1474\",message:\"Resource not found.\"},\"-32002\":{standard:\"EIP-1474\",message:\"Resource unavailable.\"},\"-32003\":{standard:\"EIP-1474\",message:\"Transaction rejected.\"},\"-32004\":{standard:\"EIP-1474\",message:\"Method not supported.\"},\"-32005\":{standard:\"EIP-1474\",message:\"Request limit exceeded.\"},4001:{standard:\"EIP-1193\",message:\"User rejected the request.\"},4100:{standard:\"EIP-1193\",message:\"The requested account and/or method has not been authorized by the user.\"},4200:{standard:\"EIP-1193\",message:\"The requested method is not supported by this Ethereum provider.\"},4900:{standard:\"EIP-1193\",message:\"The provider is disconnected from all chains.\"},4901:{standard:\"EIP-1193\",message:\"The provider is disconnected from the specified chain.\"}},function(e){Object.defineProperty(e,\"__esModule\",{value:!0}),e.serializeError=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const t=ja,n=Na,r=t.errorCodes.rpc.internal,i=\"Unspecified error message. This is a bug, please report it.\",o={code:r,message:s(r)};function s(n,r=i){if(Number.isInteger(n)){const r=n.toString();if(l(t.errorValues,r))return t.errorValues[r].message;if(c(n))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return r}function a(e){if(!Number.isInteger(e))return!1;const n=e.toString();return!!t.errorValues[n]||!!c(e)}function c(e){return e>=-32099&&e<=-32e3}function d(e){return e&&\"object\"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.JSON_RPC_SERVER_ERROR_MESSAGE=\"Unspecified server error.\",e.getMessageFromCode=s,e.isValidCode=a,e.serializeError=function(e,{fallbackError:t=o,shouldIncludeStack:r=!1}={}){var i,c;if(!t||!Number.isInteger(t.code)||\"string\"!=typeof t.message)throw new Error(\"Must provide fallback error with integer number code and string message.\");if(e instanceof n.EthereumRpcError)return e.serialize();const u={};if(e&&\"object\"==typeof e&&!Array.isArray(e)&&l(e,\"code\")&&a(e.code)){const t=e;u.code=t.code,t.message&&\"string\"==typeof t.message?(u.message=t.message,l(t,\"data\")&&(u.data=t.data)):(u.message=s(u.code),u.data={originalError:d(e)})}else{u.code=t.code;const n=null===(i=e)||void 0===i?void 0:i.message;u.message=n&&\"string\"==typeof n?n:t.message,u.data={originalError:d(e)}}const h=null===(c=e)||void 0===c?void 0:c.stack;return r&&e&&h&&\"string\"==typeof h&&(u.stack=h),u}}(Ka);var $a={};Object.defineProperty($a,\"__esModule\",{value:!0}),$a.ethErrors=void 0;const Ha=Na,Ua=Ka,Fa=ja;function qa(e,t){const[n,r]=Wa(t);return new Ha.EthereumRpcError(e,n||Ua.getMessageFromCode(e),r)}function za(e,t){const[n,r]=Wa(t);return new Ha.EthereumProviderError(e,n||Ua.getMessageFromCode(e),r)}function Wa(e){if(e){if(\"string\"==typeof e)return[e];if(\"object\"==typeof e&&!Array.isArray(e)){const{message:t,data:n}=e;if(t&&\"string\"!=typeof t)throw new Error(\"Must specify string message.\");return[t||void 0,n]}}return[]}$a.ethErrors={rpc:{parse:e=>qa(Fa.errorCodes.rpc.parse,e),invalidRequest:e=>qa(Fa.errorCodes.rpc.invalidRequest,e),invalidParams:e=>qa(Fa.errorCodes.rpc.invalidParams,e),methodNotFound:e=>qa(Fa.errorCodes.rpc.methodNotFound,e),internal:e=>qa(Fa.errorCodes.rpc.internal,e),server:e=>{if(!e||\"object\"!=typeof e||Array.isArray(e))throw new Error(\"Ethereum RPC Server errors must provide single object argument.\");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('\"code\" must be an integer such that: -32099 <= code <= -32005');return qa(t,e)},invalidInput:e=>qa(Fa.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>qa(Fa.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>qa(Fa.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>qa(Fa.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>qa(Fa.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>qa(Fa.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>za(Fa.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>za(Fa.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>za(Fa.errorCodes.provider.unsupportedMethod,e),disconnected:e=>za(Fa.errorCodes.provider.disconnected,e),chainDisconnected:e=>za(Fa.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||\"object\"!=typeof e||Array.isArray(e))throw new Error(\"Ethereum Provider custom errors must provide single object argument.\");const{code:t,message:n,data:r}=e;if(!n||\"string\"!=typeof n)throw new Error('\"message\" must be a nonempty string');return new Ha.EthereumProviderError(t,n,r)}}},function(e){Object.defineProperty(e,\"__esModule\",{value:!0}),e.getMessageFromCode=e.serializeError=e.EthereumProviderError=e.EthereumRpcError=e.ethErrors=e.errorCodes=void 0;const t=Na;Object.defineProperty(e,\"EthereumRpcError\",{enumerable:!0,get:function(){return t.EthereumRpcError}}),Object.defineProperty(e,\"EthereumProviderError\",{enumerable:!0,get:function(){return t.EthereumProviderError}});const n=Ka;Object.defineProperty(e,\"serializeError\",{enumerable:!0,get:function(){return n.serializeError}}),Object.defineProperty(e,\"getMessageFromCode\",{enumerable:!0,get:function(){return n.getMessageFromCode}});const r=$a;Object.defineProperty(e,\"ethErrors\",{enumerable:!0,get:function(){return r.ethErrors}});const i=ja;Object.defineProperty(e,\"errorCodes\",{enumerable:!0,get:function(){return i.errorCodes}})}(Oa);const Va={\"Amazon Silk\":\"amazon_silk\",\"Android Browser\":\"android\",Bada:\"bada\",BlackBerry:\"blackberry\",Chrome:\"chrome\",Chromium:\"chromium\",Electron:\"electron\",Epiphany:\"epiphany\",Firefox:\"firefox\",Focus:\"focus\",Generic:\"generic\",\"Google Search\":\"google_search\",Googlebot:\"googlebot\",\"Internet Explorer\":\"ie\",\"K-Meleon\":\"k_meleon\",Maxthon:\"maxthon\",\"Microsoft Edge\":\"edge\",\"MZ Browser\":\"mz\",\"NAVER Whale Browser\":\"naver\",Opera:\"opera\",\"Opera Coast\":\"opera_coast\",PhantomJS:\"phantomjs\",Puffin:\"puffin\",QupZilla:\"qupzilla\",QQ:\"qq\",QQLite:\"qqlite\",Safari:\"safari\",Sailfish:\"sailfish\",\"Samsung Internet for Android\":\"samsung_internet\",SeaMonkey:\"seamonkey\",Sleipnir:\"sleipnir\",Swing:\"swing\",Tizen:\"tizen\",\"UC Browser\":\"uc\",Vivaldi:\"vivaldi\",\"WebOS Browser\":\"webos\",WeChat:\"wechat\",\"Yandex Browser\":\"yandex\",Roku:\"roku\"},Ga={amazon_silk:\"Amazon Silk\",android:\"Android Browser\",bada:\"Bada\",blackberry:\"BlackBerry\",chrome:\"Chrome\",chromium:\"Chromium\",electron:\"Electron\",epiphany:\"Epiphany\",firefox:\"Firefox\",focus:\"Focus\",generic:\"Generic\",googlebot:\"Googlebot\",google_search:\"Google Search\",ie:\"Internet Explorer\",k_meleon:\"K-Meleon\",maxthon:\"Maxthon\",edge:\"Microsoft Edge\",mz:\"MZ Browser\",naver:\"NAVER Whale Browser\",opera:\"Opera\",opera_coast:\"Opera Coast\",phantomjs:\"PhantomJS\",puffin:\"Puffin\",qupzilla:\"QupZilla\",qq:\"QQ Browser\",qqlite:\"QQ Browser Lite\",safari:\"Safari\",sailfish:\"Sailfish\",samsung_internet:\"Samsung Internet for Android\",seamonkey:\"SeaMonkey\",sleipnir:\"Sleipnir\",swing:\"Swing\",tizen:\"Tizen\",uc:\"UC Browser\",vivaldi:\"Vivaldi\",webos:\"WebOS Browser\",wechat:\"WeChat\",yandex:\"Yandex Browser\"},Ya={tablet:\"tablet\",mobile:\"mobile\",desktop:\"desktop\",tv:\"tv\"},Za={WindowsPhone:\"Windows Phone\",Windows:\"Windows\",MacOS:\"macOS\",iOS:\"iOS\",Android:\"Android\",WebOS:\"WebOS\",BlackBerry:\"BlackBerry\",Bada:\"Bada\",Tizen:\"Tizen\",Linux:\"Linux\",ChromeOS:\"Chrome OS\",PlayStation4:\"PlayStation 4\",Roku:\"Roku\"},Ja={EdgeHTML:\"EdgeHTML\",Blink:\"Blink\",Trident:\"Trident\",Presto:\"Presto\",Gecko:\"Gecko\",WebKit:\"WebKit\"};class Qa{static getFirstMatch(e,t){const n=t.match(e);return n&&n.length>0&&n[1]||\"\"}static getSecondMatch(e,t){const n=t.match(e);return n&&n.length>1&&n[2]||\"\"}static matchAndReturnConst(e,t,n){if(e.test(t))return n}static getWindowsVersionName(e){switch(e){case\"NT\":return\"NT\";case\"XP\":case\"NT 5.1\":return\"XP\";case\"NT 5.0\":return\"2000\";case\"NT 5.2\":return\"2003\";case\"NT 6.0\":return\"Vista\";case\"NT 6.1\":return\"7\";case\"NT 6.2\":return\"8\";case\"NT 6.3\":return\"8.1\";case\"NT 10.0\":return\"10\";default:return}}static getMacOSVersionName(e){const t=e.split(\".\").splice(0,2).map((e=>parseInt(e,10)||0));if(t.push(0),10===t[0])switch(t[1]){case 5:return\"Leopard\";case 6:return\"Snow Leopard\";case 7:return\"Lion\";case 8:return\"Mountain Lion\";case 9:return\"Mavericks\";case 10:return\"Yosemite\";case 11:return\"El Capitan\";case 12:return\"Sierra\";case 13:return\"High Sierra\";case 14:return\"Mojave\";case 15:return\"Catalina\";default:return}}static getAndroidVersionName(e){const t=e.split(\".\").splice(0,2).map((e=>parseInt(e,10)||0));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?\"Cupcake\":1===t[0]&&t[1]>=6?\"Donut\":2===t[0]&&t[1]<2?\"Eclair\":2===t[0]&&2===t[1]?\"Froyo\":2===t[0]&&t[1]>2?\"Gingerbread\":3===t[0]?\"Honeycomb\":4===t[0]&&t[1]<1?\"Ice Cream Sandwich\":4===t[0]&&t[1]<4?\"Jelly Bean\":4===t[0]&&t[1]>=4?\"KitKat\":5===t[0]?\"Lollipop\":6===t[0]?\"Marshmallow\":7===t[0]?\"Nougat\":8===t[0]?\"Oreo\":9===t[0]?\"Pie\":void 0}static getVersionPrecision(e){return e.split(\".\").length}static compareVersions(e,t,n=!1){const r=Qa.getVersionPrecision(e),i=Qa.getVersionPrecision(t);let o=Math.max(r,i),s=0;const a=Qa.map([e,t],(e=>{const t=o-Qa.getVersionPrecision(e),n=e+new Array(t+1).join(\".0\");return Qa.map(n.split(\".\"),(e=>new Array(20-e.length).join(\"0\")+e)).reverse()}));for(n&&(s=o-Math.min(r,i)),o-=1;o>=s;){if(a[0][o]>a[1][o])return 1;if(a[0][o]===a[1][o]){if(o===s)return 0;o-=1}else if(a[0][o]<a[1][o])return-1}}static map(e,t){const n=[];let r;if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n}static find(e,t){let n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){const r=e[n];if(t(r,n))return r}}static assign(e,...t){const n=e;let r,i;if(Object.assign)return Object.assign(e,...t);for(r=0,i=t.length;r<i;r+=1){const e=t[r];if(\"object\"==typeof e&&null!==e){Object.keys(e).forEach((t=>{n[t]=e[t]}))}}return e}static getBrowserAlias(e){return Va[e]}static getBrowserTypeByAlias(e){return Ga[e]||\"\"}}const Xa=/version\\/(\\d+(\\.?_?\\d+)+)/i,ec=[{test:[/googlebot/i],describe(e){const t={name:\"Googlebot\"},n=Qa.getFirstMatch(/googlebot\\/(\\d+(\\.\\d+))/i,e)||Qa.getFirstMatch(Xa,e);return n&&(t.version=n),t}},{test:[/opera/i],describe(e){const t={name:\"Opera\"},n=Qa.getFirstMatch(Xa,e)||Qa.getFirstMatch(/(?:opera)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\\/|opios/i],describe(e){const t={name:\"Opera\"},n=Qa.getFirstMatch(/(?:opr|opios)[\\s/](\\S+)/i,e)||Qa.getFirstMatch(Xa,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:\"Samsung Internet for Android\"},n=Qa.getFirstMatch(Xa,e)||Qa.getFirstMatch(/(?:SamsungBrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe(e){const t={name:\"NAVER Whale Browser\"},n=Qa.getFirstMatch(Xa,e)||Qa.getFirstMatch(/(?:whale)[\\s/](\\d+(?:\\.\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe(e){const t={name:\"MZ Browser\"},n=Qa.getFirstMatch(/(?:MZBrowser)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||Qa.getFirstMatch(Xa,e);return n&&(t.version=n),t}},{test:[/focus/i],describe(e){const t={name:\"Focus\"},n=Qa.getFirstMatch(/(?:focus)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||Qa.getFirstMatch(Xa,e);return n&&(t.version=n),t}},{test:[/swing/i],describe(e){const t={name:\"Swing\"},n=Qa.getFirstMatch(/(?:swing)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||Qa.getFirstMatch(Xa,e);return n&&(t.version=n),t}},{test:[/coast/i],describe(e){const t={name:\"Opera Coast\"},n=Qa.getFirstMatch(Xa,e)||Qa.getFirstMatch(/(?:coast)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\\/\\d+(?:.?_?\\d+)+/i],describe(e){const t={name:\"Opera Touch\"},n=Qa.getFirstMatch(/(?:opt)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||Qa.getFirstMatch(Xa,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe(e){const t={name:\"Yandex Browser\"},n=Qa.getFirstMatch(/(?:yabrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||Qa.getFirstMatch(Xa,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe(e){const t={name:\"UC Browser\"},n=Qa.getFirstMatch(Xa,e)||Qa.getFirstMatch(/(?:ucbrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:\"Maxthon\"},n=Qa.getFirstMatch(Xa,e)||Qa.getFirstMatch(/(?:Maxthon|mxios)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe(e){const t={name:\"Epiphany\"},n=Qa.getFirstMatch(Xa,e)||Qa.getFirstMatch(/(?:epiphany)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe(e){const t={name:\"Puffin\"},n=Qa.getFirstMatch(Xa,e)||Qa.getFirstMatch(/(?:puffin)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe(e){const t={name:\"Sleipnir\"},n=Qa.getFirstMatch(Xa,e)||Qa.getFirstMatch(/(?:sleipnir)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe(e){const t={name:\"K-Meleon\"},n=Qa.getFirstMatch(Xa,e)||Qa.getFirstMatch(/(?:k-meleon)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe(e){const t={name:\"WeChat\"},n=Qa.getFirstMatch(/(?:micromessenger)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||Qa.getFirstMatch(Xa,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?\"QQ Browser Lite\":\"QQ Browser\"},n=Qa.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\\d+(\\.?_?\\d+)+)/i,e)||Qa.getFirstMatch(Xa,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe(e){const t={name:\"Internet Explorer\"},n=Qa.getFirstMatch(/(?:msie |rv:)(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\\sedg\\//i],describe(e){const t={name:\"Microsoft Edge\"},n=Qa.getFirstMatch(/\\sedg\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:\"Microsoft Edge\"},n=Qa.getSecondMatch(/edg([ea]|ios)\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe(e){const t={name:\"Vivaldi\"},n=Qa.getFirstMatch(/vivaldi\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe(e){const t={name:\"SeaMonkey\"},n=Qa.getFirstMatch(/seamonkey\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe(e){const t={name:\"Sailfish\"},n=Qa.getFirstMatch(/sailfish\\s?browser\\/(\\d+(\\.\\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe(e){const t={name:\"Amazon Silk\"},n=Qa.getFirstMatch(/silk\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe(e){const t={name:\"PhantomJS\"},n=Qa.getFirstMatch(/phantomjs\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe(e){const t={name:\"SlimerJS\"},n=Qa.getFirstMatch(/slimerjs\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\\bbb\\d+/i,/rim\\stablet/i],describe(e){const t={name:\"BlackBerry\"},n=Qa.getFirstMatch(Xa,e)||Qa.getFirstMatch(/blackberry[\\d]+\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:\"WebOS Browser\"},n=Qa.getFirstMatch(Xa,e)||Qa.getFirstMatch(/w(?:eb)?[o0]sbrowser\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe(e){const t={name:\"Bada\"},n=Qa.getFirstMatch(/dolfin\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe(e){const t={name:\"Tizen\"},n=Qa.getFirstMatch(/(?:tizen\\s?)?browser\\/(\\d+(\\.?_?\\d+)+)/i,e)||Qa.getFirstMatch(Xa,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe(e){const t={name:\"QupZilla\"},n=Qa.getFirstMatch(/(?:qupzilla)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||Qa.getFirstMatch(Xa,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:\"Firefox\"},n=Qa.getFirstMatch(/(?:firefox|iceweasel|fxios)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe(e){const t={name:\"Electron\"},n=Qa.getFirstMatch(/(?:electron)\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:\"Miui\"},n=Qa.getFirstMatch(/(?:MiuiBrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe(e){const t={name:\"Chromium\"},n=Qa.getFirstMatch(/(?:chromium)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||Qa.getFirstMatch(Xa,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:\"Chrome\"},n=Qa.getFirstMatch(/(?:chrome|crios|crmo)\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe(e){const t={name:\"Google Search\"},n=Qa.getFirstMatch(/(?:GSA)\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t={name:\"Android Browser\"},n=Qa.getFirstMatch(Xa,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe(e){const t={name:\"PlayStation 4\"},n=Qa.getFirstMatch(Xa,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:\"Safari\"},n=Qa.getFirstMatch(Xa,e);return n&&(t.version=n),t}},{test:[/.*/i],describe(e){const t=-1!==e.search(\"\\\\(\")?/^(.*)\\/(.*)[ \\t]\\((.*)/:/^(.*)\\/(.*) /;return{name:Qa.getFirstMatch(t,e),version:Qa.getSecondMatch(t,e)}}}];var tc=[{test:[/Roku\\/DVP/],describe(e){const t=Qa.getFirstMatch(/Roku\\/DVP-(\\d+\\.\\d+)/i,e);return{name:Za.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=Qa.getFirstMatch(/windows phone (?:os)?\\s?(\\d+(\\.\\d+)*)/i,e);return{name:Za.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=Qa.getFirstMatch(/Windows ((NT|XP)( \\d\\d?.\\d)?)/i,e),n=Qa.getWindowsVersionName(t);return{name:Za.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\\//],describe(e){const t={name:Za.iOS},n=Qa.getSecondMatch(/(Version\\/)(\\d[\\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe(e){const t=Qa.getFirstMatch(/mac os x (\\d+(\\.?_?\\d+)+)/i,e).replace(/[_\\s]/g,\".\"),n=Qa.getMacOSVersionName(t),r={name:Za.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=Qa.getFirstMatch(/os (\\d+([_\\s]\\d+)*) like mac os x/i,e).replace(/[_\\s]/g,\".\");return{name:Za.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t=Qa.getFirstMatch(/android[\\s/-](\\d+(\\.\\d+)*)/i,e),n=Qa.getAndroidVersionName(t),r={name:Za.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=Qa.getFirstMatch(/(?:web|hpw)[o0]s\\/(\\d+(\\.\\d+)*)/i,e),n={name:Za.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\\bbb\\d+/i,/rim\\stablet/i],describe(e){const t=Qa.getFirstMatch(/rim\\stablet\\sos\\s(\\d+(\\.\\d+)*)/i,e)||Qa.getFirstMatch(/blackberry\\d+\\/(\\d+([_\\s]\\d+)*)/i,e)||Qa.getFirstMatch(/\\bbb(\\d+)/i,e);return{name:Za.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=Qa.getFirstMatch(/bada\\/(\\d+(\\.\\d+)*)/i,e);return{name:Za.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=Qa.getFirstMatch(/tizen[/\\s](\\d+(\\.\\d+)*)/i,e);return{name:Za.Tizen,version:t}}},{test:[/linux/i],describe:()=>({name:Za.Linux})},{test:[/CrOS/],describe:()=>({name:Za.ChromeOS})},{test:[/PlayStation 4/],describe(e){const t=Qa.getFirstMatch(/PlayStation 4[/\\s](\\d+(\\.\\d+)*)/i,e);return{name:Za.PlayStation4,version:t}}}],nc=[{test:[/googlebot/i],describe:()=>({type:\"bot\",vendor:\"Google\"})},{test:[/huawei/i],describe(e){const t=Qa.getFirstMatch(/(can-l01)/i,e)&&\"Nova\",n={type:Ya.mobile,vendor:\"Huawei\"};return t&&(n.model=t),n}},{test:[/nexus\\s*(?:7|8|9|10).*/i],describe:()=>({type:Ya.tablet,vendor:\"Nexus\"})},{test:[/ipad/i],describe:()=>({type:Ya.tablet,vendor:\"Apple\",model:\"iPad\"})},{test:[/Macintosh(.*?) FxiOS(.*?)\\//],describe:()=>({type:Ya.tablet,vendor:\"Apple\",model:\"iPad\"})},{test:[/kftt build/i],describe:()=>({type:Ya.tablet,vendor:\"Amazon\",model:\"Kindle Fire HD 7\"})},{test:[/silk/i],describe:()=>({type:Ya.tablet,vendor:\"Amazon\"})},{test:[/tablet(?! pc)/i],describe:()=>({type:Ya.tablet})},{test(e){const t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe(e){const t=Qa.getFirstMatch(/(ipod|iphone)/i,e);return{type:Ya.mobile,vendor:\"Apple\",model:t}}},{test:[/nexus\\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:Ya.mobile,vendor:\"Nexus\"})},{test:[/[^-]mobi/i],describe:()=>({type:Ya.mobile})},{test:e=>\"blackberry\"===e.getBrowserName(!0),describe:()=>({type:Ya.mobile,vendor:\"BlackBerry\"})},{test:e=>\"bada\"===e.getBrowserName(!0),describe:()=>({type:Ya.mobile})},{test:e=>\"windows phone\"===e.getBrowserName(),describe:()=>({type:Ya.mobile,vendor:\"Microsoft\"})},{test(e){const t=Number(String(e.getOSVersion()).split(\".\")[0]);return\"android\"===e.getOSName(!0)&&t>=3},describe:()=>({type:Ya.tablet})},{test:e=>\"android\"===e.getOSName(!0),describe:()=>({type:Ya.mobile})},{test:e=>\"macos\"===e.getOSName(!0),describe:()=>({type:Ya.desktop,vendor:\"Apple\"})},{test:e=>\"windows\"===e.getOSName(!0),describe:()=>({type:Ya.desktop})},{test:e=>\"linux\"===e.getOSName(!0),describe:()=>({type:Ya.desktop})},{test:e=>\"playstation 4\"===e.getOSName(!0),describe:()=>({type:Ya.tv})},{test:e=>\"roku\"===e.getOSName(!0),describe:()=>({type:Ya.tv})}],rc=[{test:e=>\"microsoft edge\"===e.getBrowserName(!0),describe(e){if(/\\sedg\\//i.test(e))return{name:Ja.Blink};const t=Qa.getFirstMatch(/edge\\/(\\d+(\\.?_?\\d+)+)/i,e);return{name:Ja.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const t={name:Ja.Trident},n=Qa.getFirstMatch(/trident\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:e=>e.test(/presto/i),describe(e){const t={name:Ja.Presto},n=Qa.getFirstMatch(/presto\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe(e){const t={name:Ja.Gecko},n=Qa.getFirstMatch(/gecko\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\\/537\\.36/i],describe:()=>({name:Ja.Blink})},{test:[/(apple)?webkit/i],describe(e){const t={name:Ja.WebKit},n=Qa.getFirstMatch(/webkit\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}}];class ic{constructor(e,t=!1){if(null==e||\"\"===e)throw new Error(\"UserAgent parameter can't be empty\");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=Qa.find(ec,(e=>{if(\"function\"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error(\"Browser's test function is not valid\")}));return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||\"\":this.getBrowser().name||\"\"}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=Qa.find(tc,(e=>{if(\"function\"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error(\"Browser's test function is not valid\")}));return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:t}=this.getOS();return e?String(t).toLowerCase()||\"\":t||\"\"}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:t}=this.getPlatform();return e?String(t).toLowerCase()||\"\":t||\"\"}parsePlatform(){this.parsedResult.platform={};const e=Qa.find(nc,(e=>{if(\"function\"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error(\"Browser's test function is not valid\")}));return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||\"\":this.getEngine().name||\"\"}parseEngine(){this.parsedResult.engine={};const e=Qa.find(rc,(e=>{if(\"function\"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error(\"Browser's test function is not valid\")}));return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return Qa.assign({},this.parsedResult)}satisfies(e){const t={};let n=0;const r={};let i=0;if(Object.keys(e).forEach((o=>{const s=e[o];\"string\"==typeof s?(r[o]=s,i+=1):\"object\"==typeof s&&(t[o]=s,n+=1)})),n>0){const e=Object.keys(t),n=Qa.find(e,(e=>this.isOS(e)));if(n){const e=this.satisfies(t[n]);if(void 0!==e)return e}const r=Qa.find(e,(e=>this.isPlatform(e)));if(r){const e=this.satisfies(t[r]);if(void 0!==e)return e}}if(i>0){const e=Object.keys(r),t=Qa.find(e,(e=>this.isBrowser(e,!0)));if(void 0!==t)return this.compareVersion(r[t])}}isBrowser(e,t=!1){const n=this.getBrowserName().toLowerCase();let r=e.toLowerCase();const i=Qa.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n}compareVersion(e){let t=[0],n=e,r=!1;const i=this.getBrowserVersion();if(\"string\"==typeof i)return\">\"===e[0]||\"<\"===e[0]?(n=e.substr(1),\"=\"===e[1]?(r=!0,n=e.substr(2)):t=[],\">\"===e[0]?t.push(1):t.push(-1)):\"=\"===e[0]?n=e.substr(1):\"~\"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(Qa.compareVersions(i,n,r))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,t=!1){return this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some((e=>this.is(e)))}}class oc{static getParser(e,t=!1){if(\"string\"!=typeof e)throw new Error(\"UserAgent should be a string\");return new ic(e,t)}static parse(e){return new ic(e).getResult()}static get BROWSER_MAP(){return Ga}static get ENGINE_MAP(){return Ja}static get OS_MAP(){return Za}static get PLATFORMS_MAP(){return Ya}}const sc={Initialized:\"initialized\",DisplayURI:\"display_uri\",ProviderUpdate:\"provider_update\",ConnectWithResponse:\"connectWithResponse\",ConnectionStatus:\"connection_status\",ServiceStatus:\"service_status\"};class ac{constructor({shouldSetOnWindow:e,connectionStream:t,shouldSendMetadata:n=!1,shouldShimWeb3:r,sdkInstance:i}){const o=new lc({connectionStream:t,shouldSendMetadata:n,shouldSetOnWindow:e,shouldShimWeb3:r,autoRequestAccounts:!1}),s=new Proxy(o,{deleteProperty:()=>!0});if(this.provider=s,this.sdkInstance=i,e&&\"undefined\"!=typeof window)try{a=o,window.ethereum=a,window.dispatchEvent(new Event(\"ethereum#initialized\"))}catch(e){Ra(\"[Ethereum] Unable to set global provider - window.ethereum may be read-only\",e)}var a;if(r&&\"undefined\"!=typeof window)try{!function(e,t=console){let n=!1,r=!1;if(!window.web3){const i=\"__isMetaMaskShim__\";let o={currentProvider:e};Object.defineProperty(o,i,{value:!0,enumerable:!0,configurable:!1,writable:!1}),o=new Proxy(o,{get:(o,s,...a)=>(\"currentProvider\"!==s||n?\"currentProvider\"===s||s===i||r||(r=!0,t.error(\"MetaMask no longer injects web3. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3\"),e.request({method:\"metamask_logWeb3ShimUsage\"}).catch((e=>{t.debug(\"MetaMask: Failed to log web3 shim usage.\",e)}))):(n=!0,t.warn(\"You are accessing the MetaMask window.web3.currentProvider shim. This property is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3\")),Reflect.get(o,s,...a)),set:(...e)=>(t.warn(\"You are accessing the MetaMask window.web3 shim. This object is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3\"),Reflect.set(...e))}),Object.defineProperty(window,\"web3\",{value:o,enumerable:!1,configurable:!0,writable:!0})}}(this.provider)}catch(e){Ra(\"[Ethereum] Unable to shim web3 - window.web3 may be read-only\",e)}this.provider.on(\"display_uri\",(e=>{this.sdkInstance.emit(sc.DisplayURI,e)})),this.provider.on(\"_initialized\",(()=>{const e={chainId:this.provider.getChainId(),isConnected:this.provider.isConnected(),isMetaMask:this.provider.isMetaMask,selectedAddress:this.provider.getSelectedAddress(),networkVersion:this.provider.getNetworkVersion()};this.sdkInstance.emit(sc.Initialized,e),Ra(\"[Ethereum: constructor()] provider initialized\",e)}))}static init(e){var t;return Ra(\"[Ethereum: init()] Initializing Ethereum service\"),this.instance=new ac(e),null===(t=this.instance)||void 0===t?void 0:t.provider}static destroy(){}static getInstance(){var e;if(!(null===(e=this.instance)||void 0===e?void 0:e.provider))throw new Error(\"Ethereum instance not intiialized - call Ethereum.factory first.\");return this.instance}static getProvider(){var e;if(!(null===(e=this.instance)||void 0===e?void 0:e.provider))throw new Error(\"Ethereum instance not intiialized - call Ethereum.factory first.\");return this.instance.provider}}class cc{constructor({useDeepLink:e,preferredOpenLink:t,debug:n=!1}){this.state={platformType:void 0,useDeeplink:!1,preferredOpenLink:void 0,debug:!1},this.state.platformType=this.getPlatformType(),this.state.useDeeplink=e,this.state.preferredOpenLink=t,this.state.debug=n}openDeeplink(e,t,n){return function(e,t,n,r){const{state:i}=e;Ra(`[PlatfformManager: openDeeplink()] universalLink --\\x3e ${t}`),Ra(`[PlatfformManager: openDeeplink()] deepLink --\\x3e ${n}`);try{if(i.preferredOpenLink)return void i.preferredOpenLink(i.useDeeplink?n:t,r);if(Ra(`[PlatfformManager: openDeeplink()] open link now useDeepLink=${i.useDeeplink} link=${i.useDeeplink?n:t}`),i.useDeeplink)\"undefined\"!=typeof window&&(window.location.href=n);else if(\"undefined\"!=typeof document){const e=document.createElement(\"a\");e.href=t,e.target=\"_self\",e.rel=\"noreferrer noopener\",e.click()}}catch(e){console.log(\"[PlatfformManager: openDeeplink()] can't open link\",e)}}(this,e,t,n)}isReactNative(){var e;return this.isNotBrowser()&&\"undefined\"!=typeof window&&(null===window||void 0===window?void 0:window.navigator)&&\"ReactNative\"===(null===(e=window.navigator)||void 0===e?void 0:e.product)}isMetaMaskInstalled(){return function(){const e=ac.getProvider()||(null===window||void 0===window?void 0:window.ethereum);return Ra(`[PlatfformManager: isMetaMaskInstalled()] isMetaMask=${null==e?void 0:e.isMetaMask} isConnected=${null==e?void 0:e.isConnected()}`),(null==e?void 0:e.isMetaMask)&&(null==e?void 0:e.isConnected())}()}isDesktopWeb(){return this.isBrowser()&&!this.isMobileWeb()}isMobile(){var e,t;const n=oc.parse(window.navigator.userAgent);return\"mobile\"===(null===(e=null==n?void 0:n.platform)||void 0===e?void 0:e.type)||\"tablet\"===(null===(t=null==n?void 0:n.platform)||void 0===t?void 0:t.type)}isSecure(){return this.isReactNative()||this.isMobileWeb()}isMetaMaskMobileWebView(){return\"undefined\"!=typeof window&&(Boolean(window.ReactNativeWebView)&&Boolean(navigator.userAgent.endsWith(\"MetaMaskMobile\")))}isMobileWeb(){return this.state.platformType===exports.PlatformType.MobileWeb}static isNotBrowser(){var e;return\"undefined\"==typeof window||!(null===window||void 0===window?void 0:window.navigator)||\"undefined\"!=typeof global&&\"ReactNative\"===(null===(e=null===global||void 0===global?void 0:global.navigator)||void 0===e?void 0:e.product)||\"ReactNative\"===(null===navigator||void 0===navigator?void 0:navigator.product)}isNotBrowser(){return cc.isNotBrowser()}static isBrowser(){return!this.isNotBrowser()}isBrowser(){return cc.isBrowser()}isNodeJS(){return this.isNotBrowser()&&!this.isReactNative()}isUseDeepLink(){return this.state.useDeeplink}getPlatformType(){return function(e){const{state:t}=e;return t.platformType?t.platformType:e.isReactNative()?exports.PlatformType.ReactNative:e.isNotBrowser()?exports.PlatformType.NonBrowser:e.isMetaMaskMobileWebView()?exports.PlatformType.MetaMaskMobileWebview:e.isMobile()?exports.PlatformType.MobileWeb:exports.PlatformType.DesktopWeb}(this)}}const dc=e=>l(void 0,void 0,void 0,(function*(){if(cc.isBrowser()){const{StorageManagerWeb:t}=yield Promise.resolve().then((function(){return Kd}));return new t(e)}const t={persistChannelConfig:()=>l(void 0,void 0,void 0,(function*(){})),getPersistedChannelConfig:()=>l(void 0,void 0,void 0,(function*(){})),persistAccounts:()=>l(void 0,void 0,void 0,(function*(){})),getCachedAccounts:()=>l(void 0,void 0,void 0,(function*(){return[]})),persistChainId:()=>l(void 0,void 0,void 0,(function*(){})),getCachedChainId:()=>l(void 0,void 0,void 0,(function*(){})),terminate:()=>l(void 0,void 0,void 0,(function*(){}))};return Promise.resolve(t)}));class lc extends Pa{constructor({connectionStream:e,shouldSendMetadata:t,autoRequestAccounts:n=!1}){super(e,{logger:console,maxEventListeners:100,shouldSendMetadata:t}),this.state={accounts:null,autoRequestAccounts:!1,providerStateRequested:!1,chainId:\"\",networkVersion:\"\"},Ra(`[SDKProvider: constructor()] autoRequestAccounts=${n}`),this.state.autoRequestAccounts=n}forceInitializeState(){return l(this,void 0,void 0,(function*(){return Ra(`[SDKProvider: forceInitializeState()] autoRequestAccounts=${this.state.autoRequestAccounts}`),this._initializeStateAsync()}))}_setConnected(){Ra(\"[SDKProvider: _setConnected()] Setting connected state\"),this._state.isConnected=!0}getState(){return this._state}getSDKProviderState(){return this.state}getSelectedAddress(){var e;const{accounts:t}=this._state;return t&&0!==t.length?(null===(e=t[0])||void 0===e?void 0:e.toLowerCase())||\"\":(Ra(\"[SDKProvider: getSelectedAddress] No accounts found\"),null)}getChainId(){return this.state.chainId}getNetworkVersion(){return this.state.networkVersion}setSDKProviderState(e){this.state=Object.assign(Object.assign({},this.state),e)}handleAccountsChanged(e,t){return this._handleAccountsChanged(e,t)}handleDisconnect({terminate:e=!1}){!function({terminate:e=!1,instance:t}){const{state:n}=t;Ra(`[SDKProvider: handleDisconnect()] cleaning up provider state terminate=${e}`,t),e&&(t._state.accounts=null,t._state.isUnlocked=!1,t._state.isPermanentlyDisconnected=!0,t._state.initialized=!1),t._handleAccountsChanged([]),t._state.isConnected=!1,t.emit(\"disconnect\",Oa.ethErrors.provider.disconnected()),n.providerStateRequested=!1}({terminate:e,instance:this})}_initializeStateAsync(){return l(this,void 0,void 0,(function*(){return function(e){var t,n;return l(this,void 0,void 0,(function*(){void 0===e.state&&(e.state={accounts:null,autoRequestAccounts:!1,providerStateRequested:!1,chainId:\"\"});const{state:r}=e;let i;if(r.providerStateRequested)Ra(\"[SDKProvider: initializeStateAsync()] initialization already in progress\");else{let o;r.providerStateRequested=!0;let s=null,a=!1,c=!1;const d=yield dc({enabled:!0});if(d){const e=yield d.getPersistedChannelConfig({});a=null!==(t=null==e?void 0:e.relayPersistence)&&void 0!==t&&t,o=yield d.getCachedChainId();const n=yield d.getCachedAccounts();n.length>0&&(s=n[0])}if(Ra(`[SDKProvider: initializeStateAsync()] relayPersistence=${a}`,{relayPersistence:a,cachedChainId:o,cachedSelectedAddress:s}),a)if(o&&s)i={accounts:[s],chainId:o,isUnlocked:!1},c=!0;else try{i=yield e.request({method:\"metamask_getProviderState\"})}catch(t){return e._log.error(\"MetaMask: Failed to get initial state. Please report this bug.\",t),void(r.providerStateRequested=!1)}if(0===(null===(n=null==i?void 0:i.accounts)||void 0===n?void 0:n.length))if(e.getSelectedAddress())i.accounts=[e.getSelectedAddress()];else{Ra(\"[SDKProvider: initializeStateAsync()] Fetch accounts remotely.\");const t=yield e.request({method:\"eth_requestAccounts\",params:[]});i.accounts=t}e._initializeState(i),r.providerStateRequested=!1,c&&(e._state.isConnected=!0,e.emit(\"connect\",{chainId:null==i?void 0:i.chainId}))}}))}(this)}))}_initializeState(e){return Ra(\"[SDKProvider: _initializeState()]\",e),function(e,t,n){return Ra(\"[SDKProvider: initializeState()] set state._initialized to false\"),e._state.initialized=!1,t(n)}(this,super._initializeState.bind(this),e)}_handleChainChanged({chainId:e,networkVersion:t}={}){this.state.chainId=e,this.state.networkVersion=t,function({instance:e,chainId:t,networkVersion:n,superHandleChainChanged:r}){Ra(`[SDKProvider: handleChainChanged()] chainId=${t} networkVersion=${n}`);let i=n;n||(Ra(\"[SDKProvider: handleChainChanged()] forced network version to prevent provider error\"),i=\"1\"),e._state.isConnected=!0,e.emit(\"connect\",{chainId:t}),r({chainId:t,networkVersion:i})}({instance:this,chainId:e,networkVersion:t,superHandleChainChanged:super._handleChainChanged.bind(this)})}}var uc,hc={name:\"@metamask/sdk\",version:\"0.32.0\",description:\"\",homepage:\"https://github.com/MetaMask/metamask-sdk#readme\",bugs:{url:\"https://github.com/MetaMask/metamask-sdk/issues\"},repository:{type:\"git\",url:\"https://github.com/MetaMask/metamask-sdk\",directory:\"packages/sdk\"},main:\"dist/node/cjs/metamask-sdk.js\",module:\"dist/browser/es/metamask-sdk.js\",browser:\"dist/browser/es/metamask-sdk.js\",unpkg:\"dist/browser/umd/metamask-sdk.js\",\"react-native\":\"dist/react-native/es/metamask-sdk.js\",types:\"dist/types/src/index.d.ts\",sideEffects:!1,files:[\"/dist\"],scripts:{\"build:types\":\"tsc --project tsconfig.build.json --emitDeclarationOnly --outDir dist/types\",build:\"yarn build:types && rollup -c --bundleConfigAsCjs\",\"build:clean\":\"yarn clean && yarn build\",\"build:post-tsc\":\"echo 'N/A'\",\"build:pre-tsc\":\"echo 'N/A'\",typecheck:\"tsc --noEmit\",clean:\"rimraf ./dist\",size:\"node bundle-size && size-limit\",lint:\"yarn lint:eslint && yarn lint:misc --check\",\"lint:changelog\":\"../../scripts/validate-changelog.sh @metamask/sdk\",\"lint:eslint\":\"eslint . --cache --ext js,ts\",\"lint:fix\":\"yarn lint:eslint --fix && yarn lint:misc --write\",\"lint:misc\":\"prettier '**/*.json' '**/*.md' '!CHANGELOG.md' --ignore-path ../../.gitignore\",prepack:\"../../scripts/prepack.sh\",\"publish:preview\":\"yarn npm publish --tag preview\",reset:\"yarn clean && rimraf ./node_modules/\",test:'jest --testPathIgnorePatterns \"/e2e/\"',\"test:coverage\":'jest --coverage --testPathIgnorePatterns \"/e2e/\"',\"test:e2e\":'jest --testPathPattern \"/e2e/\"',\"test:ci\":'jest --coverage --passWithNoTests --setupFilesAfterEnv ./jest-preload.js --testPathIgnorePatterns \"/e2e/\"',\"test:dev\":'jest -c ./jest.config.ts --detectOpenHandles  --testPathIgnorePatterns \"/e2e/\"',watch:\"rollup -c -w\",dev:'concurrently \"tsc --watch\" \"rollup -c -w --bundleConfigAsCjs\"',\"build:dev\":\"yarn build:types && NODE_ENV=dev rollup -c --bundleConfigAsCjs\"},dependencies:{\"@babel/runtime\":\"^7.26.0\",\"@metamask/onboarding\":\"^1.0.1\",\"@metamask/providers\":\"16.1.0\",\"@metamask/sdk-communication-layer\":\"workspace:*\",\"@metamask/sdk-install-modal-web\":\"workspace:*\",\"@paulmillr/qr\":\"^0.2.1\",bowser:\"^2.9.0\",\"cross-fetch\":\"^4.0.0\",debug:\"^4.3.4\",eciesjs:\"^0.4.11\",\"eth-rpc-errors\":\"^4.0.3\",eventemitter2:\"^6.4.9\",\"obj-multiplex\":\"^1.0.0\",pump:\"^3.0.0\",\"readable-stream\":\"^3.6.2\",\"socket.io-client\":\"^4.5.1\",tslib:\"^2.6.0\",util:\"^0.12.4\",uuid:\"^8.3.2\"},devDependencies:{\"@jest/globals\":\"^29.3.1\",\"@lavamoat/allow-scripts\":\"^2.3.1\",\"@metamask/auto-changelog\":\"3.1.0\",\"@metamask/eslint-config\":\"^6.0.0\",\"@metamask/eslint-config-nodejs\":\"^6.0.0\",\"@metamask/eslint-config-typescript\":\"^6.0.0\",\"@react-native-async-storage/async-storage\":\"^1.19.6\",\"@rollup/plugin-alias\":\"^5.1.1\",\"@rollup/plugin-commonjs\":\"^25.0.7\",\"@rollup/plugin-json\":\"^6.0.0\",\"@rollup/plugin-node-resolve\":\"^15.0.2\",\"@rollup/plugin-replace\":\"^6.0.1\",\"@rollup/plugin-terser\":\"^0.4.1\",\"@size-limit/preset-big-lib\":\"^11.0.2\",\"@types/dom-screen-wake-lock\":\"^1.0.2\",\"@types/node\":\"^20.1.3\",\"@types/pump\":\"^1.1.1\",\"@types/qrcode-terminal\":\"^0.12.0\",\"@types/uuid\":\"^10.0.0\",\"@typescript-eslint/eslint-plugin\":\"^4.26.0\",\"@typescript-eslint/parser\":\"^4.26.0\",\"browserify-zlib\":\"^0.2.0\",buffer:\"^6.0.3\",concurrently:\"^9.1.2\",\"crypto-browserify\":\"^3.12.0\",eslint:\"^7.30.0\",\"eslint-config-prettier\":\"^8.3.0\",\"eslint-plugin-import\":\"^2.23.4\",\"eslint-plugin-jest\":\"^24.4.0\",\"eslint-plugin-jsdoc\":\"^36.1.0\",\"eslint-plugin-node\":\"^11.1.0\",\"eslint-plugin-prettier\":\"^3.4.0\",\"https-browserify\":\"^1.0.0\",jest:\"^29.3.1\",\"jest-environment-jsdom\":\"^29.3.1\",prettier:\"^2.3.0\",process:\"^0.11.10\",rimraf:\"^4.4.0\",rollup:\"^4.26.0\",\"rollup-plugin-analyzer\":\"^4.0.0\",\"rollup-plugin-jscc\":\"^2.0.0\",\"rollup-plugin-natives\":\"^0.7.5\",\"rollup-plugin-node-builtins\":\"^2.1.2\",\"rollup-plugin-polyfill-node\":\"^0.13.0\",\"rollup-plugin-sizes\":\"^1.0.6\",\"rollup-plugin-typescript2\":\"^0.31.2\",\"rollup-plugin-visualizer\":\"^5.12.0\",\"size-limit\":\"^11.0.2\",\"stream-browserify\":\"^3.0.0\",\"stream-http\":\"^3.2.0\",\"ts-jest\":\"^29.0.3\",\"ts-node\":\"^10.9.1\",typescript:\"^4.3.2\",url:\"^0.11.0\",webpack:\"^5.0.0\"},publishConfig:{access:\"public\",registry:\"https://registry.npmjs.org/\"},lavamoat:{allowScripts:{\"eciesjs>secp256k1\":!1,\"socket.io-client>engine.io-client>ws>bufferutil\":!1,\"socket.io-client>engine.io-client>ws>utf-8-validate\":!1,\"@metamask/sdk-communication-layer>bufferutil\":!1,\"@metamask/sdk-communication-layer>eciesjs>secp256k1\":!1,\"@metamask/sdk-communication-layer>utf-8-validate\":!1}}};!function(e){e.INPAGE=\"metamask-inpage\",e.CONTENT_SCRIPT=\"metamask-contentscript\",e.PROVIDER=\"metamask-provider\"}(uc||(uc={}));const fc=\"direct\",pc=\"https://metamask.app.link/connect\",mc=\"metamask://connect\",gc={NAME:\"MetaMask\",RDNS:[\"io.metamask\",\"io.metamask.flask\"]},vc=/(?:^[a-f0-9]{8}-[a-f0-9]{4}-4[a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}$)|(?:^0{8}-0{4}-0{4}-0{4}-0{12}$)/u,yc={METAMASK_GETPROVIDERSTATE:\"metamask_getProviderState\",METAMASK_CONNECTSIGN:\"metamask_connectSign\",METAMASK_CONNECTWITH:\"metamask_connectWith\",METAMASK_OPEN:\"metamask_open\",METAMASK_BATCH:\"metamask_batch\",PERSONAL_SIGN:\"personal_sign\",WALLET_REQUESTPERMISSIONS:\"wallet_requestPermissions\",WALLET_REVOKEPERMISSIONS:\"wallet_revokePermissions\",WALLET_GETPERMISSIONS:\"wallet_getPermissions\",WALLET_WATCHASSET:\"wallet_watchAsset\",WALLET_ADDETHEREUMCHAIN:\"wallet_addEthereumChain\",WALLET_SWITCHETHETHEREUMCHAIN:\"wallet_switchEthereumChain\",ETH_REQUESTACCOUNTS:\"eth_requestAccounts\",ETH_ACCOUNTS:\"eth_accounts\",ETH_CHAINID:\"eth_chainId\",ETH_SENDTRANSACTION:\"eth_sendTransaction\",ETH_SIGNTYPEDDATA:\"eth_signTypedData\",ETH_SIGNTYPEDDATA_V3:\"eth_signTypedData_v3\",ETH_SIGNTYPEDDATA_V4:\"eth_signTypedData_v4\",ETH_SIGNTRANSACTION:\"eth_signTransaction\",ETH_SIGN:\"eth_sign\",PERSONAL_EC_RECOVER:\"personal_ecRecover\"},Ec={[yc.ETH_REQUESTACCOUNTS]:!0,[yc.ETH_SENDTRANSACTION]:!0,[yc.ETH_SIGNTRANSACTION]:!0,[yc.ETH_SIGN]:!0,[yc.PERSONAL_SIGN]:!0,[yc.ETH_ACCOUNTS]:!1,[yc.ETH_CHAINID]:!1,[yc.PERSONAL_SIGN]:!0,[yc.ETH_SIGNTYPEDDATA]:!0,[yc.ETH_SIGNTYPEDDATA_V3]:!0,[yc.ETH_SIGNTYPEDDATA_V4]:!0,[yc.WALLET_REQUESTPERMISSIONS]:!0,[yc.WALLET_GETPERMISSIONS]:!0,[yc.WALLET_WATCHASSET]:!0,[yc.WALLET_ADDETHEREUMCHAIN]:!0,[yc.WALLET_SWITCHETHETHEREUMCHAIN]:!0,[yc.METAMASK_CONNECTSIGN]:!0,[yc.METAMASK_CONNECTWITH]:!0,[yc.PERSONAL_EC_RECOVER]:!0,[yc.METAMASK_BATCH]:!0,[yc.METAMASK_OPEN]:!0},bc=Object.keys(Ec).map((e=>e.toLowerCase())),wc=[\"eth_signTypedData\",\"eth_signTypedData_v3\",\"eth_signTypedData_v4\",\"eth_sign\"].map((e=>e.toLowerCase())),Sc=\".sdk-comm\",_c=\"providerType\",Cc=\".MMSDK_cached_address\",xc=\".MMSDK_cached_chainId\",kc={CHAIN_CHANGED:\"chainChanged\",ACCOUNTS_CHANGED:\"accountsChanged\",DISCONNECT:\"disconnect\",CONNECT:\"connect\",CONNECTED:\"connected\"},Mc=1e6;var Ac;exports.PROVIDER_UPDATE_TYPE=void 0,(Ac=exports.PROVIDER_UPDATE_TYPE||(exports.PROVIDER_UPDATE_TYPE={})).TERMINATE=\"terminate\",Ac.EXTENSION=\"extension\",Ac.INITIALIZED=\"initialized\";const Tc=\"undefined\"!=typeof window&&window.localStorage;function Ic({instance:e,msg:t}){return l(this,void 0,void 0,(function*(){if(e._initialized||(Ra(\"[MetaMaskSDK: connectAndSign()] provider not ready -- wait for init()\"),yield e.init()),Ra(`[MetaMaskSDK: connectAndSign()] activeProvider=${e.activeProvider}`),!e.activeProvider)throw new Error(\"SDK state invalid -- undefined provider\");const n=/^0x([0-9A-Fa-f]{2})*$/u.test(t)?t:function(e){let t;if(\"undefined\"!=typeof Buffer)t=Buffer.from(e,\"utf8\").toString(\"hex\");else if(\"undefined\"!=typeof TextEncoder){const n=(new TextEncoder).encode(e);t=Array.from(n).map((e=>e.toString(16).padStart(2,\"0\"))).join(\"\")}else{if(\"object\"!=typeof global||!(\"Buffer\"in global))throw new Error(\"Unable to convert string to hex: No available method.\");t=global.Buffer.from(e,\"utf8\").toString(\"hex\")}return`0x${t}`}(t);return e.activeProvider.request({method:yc.METAMASK_CONNECTWITH,params:[{method:yc.PERSONAL_SIGN,params:[n]}]})}))}function Pc(e){var t,n;return l(this,void 0,void 0,(function*(){Ra(\"[MetaMaskSDK: connectWithExtensionProvider()] \",e),e.sdkProvider=e.activeProvider,e.activeProvider=window.extension,window.ethereum=window.extension;try{const e=yield null===(t=window.extension)||void 0===t?void 0:t.request({method:\"eth_requestAccounts\"});Ra(`[MetaMaskSDK: connectWithExtensionProvider()] accounts=${e}`)}catch(e){return void console.warn(\"[MetaMaskSDK: connectWithExtensionProvider()] can't request accounts error\",e)}localStorage.setItem(_c,\"extension\"),e.extensionActive=!0,e.emit(sc.ProviderUpdate,exports.PROVIDER_UPDATE_TYPE.EXTENSION),e.options.enableAnalytics&&(null===(n=e.analytics)||void 0===n||n.send({event:lr.SDK_USE_EXTENSION}))}))}function Rc(e){let t;if(\"undefined\"!=typeof Buffer)t=Buffer.from(e,\"utf8\").toString(\"base64\");else if(\"function\"==typeof btoa)t=btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/gu,((e,t)=>String.fromCharCode(parseInt(t,16)))));else{if(\"object\"!=typeof global||!(\"Buffer\"in global))throw new Error(\"Unable to base64 encode: No available method.\");t=global.Buffer.from(e,\"utf8\").toString(\"base64\")}return t}function Oc(e,t,r,i){var o,s,a,c,d,u,h,f,p,m,g,v,y,E,b,w,S,_,C,x;return l(this,void 0,void 0,(function*(){const r=null===(o=e.state.remote)||void 0===o?void 0:o.isReady(),l=null===(s=e.state.remote)||void 0===s?void 0:s.isConnected(),k=null===(a=e.state.remote)||void 0===a?void 0:a.isPaused(),M=ac.getProvider(),A=null===(c=e.state.remote)||void 0===c?void 0:c.getChannelId(),T=null===(d=e.state.remote)||void 0===d?void 0:d.isAuthorized(),{deeplinkProtocol:I}=e.state,{method:P,data:R,triggeredInstaller:O}=(e=>{var t,r,i,o;let s;n.Buffer.isBuffer(e)?(s=e.toJSON(),s._isBuffer=!0):s=e;const a=null===(t=null==s?void 0:s.data)||void 0===t?void 0:t.method;let c=!1;return\"object\"==typeof(null===(r=null==s?void 0:s.data)||void 0===r?void 0:r.params)&&!0===(null===(o=null===(i=null==s?void 0:s.data)||void 0===i?void 0:i.params)||void 0===o?void 0:o.__triggeredInstaller)&&(c=!0,s.data.params=s.data.params.wrappedParams),{method:a,data:s,triggeredInstaller:c}})(t);if(Ra(`[RCPMS: write()] method='${P}' isRemoteReady=${r} channelId=${A} isSocketConnected=${l} isRemotePaused=${k} providerConnected=${M.isConnected()}`,t),!A)return P!==yc.METAMASK_GETPROVIDERSTATE&&Ra(`[RCPMS: write()] ${P} --\\x3e channelId is undefined`),i(new Error(\"disconnected\"));Ra(`[RCPMS: write()] remote.isPaused()=${null===(u=e.state.remote)||void 0===u?void 0:u.isPaused()} authorized=${T} ready=${r} socketConnected=${l}`,t);const N=null===(h=e.state.platformManager)||void 0===h?void 0:h.isSecure(),D=null!==(p=null===(f=e.state.platformManager)||void 0===f?void 0:f.isMobileWeb())&&void 0!==p&&p,L=null!==(g=null===(m=e.state.remote)||void 0===m?void 0:m.hasDeeplinkProtocol())&&void 0!==g&&g&&D&&T;try{if(!O){const t=JSON.stringify(null==R?void 0:R.data);if(t.length>Mc)return i(new Error(`Message size ${t.length} exceeds maximum allowed size of 1000000 bytes`));null===(v=e.state.remote)||void 0===v||v.sendMessage(null==R?void 0:R.data).then((()=>{Ra(`[RCPMS: _write()] ${P} sent successfully`)})).catch((e=>{Ra(\"[RCPMS: _write()] error sending message\",e)}))}if(!N)return Ra(`[RCPMS: _write()] unsecure platform for method ${P} -- return callback`),i();if(O)return Ra(\"[RCPMS: _write()] prevent deeplink -- installation completed separately.\"),i();const t=null!==(b=null===(E=null===(y=e.state.remote)||void 0===y?void 0:y.getKeyInfo())||void 0===E?void 0:E.ecies.public)&&void 0!==b?b:\"\";let n=encodeURI(`channelId=${A}&pubkey=${t}&comm=socket&t=d&v=2`);if(L){const t=JSON.stringify(null==R?void 0:R.data),r=null===(w=e.state.remote)||void 0===w?void 0:w.encrypt(t);if(!r)return Ra(\"[RCPMS: _write()] error encrypting message\"),i(new Error(\"RemoteCommunicationPostMessageStream - disconnected\"));n+=`&scheme=${I}&rpc=${Rc(r)}`}if(!(null===(S=e.state.platformManager)||void 0===S?void 0:S.isMetaMaskInstalled()))return Ra(\"[RCPMS: _write()] prevent deeplink until installation is completed.\"),i();Ec[P]?(Ra(`[RCPMS: _write()] redirect link for '${P}' socketConnected=${l} connect?${n}`),null===(_=e.state.platformManager)||void 0===_||_.openDeeplink(`${pc}?${n}`,`${mc}?${n}`,\"_self\")):(null===(C=e.state.remote)||void 0===C?void 0:C.isPaused())?(Ra(`[RCPMS: _write()] MM is PAUSED! deeplink with connect! targetMethod=${P}`),null===(x=e.state.platformManager)||void 0===x||x.openDeeplink(`${pc}?redirect=true&${n}`,`${mc}?redirect=true&${n}`,\"_self\")):Ra(`[RCPMS: _write()] method ${P} doesn't need redirect.`)}catch(e){return Ra(\"[RCPMS: _write()] error sending message\",e),i(new Error(\"RemoteCommunicationPostMessageStream - disconnected\"))}return i()}))}class Nc extends ca.Duplex{constructor({name:e,remote:t,deeplinkProtocol:n,platformManager:r}){super({objectMode:!0}),this.state={_name:null,remote:null,deeplinkProtocol:!1,platformManager:null},this.state._name=e,this.state.remote=t,this.state.deeplinkProtocol=n,this.state.platformManager=r,this._onMessage=this._onMessage.bind(this),this.state.remote.on(exports.EventType.MESSAGE,this._onMessage)}_write(e,t,n){return l(this,void 0,void 0,(function*(){return Oc(this,e,0,n)}))}_read(){}_onMessage(e){return function(e,t){try{if(Ra(\"[RCPMS: onMessage()] message\",t),!t||\"object\"!=typeof t)return;if(\"object\"!=typeof(null==t?void 0:t.data))return;if(!(null==t?void 0:t.name))return void Ra(\"[RCPMS: onMessage()] ignore message without name\",t);if((null==t?void 0:t.name)!==uc.PROVIDER)return void Ra(`[RCPMS: onMessage()] ignore message with wrong name message=${t}`);if(n.Buffer.isBuffer(t)){const r=n.Buffer.from(t);e.push(r)}else e.push(t)}catch(e){Ra(`[RCPMS: onMessage()] ignore message error err=${e}`)}}(this,e)}start(){}}let Dc=1;const Lc=e=>new Promise((t=>{setTimeout((()=>{t(!0)}),e)})),Bc=({checkInstallationOnAllCalls:t=!1,communicationLayerPreference:n,injectProvider:r,shouldShimWeb3:i,platformManager:o,installer:s,sdk:a,remoteConnection:c,debug:d})=>l(void 0,void 0,void 0,(function*(){var u,h;const f=(({name:e,remoteConnection:t})=>{if(!t||!(null==t?void 0:t.getConnector()))throw new Error(\"Missing remote connection parameter\");return new Nc({name:e,remote:null==t?void 0:t.getConnector(),deeplinkProtocol:null==t?void 0:t.state.deeplinkProtocol,platformManager:null==t?void 0:t.getPlatformManager()})})({name:uc.INPAGE,target:uc.CONTENT_SCRIPT,platformManager:o,communicationLayerPreference:n,remoteConnection:c}),p=o.getPlatformType(),m=a.options.dappMetadata,g=`Sdk/Javascript SdkVersion/${hc.version} Platform/${p} dApp/${null!==(u=m.url)&&void 0!==u?u:m.name} dAppTitle/${m.name}`;let v=null,y=null;const E=null===(h=a.options.storage)||void 0===h?void 0:h.storageManager;if(E){try{const e=yield E.getCachedAccounts();e.length>0&&(v=e[0])}catch(e){console.error(`[initializeMobileProvider] failed to get cached addresses: ${e}`)}try{const e=yield E.getCachedChainId();e&&(y=e)}catch(e){console.error(`[initializeMobileProvider] failed to parse cached chainId: ${e}`)}}Ra(`[initializeMobileProvider] cachedAccountAddress: ${v}, cachedChainId: ${y}`);const b=!(!r||p===exports.PlatformType.NonBrowser||p===exports.PlatformType.ReactNative),w=ac.init({shouldSetOnWindow:b,connectionStream:f,shouldShimWeb3:i,sdkInstance:a});let S=!1;const _=e=>{S=e},C=()=>S,x=(n,r,i,d)=>l(void 0,void 0,void 0,(function*(){var u,h,f,p,m,b,w,x,k;const M=ac.getProvider();if(S){M.emit(\"display_uri\",(null==c?void 0:c.state.qrcodeLink)||\"\"),null==c||c.showActiveModal();let e=C();for(;e;){const t=C(),n=null==c?void 0:c.isAuthorized();e=t&&!n,Ra(`[initializeMobileProvider: sendRequest()] waiting for initialization to complete - initializing: ${t} authorized: ${n}`),yield Lc(1e3)}return Ra(\"[initializeMobileProvider: sendRequest()] initial method completed -- prevent installation and call provider\"),i(...r)}const A=o.isMetaMaskInstalled(),T=null==c?void 0:c.isConnected();let I=null,P=null,R=null;if(I=null!==(u=M.getSelectedAddress())&&void 0!==u?u:v,R=M.getChainId()||y,I&&E&&I!==v&&E.persistAccounts([I]).catch((e=>{console.error(`[initializeMobileProvider] failed to persist account: ${e}`)})),R&&(y=R,E&&E.persistChainId(R).catch((e=>{console.error(`[initializeMobileProvider] failed to persist chainId: ${e}`)}))),Ra(\"[initializeMobileProvider: sendRequest()]\",{selectedAddress:I,chainId:R}),d&&Ra(`[initializeMobileProvider: sendRequest()] method=${n} ongoing=${S} selectedAddress=${I} isInstalled=${A} checkInstallationOnAllCalls=${t} socketConnected=${T}`),I&&n.toLowerCase()===yc.ETH_ACCOUNTS.toLowerCase())return[I];if(R&&n.toLowerCase()===yc.ETH_CHAINID.toLowerCase())return R;const O=[yc.ETH_REQUESTACCOUNTS,yc.WALLET_REQUESTPERMISSIONS,yc.METAMASK_CONNECTSIGN,yc.METAMASK_CONNECTWITH],N=!Ec[n],D=null===(h=a.options.readonlyRPCMap)||void 0===h?void 0:h[R];if(D&&N)try{const t=null===(f=null==r?void 0:r[0])||void 0===f?void 0:f.params,i=yield(({rpcEndpoint:t,method:n,sdkInfo:r,params:i})=>l(void 0,void 0,void 0,(function*(){const o=JSON.stringify({jsonrpc:\"2.0\",method:n,params:i,id:(Dc+=1,Dc)}),s={Accept:\"application/json\",\"Content-Type\":\"application/json\"};let a;t.includes(\"infura\")&&(s[\"Metamask-Sdk-Info\"]=r);try{a=yield e(t,{method:\"POST\",headers:s,body:o})}catch(e){throw e instanceof Error?new Error(`Failed to fetch from RPC: ${e.message}`):new Error(`Failed to fetch from RPC: ${e}`)}if(!a.ok)throw new Error(`Server responded with a status of ${a.status}`);return(yield a.json()).result})))({rpcEndpoint:D,sdkInfo:g,method:n,params:t||[]});return d&&Ra(`initializeProvider::ReadOnlyRPCResponse ${i}`),i}catch(e){console.warn(`[initializeMobileProvider: sendRequest()] method=${n} readOnlyRPCRequest failed:`,e)}if((!A||A&&!T)&&n!==yc.METAMASK_GETPROVIDERSTATE){const e=(null===(p=null==r?void 0:r[0])||void 0===p?void 0:p.params)||[];if(-1!==O.indexOf(n)||t){_(!0);const t=n===yc.METAMASK_CONNECTWITH,o=`${Date.now()}`;try{yield s.start({wait:!1,connectWith:t?{method:n,id:o,params:e}:void 0}),yield new Promise(((e,t)=>{(null==c?void 0:c.isAuthorized())&&(Ra(\"[initializeMobileProvider: sendRequest()] already authorized\"),e(!0)),null==c||c.getConnector().once(exports.EventType.AUTHORIZED,(()=>{e(!0)})),a.once(exports.EventType.PROVIDER_UPDATE,(e=>{Ra(`[initializeMobileProvider: sendRequest()] PROVIDER_UPDATE --- remote provider request interupted type=${e}`),e===exports.PROVIDER_UPDATE_TYPE.EXTENSION?t(exports.EventType.PROVIDER_UPDATE):t(new Error(\"Connection Terminated\"))}))}))}catch(t){if(exports.PROVIDER_UPDATE_TYPE.EXTENSION===t){if(Ra(`[initializeMobileProvider: sendRequest()] extension provider detect: re-create ${n} on the active provider`),n.toLowerCase()===yc.METAMASK_CONNECTSIGN.toLowerCase()){const t=yield null===(m=a.getProvider())||void 0===m?void 0:m.request({method:yc.ETH_REQUESTACCOUNTS,params:[]});if(!t.length)throw new Error(\"SDK state invalid -- undefined accounts\");const n=yield null===(b=a.getProvider())||void 0===b?void 0:b.request({method:yc.PERSONAL_SIGN,params:[e[0],t[0]]});return a.emit(sc.ConnectWithResponse,n),n}if(n.toLowerCase()===yc.METAMASK_CONNECTWITH.toLowerCase()){const[t]=e,n=yield(({method:e,sdk:t,params:n})=>l(void 0,void 0,void 0,(function*(){var r,i,o,s;if(!t.isExtensionActive())throw new Error(\"SDK state invalid -- extension is not active\");Ra(\"[MetaMaskProvider: extensionConnectWithOverwrite()] Overwriting request method\",e,n);const a=yield null===(r=t.getProvider())||void 0===r?void 0:r.request({method:yc.ETH_REQUESTACCOUNTS,params:[]});if(!a.length)throw new Error(\"SDK state invalid -- undefined accounts\");if((null==e?void 0:e.toLowerCase())===yc.PERSONAL_SIGN.toLowerCase()){const r={method:e,params:[n[0],a[0]]};return yield null===(i=t.getProvider())||void 0===i?void 0:i.request(r)}if((null==e?void 0:e.toLowerCase())===yc.ETH_SENDTRANSACTION.toLowerCase()){const r={method:e,params:[Object.assign(Object.assign({},n[0]),{from:a[0]})]};return yield null===(o=t.getProvider())||void 0===o?void 0:o.request(r)}return wc.includes(e.toLowerCase())?(console.warn(`MetaMaskSDK connectWith method=${e} -- not handled by the extension -- call separately`),a):yield null===(s=t.getProvider())||void 0===s?void 0:s.request({method:e,params:n})})))({method:t.method,sdk:a,params:t.params});return a.emit(sc.ConnectWithResponse,n),n}return Ra(`[initializeMobileProvider: sendRequest()] sending '${n}' on active provider`,e),yield null===(w=a.getProvider())||void 0===w?void 0:w.request({method:n,params:e})}if(t===exports.EventType.REJECTED)throw null==c||c.closeModal(),null===(x=a.getProvider())||void 0===x||x.handleDisconnect({terminate:!1}),Object.assign(new Error(\"User rejected connection\"),{code:4001});throw Ra(`[initializeMobileProvider: sendRequest()] failed to start installer: ${t}`),t}finally{_(!1)}if(n===yc.ETH_REQUESTACCOUNTS)return P=yield new Promise((e=>{const t=setInterval((()=>{const{accounts:n}=M.getState();n&&(clearInterval(t),e(n))}),100)})),Ra(`[initializeMobileProvider: sendRequest()] selectedAddress: ${I} --- SKIP rpc call`),P;if(n===yc.METAMASK_CONNECTWITH)try{let e=0;const t=5,n=({resolve:n,reject:r})=>{e+=1;const i=null==c?void 0:c.getConnector().getRPCMethodTracker(),s=null==i?void 0:i[o];return Ra(`TRACKER: update method ${o}`,s),(null==s?void 0:s.result)?(Ra(\"[initializeMobileProvider: sendRequest()] found result\",s.result),a.emit(sc.ConnectWithResponse,s.result),void n(s.result)):(null==s?void 0:s.error)?(Ra(\"[initializeMobileProvider: sendRequest()] found error\",s.error),void r(s.error)):e>=t?(Ra(\"[initializeMobileProvider: sendRequest()] max message count reached without result\"),void r(new Error(\"Max message count reached without result\"))):void Ra(\"[initializeMobileProvider: sendRequest()] not found yet, need to wait for next update\")};let r,i;const s=yield new Promise(((e,t)=>{const s=null==c?void 0:c.getConnector().getRPCMethodTracker();Ra(`TRACKER: method ${o}`,s),(null==s?void 0:s[o].result)?(Ra(\"[initializeMobileProvider: sendRequest()] found result\",null==s?void 0:s[o].result),e(null==s?void 0:s[o].result)):(null==s?void 0:s[o].error)&&(Ra(\"[initializeMobileProvider: sendRequest()] found error\",null==s?void 0:s[o].error),t(null==s?void 0:s[o].error)),i=()=>n({resolve:e,reject:t}),r=null==c?void 0:c.getConnector().on(exports.EventType.RPC_UPDATE,i)}));return i&&(null==r||r.off(exports.EventType.RPC_UPDATE,i)),Ra(\"TRACKER: result\",s),s}catch(e){throw Ra(\"[initializeMobileProvider: sendRequest()] error:\",e),e}r[0]&&\"object\"==typeof r[0]&&(r[0].params={__triggeredInstaller:!0,wrappedParams:r[0].params});return i(...r)}if(o.isSecure()&&Ec[n])return i(...r);if(a.isExtensionActive())return Ra(`[initializeMobileProvider: sendRequest()] EXTENSION active - redirect request '${n}' to it`,r,e),yield null===(k=a.getProvider())||void 0===k?void 0:k.request({method:n,params:e});throw Ra(`[initializeMobileProvider: sendRequest()] method=${n} --- skip --- not connected/installed`),new Error(\"MetaMask is not connected/installed, please call eth_requestAccounts to connect first.\")}try{const e=yield i(...r);if(Ra(`[initializeMobileProvider: sendRequest()] method=${n} rpcResponse`,e),n===yc.WALLET_REQUESTPERMISSIONS){const t=e.reduce(((e,t)=>{var n;if(\"eth_accounts\"===t.parentCapability){const r=null===(n=t.caveats.find((e=>\"restrictReturnedAccounts\"===e.type)))||void 0===n?void 0:n.value;r&&e.push(...r)}return e}),[]);Ra(\"[initializeMobileProvider: sendRequest()] accountsToPersist:\",t),t.length>0&&(M.handleAccountsChanged(t,!1),null==E||E.persistAccounts(t))}return e}catch(e){throw console.error(\"[initializeMobileProvider: sendRequest()] error:\",e),e}})),{request:k}=w;w.request=(...e)=>l(void 0,void 0,void 0,(function*(){return x(null==e?void 0:e[0].method,e,k,d)}));const{send:M}=w;return w.send=(...e)=>l(void 0,void 0,void 0,(function*(){return x(null==e?void 0:e[0],e,M,d)})),Ra(\"[initializeMobileProvider: sendRequest()] metamaskStream.start()\"),f.start(),w}));function Kc(e){var t,n,r,i;return l(this,void 0,void 0,(function*(){const{options:o}=e,s={communicationLayerPreference:null!==(t=o.communicationLayerPreference)&&void 0!==t?t:exports.CommunicationLayerPreference.SOCKET,platformManager:e.platformManager,sdk:e,checkInstallationOnAllCalls:o.checkInstallationOnAllCalls,injectProvider:null===(n=o.injectProvider)||void 0===n||n,shouldShimWeb3:null===(r=o.shouldShimWeb3)||void 0===r||r,extensionOnly:null===(i=o.extensionOnly)||void 0===i||i,installer:e.installer,remoteConnection:e.remoteConnection,debug:e.debug},a=yield Bc(s);e.activeProvider=a,function(e){var t,n,r,i;null===(n=null===(t=e.remoteConnection)||void 0===t?void 0:t.getConnector())||void 0===n||n.on(sc.ConnectionStatus,(t=>{e.emit(sc.ConnectionStatus,t)})),null===(i=null===(r=e.remoteConnection)||void 0===r?void 0:r.getConnector())||void 0===i||i.on(sc.ServiceStatus,(t=>{e.emit(sc.ServiceStatus,t)}))}(e)}))}const jc=\"sdk\";class $c{constructor({serverUrl:e,enabled:t,originatorInfo:n}){this.serverURL=nr,this.serverURL=e,this.originatorInfo=n,this.enabled=null==t||t}send({event:e,params:t}){if(!this.enabled)return;const n=Object.assign(Object.assign({id:jc,event:e,sdkVersion:hc.version},this.originatorInfo),{params:t});Ra(`[Analytics: send()] event: ${e}`,n),Xn(n,this.serverURL).catch((e=>{Ra(`[Analytics: send()] error: ${e}`)}))}}const Hc=()=>{if(\"undefined\"==typeof document)return;let e;const t=document.getElementsByTagName(\"link\");for(let n=0;n<t.length;n++)\"icon\"!==t[n].getAttribute(\"rel\")&&\"shortcut icon\"!==t[n].getAttribute(\"rel\")||(e=t[n].getAttribute(\"href\"));return e},Uc=163400;function Fc(e){var t,n,r;const{dappMetadata:i}=e,s=function({url:e,name:t}){var n;const r=e+t,i=Rc(r);if(!localStorage)return\"\";let s=null!==(n=localStorage.getItem(i))&&void 0!==n?n:\"\";if(!s){s=o.v4();try{localStorage.setItem(i,s)}catch(e){return\"\"}}return s}({url:null!==(t=null==i?void 0:i.url)&&void 0!==t?t:\"no_url\",name:null!==(n=null==i?void 0:i.name)&&void 0!==n?n:\"no_name\"}),a=null===(r=e.platformManager)||void 0===r?void 0:r.getPlatformType(),c=a===exports.PlatformType.DesktopWeb,d=a===exports.PlatformType.MetaMaskMobileWebview;let l=\"N/A\";return c?l=\"extension\":d&&(l=\"mobile\"),{id:s,from:l}}const qc=({provider:e,sdkInstance:t})=>{if(\"state\"in e)throw new Error(\"INVALID EXTENSION PROVIDER\");return new Proxy(e,{get:(n,r)=>\"request\"===r?function(e){var r,i;return l(this,void 0,void 0,(function*(){Ra(\"[wrapExtensionProvider()] Overwriting request method\",e);const{method:o,params:s}=e,a=bc.includes(o.toLowerCase()),{id:c,from:d}=Fc(t);if(a&&(null===(r=t.analytics)||void 0===r||r.send({event:lr.SDK_RPC_REQUEST,params:{method:o,from:d,id:c}})),o===yc.METAMASK_BATCH&&Array.isArray(s))return(({target:e,args:t,trackEvent:n,sdkInstance:r})=>l(void 0,void 0,void 0,(function*(){var i,o;if(\"metamask_batch\"!==t.method)throw new Error(\"Invalid usage\");const s=[],a=null!==(i=null==t?void 0:t.params)&&void 0!==i?i:[];for(const t of a){const n=yield null==e?void 0:e.request({method:t.method,params:t.params});s.push(n)}const{id:c,from:d}=Fc(r);return n&&(null===(o=r.analytics)||void 0===o||o.send({event:lr.SDK_RPC_REQUEST_DONE,params:{method:t.method,from:d,id:c}})),s})))({target:n,args:e,trackEvent:a,sdkInstance:t});if(o.toLowerCase()===yc.METAMASK_CONNECTSIGN.toLowerCase()&&Array.isArray(s))return(({target:e,params:t})=>l(void 0,void 0,void 0,(function*(){const n=yield e.request({method:yc.ETH_REQUESTACCOUNTS,params:[]});if(!n.length)throw new Error(\"SDK state invalid -- undefined accounts\");return yield e.request({method:yc.PERSONAL_SIGN,params:[t[0],n[0]]})})))({target:n,params:s});if(o.toLowerCase()===yc.METAMASK_CONNECTWITH.toLowerCase()&&Array.isArray(s))return(({target:e,params:t})=>l(void 0,void 0,void 0,(function*(){const[n]=t,r=n.method,i=n.params,o=yield e.request({method:yc.ETH_REQUESTACCOUNTS,params:[]});if(!o.length)throw new Error(\"SDK state invalid -- undefined accounts\");return(null==r?void 0:r.toLowerCase())===yc.PERSONAL_SIGN.toLowerCase()?yield e.request({method:r,params:[i[0],o[0]]}):(null==r?void 0:r.toLowerCase())===yc.ETH_SENDTRANSACTION.toLowerCase()?yield e.request({method:r,params:[Object.assign(Object.assign({},i[0]),{from:o[0]})]}):wc.includes(r.toLowerCase())?(console.warn(`MetaMaskSDK connectWith method=${r} -- not handled by the extension -- call separately`),o):yield e.request({method:r,params:i})})))({target:n,params:s});let u;try{return u=yield n.request(e),u}finally{a&&(null===(i=t.analytics)||void 0===i||i.send({event:lr.SDK_RPC_REQUEST_DONE,params:{method:o,from:d,id:c}}))}}))}:\"getChainId\"===r?function(){return e.chainId}:\"getNetworkVersion\"===r?function(){return e.networkVersion}:\"getSelectedAddress\"===r?function(){return e.selectedAddress}:\"isConnected\"===r?function(){return e._state.isConnected}:n[r]})};var zc;function Wc({mustBeMetaMask:e,sdkInstance:t}){return l(this,void 0,void 0,(function*(){if(\"undefined\"==typeof window)throw new Error(\"window not available\");try{const e=yield new Promise(((e,t)=>{const n=setTimeout((()=>{t(new Error(\"eip6963RequestProvider timed out\"))}),500);window.addEventListener(zc.Announce,(t=>{const r=t,{detail:{info:i,provider:o}={}}=r,{name:s,rdns:a,uuid:c}=null!=i?i:{};vc.test(c)&&s.startsWith(gc.NAME)&&gc.RDNS.includes(a)&&(clearTimeout(n),e(o))})),window.dispatchEvent(new Event(zc.Request))}));return qc({provider:e,sdkInstance:t})}catch(n){if(!e&&window.ethereum)return qc({provider:window.ethereum,sdkInstance:t});throw new Error(\"Provider not found\")}}))}!function(e){e.Announce=\"eip6963:announceProvider\",e.Request=\"eip6963:requestProvider\"}(zc||(zc={}));const Vc=e=>l(void 0,void 0,void 0,(function*(){const{options:t}=e,{infuraAPIKey:n}=t;if(!n)return;const r={\"0x1\":`https://mainnet.infura.io/v3/${n}`,\"0x5\":`https://goerli.infura.io/v3/${n}`,\"0xaa36a7\":`https://sepolia.infura.io/v3/${n}`,\"0xe708\":`https://linea-mainnet.infura.io/v3/${n}`,\"0xe704\":`https://linea-goerli.infura.io/v3/${n}`,\"0x89\":`https://polygon-mainnet.infura.io/v3/${n}`,\"0x13881\":`https://polygon-mumbai.infura.io/v3/${n}`,\"0x45\":`https://optimism-mainnet.infura.io/v3/${n}`,\"0x1a4\":`https://optimism-goerli.infura.io/v3/${n}`,\"0xa4b1\":`https://arbitrum-mainnet.infura.io/v3/${n}`,\"0x66eed\":`https://arbitrum-goerli.infura.io/v3/${n}`,\"0x2a15c308d\":`https://palm-mainnet.infura.io/v3/${n}`,\"0x2a15c3083\":`https://palm-testnet.infura.io/v3/${n}`,\"0xa86a\":`https://avalanche-mainnet.infura.io/v3/${n}`,\"0xa869\":`https://avalanche-fuji.infura.io/v3/${n}`,\"0x4e454152\":`https://aurora-mainnet.infura.io/v3/${n}`,\"0x4e454153\":`https://aurora-testnet.infura.io/v3/${n}`,\"0x534e5f4d41494e\":`https://starknet-mainnet.infura.io/v3/${n}`,\"0x534e5f474f45524c49\":`https://starknet-goerli.infura.io/v3/${n}`,\"0x534e5f474f45524c4932\":`https://starknet-goerli2.infura.io/v3/${n}`,\"0xa4ec\":`https://celo-mainnet.infura.io/v3/${n}`,\"0xaef3\":`https://celo-alfajores.infura.io/v3/${n}`};e.options.readonlyRPCMap?e.options.readonlyRPCMap=Object.assign(Object.assign({},e.options.readonlyRPCMap),r):e.options.readonlyRPCMap=r}));const Gc=e=>l(void 0,void 0,void 0,(function*(){const{options:t}=e,{readonlyRPCMap:n}=t;if(n)try{Ra(\"[MetaMaskSDK: setupReadOnlyRPCProviders()] Setting up Readonly RPC Providers\",n),e.setReadOnlyRPCCalls(!0)}catch(e){throw new Error(\"Invalid Infura Settings\")}}));function Yc(e,t,n,r){return new(n||(n=Promise))((function(t,i){function o(e){try{a(r.next(e))}catch(e){i(e)}}function s(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n((function(e){e(r)}))).then(o,s)}a((r=r.apply(e,[])).next())}))}function Zc(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var Jc=\"INSTALLED\",Qc=\"NOT_INSTALLED\",Xc=\"REGISTERED\",ed=\"REGISTERING\",td=\"RELOADING\",nd={CHROME:\"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn\",FIREFOX:\"https://addons.mozilla.org/firefox/addon/ether-metamask/\",DEFAULT:\"https://metamask.io\"},rd=\"REGISTRATION_IN_PROGRESS\",id=\"FORWARDER_ID\",od=function(){function e(t){var n=void 0===t?{}:t,r=n.forwarderOrigin,i=void 0===r?\"https://fwd.metamask.io\":r,o=n.forwarderMode,s=void 0===o?e.FORWARDER_MODE.INJECT:o;this.forwarderOrigin=i,this.forwarderMode=s,this.state=e.isMetaMaskInstalled()?Jc:Qc;var a=e._detectBrowser();this.downloadUrl=a?nd[a]:nd.DEFAULT,this._onMessage=this._onMessage.bind(this),this._onMessageFromForwarder=this._onMessageFromForwarder.bind(this),this._openForwarder=this._openForwarder.bind(this),this._openDownloadPage=this._openDownloadPage.bind(this),this.startOnboarding=this.startOnboarding.bind(this),this.stopOnboarding=this.stopOnboarding.bind(this),window.addEventListener(\"message\",this._onMessage),s===e.FORWARDER_MODE.INJECT&&\"true\"===sessionStorage.getItem(rd)&&e._injectForwarder(this.forwarderOrigin)}return e.prototype._onMessage=function(e){if(e.origin===this.forwarderOrigin)return\"metamask:reload\"===e.data.type?this._onMessageFromForwarder(e):void console.debug(\"Unknown message from '\"+e.origin+\"' with data \"+JSON.stringify(e.data))},e.prototype._onMessageUnknownStateError=function(e){throw new Error(\"Unknown state: '\"+e+\"'\")},e.prototype._onMessageFromForwarder=function(t){return Yc(this,0,void 0,(function(){return Zc(this,(function(n){switch(n.label){case 0:switch(this.state){case td:return[3,1];case Qc:return[3,2];case Jc:return[3,3];case ed:return[3,5];case Xc:return[3,6]}return[3,7];case 1:return console.debug(\"Ignoring message while reloading\"),[3,8];case 2:return console.debug(\"Reloading now to register with MetaMask\"),this.state=td,location.reload(),[3,8];case 3:return console.debug(\"Registering with MetaMask\"),this.state=ed,[4,e._register()];case 4:return n.sent(),this.state=Xc,t.source.postMessage({type:\"metamask:registrationCompleted\"},t.origin),this.stopOnboarding(),[3,8];case 5:return console.debug(\"Already registering - ignoring reload message\"),[3,8];case 6:return console.debug(\"Already registered - ignoring reload message\"),[3,8];case 7:this._onMessageUnknownStateError(this.state),n.label=8;case 8:return[2]}}))}))},e.prototype.startOnboarding=function(){sessionStorage.setItem(rd,\"true\"),this._openDownloadPage(),this._openForwarder()},e.prototype.stopOnboarding=function(){\"true\"===sessionStorage.getItem(rd)&&(this.forwarderMode===e.FORWARDER_MODE.INJECT&&(console.debug(\"Removing forwarder\"),e._removeForwarder()),sessionStorage.setItem(rd,\"false\"))},e.prototype._openForwarder=function(){this.forwarderMode===e.FORWARDER_MODE.OPEN_TAB?window.open(this.forwarderOrigin,\"_blank\"):e._injectForwarder(this.forwarderOrigin)},e.prototype._openDownloadPage=function(){window.open(this.downloadUrl,\"_blank\")},e.isMetaMaskInstalled=function(){return Boolean(window.ethereum&&window.ethereum.isMetaMask)},e._register=function(){return window.ethereum.request({method:\"wallet_registerOnboarding\"})},e._injectForwarder=function(e){var t=document.body,n=document.createElement(\"iframe\");n.setAttribute(\"height\",\"0\"),n.setAttribute(\"width\",\"0\"),n.setAttribute(\"style\",\"display: none;\"),n.setAttribute(\"src\",e),n.setAttribute(\"id\",id),t.insertBefore(n,t.children[0])},e._removeForwarder=function(){var e;null===(e=document.getElementById(id))||void 0===e||e.remove()},e._detectBrowser=function(){var e=oc.parse(window.navigator.userAgent);return\"Firefox\"===e.browser.name?\"FIREFOX\":[\"Chrome\",\"Chromium\"].includes(e.browser.name||\"\")?\"CHROME\":null},e.FORWARDER_MODE={INJECT:\"INJECT\",OPEN_TAB:\"OPEN_TAB\"},e}();function sd(e,{wait:t=!1}){return l(this,void 0,void 0,(function*(){return Ra(`[MetamaskInstaller: startInstaller()] wait=${t}`),t&&(yield Lc(1e3)),yield e.checkInstallation()}))}class ad{constructor({remote:e,preferDesktop:t,platformManager:n,debug:r=!1}){this.state={isInstalling:!1,hasInstalled:!1,resendRequest:null,preferDesktop:!1,platformManager:null,remote:null,debug:!1,connectWith:void 0},this.state.remote=e,this.state.preferDesktop=t,this.state.platformManager=n,this.state.debug=r}startDesktopOnboarding(){return function(){return l(this,void 0,void 0,(function*(){Ra(\"[MetamaskInstaller: startDesktopOnboarding() starting desktop onboarding\"),window.ethereum&&(window.ethereum=void 0),(new od).startOnboarding()}))}()}redirectToProperInstall(){return l(this,void 0,void 0,(function*(){return function(e){var t,n;return l(this,void 0,void 0,(function*(){const{state:r}=e,i=null===(t=r.platformManager)||void 0===t?void 0:t.getPlatformType();if(Ra(`[MetamaskInstaller: redirectToProperInstall()] platform=${i}`),i===exports.PlatformType.MetaMaskMobileWebview)return!1;r.isInstalling=!0;try{yield null===(n=r.remote)||void 0===n?void 0:n.startConnection({connectWith:r.connectWith}),r.isInstalling=!1,r.hasInstalled=!0}catch(e){throw r.isInstalling=!1,e}return!0}))}(this)}))}checkInstallation(){return l(this,void 0,void 0,(function*(){return function(e){var t;return l(this,void 0,void 0,(function*(){const{state:n}=e,r=null===(t=n.platformManager)||void 0===t?void 0:t.isMetaMaskInstalled();return Ra(`[MetamaskInstaller: checkInstallation()] isInstalled=${r}`),!!r||(yield e.redirectToProperInstall())}))}(this)}))}start({wait:e=!1,connectWith:t}){return l(this,void 0,void 0,(function*(){this.state.connectWith=t,Ra(`[MetaMaskInstaller: start()] wait=${e}`,t),yield sd(this,{wait:e})}))}}function cd(e,t){return e.toString(2).padStart(t,\"0\")}function dd(e,t){const n=e%t;return n>=0?n:t+n}function ld(e,t){return new Array(e).fill(t)}function ud(...e){let t=0;for(const n of e)t=Math.max(t,n.length);const n=[];for(let r=0;r<t;r++)for(const t of e)r>=t.length||n.push(t[r]);return new Uint8Array(n)}function hd(e,t,n){if(n<0||n+t.length>e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[n+r])return!1;return!0}function fd(e){return{has:t=>e.includes(t),decode:t=>{if(!Array.isArray(t)||t.length&&\"string\"!=typeof t[0])throw new Error(\"alphabet.decode input should be array of strings\");return t.map((t=>{if(\"string\"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const n=e.indexOf(t);if(-1===n)throw new Error(`Unknown letter: \"${t}\". Allowed: ${e}`);return n}))},encode:t=>{if(!Array.isArray(t)||t.length&&\"number\"!=typeof t[0])throw new Error(\"alphabet.encode input should be an array of numbers\");return t.map((t=>{if(function(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))}}}class pd{static size(e,t){if(\"number\"==typeof e&&(e={height:e,width:e}),!Number.isSafeInteger(e.height)&&e.height!==1/0)throw new Error(`Bitmap: wrong height=${e.height} (${typeof e.height})`);if(!Number.isSafeInteger(e.width)&&e.width!==1/0)throw new Error(`Bitmap: wrong width=${e.width} (${typeof e.width})`);return void 0!==t&&(e={width:Math.min(e.width,t.width),height:Math.min(e.height,t.height)}),e}static fromString(e){const t=(e=e.replace(/^\\n+/g,\"\").replace(/\\n+$/g,\"\")).split(\"\\n\"),n=t.length,r=new Array(n);let i;for(const e of t){const t=e.split(\"\").map((e=>{if(\"X\"===e)return!0;if(\" \"===e)return!1;if(\"?\"!==e)throw new Error(`Bitmap.fromString: unknown symbol=${e}`)}));if(i&&t.length!==i)throw new Error(`Bitmap.fromString different row sizes: width=${i} cur=${t.length}`);i=t.length,r.push(t)}return i||(i=0),new pd({height:n,width:i},r)}constructor(e,t){const{height:n,width:r}=pd.size(e);this.data=t||Array.from({length:n},(()=>ld(r,void 0))),this.height=n,this.width=r}point(e){return this.data[e.y][e.x]}isInside(e){return 0<=e.x&&e.x<this.width&&0<=e.y&&e.y<this.height}size(e){if(!e)return{height:this.height,width:this.width};const{x:t,y:n}=this.xy(e);return{height:this.height-n,width:this.width-t}}xy(e){if(\"number\"==typeof e&&(e={x:e,y:e}),!Number.isSafeInteger(e.x))throw new Error(`Bitmap: wrong x=${e.x}`);if(!Number.isSafeInteger(e.y))throw new Error(`Bitmap: wrong y=${e.y}`);return e.x=dd(e.x,this.width),e.y=dd(e.y,this.height),e}rect(e,t,n){const{x:r,y:i}=this.xy(e),{height:o,width:s}=pd.size(t,this.size({x:r,y:i}));for(let e=0;e<o;e++)for(let t=0;t<s;t++)this.data[i+e][r+t]=\"function\"==typeof n?n({x:t,y:e},this.data[i+e][r+t]):n;return this}rectRead(e,t,n){return this.rect(e,t,((e,t)=>(n(e,t),t)))}hLine(e,t,n){return this.rect(e,{width:t,height:1},n)}vLine(e,t,n){return this.rect(e,{width:1,height:t},n)}border(e=2,t){const n=this.height+2*e,r=this.width+2*e,i=ld(e,t),o=Array.from({length:e},(()=>ld(r,t)));return new pd({height:n,width:r},[...o,...this.data.map((e=>[...i,...e,...i])),...o])}embed(e,t){return this.rect(e,t.size(),(({x:e,y:n})=>t.data[n][e]))}rectSlice(e,t=this.size()){const n=new pd(pd.size(t,this.size(this.xy(e))));return this.rect(e,t,(({x:e,y:t},r)=>n.data[t][e]=r)),n}inverse(){const{height:e,width:t}=this;return new pd({height:t,width:e}).rect({x:0,y:0},1/0,(({x:e,y:t})=>this.data[e][t]))}scale(e){if(!Number.isSafeInteger(e)||e>1024)throw new Error(`Wrong scale factor: ${e}`);const{height:t,width:n}=this;return new pd({height:e*t,width:e*n}).rect({x:0,y:0},1/0,(({x:t,y:n})=>this.data[Math.floor(n/e)][Math.floor(t/e)]))}clone(){return new pd(this.size()).rect({x:0,y:0},this.size(),(({x:e,y:t})=>this.data[t][e]))}assertDrawn(){this.rectRead(0,1/0,((e,t)=>{if(\"boolean\"!=typeof t)throw new Error(\"Invalid color type=\"+typeof t)}))}toString(){return this.data.map((e=>e.map((e=>void 0===e?\"?\":e?\"X\":\" \")).join(\"\"))).join(\"\\n\")}toASCII(){const{height:e,width:t,data:n}=this;let r=\"\";for(let i=0;i<e;i+=2){for(let o=0;o<t;o++){const t=n[i][o],s=i+1>=e||n[i+1][o];t||s?!t&&s?r+=\"▀\":t&&!s?r+=\"▄\":t&&s&&(r+=\" \"):r+=\"█\"}r+=\"\\n\"}return r}toTerm(){const e=\"\u001b[0m\",t=`\u001b[1;47m  ${e}`,n=`\u001b[40m  ${e}`;return this.data.map((e=>e.map((e=>e?n:t)).join(\"\"))).join(\"\\n\")}toSVG(){let e=`<svg xmlns:svg=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 ${this.width} ${this.height}\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">`;return this.rectRead(0,1/0,(({x:t,y:n},r)=>{r&&(e+=`<rect x=\"${t}\" y=\"${n}\" width=\"1\" height=\"1\" />`)})),e+=\"</svg>\",e}toGIF(){const e=e=>[255&e,e>>>8&255],t=[...e(this.width),...e(this.height)],n=[];this.rectRead(0,1/0,((e,t)=>n.push(+(!0===t))));const r=126,i=[71,73,70,56,55,97,...t,246,0,0,255,255,255,...ld(381,0),44,0,0,0,0,...t,0,7],o=Math.floor(n.length/r);for(let e=0;e<o;e++)i.push(127,128,...n.slice(r*e,r*(e+1)).map((e=>+e)));return i.push(n.length%r+1,128,...n.slice(o*r).map((e=>+e))),i.push(1,129,0,59),new Uint8Array(i)}toImage(e=!1){const{height:t,width:n}=this.size(),r=new Uint8Array(t*n*(e?3:4));let i=0;for(let o=0;o<t;o++)for(let t=0;t<n;t++){const n=this.data[o][t]?0:255;r[i++]=n,r[i++]=n,r[i++]=n,e||(r[i++]=255)}return{height:t,width:n,data:r}}}const md=[\"low\",\"medium\",\"quartile\",\"high\"],gd=[\"numeric\",\"alphanumeric\",\"byte\",\"kanji\",\"eci\"],vd=[26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],yd={low:[7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],medium:[10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],quartile:[13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],high:[17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]},Ed={low:[1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],medium:[1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],quartile:[1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],high:[1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]},bd={size:{encode:e=>21+4*(e-1),decode:e=>(e-17)/4},sizeType:e=>Math.floor((e+7)/17),alignmentPatterns(e){if(1===e)return[];const t=bd.size.encode(e)-6-1,n=t-6,r=Math.ceil(n/28);let i=Math.floor(n/r);i%2?i+=1:n%r*2>=r&&(i+=2);const o=[6];for(let e=1;e<r;e++)o.push(t-(r-e)*i);return o.push(t),o},ECCode:{low:1,medium:0,quartile:3,high:2},formatMask:21522,formatBits(e,t){const n=bd.ECCode[e]<<3|t;let r=n;for(let e=0;e<10;e++)r=r<<1^1335*(r>>9);return(n<<10|r)^bd.formatMask},versionBits(e){let t=e;for(let e=0;e<12;e++)t=t<<1^7973*(t>>11);return e<<12|t},alphabet:{numeric:fd(\"0123456789\"),alphanumerc:fd(\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:\")},lengthBits:(e,t)=>({numeric:[10,12,14],alphanumeric:[9,11,13],byte:[8,16,16],kanji:[8,10,12],eci:[0,0,0]}[t][bd.sizeType(e)]),modeBits:{numeric:\"0001\",alphanumeric:\"0010\",byte:\"0100\",kanji:\"1000\",eci:\"0111\"},capacity(e,t){const n=vd[e-1],r=yd[t][e-1],i=Ed[t][e-1],o=Math.floor(n/i)-r,s=i-n%i;return{words:r,numBlocks:i,shortBlocks:s,blockLen:o,capacity:8*(n-r*i),total:(r+o)*i+i-s}}},wd=[(e,t)=>(e+t)%2==0,(e,t)=>t%2==0,(e,t)=>e%3==0,(e,t)=>(e+t)%3==0,(e,t)=>(Math.floor(t/2)+Math.floor(e/3))%2==0,(e,t)=>e*t%2+e*t%3==0,(e,t)=>(e*t%2+e*t%3)%2==0,(e,t)=>((e+t)%2+e*t%3)%2==0],Sd={tables:(e=>{const t=ld(256,0),n=ld(256,0);for(let e=0,r=1;e<256;e++)t[e]=r,n[r]=e,r<<=1,256&r&&(r^=285);return{exp:t,log:n}})(),exp:e=>Sd.tables.exp[e],log(e){if(0===e)throw new Error(`GF.log: wrong arg=${e}`);return Sd.tables.log[e]%255},mul:(e,t)=>0===e||0===t?0:Sd.tables.exp[(Sd.tables.log[e]+Sd.tables.log[t])%255],add:(e,t)=>e^t,pow:(e,t)=>Sd.tables.exp[Sd.tables.log[e]*t%255],inv(e){if(0===e)throw new Error(`GF.inverse: wrong arg=${e}`);return Sd.tables.exp[255-Sd.tables.log[e]]},polynomial(e){if(0==e.length)throw new Error(\"GF.polymomial: wrong length\");if(0!==e[0])return e;let t=0;for(;t<e.length-1&&0==e[t];t++);return e.slice(t)},monomial(e,t){if(e<0)throw new Error(`GF.monomial: wrong degree=${e}`);if(0==t)return[0];let n=ld(e+1,0);return n[0]=t,Sd.polynomial(n)},degree:e=>e.length-1,coefficient:(e,t)=>e[Sd.degree(e)-t],mulPoly(e,t){if(0===e[0]||0===t[0])return[0];const n=ld(e.length+t.length-1,0);for(let r=0;r<e.length;r++)for(let i=0;i<t.length;i++)n[r+i]=Sd.add(n[r+i],Sd.mul(e[r],t[i]));return Sd.polynomial(n)},mulPolyScalar(e,t){if(0==t)return[0];if(1==t)return e;const n=ld(e.length,0);for(let r=0;r<e.length;r++)n[r]=Sd.mul(e[r],t);return Sd.polynomial(n)},mulPolyMonomial(e,t,n){if(t<0)throw new Error(\"GF.mulPolyMonomial: wrong degree\");if(0==n)return[0];const r=ld(e.length+t,0);for(let t=0;t<e.length;t++)r[t]=Sd.mul(e[t],n);return Sd.polynomial(r)},addPoly(e,t){if(0===e[0])return t;if(0===t[0])return e;let n=e,r=t;n.length>r.length&&([n,r]=[r,n]);let i=ld(r.length,0),o=r.length-n.length,s=r.slice(0,o);for(let e=0;e<s.length;e++)i[e]=s[e];for(let e=o;e<r.length;e++)i[e]=Sd.add(n[e-o],r[e]);return Sd.polynomial(i)},remainderPoly(e,t){const n=Array.from(e);for(let r=0;r<e.length-t.length+1;r++){const e=n[r];if(0!==e)for(let i=1;i<t.length;i++)0!==t[i]&&(n[r+i]=Sd.add(n[r+i],Sd.mul(t[i],e)))}return n.slice(e.length-t.length+1,n.length)},divisorPoly(e){let t=[1];for(let n=0;n<e;n++)t=Sd.mulPoly(t,[1,Sd.pow(2,n)]);return t},evalPoly(e,t){if(0==t)return Sd.coefficient(e,0);let n=e[0];for(let r=1;r<e.length;r++)n=Sd.add(Sd.mul(t,n),e[r]);return n},euclidian(e,t,n){Sd.degree(e)<Sd.degree(t)&&([e,t]=[t,e]);let r=e,i=t,o=[0],s=[1];for(;2*Sd.degree(i)>=n;){let e=r,t=o;if(r=i,o=s,0===r[0])throw new Error(\"rLast[0] === 0\");i=e;let n=[0];const a=Sd.inv(r[0]);for(;Sd.degree(i)>=Sd.degree(r)&&0!==i[0];){const e=Sd.degree(i)-Sd.degree(r),t=Sd.mul(i[0],a);n=Sd.addPoly(n,Sd.monomial(e,t)),i=Sd.addPoly(i,Sd.mulPolyMonomial(r,e,t))}if(n=Sd.mulPoly(n,o),s=Sd.addPoly(n,t),Sd.degree(i)>=Sd.degree(r))throw new Error(`Division failed r: ${i}, rLast: ${r}`)}const a=Sd.coefficient(s,0);if(0==a)throw new Error(\"sigmaTilde(0) was zero\");const c=Sd.inv(a);return[Sd.mulPolyScalar(s,c),Sd.mulPolyScalar(i,c)]}};function _d(e,t){const{words:n,shortBlocks:r,numBlocks:i,blockLen:o,total:s}=bd.capacity(e,t),a=(c=n,{encode(e){const t=Sd.divisorPoly(c),n=Array.from(e);return n.push(...t.slice(0,-1).fill(0)),Uint8Array.from(Sd.remainderPoly(n,t))},decode(e){const t=e.slice(),n=Sd.polynomial(Array.from(e));let r=ld(c,0),i=!1;for(let e=0;e<c;e++){const t=Sd.evalPoly(n,Sd.exp(e));r[r.length-1-e]=t,0!==t&&(i=!0)}if(!i)return t;r=Sd.polynomial(r);const o=Sd.monomial(c,1),[s,a]=Sd.euclidian(o,r,c),d=ld(Sd.degree(s),0);let l=0;for(let e=1;e<256&&l<d.length;e++)0===Sd.evalPoly(s,e)&&(d[l++]=Sd.inv(e));if(l!==d.length)throw new Error(\"RS.decode: wrong errors number\");for(let e=0;e<d.length;e++){const n=t.length-1-Sd.log(d[e]);if(n<0)throw new Error(\"RS.decode: wrong error location\");const r=Sd.inv(d[e]);let i=1;for(let t=0;t<d.length;t++)e!==t&&(i=Sd.mul(i,Sd.add(1,Sd.mul(d[t],r))));t[n]=Sd.add(t[n],Sd.mul(Sd.evalPoly(a,r),Sd.inv(i)))}return t}});var c;return{encode(e){const t=[],n=[];for(let s=0;s<i;s++){const i=o+(s<r?0:1);t.push(e.subarray(0,i)),n.push(a.encode(e.subarray(0,i))),e=e.subarray(i)}const s=ud(...t),c=ud(...n),d=new Uint8Array(s.length+c.length);return d.set(s),d.set(c,s.length),d},decode(e){if(e.length!==s)throw new Error(`interleave.decode: len(data)=${e.length}, total=${s}`);const t=[];for(let e=0;e<i;e++){const i=e<r;t.push(new Uint8Array(n+o+(i?0:1)))}let c=0;for(let n=0;n<o;n++)for(let r=0;r<i;r++)t[r][n]=e[c++];for(let n=r;n<i;n++)t[n][o]=e[c++];for(let s=o;s<o+n;s++)for(let n=0;n<i;n++){const i=n<r;t[n][s+(i?0:1)]=e[c++]}const d=[];for(const e of t)d.push(...Array.from(a.decode(e)).slice(0,-n));return Uint8Array.from(d)}}}function Cd(e,t,n,r){let i=\"\",o=n.length;if(\"numeric\"===r){const e=bd.alphabet.numeric.decode(n.split(\"\")),t=e.length;for(let n=0;n<t-2;n+=3)i+=cd(100*e[n]+10*e[n+1]+e[n+2],10);t%3==1?i+=cd(e[t-1],4):t%3==2&&(i+=cd(10*e[t-2]+e[t-1],7))}else if(\"alphanumeric\"===r){const e=bd.alphabet.alphanumerc.decode(n.split(\"\")),t=e.length;for(let n=0;n<t-1;n+=2)i+=cd(45*e[n]+e[n+1],11);t%2==1&&(i+=cd(e[t-1],6))}else{if(\"byte\"!==r)throw new Error(\"encode: unsupported type\");{const e=function(e){if(\"string\"!=typeof e)throw new Error(\"utf8ToBytes expected string, got \"+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(n);o=e.length,i=Array.from(e).map((e=>cd(e,8))).join(\"\")}}const{capacity:s}=bd.capacity(e,t),a=cd(o,bd.lengthBits(e,r));let c=bd.modeBits[r]+a+i;if(c.length>s)throw new Error(\"Capacity overflow\");c+=\"0\".repeat(Math.min(4,Math.max(0,s-c.length))),c.length%8&&(c+=\"0\".repeat(8-c.length%8));const d=\"1110110000010001\";for(let e=0;c.length!==s;e++)c+=d[e%16];const l=Uint8Array.from(c.match(/(.{8})/g).map((e=>Number(`0b${e}`))));return _d(e,t).encode(l)}function xd(e,t,n,r,i=!1){const o=function(e,t,n,r=!1){const i=bd.size.encode(e);let o=new pd(i+2);const s=new pd(3).rect(0,3,!0).border(1,!1).border(1,!0).border(1,!1);o=o.embed(0,s).embed({x:-s.width,y:0},s).embed({x:0,y:-s.height},s),o=o.rectSlice(1,i);const a=new pd(1).rect(0,1,!0).border(1,!1).border(1,!0),c=bd.alignmentPatterns(e);for(const e of c)for(const t of c)void 0===o.data[e][t]&&o.embed({x:t-2,y:e-2},a);o=o.hLine({x:0,y:6},1/0,(({x:e},t)=>void 0===t?e%2==0:t)).vLine({x:6,y:0},1/0,(({y:e},t)=>void 0===t?e%2==0:t));{const e=bd.formatBits(t,n),s=t=>!r&&1==(e>>t&1);for(let e=0;e<6;e++)o.data[e][8]=s(e);for(let e=6;e<8;e++)o.data[e+1][8]=s(e);for(let e=8;e<15;e++)o.data[i-15+e][8]=s(e);for(let e=0;e<8;e++)o.data[8][i-e-1]=s(e);for(let e=8;e<9;e++)o.data[8][15-e-1+1]=s(e);for(let e=9;e<15;e++)o.data[8][15-e-1]=s(e);o.data[i-8][8]=!r}if(e>=7){const t=bd.versionBits(e);for(let e=0;e<18;e+=1){const n=!r&&1==(t>>e&1),s=Math.floor(e/3),a=e%3+i-8-3;o.data[s][a]=n,o.data[a][s]=n}}return o}(e,t,r,i);let s=0;const a=8*n.length;if(function(e,t,n){const r=e.height,i=wd[t];let o=-1,s=r-1;for(let t=r-1;t>0;t-=2){for(6==t&&(t=5);;s+=o){for(let r=0;r<2;r+=1){const o=t-r;void 0===e.data[s][o]&&n(o,s,i(o,s))}if(s+o<0||s+o>=r)break}o=-o}}(o,r,((e,t,r)=>{let i=!1;s<a&&(i=0!=(n[s>>>3]>>(7-s&7)&1),s++),o.data[t][e]=i!==r})),s!==a)throw new Error(\"QR: bytes left after draw\");return o}function kd(e){const t=e.inverse(),n=e=>{let t=0;for(let n,r=0,i=1;r<e.length;r++)n===e[r]&&(i++,r!==e.length-1)||(i>=5&&(t+=i-5+3),n=e[r],i=1);return t};let r=0;e.data.forEach((e=>r+=n(e))),t.data.forEach((e=>r+=n(e)));let i=0,o=e.data;const s=e.width-1,a=e.height-1;for(let e=0;e<s;e++)for(let t=0;t<a;t++){const n=e+1,r=t+1;o[e][t]===o[n][t]&&o[n][t]===o[e][r]&&o[n][t]===o[n][r]&&(i+=3)}const c=e=>{const t=[!0,!1,!0,!0,!0,!1,!0],n=[!1,!1,!1,!1],r=[...t,...n],i=[...n,...t];let o=0;for(let t=0;t<e.length;t++)hd(e,r,t)&&(o+=40),hd(e,i,t)&&(o+=40);return o};let d=0;for(const t of e.data)d+=c(t);for(const e of t.data)d+=c(e);let l=0;e.rectRead(0,1/0,((e,t)=>l+=t?1:0));const u=l/(e.height*e.width)*100,h=10*Math.floor(Math.abs(u-50)/5);return r+i+d+h}function Md(e,t=\"raw\",n={}){const r=void 0!==n.ecc?n.ecc:\"medium\";!function(e){if(!md.includes(e))throw new Error(`Invalid error correction mode=${e}. Expected: ${md}`)}(r);const i=void 0!==n.encoding?n.encoding:function(e){let t=\"numeric\";for(let n of e)if(!bd.alphabet.numeric.has(n)&&(t=\"alphanumeric\",!bd.alphabet.alphanumerc.has(n)))return\"byte\";return t}(e);!function(e){if(!gd.includes(e))throw new Error(`Encoding: invalid mode=${e}. Expected: ${gd}`);if(\"kanji\"===e||\"eci\"===e)throw new Error(`Encoding: ${e} is not supported (yet?).`)}(i),void 0!==n.mask&&function(e){if(![0,1,2,3,4,5,6,7].includes(e)||!wd[e])throw new Error(`Invalid mask=${e}. Expected number [0..7]`)}(n.mask);let o,s=n.version,a=new Error(\"Unknown error\");if(void 0!==s)!function(e){if(!Number.isSafeInteger(e)||e<1||e>40)throw new Error(`Invalid version=${e}. Expected number [1..40]`)}(s),o=Cd(s,r,e,i);else for(let t=1;t<=40;t++)try{o=Cd(t,r,e,i),s=t;break}catch(e){a=e}if(!s||!o)throw a;let c=function(e,t,n,r){if(void 0===r){const i=function(){let e,t=1/0;return{add(n,r){n>=t||(e=r,t=n)},get:()=>e,score:()=>t}}();for(let r=0;r<wd.length;r++)i.add(kd(xd(e,t,n,r,!0)),r);r=i.get()}if(void 0===r)throw new Error(\"Cannot find mask\");return xd(e,t,n,r)}(s,r,o,n.mask);c.assertDrawn();const d=void 0===n.border?2:n.border;if(!Number.isSafeInteger(d))throw new Error(\"Wrong border type=\"+typeof d);if(c=c.border(d,!1),void 0!==n.scale&&(c=c.scale(n.scale)),\"raw\"===t)return c.data;if(\"ascii\"===t)return c.toASCII();if(\"svg\"===t)return c.toSVG();if(\"gif\"===t)return c.toGIF();if(\"term\"===t)return c.toTerm();throw new Error(`Unknown output: ${t}`)}const Ad=({link:e})=>{const t=Md(e,\"ascii\");return console.log(t),Ra(`[UI: InstallModal-nodejs()] qrcode url: ${e}`),{unmount:()=>{}}},Td=()=>(Ra(\"[UI: pendingModal-nodejs: PendingModal()] Please open the MetaMask wallet app and confirm the connection. Thank you!\"),{unmount:()=>!1,updateOTPValue:e=>{\"\"!==e&&Ra(`[UI: pendingModal-nodejs: PendingModal()] Choose the following value on your metamask mobile wallet: ${e}`)},mount:()=>!1});function Id(e,t){var n,r,i,o;e.connector||(Ra(\"[RemoteConnection: initializeConnector()] initialize connector\"),e.connector=new Br({platformType:t.platformManager.getPlatformType(),communicationLayerPreference:t.communicationLayerPreference,transports:t.transports,dappMetadata:Object.assign(Object.assign({},t.dappMetadata),{source:t._source}),analytics:t.enableAnalytics,communicationServerUrl:t.communicationServerUrl,sdkVersion:hc.version,context:\"dapp\",ecies:t.ecies,storage:t.storage,logging:t.logging}),t.timer&&(Ra(\"[RemoteConnection: initializeConnector()] reset background timer\",t.timer),null===(r=null===(n=t.timer)||void 0===n?void 0:n.stopBackgroundTimer)||void 0===r||r.call(n),null===(o=null===(i=t.timer)||void 0===i?void 0:i.runBackgroundTimer)||void 0===o||o.call(i,(()=>!1),1e4)))}function Pd(e){e.listeners.forEach((({event:t,handler:n})=>{var r;null===(r=e.connector)||void 0===r||r.off(t,n)})),e.listeners=[]}function Rd(e,t,n){return l(this,void 0,void 0,(function*(){return new Promise(((r,i)=>{if(!e.connector)return void i(new Error(\"No connector available\"));Ra(\"[RemoteConnection: connectWithModalInstaller()]\",{state:e,options:t,linkParams:n});const o=`${e.useDeeplink?mc:pc}?${n}`;!function(e,t,n){var r,i,o,s;e.installModal=null===(i=(r=t.modals).install)||void 0===i?void 0:i.call(r,{link:n,preferDesktop:e.preferDesktop,installer:t.getMetaMaskInstaller(),terminate:()=>{Ra(\"[RemoteConnection: showInstallModal() => terminate()] terminate connection\"),t.sdk.terminate().catch((e=>{console.warn(\"[MMSDK] failed to terminate connection\",e)}))},debug:e.developerMode,connectWithExtension:()=>{var e;return null===(e=t.connectWithExtensionProvider)||void 0===e||e.call(t),!1},onAnalyticsEvent:({event:n,params:r})=>{var i,o,s;const a=Object.assign(Object.assign({},r),{sdkVersion:t.sdk.getVersion(),dappId:null===(i=t.dappMetadata)||void 0===i?void 0:i.name,source:t._source,url:null===(o=t.dappMetadata)||void 0===o?void 0:o.url});null===(s=e.analytics)||void 0===s||s.send({event:n,params:a})}}),null===(s=null===(o=e.installModal)||void 0===o?void 0:o.mount)||void 0===s||s.call(o,n)}(e,t,o),t.sdk.once(exports.EventType.PROVIDER_UPDATE,(e=>l(this,void 0,void 0,(function*(){if(Ra(\"[RemoteConnection: connectWithModalInstaller()] once provider_update -- resolving startConnection promise\"),e!==exports.PROVIDER_UPDATE_TYPE.TERMINATE)i(e);else{i({code:4001,message:\"User rejected the request.\"})}})))),e.connector.once(exports.EventType.AUTHORIZED,(()=>{r()})),e.connector.once(exports.EventType.REJECTED,(()=>{i(exports.EventType.REJECTED)})),e.connector.once(exports.EventType.CLIENTS_READY,(()=>l(this,void 0,void 0,(function*(){Ra(\"[RemoteConnection: connectWithModalInstaller()] once clients_ready -- resolving startConnection promise\"),r()}))))}))}))}function Od(e,t){function n(t,n){var r;null===(r=e.connector)||void 0===r||r.on(t,n),e.listeners.push({event:t,handler:n})}e.connector&&(Pd(e),n(exports.EventType.WALLET_INIT,(({accounts:e,chainId:t})=>l(this,void 0,void 0,(function*(){Ra(`[RemoteConnection: setupListeners() => EventType.WALLET_INIT] 'wallet_init' accounts=${e} chainId=${t}`);const n=ac.getProvider();n._setConnected();const r={accounts:e,chainId:t,isUnlocked:!1};n._initializeState(r),n.emit(\"chainChanged\",t),n.emit(\"accountsChanged\",e)})))),n(exports.EventType.AUTHORIZED,(()=>l(this,void 0,void 0,(function*(){var t,n,r,i;try{Ra(\"[RemoteConnection: setupListeners() => EventType.AUTHORIZED] 'authorized' closing modals\",e.pendingModal,e.installModal);const o=ac.getProvider();o._setConnected(),null===(n=null===(t=e.pendingModal)||void 0===t?void 0:t.unmount)||void 0===n||n.call(t),null===(i=null===(r=e.installModal)||void 0===r?void 0:r.unmount)||void 0===i||i.call(r,!1),e.otpAnswer=void 0,e.authorized=!0,Ra(\"[RemoteConnection: setupListeners() => EventType.AUTHORIZED] 'authorized' provider.state\",o.getState()),yield o.forceInitializeState()}catch(e){}})))),n(exports.EventType.TERMINATE,(()=>{var t,n,r,i,o;null===(n=null===(t=e.pendingModal)||void 0===t?void 0:t.unmount)||void 0===n||n.call(t),null===(i=null===(r=e.installModal)||void 0===r?void 0:r.unmount)||void 0===i||i.call(r,!0),e.pendingModal=void 0,e.installModal=void 0,e.otpAnswer=void 0,null===(o=e.connector)||void 0===o||o.disconnect({terminate:!0}),e.authorized=!1;ac.getProvider().handleDisconnect({terminate:!0}),Pd(e),Ra(\"[RemoteConnection: setupListeners()] All listeners cleaned up\")})))}function Nd(e,t,{initialCheck:n,connectWith:r}={}){var i,o,s,a,c,d,u,h,f,p,m,g,v,y,E,b,w,S,_;return l(this,void 0,void 0,(function*(){try{if(Id(e,t),!e.connector)throw new Error(\"no connector defined\");Od(e);const C=ac.getProvider();e.authorized=!1,C.emit(\"connecting\");const x=yield null===(i=e.connector)||void 0===i?void 0:i.originatorSessionConnect();Ra(`[RemoteConnection: startConnection()] after originatorSessionConnect initialCheck=${n}`,x);let k=null!==(o=null==x?void 0:x.channelId)&&void 0!==o?o:\"\",M=null!==(a=null===(s=e.connector.getKeyInfo())||void 0===s?void 0:s.ecies.public)&&void 0!==a?a:\"\",A=null!==(d=null===(c=e.connector.getKeyInfo())||void 0===c?void 0:c.ecies.private)&&void 0!==d?d:\"\";if(n&&!x)return Promise.resolve();if(!x&&!n){const t=yield e.connector.generateChannelIdConnect();k=null!==(u=t.channelId)&&void 0!==u?u:\"\",M=null!==(h=t.pubKey)&&void 0!==h?h:\"\",A=null!==(f=t.privKey)&&void 0!==f?f:\"\";const n=Date.now();null===(p=e.connector.state.storageManager)||void 0===p||p.persistChannelConfig({channelId:k,localKey:A,lastActive:n,validUntil:n+ir})}if(n&&(null==x?void 0:x.channelId))return(null===(m=e.connector)||void 0===m?void 0:m.isConnected())||(Ra(`[RemoteConnection: startConnection()] reconnecting to channel initialCheck=${n}`,x),yield null===(g=e.connector)||void 0===g?void 0:g.connectToChannel({channelId:k})),Promise.resolve();x&&!(null===(v=e.connector)||void 0===v?void 0:v.isConnected())&&(Ra(\"[RemoteConnection: startConnection()] reconnecting to channel\",x),yield null===(y=e.connector)||void 0===y?void 0:y.connectToChannel({channelId:k}));const T=(null===(E=e.platformManager)||void 0===E?void 0:E.isSecure())?\"\":\"&t=q\",I=hc.version,{iconUrl:P,name:R,url:O,scheme:N}=t.dappMetadata||{},D=null===(b=e.platformManager)||void 0===b?void 0:b.getPlatformType();let L=\"N/A\";\"undefined\"!=typeof window&&window.location&&window.location.hostname?L=window.location.hostname:void 0!==R?L=R:void 0!==O&&(L=O);const B={url:null!=O?O:\"\",title:null!=R?R:\"\",icon:P,scheme:null!=N?N:\"\",apiVersion:I,dappId:L||O||\"N/A\",platform:null!=D?D:\"\",source:null!==(w=t._source)&&void 0!==w?w:\"\"},K=Rc(JSON.stringify(B));let j=`channelId=${k}&v=2&comm=${null!==(S=e.communicationLayerPreference)&&void 0!==S?S:\"\"}&pubkey=${M}${T}&originatorInfo=${K}`;if(r){j+=`&rpc=${Rc(JSON.stringify(r))}`;const t=e.connector.getRPCMethodTracker();t&&(t[`${r.id}`]=Object.assign(Object.assign({},r),{id:`${r.id}`,timestamp:Date.now()}))}const $=encodeURI(j),H=`${e.useDeeplink?mc:pc}?${j}`;return e.qrcodeLink=H,e.developerMode&&Ra(`[RemoteConnection: startConnection()] qrcodeLink=${$}`),C.emit(\"display_uri\",H),(null===(_=e.platformManager)||void 0===_?void 0:_.isSecure())?(yield function(e,t){var n,r;return l(this,void 0,void 0,(function*(){const i=`${pc}?${t}`,o=`${mc}?${t}`;null===(r=null===(n=e.platformManager)||void 0===n?void 0:n.openDeeplink)||void 0===r||r.call(n,i,o,\"_self\")}))}(e,$),new Promise(((t,n)=>{var r,i,o;(null===(r=e.connector)||void 0===r?void 0:r.isAuthorized())?t():(null===(i=e.connector)||void 0===i||i.once(exports.EventType.AUTHORIZED,(()=>{t()})),null===(o=e.connector)||void 0===o||o.once(exports.EventType.REJECTED,(()=>{n(exports.EventType.REJECTED)})))}))):Rd(e,t,$)}catch(e){throw console.error(\"[startConnection] error\",e),e}}))}class Dd{constructor(e){var t,n,r;this.state={connector:void 0,qrcodeLink:void 0,analytics:void 0,developerMode:!1,authorized:!1,reconnection:!1,preferDesktop:!1,deeplinkProtocol:!1,listeners:[],communicationLayerPreference:void 0,platformManager:void 0,pendingModal:void 0,installModal:void 0,otpAnswer:void 0},this.options=e;const i=!0===(null===(t=e.logging)||void 0===t?void 0:t.developerMode)||!0===(null===(n=e.logging)||void 0===n?void 0:n.sdk);this.state.developerMode=i,this.state.analytics=e.analytics,this.state.preferDesktop=null!==(r=e.preferDesktop)&&void 0!==r&&r,this.state.useDeeplink=e.sdk.options.useDeeplink,this.state.communicationLayerPreference=e.communicationLayerPreference,this.state.platformManager=e.platformManager,e.modals.install||(e.modals.install=Ad),e.modals.otp||(e.modals.otp=Td)}startConnection(e){return l(this,void 0,void 0,(function*(){return Nd(this.state,this.options,e)}))}initRemoteCommunication({sdkInstance:e}){var t,n,r;return l(this,void 0,void 0,(function*(){const i=yield null===(n=null===(t=e.options.storage)||void 0===t?void 0:t.storageManager)||void 0===n?void 0:n.getPersistedChannelConfig();if(!this.options.ecies){const e={privateKey:null==i?void 0:i.localKey};this.options.ecies=e}Id(this.state,this.options),yield null===(r=this.getConnector())||void 0===r?void 0:r.initFromDappStorage(),Od(this.state,this.options)}))}showActiveModal(){return function(e){var t,n,r,i;e.authorized?Ra(\"[RemoteConnection: showActiveModal()] already authorized\"):e.pendingModal?null===(n=(t=e.pendingModal).mount)||void 0===n||n.call(t):e.installModal&&(null===(i=(r=e.installModal).mount)||void 0===i||i.call(r,e.qrcodeLink||\"\"))}(this.state)}closeModal(){var e,t,n,r;null===(t=null===(e=this.state.pendingModal)||void 0===e?void 0:e.unmount)||void 0===t||t.call(e),null===(r=null===(n=this.state.installModal)||void 0===n?void 0:n.unmount)||void 0===r||r.call(n,!1)}getUniversalLink(){if(!this.state.qrcodeLink)throw new Error(\"connection not started. run startConnection() first.\");return this.state.qrcodeLink}getChannelConfig(){var e;return null===(e=this.state.connector)||void 0===e?void 0:e.getChannelConfig()}getKeyInfo(){var e;return null===(e=this.state.connector)||void 0===e?void 0:e.getKeyInfo()}getConnector(){if(!this.state.connector)throw new Error(\"invalid remote connector\");return this.state.connector}getPlatformManager(){if(!this.state.platformManager)throw new Error(\"PlatformManager not available\");return this.state.platformManager}isConnected(){var e;return(null===(e=this.state.connector)||void 0===e?void 0:e.isReady())||!1}isAuthorized(){var e;return(null===(e=this.state.connector)||void 0===e?void 0:e.isAuthorized())||!1}isPaused(){var e;return null===(e=this.state.connector)||void 0===e?void 0:e.isPaused()}disconnect(e){var t,n,r;Ra(\"[RemoteConnection: disconnect()]\",e),(null==e?void 0:e.terminate)&&(ac.getProvider().handleDisconnect({terminate:!0}),null===(n=null===(t=this.state.pendingModal)||void 0===t?void 0:t.unmount)||void 0===n||n.call(t),this.state.otpAnswer=void 0),null===(r=this.state.connector)||void 0===r||r.disconnect(e),function(e){Ra(\"[RemoteConnection: cleanupConnector()] cleaning up connector\"),e.connector&&(Pd(e),e.connector.disconnect({terminate:!0}).catch((e=>{Ra(\"[RemoteConnection: cleanupConnector()] error disconnecting connector\",e)})))}(this.state)}}function Ld(e){var n,r,i,o,s,a,c,d,u,h,f;return l(this,void 0,void 0,(function*(){const{options:p}=e;if(p.logging=null!==(n=p.logging)&&void 0!==n?n:{},p.communicationLayerPreference=null!==(r=p.communicationLayerPreference)&&void 0!==r?r:exports.CommunicationLayerPreference.SOCKET,void 0!==p.enableDebug&&(t.enable(\"MM_SDK\"),console.warn(\"enableDebug is removed. Please use enableAnalytics instead.\")),p.enableAnalytics=null===(i=p.enableAnalytics)||void 0===i||i,p.injectProvider=null===(o=p.injectProvider)||void 0===o||o,p.shouldShimWeb3=null===(s=p.shouldShimWeb3)||void 0===s||s,p.extensionOnly=null===(a=p.extensionOnly)||void 0===a||a,p.useDeeplink=null===(c=p.useDeeplink)||void 0===c||c,p.storage=null!==(d=p.storage)&&void 0!==d?d:{enabled:!0},p.headless){t(\"[MetaMaskSDK: performSDKInitialization()] headless mode enabled\");const e=()=>{},n={install:()=>({mount:e,unmount:e})},r={installer:e};p.modals=n,p.ui=r}const m=!0===(null===(u=p.logging)||void 0===u?void 0:u.developerMode);e.debug=(null===(h=p.logging)||void 0===h?void 0:h.sdk)||m,Ra(\"[MetaMaskSDK: performSDKInitialization()] options\",e.options);const g=Object.assign({},p.logging);m&&(g.sdk=!0,g.eciesLayer=!0,g.keyExchangeLayer=!0,g.remoteLayer=!0,g.serviceLayer=!0,g.plaintext=!0),yield function(e){var t;return l(this,void 0,void 0,(function*(){const{options:n}=e;e.platformManager=new cc({useDeepLink:null!==(t=n.useDeeplink)&&void 0!==t&&t,preferredOpenLink:n.openDeeplink,debug:e.debug})}))}(e),yield function(e){var t,n,r,i,o,s,a,c,d;return l(this,void 0,void 0,(function*(){const{options:l}=e,u=null===(t=e.platformManager)||void 0===t?void 0:t.getPlatformType();e.analytics=new $c({serverUrl:null!==(n=l.communicationServerUrl)&&void 0!==n?n:nr,enabled:l.enableAnalytics,originatorInfo:{url:null!==(r=l.dappMetadata.url)&&void 0!==r?r:\"\",title:null!==(i=l.dappMetadata.name)&&void 0!==i?i:\"\",dappId:\"undefined\"==typeof window||void 0===window.location?null!==(c=null!==(s=null===(o=l.dappMetadata)||void 0===o?void 0:o.name)&&void 0!==s?s:null===(a=l.dappMetadata)||void 0===a?void 0:a.url)&&void 0!==c?c:\"N/A\":window.location.hostname,platform:null!=u?u:\"\",source:null!==(d=l._source)&&void 0!==d?d:\"\"}})}))}(e),yield function(e){var t;return l(this,void 0,void 0,(function*(){const{options:n}=e;!0!==(null===(t=n.storage)||void 0===t?void 0:t.enabled)||n.storage.storageManager||(n.storage.storageManager=yield dc(n.storage))}))}(e),yield function(e){return l(this,void 0,void 0,(function*(){const{options:t}=e,n=/^(http|https):\\/\\/[^\\s]*$/;if(t.dappMetadata){t.dappMetadata.iconUrl&&!n.test(t.dappMetadata.iconUrl)&&(console.warn(\"Invalid dappMetadata.iconUrl: URL must start with http:// or https://\"),t.dappMetadata.iconUrl=void 0),t.dappMetadata.base64Icon&&t.dappMetadata.base64Icon.length>Uc&&(console.warn(\"Invalid dappMetadata.base64Icon: Base64-encoded icon string length must be less than 163400 characters\"),t.dappMetadata.base64Icon=void 0),t.dappMetadata.url&&!n.test(t.dappMetadata.url)&&console.warn(\"Invalid dappMetadata.url: URL must start with http:// or https://\");const e=Hc();if(e&&!t.dappMetadata.iconUrl&&!t.dappMetadata.base64Icon){const n=`${window.location.protocol}//${window.location.host}${e}`;t.dappMetadata.iconUrl=n}}e.dappMetadata=t.dappMetadata}))}(e),yield Vc(e),yield Gc(e);const{metamaskBrowserExtension:v,preferExtension:y,shouldReturn:E}=yield function(e){var t,n,r,i;return l(this,void 0,void 0,(function*(){const{options:o}=e;let s,a=!1,c=!1;if(\"undefined\"!=typeof window&&window.ethereum&&!(null===(t=e.platformManager)||void 0===t?void 0:t.isMetaMaskMobileWebView())){a=\"extension\"===localStorage.getItem(_c);try{s=yield Wc({mustBeMetaMask:!0,sdkInstance:e}),window.extension=s,s.on(kc.CHAIN_CHANGED,(t=>{Ra(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE chainChanged chainId=${t}`),Boolean(e.sdkProvider)&&e.getMobileProvider().emit(kc.CHAIN_CHANGED,t)})),s.on(kc.ACCOUNTS_CHANGED,(t=>l(this,void 0,void 0,(function*(){var n;Ra(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE accountsChanged accounts=${t}`);const r=Boolean(e.sdkProvider),i=Boolean(e.extensionActive);if(r&&e.getMobileProvider().emit(kc.ACCOUNTS_CHANGED,t),i&&0===(null==t?void 0:t.length)&&0===(yield null===(n=e.getProvider())||void 0===n?void 0:n.request({method:yc.WALLET_GETPERMISSIONS,params:[]})).length)try{yield e.terminate()}catch(e){Ra(\"[MetaMaskSDK: setupExtensionPreferences()] error terminating on permissions revoked\",e)}})))),s.on(kc.DISCONNECT,(t=>{Ra(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE disconnect error=${t}`),Boolean(e.sdkProvider)&&e.getMobileProvider().emit(kc.DISCONNECT,t)})),s.on(kc.CONNECT,(t=>{Ra(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE connect args=${t}`),Boolean(e.sdkProvider)&&e.getMobileProvider().emit(kc.CONNECT,t)})),s.on(kc.CONNECTED,(t=>{Ra(\"[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE connected\",t),Boolean(e.sdkProvider)&&e.getMobileProvider().emit(kc.CONNECTED,t)}))}catch(e){window.extension=void 0}}else(null===(n=e.platformManager)||void 0===n?void 0:n.isMetaMaskMobileWebView())&&(null===(r=e.analytics)||void 0===r||r.send({event:lr.SDK_USE_INAPP_BROWSER}),e.activeProvider=qc({provider:window.ethereum,sdkInstance:e}),e._initialized=!0,c=!0);return s&&o.extensionOnly&&(Ra(\"[MetaMaskSDK: setupExtensionPreferences()] EXTENSION ONLY --- prevent sdk initialization\"),null===(i=e.analytics)||void 0===i||i.send({event:lr.SDK_USE_EXTENSION}),e.activeProvider=s,e.extensionActive=!0,e.extension=s,e._initialized=!0,c=!0),{preferExtension:a,shouldReturn:c,metamaskBrowserExtension:s}}))}(e);if(E)Ra(\"[MetaMaskSDK: performSDKInitialization()] shouldReturn=true --- prevent sdk initialization\");else{yield function(e,t){var n,r,i,o,s;return l(this,void 0,void 0,(function*(){const{options:a}=e,c=Object.assign({},a.logging);e.remoteConnection=new Dd({preferDesktop:null!==(n=a.preferDesktop)&&void 0!==n&&n,communicationLayerPreference:null!==(r=a.communicationLayerPreference)&&void 0!==r?r:exports.CommunicationLayerPreference.SOCKET,analytics:e.analytics,dappMetadata:a.dappMetadata,_source:a._source,enableAnalytics:null===(i=a.enableAnalytics)||void 0===i||i,timer:a.timer,sdk:e,platformManager:e.platformManager,transports:a.transports,communicationServerUrl:a.communicationServerUrl,storage:null!==(o=a.storage)&&void 0!==o?o:{enabled:!0},getMetaMaskInstaller:()=>{if(!e.installer)throw new Error(\"Invalid SDK status -- installer not initialized\");return e.installer},logging:c,connectWithExtensionProvider:void 0===t?void 0:()=>Pc(e),modals:Object.assign(Object.assign({},a.modals),{onPendingModalDisconnect:e.terminate.bind(e)})}),yield e.remoteConnection.initRemoteCommunication({sdkInstance:e}),e.installer=new ad({remote:e.remoteConnection,preferDesktop:null!==(s=a.preferDesktop)&&void 0!==s&&s,platformManager:e.platformManager,debug:e.debug})}))}(e,v),yield Kc(e),yield function(e,t){var n,r;return l(this,void 0,void 0,(function*(){const{options:i}=e;t?(Ra(\"[MetaMaskSDK: handleAutoAndExtensionConnections()] preferExtension is detected -- connect with it.\"),null===(n=e.analytics)||void 0===n||n.send({event:lr.SDK_EXTENSION_UTILIZED}),Pc(e).catch((e=>{console.warn(\"Can't connect with MetaMask extension...\",e),localStorage.removeItem(_c)}))):i.checkInstallationImmediately&&((null===(r=e.platformManager)||void 0===r?void 0:r.isDesktopWeb())?(Ra(\"[MetaMaskSDK: handleAutoAndExtensionConnections()] checkInstallationImmediately\"),e.connect().catch((e=>{Ra(`[MetaMaskSDK: handleAutoAndExtensionConnections()] checkInstallationImmediately --- IGNORED --- error on autoconnect _err=${e}`)}))):console.warn(\"[handleAutoAndExtensionConnections()] checkInstallationImmediately --- IGNORED --- only for web desktop\")),e._initialized=!0}))}(e,y);try{yield null===(f=e.remoteConnection)||void 0===f?void 0:f.startConnection({initialCheck:!0})}catch(e){console.error(\"[MetaMaskSDK: setupRemoteConnectionAndInstaller()] Error while checking installation\",e)}e.emit(sc.ProviderUpdate,exports.PROVIDER_UPDATE_TYPE.INITIALIZED)}}))}class Bd extends i{constructor(e={storage:{enabled:!0},injectProvider:!0,forceInjectProvider:!1,enableAnalytics:!0,shouldShimWeb3:!0,useDeeplink:!0,extensionOnly:!0,headless:!1,dappMetadata:{name:\"\",url:\"\",iconUrl:\"\"},_source:fc,i18nOptions:{enabled:!1}}){var n,r,i;super(),this.extensionActive=!1,this._initialized=!1,this.sdkInitPromise=void 0,this.debug=!1,this.readonlyRPCCalls=!1,this.availableLanguages=[\"en\"],t.disable();const o=!0===(null===(n=e.logging)||void 0===n?void 0:n.developerMode);if(((null===(r=e.logging)||void 0===r?void 0:r.sdk)||o)&&t.enable(\"MM_SDK\"),Ra(\"[MetaMaskSDK: constructor()]: begin.\"),this.setMaxListeners(50),!(null===(i=e.dappMetadata)||void 0===i?void 0:i.url)){if(\"undefined\"==typeof window||\"undefined\"==typeof document)throw new Error(\"You must provide dAppMetadata url\");e.dappMetadata=Object.assign(Object.assign({},e.dappMetadata),{url:`${window.location.protocol}//${window.location.host}`})}this.options=e,this.options._source||(e._source=fc),this.init().then((()=>{Ra(\"[MetaMaskSDK: constructor()]: initialized successfully.\"),\"undefined\"!=typeof window&&(window.mmsdk=this)})).catch((e=>{console.error(\"[MetaMaskSDK: constructor()] error during initialization\",e)}))}init(){return l(this,void 0,void 0,(function*(){return function(e){var t;return l(this,void 0,void 0,(function*(){if(\"undefined\"!=typeof window&&(null===(t=window.mmsdk)||void 0===t?void 0:t.isInitialized()))return Ra(\"[MetaMaskSDK: initializeMetaMaskSDK()] already initialized\"),Promise.resolve(window.mmsdk);if(e._initialized)return Ra(\"[MetaMaskSDK: initializeMetaMaskSDK()] already initialized\"),e.sdkInitPromise;if(e.sdkInitPromise)return Ra(\"[MetaMaskSDK: initializeMetaMaskSDK()] already initializing\"),e.sdkInitPromise;try{e.sdkInitPromise=Ld(e),yield e.sdkInitPromise}catch(e){throw console.error(e),e}return e.sdkInitPromise}))}(this)}))}isExtensionActive(){return this.extensionActive}checkExtensionAvailability(){var e;return\"undefined\"!=typeof window&&Boolean(null===(e=window.ethereum)||void 0===e?void 0:e.isMetaMask)}connect(){return l(this,void 0,void 0,(function*(){return function(e){return l(this,void 0,void 0,(function*(){if(e._initialized||(Ra(\"[MetaMaskSDK: connect()] provider not ready -- wait for init()\"),yield e.init()),Ra(`[MetaMaskSDK: connect()] isExtensionActive=${e.isExtensionActive()} activeProvider`,e.activeProvider),!e.activeProvider)throw new Error(\"SDK state invalid -- undefined provider\");const t=e.activeProvider.getSelectedAddress();return t?[t]:e.activeProvider.request({method:yc.ETH_REQUESTACCOUNTS,params:[]})}))}(this)}))}connectAndSign({msg:e}){return l(this,void 0,void 0,(function*(){return Ic({instance:this,msg:e})}))}connectWith(e){return l(this,void 0,void 0,(function*(){return function({instance:e,rpc:t}){return l(this,void 0,void 0,(function*(){if(e._initialized||(Ra(\"[MetaMaskSDK: connectWith()] provider not ready -- wait for init()\"),yield e.init()),Ra(`[MetaMaskSDK: connectWith()] method: ${t.method} rpc=${t}`),!e.activeProvider)throw new Error(\"SDK state invalid -- undefined provider\");return e.activeProvider.request({method:yc.METAMASK_CONNECTWITH,params:[t]})}))}({instance:this,rpc:e})}))}resume(){return function(e){var t,n,r;return l(this,void 0,void 0,(function*(){if(!(null===(n=null===(t=e.remoteConnection)||void 0===t?void 0:t.getConnector())||void 0===n?void 0:n.isReady()))return Ra(\"[MetaMaskSDK: resume()] channel is not ready -- starting connection\"),void(null===(r=e.remoteConnection)||void 0===r||r.startConnection());Ra(\"[MetaMaskSDK: resume()] channel is ready\")}))}(this)}disconnect(){return console.warn(\"MetaMaskSDK.disconnect() is deprecated, use terminate()\"),this.terminate()}isAuthorized(){var e;null===(e=this.remoteConnection)||void 0===e||e.isAuthorized()}terminate(){return function(e){var t,n,r;return l(this,void 0,void 0,(function*(){if(!(null===(t=e.platformManager)||void 0===t?void 0:t.isMetaMaskMobileWebView())){if(Tc&&(window.localStorage.removeItem(_c),window.localStorage.removeItem(xc),window.localStorage.removeItem(Cc)),e.extensionActive){try{yield null===(n=e.activeProvider)||void 0===n?void 0:n.request({method:yc.WALLET_REVOKEPERMISSIONS,params:[{eth_accounts:{}}]})}catch(e){Ra(\"[MetaMaskSDK: terminate()] error revoking permissions\",e)}return e.options.extensionOnly?(e.emit(sc.ProviderUpdate,exports.PROVIDER_UPDATE_TYPE.TERMINATE),void Ra(\"[MetaMaskSDK: terminate()] extensionOnly --- prevent switching providers\")):(e.activeProvider=e.sdkProvider,window.ethereum=e.activeProvider,e.extensionActive=!1,void e.emit(sc.ProviderUpdate,exports.PROVIDER_UPDATE_TYPE.TERMINATE))}e.emit(sc.ProviderUpdate,exports.PROVIDER_UPDATE_TYPE.TERMINATE),Ra(`[MetaMaskSDK: terminate()] remoteConnection=${e.remoteConnection}`),null===(r=e.remoteConnection)||void 0===r||r.disconnect({terminate:!0,sendMessage:!0})}}))}(this)}isInitialized(){return this._initialized}setReadOnlyRPCCalls(e){this.readonlyRPCCalls=e}hasReadOnlyRPCCalls(){return this.readonlyRPCCalls}getProvider(){if(this.activeProvider)return this.activeProvider;console.warn(\"MetaMaskSDK: No active provider found\")}getMobileProvider(){if(!this.sdkProvider)throw new Error(\"SDK state invalid -- undefined mobile provider\");return this.sdkProvider}getUniversalLink(){var e;const t=null===(e=this.remoteConnection)||void 0===e?void 0:e.getUniversalLink();if(!t)throw new Error(\"No Universal Link available, please call eth_requestAccounts first.\");return t}getChannelId(){var e,t;return null===(t=null===(e=this.remoteConnection)||void 0===e?void 0:e.getChannelConfig())||void 0===t?void 0:t.channelId}getRPCHistory(){var e,t;return null===(t=null===(e=this.remoteConnection)||void 0===e?void 0:e.getConnector())||void 0===t?void 0:t.getRPCMethodTracker()}getVersion(){return hc.version}getWalletStatus(){var e,t;return null===(t=null===(e=this.remoteConnection)||void 0===e?void 0:e.getConnector())||void 0===t?void 0:t.getConnectionStatus()}_getChannelConfig(){var e;return null===(e=this.remoteConnection)||void 0===e?void 0:e.getChannelConfig()}_ping(){var e,t;null===(t=null===(e=this.remoteConnection)||void 0===e?void 0:e.getConnector())||void 0===t||t.ping()}_keyCheck(){var e,t;null===(t=null===(e=this.remoteConnection)||void 0===e?void 0:e.getConnector())||void 0===t||t.keyCheck()}_getServiceStatus(){var e,t;return null===(t=null===(e=this.remoteConnection)||void 0===e?void 0:e.getConnector())||void 0===t?void 0:t.getServiceStatus()}_getRemoteConnection(){return this.remoteConnection}_getDappMetadata(){return this.dappMetadata}_getKeyInfo(){var e;return null===(e=this.remoteConnection)||void 0===e?void 0:e.getKeyInfo()}_resetKeys(){var e,t;null===(t=null===(e=this.remoteConnection)||void 0===e?void 0:e.getConnector())||void 0===t||t.resetKeys()}_getConnection(){return this.remoteConnection}emit(e,t){return super.emit(e,t)}on(e,t){return super.on(e,t)}}var Kd=Object.freeze({__proto__:null,StorageManagerWeb:class{constructor({enabled:e}={enabled:!1}){this.enabled=!1,this.enabled=e}persistChannelConfig(e){return l(this,void 0,void 0,(function*(){const t=JSON.stringify(e);Ra(`[StorageManagerWeb: persistChannelConfig()] enabled=${this.enabled}`,e),localStorage.setItem(Sc,t)}))}getPersistedChannelConfig(){return l(this,void 0,void 0,(function*(){let e;try{if(Ra(`[StorageManagerWeb: getPersistedChannelConfig()] enabled=${this.enabled}`),e=localStorage.getItem(Sc),Ra(\"[StorageManagerWeb: getPersistedChannelConfig()]\",e),!e)return;const t=JSON.parse(e);return Ra(\"[StorageManagerWeb: getPersistedChannelConfig()] channelConfig\",t),t}catch(e){return void console.error(\"[StorageManagerWeb: getPersistedChannelConfig()] Can't find existing channel config\",e)}}))}persistAccounts(e){return l(this,void 0,void 0,(function*(){Ra(`[StorageManagerWeb: persistAccounts()] enabled=${this.enabled}`,e);const t=JSON.stringify(e);localStorage.setItem(Cc,t)}))}getCachedAccounts(){return l(this,void 0,void 0,(function*(){try{const e=localStorage.getItem(Cc);return e?JSON.parse(e):[]}catch(e){throw console.error(\"[StorageManagerWeb: getCachedAccounts()] Error reading cached accounts\",e),e}}))}persistChainId(e){return l(this,void 0,void 0,(function*(){Ra(`[StorageManagerWeb: persistChainId()] enabled=${this.enabled}`,e),localStorage.setItem(xc,e)}))}getCachedChainId(){return l(this,void 0,void 0,(function*(){try{const e=localStorage.getItem(xc);return null!=e?e:void 0}catch(e){throw console.error(\"[StorageManagerWeb: getCachedChainId()] Error reading cached chainId\",e),e}}))}terminate(){return l(this,void 0,void 0,(function*(){Ra(`[StorageManagerWeb: terminate()] enabled=${this.enabled}`),localStorage.removeItem(Sc)}))}}});exports.DEFAULT_SERVER_URL=nr,exports.MetaMaskSDK=Bd,exports.MetaMaskSDKEvent=sc,exports.SDKProvider=lc,exports[\"default\"]=Bd;\n//# sourceMappingURL=metamask-sdk.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1ldGFtYXNrL3Nkay9kaXN0L25vZGUvY2pzL21ldGFtYXNrLXNkay5qcyIsIm1hcHBpbmdzIjoiQUFBYSw4Q0FBMkMsQ0FBQyxTQUFTLEVBQUMsQ0FBQyxNQUFNLG1CQUFPLENBQUMsMkVBQWEsSUFBSSxtQkFBTyxDQUFDLHNEQUFPLElBQUksbUJBQU8sQ0FBQyxzQkFBUSxJQUFJLG1CQUFPLENBQUMsZ0NBQWEsSUFBSSxtQkFBTyxDQUFDLDhFQUFlLElBQUksbUJBQU8sQ0FBQyw4REFBTSxJQUFJLG1CQUFPLENBQUMsa0ZBQWtCLElBQUksbUJBQU8sQ0FBQyxzQkFBUSxJQUFJLG1CQUFPLENBQUMsc0JBQVEsSUFBSSxtQkFBTyxDQUFDLGtCQUFNLEVBQUUsb0JBQW9CLDBDQUEwQyxjQUFjLElBQUksYUFBYSxTQUFTLE1BQU0sY0FBYyxJQUFJLGNBQWMsU0FBUyxNQUFNLGNBQWMsTUFBTSxpRUFBaUUsS0FBSyxjQUFjLCtCQUErQixHQUFHLG9EQUFvRCxxSkFBcUosY0FBYyxzRkFBc0YsUUFBUSxLQUFLLE1BQU0sY0FBYyxtRkFBbUYsRUFBRSxHQUFHLGNBQWMsZ0VBQWdFLEVBQUUsR0FBRyxjQUFjLCtGQUErRixtQkFBbUIsZ0RBQWdELHNGQUFzRixFQUFFLGtCQUFrQixTQUFTLEdBQUcsY0FBYyxzSEFBc0gsNkJBQTZCLG1CQUFtQixtRUFBbUUsMEVBQTBFLGdCQUFnQixLQUFLLG9CQUFvQix1RkFBdUYsRUFBRSxHQUFHLHNDQUFzQyxTQUFTLDJFQUEyRSxTQUFTLGtEQUFrRCx3QkFBd0Isc0NBQXNDLFNBQVMseUpBQXlKLGVBQWUsaUNBQWlDLDJDQUEyQyxtQ0FBbUMsaUJBQWlCLFlBQVksSUFBSSxLQUFLLEtBQUsscUJBQXFCLHlDQUF5QywyQ0FBMkMsa0NBQWtDLHVCQUF1Qiw2QkFBNkIsS0FBSywyRUFBMkUsT0FBTyxTQUFTLDhCQUE4QixRQUFRLFlBQVksV0FBVyxLQUFLLGFBQWEsMkJBQTJCLDBCQUEwQixnQkFB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QWtJLG9CQUFvQixNQUFNLGdGQUFnRixRQUFRLFFBQVEsc0dBQXNHLFlBQVksUUFBUSwwR0FBMEcsb0JBQW9CLFFBQVEsK0hBQStILHVCQUF1Qiw2QkFBNkIsbUJBQW1CLHlCQUF5QixjQUFjLE1BQU0sMEVBQTBFLGFBQWEsUUFBUSwyR0FBMkcsaUJBQWlCLDZCQUE2QixVQUFVLHVCQUF1QixRQUFRLHNCQUFzQixzQkFBc0IsdUNBQXVDLGFBQWEsVUFBVSxFQUFFLFdBQVcsRUFBRSwrQkFBK0Isd0JBQXdCLHlDQUF5QywwQkFBMEIsMERBQTBELGFBQWEsZ0NBQWdDLEdBQUcsNEJBQTRCLHlDQUF5QyxNQUFNLElBQUksa0VBQWtFLGFBQWEsaUdBQWlHLHNCQUFzQixnRkFBZ0YsU0FBUyxvSEFBb0gsR0FBRyxtQkFBbUIseUNBQXlDLHFEQUFxRCxhQUFhLEtBQUssMEJBQTBCLDJCQUEyQixHQUFHLG9CQUFvQix5Q0FBeUMsSUFBSSxpQ0FBaUMsMEJBQTBCLFNBQVMsbUdBQW1HLEdBQUcsa0JBQWtCLHlDQUF5QyxvREFBb0QsYUFBYSxnQ0FBZ0MsR0FBRyxtQkFBbUIseUNBQXlDLElBQUksaUNBQWlDLHdCQUF3QixTQUFTLGlHQUFpRyxHQUFHLFlBQVkseUNBQXlDLCtDQUErQyxhQUFhLCtCQUErQixLQUFLLEVBQUUsMEJBQTBCLElBQUksbUJBQW1CLElBQUksd0JBQXdCLElBQUksbUJBQW1CLElBQUksa0JBQWU7QUFDMWg4ViIsInNvdXJjZXMiOlsid2VicGFjazovL2FyY2EtZGVmaS1hcHAvLi9ub2RlX21vZHVsZXMvQG1ldGFtYXNrL3Nkay9kaXN0L25vZGUvY2pzL21ldGFtYXNrLXNkay5qcz9mYTM3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBlPXJlcXVpcmUoXCJjcm9zcy1mZXRjaFwiKSx0PXJlcXVpcmUoXCJkZWJ1Z1wiKSxuPXJlcXVpcmUoXCJidWZmZXJcIikscj1yZXF1aXJlKFwibm9kZTpjcnlwdG9cIiksaT1yZXF1aXJlKFwiZXZlbnRlbWl0dGVyMlwiKSxvPXJlcXVpcmUoXCJ1dWlkXCIpLHM9cmVxdWlyZShcInNvY2tldC5pby1jbGllbnRcIiksYT1yZXF1aXJlKFwiZXZlbnRzXCIpLGM9cmVxdWlyZShcInN0cmVhbVwiKSxkPXJlcXVpcmUoXCJ1dGlsXCIpO2Z1bmN0aW9uIGwoZSx0LG4scil7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoKGZ1bmN0aW9uKGksbyl7ZnVuY3Rpb24gcyhlKXt0cnl7YyhyLm5leHQoZSkpfWNhdGNoKGUpe28oZSl9fWZ1bmN0aW9uIGEoZSl7dHJ5e2Moci50aHJvdyhlKSl9Y2F0Y2goZSl7byhlKX19ZnVuY3Rpb24gYyhlKXt2YXIgdDtlLmRvbmU/aShlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBuP3Q6bmV3IG4oKGZ1bmN0aW9uKGUpe2UodCl9KSkpLnRoZW4ocyxhKX1jKChyPXIuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KSl9XCJmdW5jdGlvblwiPT10eXBlb2YgU3VwcHJlc3NlZEVycm9yJiZTdXBwcmVzc2VkRXJyb3I7dmFyIHU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOnt9O2Z1bmN0aW9uIGgoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZSYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJkZWZhdWx0XCIpP2UuZGVmYXVsdDplfXZhciBmPXt9LHA9e30sbT17fTtmdW5jdGlvbiBnKGUpe2lmKCFOdW1iZXIuaXNTYWZlSW50ZWdlcihlKXx8ZTwwKXRocm93IG5ldyBFcnJvcihgcG9zaXRpdmUgaW50ZWdlciBleHBlY3RlZCwgbm90ICR7ZX1gKX1mdW5jdGlvbiB2KGUpe2lmKFwiYm9vbGVhblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoYGJvb2xlYW4gZXhwZWN0ZWQsIG5vdCAke2V9YCl9ZnVuY3Rpb24geShlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fG51bGwhPWUmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZcIlVpbnQ4QXJyYXlcIj09PWUuY29uc3RydWN0b3IubmFtZX1mdW5jdGlvbiBFKGUsLi4udCl7aWYoIXkoZSkpdGhyb3cgbmV3IEVycm9yKFwiVWludDhBcnJheSBleHBlY3RlZFwiKTtpZih0Lmxlbmd0aD4wJiYhdC5pbmNsdWRlcyhlLmxlbmd0aCkpdGhyb3cgbmV3IEVycm9yKGBVaW50OEFycmF5IGV4cGVjdGVkIG9mIGxlbmd0aCAke3R9LCBub3Qgb2YgbGVuZ3RoPSR7ZS5sZW5ndGh9YCl9ZnVuY3Rpb24gYihlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBlLmNyZWF0ZSl0aHJvdyBuZXcgRXJyb3IoXCJoYXNoIG11c3QgYmUgd3JhcHBlZCBieSB1dGlscy53cmFwQ29uc3RydWN0b3JcIik7ZyhlLm91dHB1dExlbiksZyhlLmJsb2NrTGVuKX1mdW5jdGlvbiB3KGUsdD0hMCl7aWYoZS5kZXN0cm95ZWQpdGhyb3cgbmV3IEVycm9yKFwiSGFzaCBpbnN0YW5jZSBoYXMgYmVlbiBkZXN0cm95ZWRcIik7aWYodCYmZS5maW5pc2hlZCl0aHJvdyBuZXcgRXJyb3IoXCJIYXNoI2RpZ2VzdCgpIGhhcyBhbHJlYWR5IGJlZW4gY2FsbGVkXCIpfWZ1bmN0aW9uIFMoZSx0KXtFKGUpO2NvbnN0IG49dC5vdXRwdXRMZW47aWYoZS5sZW5ndGg8bil0aHJvdyBuZXcgRXJyb3IoYGRpZ2VzdEludG8oKSBleHBlY3RzIG91dHB1dCBidWZmZXIgb2YgbGVuZ3RoIGF0IGxlYXN0ICR7bn1gKX1PYmplY3QuZGVmaW5lUHJvcGVydHkobSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxtLmlzQnl0ZXM9eSxtLm51bWJlcj1nLG0uYm9vbD12LG0uYnl0ZXM9RSxtLmhhc2g9YixtLmV4aXN0cz13LG0ub3V0cHV0PVM7Y29uc3QgXz17bnVtYmVyOmcsYm9vbDp2LGJ5dGVzOkUsaGFzaDpiLGV4aXN0czp3LG91dHB1dDpTfTttLmRlZmF1bHQ9XyxmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLndyYXBDaXBoZXI9ZS5IYXNoPWUubmV4dFRpY2s9ZS5pc0xFPWUuY3JlYXRlVmlldz1lLnUzMj1lLnUxNj1lLnU4PXZvaWQgMCxlLmJ5dGVzVG9IZXg9cixlLmhleFRvQnl0ZXM9cyxlLmhleFRvTnVtYmVyPWEsZS5ieXRlc1RvTnVtYmVyQkU9ZnVuY3Rpb24oZSl7cmV0dXJuIGEocihlKSl9LGUubnVtYmVyVG9CeXRlc0JFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHMoZS50b1N0cmluZygxNikucGFkU3RhcnQoMip0LFwiMFwiKSl9LGUuYXN5bmNMb29wPWFzeW5jIGZ1bmN0aW9uKHQsbixyKXtsZXQgaT1EYXRlLm5vdygpO2ZvcihsZXQgbz0wO288dDtvKyspe3Iobyk7Y29uc3QgdD1EYXRlLm5vdygpLWk7dD49MCYmdDxufHwoYXdhaXQoMCxlLm5leHRUaWNrKSgpLGkrPXQpfX0sZS51dGY4VG9CeXRlcz1jLGUuYnl0ZXNUb1V0Zjg9ZnVuY3Rpb24oZSl7cmV0dXJuKG5ldyBUZXh0RGVjb2RlcikuZGVjb2RlKGUpfSxlLnRvQnl0ZXM9ZnVuY3Rpb24oZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpZT1jKGUpO2Vsc2V7aWYoISgwLHQuaXNCeXRlcykoZSkpdGhyb3cgbmV3IEVycm9yKFwiVWludDhBcnJheSBleHBlY3RlZCwgZ290IFwiK3R5cGVvZiBlKTtlPWwoZSl9cmV0dXJuIGV9LGUuY29uY2F0Qnl0ZXM9ZnVuY3Rpb24oLi4uZSl7bGV0IG49MDtmb3IobGV0IHI9MDtyPGUubGVuZ3RoO3IrKyl7Y29uc3QgaT1lW3JdOygwLHQuYnl0ZXMpKGkpLG4rPWkubGVuZ3RofWNvbnN0IHI9bmV3IFVpbnQ4QXJyYXkobik7Zm9yKGxldCB0PTAsbj0wO3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCBpPWVbdF07ci5zZXQoaSxuKSxuKz1pLmxlbmd0aH1yZXR1cm4gcn0sZS5jaGVja09wdHM9ZnVuY3Rpb24oZSx0KXtpZihudWxsPT10fHxcIm9iamVjdFwiIT10eXBlb2YgdCl0aHJvdyBuZXcgRXJyb3IoXCJvcHRpb25zIG11c3QgYmUgZGVmaW5lZFwiKTtyZXR1cm4gT2JqZWN0LmFzc2lnbihlLHQpfSxlLmVxdWFsQnl0ZXM9ZnVuY3Rpb24oZSx0KXtpZihlLmxlbmd0aCE9PXQubGVuZ3RoKXJldHVybiExO2xldCBuPTA7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspbnw9ZVtyXV50W3JdO3JldHVybiAwPT09bn0sZS5zZXRCaWdVaW50NjQ9ZCxlLnU2NExlbmd0aHM9ZnVuY3Rpb24odCxuKXtjb25zdCByPW5ldyBVaW50OEFycmF5KDE2KSxpPSgwLGUuY3JlYXRlVmlldykocik7cmV0dXJuIGQoaSwwLEJpZ0ludChuP24ubGVuZ3RoOjApLCEwKSxkKGksOCxCaWdJbnQodC5sZW5ndGgpLCEwKSxyfSxlLmlzQWxpZ25lZDMyPWZ1bmN0aW9uKGUpe3JldHVybiBlLmJ5dGVPZmZzZXQlND09MH0sZS5jb3B5Qnl0ZXM9bCxlLmNsZWFuPWZ1bmN0aW9uKC4uLmUpe2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKWVbdF0uZmlsbCgwKX07Y29uc3QgdD1tO2UudTg9ZT0+bmV3IFVpbnQ4QXJyYXkoZS5idWZmZXIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aCk7ZS51MTY9ZT0+bmV3IFVpbnQxNkFycmF5KGUuYnVmZmVyLGUuYnl0ZU9mZnNldCxNYXRoLmZsb29yKGUuYnl0ZUxlbmd0aC8yKSk7ZS51MzI9ZT0+bmV3IFVpbnQzMkFycmF5KGUuYnVmZmVyLGUuYnl0ZU9mZnNldCxNYXRoLmZsb29yKGUuYnl0ZUxlbmd0aC80KSk7aWYoZS5jcmVhdGVWaWV3PWU9Pm5ldyBEYXRhVmlldyhlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQsZS5ieXRlTGVuZ3RoKSxlLmlzTEU9Njg9PT1uZXcgVWludDhBcnJheShuZXcgVWludDMyQXJyYXkoWzI4NzQ1NDAyMF0pLmJ1ZmZlcilbMF0sIWUuaXNMRSl0aHJvdyBuZXcgRXJyb3IoXCJOb24gbGl0dGxlLWVuZGlhbiBoYXJkd2FyZSBpcyBub3Qgc3VwcG9ydGVkXCIpO2NvbnN0IG49QXJyYXkuZnJvbSh7bGVuZ3RoOjI1Nn0sKChlLHQpPT50LnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLFwiMFwiKSkpO2Z1bmN0aW9uIHIoZSl7KDAsdC5ieXRlcykoZSk7bGV0IHI9XCJcIjtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKylyKz1uW2VbdF1dO3JldHVybiByfWNvbnN0IGk9e18wOjQ4LF85OjU3LF9BOjY1LF9GOjcwLF9hOjk3LF9mOjEwMn07ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZT49aS5fMCYmZTw9aS5fOT9lLWkuXzA6ZT49aS5fQSYmZTw9aS5fRj9lLShpLl9BLTEwKTplPj1pLl9hJiZlPD1pLl9mP2UtKGkuX2EtMTApOnZvaWQgMH1mdW5jdGlvbiBzKGUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihcImhleCBzdHJpbmcgZXhwZWN0ZWQsIGdvdCBcIit0eXBlb2YgZSk7Y29uc3QgdD1lLmxlbmd0aCxuPXQvMjtpZih0JTIpdGhyb3cgbmV3IEVycm9yKFwicGFkZGVkIGhleCBzdHJpbmcgZXhwZWN0ZWQsIGdvdCB1bnBhZGRlZCBoZXggb2YgbGVuZ3RoIFwiK3QpO2NvbnN0IHI9bmV3IFVpbnQ4QXJyYXkobik7Zm9yKGxldCB0PTAsaT0wO3Q8bjt0KyssaSs9Mil7Y29uc3Qgbj1vKGUuY2hhckNvZGVBdChpKSkscz1vKGUuY2hhckNvZGVBdChpKzEpKTtpZih2b2lkIDA9PT1ufHx2b2lkIDA9PT1zKXtjb25zdCB0PWVbaV0rZVtpKzFdO3Rocm93IG5ldyBFcnJvcignaGV4IHN0cmluZyBleHBlY3RlZCwgZ290IG5vbi1oZXggY2hhcmFjdGVyIFwiJyt0KydcIiBhdCBpbmRleCAnK2kpfXJbdF09MTYqbitzfXJldHVybiByfWZ1bmN0aW9uIGEoZSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKFwiaGV4IHN0cmluZyBleHBlY3RlZCwgZ290IFwiK3R5cGVvZiBlKTtyZXR1cm4gQmlnSW50KFwiXCI9PT1lP1wiMFwiOmAweCR7ZX1gKX1mdW5jdGlvbiBjKGUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihcInN0cmluZyBleHBlY3RlZCwgZ290IFwiK3R5cGVvZiBlKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoKG5ldyBUZXh0RW5jb2RlcikuZW5jb2RlKGUpKX1lLm5leHRUaWNrPWFzeW5jKCk9Pnt9O2UuSGFzaD1jbGFzc3t9O2Z1bmN0aW9uIGQoZSx0LG4scil7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZS5zZXRCaWdVaW50NjQpcmV0dXJuIGUuc2V0QmlnVWludDY0KHQsbixyKTtjb25zdCBpPUJpZ0ludCgzMiksbz1CaWdJbnQoNDI5NDk2NzI5NSkscz1OdW1iZXIobj4+aSZvKSxhPU51bWJlcihuJm8pLGM9cj80OjAsZD1yPzA6NDtlLnNldFVpbnQzMih0K2MscyxyKSxlLnNldFVpbnQzMih0K2QsYSxyKX1mdW5jdGlvbiBsKGUpe3JldHVybiBVaW50OEFycmF5LmZyb20oZSl9ZS53cmFwQ2lwaGVyPShlLHQpPT4oT2JqZWN0LmFzc2lnbih0LGUpLHQpfShwKTt2YXIgQz17fSx4PXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh4LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHguQUVBRF9UQUdfTEVOR1RIPXguWENIQUNIQTIwX05PTkNFX0xFTkdUSD14LkNVUlZFMjU1MTlfUFVCTElDX0tFWV9TSVpFPXguRVRIX1BVQkxJQ19LRVlfU0laRT14LlVOQ09NUFJFU1NFRF9QVUJMSUNfS0VZX1NJWkU9eC5DT01QUkVTU0VEX1BVQkxJQ19LRVlfU0laRT14LlNFQ1JFVF9LRVlfTEVOR1RIPXZvaWQgMCx4LlNFQ1JFVF9LRVlfTEVOR1RIPTMyLHguQ09NUFJFU1NFRF9QVUJMSUNfS0VZX1NJWkU9MzMseC5VTkNPTVBSRVNTRURfUFVCTElDX0tFWV9TSVpFPTY1LHguRVRIX1BVQkxJQ19LRVlfU0laRT02NCx4LkNVUlZFMjU1MTlfUFVCTElDX0tFWV9TSVpFPTMyLHguWENIQUNIQTIwX05PTkNFX0xFTkdUSD0yNCx4LkFFQURfVEFHX0xFTkdUSD0xNixmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLmVwaGVtZXJhbEtleVNpemU9ZS5zeW1tZXRyaWNOb25jZUxlbmd0aD1lLnN5bW1ldHJpY0FsZ29yaXRobT1lLmlzSGtkZktleUNvbXByZXNzZWQ9ZS5pc0VwaGVtZXJhbEtleUNvbXByZXNzZWQ9ZS5lbGxpcHRpY0N1cnZlPWUuRUNJRVNfQ09ORklHPXZvaWQgMDt2YXIgdD14LG49ZnVuY3Rpb24oKXt0aGlzLmVsbGlwdGljQ3VydmU9XCJzZWNwMjU2azFcIix0aGlzLmlzRXBoZW1lcmFsS2V5Q29tcHJlc3NlZD0hMSx0aGlzLmlzSGtkZktleUNvbXByZXNzZWQ9ITEsdGhpcy5zeW1tZXRyaWNBbGdvcml0aG09XCJhZXMtMjU2LWdjbVwiLHRoaXMuc3ltbWV0cmljTm9uY2VMZW5ndGg9MTZ9O2UuRUNJRVNfQ09ORklHPW5ldyBuO2UuZWxsaXB0aWNDdXJ2ZT1mdW5jdGlvbigpe3JldHVybiBlLkVDSUVTX0NPTkZJRy5lbGxpcHRpY0N1cnZlfTtlLmlzRXBoZW1lcmFsS2V5Q29tcHJlc3NlZD1mdW5jdGlvbigpe3JldHVybiBlLkVDSUVTX0NPTkZJRy5pc0VwaGVtZXJhbEtleUNvbXByZXNzZWR9O2UuaXNIa2RmS2V5Q29tcHJlc3NlZD1mdW5jdGlvbigpe3JldHVybiBlLkVDSUVTX0NPTkZJRy5pc0hrZGZLZXlDb21wcmVzc2VkfTtlLnN5bW1ldHJpY0FsZ29yaXRobT1mdW5jdGlvbigpe3JldHVybiBlLkVDSUVTX0NPTkZJRy5zeW1tZXRyaWNBbGdvcml0aG19O2Uuc3ltbWV0cmljTm9uY2VMZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gZS5FQ0lFU19DT05GSUcuc3ltbWV0cmljTm9uY2VMZW5ndGh9O2UuZXBoZW1lcmFsS2V5U2l6ZT1mdW5jdGlvbigpe3ZhciBuPXtzZWNwMjU2azE6ZS5FQ0lFU19DT05GSUcuaXNFcGhlbWVyYWxLZXlDb21wcmVzc2VkP3QuQ09NUFJFU1NFRF9QVUJMSUNfS0VZX1NJWkU6dC5VTkNPTVBSRVNTRURfUFVCTElDX0tFWV9TSVpFLHgyNTUxOTp0LkNVUlZFMjU1MTlfUFVCTElDX0tFWV9TSVpFLGVkMjU1MTk6dC5DVVJWRTI1NTE5X1BVQkxJQ19LRVlfU0laRX07aWYoZS5FQ0lFU19DT05GSUcuZWxsaXB0aWNDdXJ2ZSBpbiBuKXJldHVybiBuW2UuRUNJRVNfQ09ORklHLmVsbGlwdGljQ3VydmVdO3Rocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZFwiKX19KEMpO3ZhciBrPXt9LE09e30sQT17fSxUPXt9LEk9e30sUD17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoUCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxQLmNyeXB0bz12b2lkIDA7Y29uc3QgUj1yO1AuY3J5cHRvPVImJlwib2JqZWN0XCI9PXR5cGVvZiBSJiZcIndlYmNyeXB0b1wiaW4gUj9SLndlYmNyeXB0bzpSJiZcIm9iamVjdFwiPT10eXBlb2YgUiYmXCJyYW5kb21CeXRlc1wiaW4gUj9SOnZvaWQgMCxmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLmdjbT1lLmN0cj1lLmNiYz1lLnV0aWxzPXZvaWQgMCxlLnJhbmRvbUJ5dGVzPWksZS5nZXRXZWJjcnlwdG9TdWJ0bGU9byxlLm1hbmFnZWROb25jZT1mdW5jdGlvbihlKXtyZXR1cm4oMCxuLm51bWJlcikoZS5ub25jZUxlbmd0aCksKHQsLi4ubik9Pih7ZW5jcnlwdChvLC4uLnMpe2NvbnN0e25vbmNlTGVuZ3RoOmF9PWUsYz1pKGEpLGQ9ZSh0LGMsLi4ubikuZW5jcnlwdChvLC4uLnMpLGw9KDAsci5jb25jYXRCeXRlcykoYyxkKTtyZXR1cm4gZC5maWxsKDApLGx9LGRlY3J5cHQociwuLi5pKXtjb25zdHtub25jZUxlbmd0aDpvfT1lLHM9ci5zdWJhcnJheSgwLG8pLGE9ci5zdWJhcnJheShvKTtyZXR1cm4gZSh0LHMsLi4ubikuZGVjcnlwdChhLC4uLmkpfX0pfTtjb25zdCB0PVAsbj1tLHI9cDtmdW5jdGlvbiBpKGU9MzIpe2lmKHQuY3J5cHRvJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMpcmV0dXJuIHQuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheShlKSk7aWYodC5jcnlwdG8mJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuY3J5cHRvLnJhbmRvbUJ5dGVzKXJldHVybiB0LmNyeXB0by5yYW5kb21CeXRlcyhlKTt0aHJvdyBuZXcgRXJyb3IoXCJjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzIG11c3QgYmUgZGVmaW5lZFwiKX1mdW5jdGlvbiBvKCl7aWYodC5jcnlwdG8mJlwib2JqZWN0XCI9PXR5cGVvZiB0LmNyeXB0by5zdWJ0bGUmJm51bGwhPXQuY3J5cHRvLnN1YnRsZSlyZXR1cm4gdC5jcnlwdG8uc3VidGxlO3Rocm93IG5ldyBFcnJvcihcImNyeXB0by5zdWJ0bGUgbXVzdCBiZSBkZWZpbmVkXCIpfWUudXRpbHM9e2FzeW5jIGVuY3J5cHQoZSx0LG4scil7Y29uc3QgaT1vKCkscz1hd2FpdCBpLmltcG9ydEtleShcInJhd1wiLGUsdCwhMCxbXCJlbmNyeXB0XCJdKSxhPWF3YWl0IGkuZW5jcnlwdChuLHMscik7cmV0dXJuIG5ldyBVaW50OEFycmF5KGEpfSxhc3luYyBkZWNyeXB0KGUsdCxuLHIpe2NvbnN0IGk9bygpLHM9YXdhaXQgaS5pbXBvcnRLZXkoXCJyYXdcIixlLHQsITAsW1wiZGVjcnlwdFwiXSksYT1hd2FpdCBpLmRlY3J5cHQobixzLHIpO3JldHVybiBuZXcgVWludDhBcnJheShhKX19O2NvbnN0IHM9e0NCQzpcIkFFUy1DQkNcIixDVFI6XCJBRVMtQ1RSXCIsR0NNOlwiQUVTLUdDTVwifTtmdW5jdGlvbiBhKHQpe3JldHVybihyLGksbyk9PnsoMCxuLmJ5dGVzKShyKSwoMCxuLmJ5dGVzKShpKTtjb25zdCBhPXtuYW1lOnQsbGVuZ3RoOjgqci5sZW5ndGh9LGM9ZnVuY3Rpb24oZSx0LG4pe2lmKGU9PT1zLkNCQylyZXR1cm57bmFtZTpzLkNCQyxpdjp0fTtpZihlPT09cy5DVFIpcmV0dXJue25hbWU6cy5DVFIsY291bnRlcjp0LGxlbmd0aDo2NH07aWYoZT09PXMuR0NNKXJldHVybiBuP3tuYW1lOnMuR0NNLGl2OnQsYWRkaXRpb25hbERhdGE6bn06e25hbWU6cy5HQ00saXY6dH07dGhyb3cgbmV3IEVycm9yKFwidW5rbm93biBhZXMgYmxvY2sgbW9kZVwiKX0odCxpLG8pO3JldHVybntlbmNyeXB0OnQ9PigoMCxuLmJ5dGVzKSh0KSxlLnV0aWxzLmVuY3J5cHQocixhLGMsdCkpLGRlY3J5cHQ6dD0+KCgwLG4uYnl0ZXMpKHQpLGUudXRpbHMuZGVjcnlwdChyLGEsYyx0KSl9fX1lLmNiYz1hKHMuQ0JDKSxlLmN0cj1hKHMuQ1RSKSxlLmdjbT1hKHMuR0NNKX0oSSk7dmFyIE89e30sTj17fSxEPXt9LEw9e307ZnVuY3Rpb24gQihlKXtpZighTnVtYmVyLmlzU2FmZUludGVnZXIoZSl8fGU8MCl0aHJvdyBuZXcgRXJyb3IoYHBvc2l0aXZlIGludGVnZXIgZXhwZWN0ZWQsIG5vdCAke2V9YCl9ZnVuY3Rpb24gSyhlKXtpZihcImJvb2xlYW5cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKGBib29sZWFuIGV4cGVjdGVkLCBub3QgJHtlfWApfWZ1bmN0aW9uIGooZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBVaW50OEFycmF5fHxudWxsIT1lJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmXCJVaW50OEFycmF5XCI9PT1lLmNvbnN0cnVjdG9yLm5hbWV9ZnVuY3Rpb24gJChlLC4uLnQpe2lmKCFqKGUpKXRocm93IG5ldyBFcnJvcihcIlVpbnQ4QXJyYXkgZXhwZWN0ZWRcIik7aWYodC5sZW5ndGg+MCYmIXQuaW5jbHVkZXMoZS5sZW5ndGgpKXRocm93IG5ldyBFcnJvcihgVWludDhBcnJheSBleHBlY3RlZCBvZiBsZW5ndGggJHt0fSwgbm90IG9mIGxlbmd0aD0ke2UubGVuZ3RofWApfWZ1bmN0aW9uIEgoZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZXx8XCJmdW5jdGlvblwiIT10eXBlb2YgZS5jcmVhdGUpdGhyb3cgbmV3IEVycm9yKFwiSGFzaCBzaG91bGQgYmUgd3JhcHBlZCBieSB1dGlscy53cmFwQ29uc3RydWN0b3JcIik7QihlLm91dHB1dExlbiksQihlLmJsb2NrTGVuKX1mdW5jdGlvbiBVKGUsdD0hMCl7aWYoZS5kZXN0cm95ZWQpdGhyb3cgbmV3IEVycm9yKFwiSGFzaCBpbnN0YW5jZSBoYXMgYmVlbiBkZXN0cm95ZWRcIik7aWYodCYmZS5maW5pc2hlZCl0aHJvdyBuZXcgRXJyb3IoXCJIYXNoI2RpZ2VzdCgpIGhhcyBhbHJlYWR5IGJlZW4gY2FsbGVkXCIpfWZ1bmN0aW9uIEYoZSx0KXskKGUpO2NvbnN0IG49dC5vdXRwdXRMZW47aWYoZS5sZW5ndGg8bil0aHJvdyBuZXcgRXJyb3IoYGRpZ2VzdEludG8oKSBleHBlY3RzIG91dHB1dCBidWZmZXIgb2YgbGVuZ3RoIGF0IGxlYXN0ICR7bn1gKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoTCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxMLmlzQnl0ZXM9aixMLm51bWJlcj1CLEwuYm9vbD1LLEwuYnl0ZXM9JCxMLmhhc2g9SCxMLmV4aXN0cz1VLEwub3V0cHV0PUY7Y29uc3QgcT17bnVtYmVyOkIsYm9vbDpLLGJ5dGVzOiQsaGFzaDpILGV4aXN0czpVLG91dHB1dDpGfTtMLmRlZmF1bHQ9cTt2YXIgej17fSxXPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShXLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLFcuY3J5cHRvPXZvaWQgMDtjb25zdCBWPXI7Vy5jcnlwdG89ViYmXCJvYmplY3RcIj09dHlwZW9mIFYmJlwid2ViY3J5cHRvXCJpbiBWP1Yud2ViY3J5cHRvOlYmJlwib2JqZWN0XCI9PXR5cGVvZiBWJiZcInJhbmRvbUJ5dGVzXCJpbiBWP1Y6dm9pZCAwLGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuSGFzaD1lLm5leHRUaWNrPWUuYnl0ZVN3YXBJZkJFPWUuYnl0ZVN3YXA9ZS5pc0xFPWUucm90bD1lLnJvdHI9ZS5jcmVhdGVWaWV3PWUudTMyPWUudTg9dm9pZCAwLGUuaXNCeXRlcz1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fG51bGwhPWUmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZcIlVpbnQ4QXJyYXlcIj09PWUuY29uc3RydWN0b3IubmFtZX0sZS5ieXRlU3dhcDMyPWZ1bmN0aW9uKHQpe2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKXRbbl09KDAsZS5ieXRlU3dhcCkodFtuXSl9LGUuYnl0ZXNUb0hleD1mdW5jdGlvbihlKXsoMCxuLmJ5dGVzKShlKTtsZXQgdD1cIlwiO2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXQrPXJbZVtuXV07cmV0dXJuIHR9LGUuaGV4VG9CeXRlcz1mdW5jdGlvbihlKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoXCJoZXggc3RyaW5nIGV4cGVjdGVkLCBnb3QgXCIrdHlwZW9mIGUpO2NvbnN0IHQ9ZS5sZW5ndGgsbj10LzI7aWYodCUyKXRocm93IG5ldyBFcnJvcihcInBhZGRlZCBoZXggc3RyaW5nIGV4cGVjdGVkLCBnb3QgdW5wYWRkZWQgaGV4IG9mIGxlbmd0aCBcIit0KTtjb25zdCByPW5ldyBVaW50OEFycmF5KG4pO2ZvcihsZXQgdD0wLGk9MDt0PG47dCsrLGkrPTIpe2NvbnN0IG49byhlLmNoYXJDb2RlQXQoaSkpLHM9byhlLmNoYXJDb2RlQXQoaSsxKSk7aWYodm9pZCAwPT09bnx8dm9pZCAwPT09cyl7Y29uc3QgdD1lW2ldK2VbaSsxXTt0aHJvdyBuZXcgRXJyb3IoJ2hleCBzdHJpbmcgZXhwZWN0ZWQsIGdvdCBub24taGV4IGNoYXJhY3RlciBcIicrdCsnXCIgYXQgaW5kZXggJytpKX1yW3RdPTE2Km4rc31yZXR1cm4gcn0sZS5hc3luY0xvb3A9YXN5bmMgZnVuY3Rpb24odCxuLHIpe2xldCBpPURhdGUubm93KCk7Zm9yKGxldCBvPTA7bzx0O28rKyl7cihvKTtjb25zdCB0PURhdGUubm93KCktaTt0Pj0wJiZ0PG58fChhd2FpdCgwLGUubmV4dFRpY2spKCksaSs9dCl9fSxlLnV0ZjhUb0J5dGVzPXMsZS50b0J5dGVzPWEsZS5jb25jYXRCeXRlcz1mdW5jdGlvbiguLi5lKXtsZXQgdD0wO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKXtjb25zdCBpPWVbcl07KDAsbi5ieXRlcykoaSksdCs9aS5sZW5ndGh9Y29uc3Qgcj1uZXcgVWludDhBcnJheSh0KTtmb3IobGV0IHQ9MCxuPTA7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IGk9ZVt0XTtyLnNldChpLG4pLG4rPWkubGVuZ3RofXJldHVybiByfSxlLmNoZWNrT3B0cz1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMCE9PXQmJlwiW29iamVjdCBPYmplY3RdXCIhPT1jLmNhbGwodCkpdGhyb3cgbmV3IEVycm9yKFwiT3B0aW9ucyBzaG91bGQgYmUgb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gT2JqZWN0LmFzc2lnbihlLHQpfSxlLndyYXBDb25zdHJ1Y3Rvcj1mdW5jdGlvbihlKXtjb25zdCB0PXQ9PmUoKS51cGRhdGUoYSh0KSkuZGlnZXN0KCksbj1lKCk7cmV0dXJuIHQub3V0cHV0TGVuPW4ub3V0cHV0TGVuLHQuYmxvY2tMZW49bi5ibG9ja0xlbix0LmNyZWF0ZT0oKT0+ZSgpLHR9LGUud3JhcENvbnN0cnVjdG9yV2l0aE9wdHM9ZnVuY3Rpb24oZSl7Y29uc3QgdD0odCxuKT0+ZShuKS51cGRhdGUoYSh0KSkuZGlnZXN0KCksbj1lKHt9KTtyZXR1cm4gdC5vdXRwdXRMZW49bi5vdXRwdXRMZW4sdC5ibG9ja0xlbj1uLmJsb2NrTGVuLHQuY3JlYXRlPXQ9PmUodCksdH0sZS53cmFwWE9GQ29uc3RydWN0b3JXaXRoT3B0cz1mdW5jdGlvbihlKXtjb25zdCB0PSh0LG4pPT5lKG4pLnVwZGF0ZShhKHQpKS5kaWdlc3QoKSxuPWUoe30pO3JldHVybiB0Lm91dHB1dExlbj1uLm91dHB1dExlbix0LmJsb2NrTGVuPW4uYmxvY2tMZW4sdC5jcmVhdGU9dD0+ZSh0KSx0fSxlLnJhbmRvbUJ5dGVzPWZ1bmN0aW9uKGU9MzIpe2lmKHQuY3J5cHRvJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMpcmV0dXJuIHQuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheShlKSk7aWYodC5jcnlwdG8mJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuY3J5cHRvLnJhbmRvbUJ5dGVzKXJldHVybiB0LmNyeXB0by5yYW5kb21CeXRlcyhlKTt0aHJvdyBuZXcgRXJyb3IoXCJjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzIG11c3QgYmUgZGVmaW5lZFwiKX07Y29uc3QgdD1XLG49TDtlLnU4PWU9Pm5ldyBVaW50OEFycmF5KGUuYnVmZmVyLGUuYnl0ZU9mZnNldCxlLmJ5dGVMZW5ndGgpO2UudTMyPWU9Pm5ldyBVaW50MzJBcnJheShlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQsTWF0aC5mbG9vcihlLmJ5dGVMZW5ndGgvNCkpO2UuY3JlYXRlVmlldz1lPT5uZXcgRGF0YVZpZXcoZS5idWZmZXIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aCk7ZS5yb3RyPShlLHQpPT5lPDwzMi10fGU+Pj50O2Uucm90bD0oZSx0KT0+ZTw8dHxlPj4+MzItdD4+PjAsZS5pc0xFPTY4PT09bmV3IFVpbnQ4QXJyYXkobmV3IFVpbnQzMkFycmF5KFsyODc0NTQwMjBdKS5idWZmZXIpWzBdO2UuYnl0ZVN3YXA9ZT0+ZTw8MjQmNDI3ODE5MDA4MHxlPDw4JjE2NzExNjgwfGU+Pj44JjY1MjgwfGU+Pj4yNCYyNTUsZS5ieXRlU3dhcElmQkU9ZS5pc0xFP2U9PmU6dD0+KDAsZS5ieXRlU3dhcCkodCk7Y29uc3Qgcj1BcnJheS5mcm9tKHtsZW5ndGg6MjU2fSwoKGUsdCk9PnQudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsXCIwXCIpKSk7Y29uc3QgaT17XzA6NDgsXzk6NTcsX0E6NjUsX0Y6NzAsX2E6OTcsX2Y6MTAyfTtmdW5jdGlvbiBvKGUpe3JldHVybiBlPj1pLl8wJiZlPD1pLl85P2UtaS5fMDplPj1pLl9BJiZlPD1pLl9GP2UtKGkuX0EtMTApOmU+PWkuX2EmJmU8PWkuX2Y/ZS0oaS5fYS0xMCk6dm9pZCAwfWZ1bmN0aW9uIHMoZSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKFwidXRmOFRvQnl0ZXMgZXhwZWN0ZWQgc3RyaW5nLCBnb3QgXCIrdHlwZW9mIGUpO3JldHVybiBuZXcgVWludDhBcnJheSgobmV3IFRleHRFbmNvZGVyKS5lbmNvZGUoZSkpfWZ1bmN0aW9uIGEoZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPXMoZSkpLCgwLG4uYnl0ZXMpKGUpLGV9ZS5uZXh0VGljaz1hc3luYygpPT57fTtlLkhhc2g9Y2xhc3N7Y2xvbmUoKXtyZXR1cm4gdGhpcy5fY2xvbmVJbnRvKCl9fTtjb25zdCBjPXt9LnRvU3RyaW5nfSh6KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoRCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxELkhhc2hNRD1ELk1haj1ELkNoaT12b2lkIDA7Y29uc3QgRz1MLFk9ejtELkNoaT0oZSx0LG4pPT5lJnRefmUmbjtELk1haj0oZSx0LG4pPT5lJnReZSZuXnQmbjtELkhhc2hNRD1jbGFzcyBleHRlbmRzIFkuSGFzaHtjb25zdHJ1Y3RvcihlLHQsbixyKXtzdXBlcigpLHRoaXMuYmxvY2tMZW49ZSx0aGlzLm91dHB1dExlbj10LHRoaXMucGFkT2Zmc2V0PW4sdGhpcy5pc0xFPXIsdGhpcy5maW5pc2hlZD0hMSx0aGlzLmxlbmd0aD0wLHRoaXMucG9zPTAsdGhpcy5kZXN0cm95ZWQ9ITEsdGhpcy5idWZmZXI9bmV3IFVpbnQ4QXJyYXkoZSksdGhpcy52aWV3PSgwLFkuY3JlYXRlVmlldykodGhpcy5idWZmZXIpfXVwZGF0ZShlKXsoMCxHLmV4aXN0cykodGhpcyk7Y29uc3R7dmlldzp0LGJ1ZmZlcjpuLGJsb2NrTGVuOnJ9PXRoaXMsaT0oZT0oMCxZLnRvQnl0ZXMpKGUpKS5sZW5ndGg7Zm9yKGxldCBvPTA7bzxpOyl7Y29uc3Qgcz1NYXRoLm1pbihyLXRoaXMucG9zLGktbyk7aWYocyE9PXIpbi5zZXQoZS5zdWJhcnJheShvLG8rcyksdGhpcy5wb3MpLHRoaXMucG9zKz1zLG8rPXMsdGhpcy5wb3M9PT1yJiYodGhpcy5wcm9jZXNzKHQsMCksdGhpcy5wb3M9MCk7ZWxzZXtjb25zdCB0PSgwLFkuY3JlYXRlVmlldykoZSk7Zm9yKDtyPD1pLW87bys9cil0aGlzLnByb2Nlc3ModCxvKX19cmV0dXJuIHRoaXMubGVuZ3RoKz1lLmxlbmd0aCx0aGlzLnJvdW5kQ2xlYW4oKSx0aGlzfWRpZ2VzdEludG8oZSl7KDAsRy5leGlzdHMpKHRoaXMpLCgwLEcub3V0cHV0KShlLHRoaXMpLHRoaXMuZmluaXNoZWQ9ITA7Y29uc3R7YnVmZmVyOnQsdmlldzpuLGJsb2NrTGVuOnIsaXNMRTppfT10aGlzO2xldHtwb3M6b309dGhpczt0W28rK109MTI4LHRoaXMuYnVmZmVyLnN1YmFycmF5KG8pLmZpbGwoMCksdGhpcy5wYWRPZmZzZXQ+ci1vJiYodGhpcy5wcm9jZXNzKG4sMCksbz0wKTtmb3IobGV0IGU9bztlPHI7ZSsrKXRbZV09MDshZnVuY3Rpb24oZSx0LG4scil7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZS5zZXRCaWdVaW50NjQpcmV0dXJuIGUuc2V0QmlnVWludDY0KHQsbixyKTtjb25zdCBpPUJpZ0ludCgzMiksbz1CaWdJbnQoNDI5NDk2NzI5NSkscz1OdW1iZXIobj4+aSZvKSxhPU51bWJlcihuJm8pLGM9cj80OjAsZD1yPzA6NDtlLnNldFVpbnQzMih0K2MscyxyKSxlLnNldFVpbnQzMih0K2QsYSxyKX0obixyLTgsQmlnSW50KDgqdGhpcy5sZW5ndGgpLGkpLHRoaXMucHJvY2VzcyhuLDApO2NvbnN0IHM9KDAsWS5jcmVhdGVWaWV3KShlKSxhPXRoaXMub3V0cHV0TGVuO2lmKGElNCl0aHJvdyBuZXcgRXJyb3IoXCJfc2hhMjogb3V0cHV0TGVuIHNob3VsZCBiZSBhbGlnbmVkIHRvIDMyYml0XCIpO2NvbnN0IGM9YS80LGQ9dGhpcy5nZXQoKTtpZihjPmQubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIl9zaGEyOiBvdXRwdXRMZW4gYmlnZ2VyIHRoYW4gc3RhdGVcIik7Zm9yKGxldCBlPTA7ZTxjO2UrKylzLnNldFVpbnQzMig0KmUsZFtlXSxpKX1kaWdlc3QoKXtjb25zdHtidWZmZXI6ZSxvdXRwdXRMZW46dH09dGhpczt0aGlzLmRpZ2VzdEludG8oZSk7Y29uc3Qgbj1lLnNsaWNlKDAsdCk7cmV0dXJuIHRoaXMuZGVzdHJveSgpLG59X2Nsb25lSW50byhlKXtlfHwoZT1uZXcgdGhpcy5jb25zdHJ1Y3RvciksZS5zZXQoLi4udGhpcy5nZXQoKSk7Y29uc3R7YmxvY2tMZW46dCxidWZmZXI6bixsZW5ndGg6cixmaW5pc2hlZDppLGRlc3Ryb3llZDpvLHBvczpzfT10aGlzO3JldHVybiBlLmxlbmd0aD1yLGUucG9zPXMsZS5maW5pc2hlZD1pLGUuZGVzdHJveWVkPW8sciV0JiZlLmJ1ZmZlci5zZXQobiksZX19O3ZhciBaPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShaLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLFouYWRkNUw9Wi5hZGQ1SD1aLmFkZDRIPVouYWRkNEw9Wi5hZGQzSD1aLmFkZDNMPVoucm90bEJMPVoucm90bEJIPVoucm90bFNMPVoucm90bFNIPVoucm90cjMyTD1aLnJvdHIzMkg9Wi5yb3RyQkw9Wi5yb3RyQkg9Wi5yb3RyU0w9Wi5yb3RyU0g9Wi5zaHJTTD1aLnNoclNIPVoudG9CaWc9dm9pZCAwLFouZnJvbUJpZz1YLFouc3BsaXQ9ZWUsWi5hZGQ9cGU7Y29uc3QgSj1CaWdJbnQoMioqMzItMSksUT1CaWdJbnQoMzIpO2Z1bmN0aW9uIFgoZSx0PSExKXtyZXR1cm4gdD97aDpOdW1iZXIoZSZKKSxsOk51bWJlcihlPj5RJkopfTp7aDowfE51bWJlcihlPj5RJkopLGw6MHxOdW1iZXIoZSZKKX19ZnVuY3Rpb24gZWUoZSx0PSExKXtsZXQgbj1uZXcgVWludDMyQXJyYXkoZS5sZW5ndGgpLHI9bmV3IFVpbnQzMkFycmF5KGUubGVuZ3RoKTtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyl7Y29uc3R7aDpvLGw6c309WChlW2ldLHQpO1tuW2ldLHJbaV1dPVtvLHNdfXJldHVybltuLHJdfWNvbnN0IHRlPShlLHQpPT5CaWdJbnQoZT4+PjApPDxRfEJpZ0ludCh0Pj4+MCk7Wi50b0JpZz10ZTtjb25zdCBuZT0oZSx0LG4pPT5lPj4+bjtaLnNoclNIPW5lO2NvbnN0IHJlPShlLHQsbik9PmU8PDMyLW58dD4+Pm47Wi5zaHJTTD1yZTtjb25zdCBpZT0oZSx0LG4pPT5lPj4+bnx0PDwzMi1uO1oucm90clNIPWllO2NvbnN0IG9lPShlLHQsbik9PmU8PDMyLW58dD4+Pm47Wi5yb3RyU0w9b2U7Y29uc3Qgc2U9KGUsdCxuKT0+ZTw8NjQtbnx0Pj4+bi0zMjtaLnJvdHJCSD1zZTtjb25zdCBhZT0oZSx0LG4pPT5lPj4+bi0zMnx0PDw2NC1uO1oucm90ckJMPWFlO2NvbnN0IGNlPShlLHQpPT50O1oucm90cjMySD1jZTtjb25zdCBkZT0oZSx0KT0+ZTtaLnJvdHIzMkw9ZGU7Y29uc3QgbGU9KGUsdCxuKT0+ZTw8bnx0Pj4+MzItbjtaLnJvdGxTSD1sZTtjb25zdCB1ZT0oZSx0LG4pPT50PDxufGU+Pj4zMi1uO1oucm90bFNMPXVlO2NvbnN0IGhlPShlLHQsbik9PnQ8PG4tMzJ8ZT4+PjY0LW47Wi5yb3RsQkg9aGU7Y29uc3QgZmU9KGUsdCxuKT0+ZTw8bi0zMnx0Pj4+NjQtbjtmdW5jdGlvbiBwZShlLHQsbixyKXtjb25zdCBpPSh0Pj4+MCkrKHI+Pj4wKTtyZXR1cm57aDplK24rKGkvMioqMzJ8MCl8MCxsOjB8aX19Wi5yb3RsQkw9ZmU7Y29uc3QgbWU9KGUsdCxuKT0+KGU+Pj4wKSsodD4+PjApKyhuPj4+MCk7Wi5hZGQzTD1tZTtjb25zdCBnZT0oZSx0LG4scik9PnQrbityKyhlLzIqKjMyfDApfDA7Wi5hZGQzSD1nZTtjb25zdCB2ZT0oZSx0LG4scik9PihlPj4+MCkrKHQ+Pj4wKSsobj4+PjApKyhyPj4+MCk7Wi5hZGQ0TD12ZTtjb25zdCB5ZT0oZSx0LG4scixpKT0+dCtuK3IraSsoZS8yKiozMnwwKXwwO1ouYWRkNEg9eWU7Y29uc3QgRWU9KGUsdCxuLHIsaSk9PihlPj4+MCkrKHQ+Pj4wKSsobj4+PjApKyhyPj4+MCkrKGk+Pj4wKTtaLmFkZDVMPUVlO2NvbnN0IGJlPShlLHQsbixyLGksbyk9PnQrbityK2krbysoZS8yKiozMnwwKXwwO1ouYWRkNUg9YmU7Y29uc3Qgd2U9e2Zyb21CaWc6WCxzcGxpdDplZSx0b0JpZzp0ZSxzaHJTSDpuZSxzaHJTTDpyZSxyb3RyU0g6aWUscm90clNMOm9lLHJvdHJCSDpzZSxyb3RyQkw6YWUscm90cjMySDpjZSxyb3RyMzJMOmRlLHJvdGxTSDpsZSxyb3RsU0w6dWUscm90bEJIOmhlLHJvdGxCTDpmZSxhZGQ6cGUsYWRkM0w6bWUsYWRkM0g6Z2UsYWRkNEw6dmUsYWRkNEg6eWUsYWRkNUg6YmUsYWRkNUw6RWV9O1ouZGVmYXVsdD13ZSxPYmplY3QuZGVmaW5lUHJvcGVydHkoTixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxOLnNoYTM4ND1OLnNoYTUxMl8yNTY9Ti5zaGE1MTJfMjI0PU4uc2hhNTEyPU4uU0hBMzg0PU4uU0hBNTEyXzI1Nj1OLlNIQTUxMl8yMjQ9Ti5TSEE1MTI9dm9pZCAwO2NvbnN0IFNlPUQsX2U9WixDZT16LFt4ZSxrZV09KCgpPT5fZS5kZWZhdWx0LnNwbGl0KFtcIjB4NDI4YTJmOThkNzI4YWUyMlwiLFwiMHg3MTM3NDQ5MTIzZWY2NWNkXCIsXCIweGI1YzBmYmNmZWM0ZDNiMmZcIixcIjB4ZTliNWRiYTU4MTg5ZGJiY1wiLFwiMHgzOTU2YzI1YmYzNDhiNTM4XCIsXCIweDU5ZjExMWYxYjYwNWQwMTlcIixcIjB4OTIzZjgyYTRhZjE5NGY5YlwiLFwiMHhhYjFjNWVkNWRhNmQ4MTE4XCIsXCIweGQ4MDdhYTk4YTMwMzAyNDJcIixcIjB4MTI4MzViMDE0NTcwNmZiZVwiLFwiMHgyNDMxODViZTRlZTRiMjhjXCIsXCIweDU1MGM3ZGMzZDVmZmI0ZTJcIixcIjB4NzJiZTVkNzRmMjdiODk2ZlwiLFwiMHg4MGRlYjFmZTNiMTY5NmIxXCIsXCIweDliZGMwNmE3MjVjNzEyMzVcIixcIjB4YzE5YmYxNzRjZjY5MjY5NFwiLFwiMHhlNDliNjljMTllZjE0YWQyXCIsXCIweGVmYmU0Nzg2Mzg0ZjI1ZTNcIixcIjB4MGZjMTlkYzY4YjhjZDViNVwiLFwiMHgyNDBjYTFjYzc3YWM5YzY1XCIsXCIweDJkZTkyYzZmNTkyYjAyNzVcIixcIjB4NGE3NDg0YWE2ZWE2ZTQ4M1wiLFwiMHg1Y2IwYTlkY2JkNDFmYmQ0XCIsXCIweDc2Zjk4OGRhODMxMTUzYjVcIixcIjB4OTgzZTUxNTJlZTY2ZGZhYlwiLFwiMHhhODMxYzY2ZDJkYjQzMjEwXCIsXCIweGIwMDMyN2M4OThmYjIxM2ZcIixcIjB4YmY1OTdmYzdiZWVmMGVlNFwiLFwiMHhjNmUwMGJmMzNkYTg4ZmMyXCIsXCIweGQ1YTc5MTQ3OTMwYWE3MjVcIixcIjB4MDZjYTYzNTFlMDAzODI2ZlwiLFwiMHgxNDI5Mjk2NzBhMGU2ZTcwXCIsXCIweDI3YjcwYTg1NDZkMjJmZmNcIixcIjB4MmUxYjIxMzg1YzI2YzkyNlwiLFwiMHg0ZDJjNmRmYzVhYzQyYWVkXCIsXCIweDUzMzgwZDEzOWQ5NWIzZGZcIixcIjB4NjUwYTczNTQ4YmFmNjNkZVwiLFwiMHg3NjZhMGFiYjNjNzdiMmE4XCIsXCIweDgxYzJjOTJlNDdlZGFlZTZcIixcIjB4OTI3MjJjODUxNDgyMzUzYlwiLFwiMHhhMmJmZThhMTRjZjEwMzY0XCIsXCIweGE4MWE2NjRiYmM0MjMwMDFcIixcIjB4YzI0YjhiNzBkMGY4OTc5MVwiLFwiMHhjNzZjNTFhMzA2NTRiZTMwXCIsXCIweGQxOTJlODE5ZDZlZjUyMThcIixcIjB4ZDY5OTA2MjQ1NTY1YTkxMFwiLFwiMHhmNDBlMzU4NTU3NzEyMDJhXCIsXCIweDEwNmFhMDcwMzJiYmQxYjhcIixcIjB4MTlhNGMxMTZiOGQyZDBjOFwiLFwiMHgxZTM3NmMwODUxNDFhYjUzXCIsXCIweDI3NDg3NzRjZGY4ZWViOTlcIixcIjB4MzRiMGJjYjVlMTliNDhhOFwiLFwiMHgzOTFjMGNiM2M1Yzk1YTYzXCIsXCIweDRlZDhhYTRhZTM0MThhY2JcIixcIjB4NWI5Y2NhNGY3NzYzZTM3M1wiLFwiMHg2ODJlNmZmM2Q2YjJiOGEzXCIsXCIweDc0OGY4MmVlNWRlZmIyZmNcIixcIjB4NzhhNTYzNmY0MzE3MmY2MFwiLFwiMHg4NGM4NzgxNGExZjBhYjcyXCIsXCIweDhjYzcwMjA4MWE2NDM5ZWNcIixcIjB4OTBiZWZmZmEyMzYzMWUyOFwiLFwiMHhhNDUwNmNlYmRlODJiZGU5XCIsXCIweGJlZjlhM2Y3YjJjNjc5MTVcIixcIjB4YzY3MTc4ZjJlMzcyNTMyYlwiLFwiMHhjYTI3M2VjZWVhMjY2MTljXCIsXCIweGQxODZiOGM3MjFjMGMyMDdcIixcIjB4ZWFkYTdkZDZjZGUwZWIxZVwiLFwiMHhmNTdkNGY3ZmVlNmVkMTc4XCIsXCIweDA2ZjA2N2FhNzIxNzZmYmFcIixcIjB4MGE2MzdkYzVhMmM4OThhNlwiLFwiMHgxMTNmOTgwNGJlZjkwZGFlXCIsXCIweDFiNzEwYjM1MTMxYzQ3MWJcIixcIjB4MjhkYjc3ZjUyMzA0N2Q4NFwiLFwiMHgzMmNhYWI3YjQwYzcyNDkzXCIsXCIweDNjOWViZTBhMTVjOWJlYmNcIixcIjB4NDMxZDY3YzQ5YzEwMGQ0Y1wiLFwiMHg0Y2M1ZDRiZWNiM2U0MmI2XCIsXCIweDU5N2YyOTljZmM2NTdlMmFcIixcIjB4NWZjYjZmYWIzYWQ2ZmFlY1wiLFwiMHg2YzQ0MTk4YzRhNDc1ODE3XCJdLm1hcCgoZT0+QmlnSW50KGUpKSkpKSgpLE1lPW5ldyBVaW50MzJBcnJheSg4MCksQWU9bmV3IFVpbnQzMkFycmF5KDgwKTtjbGFzcyBUZSBleHRlbmRzIFNlLkhhc2hNRHtjb25zdHJ1Y3Rvcigpe3N1cGVyKDEyOCw2NCwxNiwhMSksdGhpcy5BaD0xNzc5MDMzNzAzLHRoaXMuQWw9LTIwNTczMTU3Nix0aGlzLkJoPS0xMTUwODMzMDE5LHRoaXMuQmw9LTIwNjcwOTM3MDEsdGhpcy5DaD0xMDEzOTA0MjQyLHRoaXMuQ2w9LTIzNzkxNTczLHRoaXMuRGg9LTE1MjE0ODY1MzQsdGhpcy5EbD0xNTk1NzUwMTI5LHRoaXMuRWg9MTM1OTg5MzExOSx0aGlzLkVsPS0xMzc3NDAyMTU5LHRoaXMuRmg9LTE2OTQxNDQzNzIsdGhpcy5GbD03MjU1MTExOTksdGhpcy5HaD01Mjg3MzQ2MzUsdGhpcy5HbD0tNzk1Nzc3NDksdGhpcy5IaD0xNTQxNDU5MjI1LHRoaXMuSGw9MzI3MDMzMjA5fWdldCgpe2NvbnN0e0FoOmUsQWw6dCxCaDpuLEJsOnIsQ2g6aSxDbDpvLERoOnMsRGw6YSxFaDpjLEVsOmQsRmg6bCxGbDp1LEdoOmgsR2w6ZixIaDpwLEhsOm19PXRoaXM7cmV0dXJuW2UsdCxuLHIsaSxvLHMsYSxjLGQsbCx1LGgsZixwLG1dfXNldChlLHQsbixyLGksbyxzLGEsYyxkLGwsdSxoLGYscCxtKXt0aGlzLkFoPTB8ZSx0aGlzLkFsPTB8dCx0aGlzLkJoPTB8bix0aGlzLkJsPTB8cix0aGlzLkNoPTB8aSx0aGlzLkNsPTB8byx0aGlzLkRoPTB8cyx0aGlzLkRsPTB8YSx0aGlzLkVoPTB8Yyx0aGlzLkVsPTB8ZCx0aGlzLkZoPTB8bCx0aGlzLkZsPTB8dSx0aGlzLkdoPTB8aCx0aGlzLkdsPTB8Zix0aGlzLkhoPTB8cCx0aGlzLkhsPTB8bX1wcm9jZXNzKGUsdCl7Zm9yKGxldCBuPTA7bjwxNjtuKyssdCs9NClNZVtuXT1lLmdldFVpbnQzMih0KSxBZVtuXT1lLmdldFVpbnQzMih0Kz00KTtmb3IobGV0IGU9MTY7ZTw4MDtlKyspe2NvbnN0IHQ9MHxNZVtlLTE1XSxuPTB8QWVbZS0xNV0scj1fZS5kZWZhdWx0LnJvdHJTSCh0LG4sMSleX2UuZGVmYXVsdC5yb3RyU0godCxuLDgpXl9lLmRlZmF1bHQuc2hyU0godCxuLDcpLGk9X2UuZGVmYXVsdC5yb3RyU0wodCxuLDEpXl9lLmRlZmF1bHQucm90clNMKHQsbiw4KV5fZS5kZWZhdWx0LnNoclNMKHQsbiw3KSxvPTB8TWVbZS0yXSxzPTB8QWVbZS0yXSxhPV9lLmRlZmF1bHQucm90clNIKG8scywxOSleX2UuZGVmYXVsdC5yb3RyQkgobyxzLDYxKV5fZS5kZWZhdWx0LnNoclNIKG8scyw2KSxjPV9lLmRlZmF1bHQucm90clNMKG8scywxOSleX2UuZGVmYXVsdC5yb3RyQkwobyxzLDYxKV5fZS5kZWZhdWx0LnNoclNMKG8scyw2KSxkPV9lLmRlZmF1bHQuYWRkNEwoaSxjLEFlW2UtN10sQWVbZS0xNl0pLGw9X2UuZGVmYXVsdC5hZGQ0SChkLHIsYSxNZVtlLTddLE1lW2UtMTZdKTtNZVtlXT0wfGwsQWVbZV09MHxkfWxldHtBaDpuLEFsOnIsQmg6aSxCbDpvLENoOnMsQ2w6YSxEaDpjLERsOmQsRWg6bCxFbDp1LEZoOmgsRmw6ZixHaDpwLEdsOm0sSGg6ZyxIbDp2fT10aGlzO2ZvcihsZXQgZT0wO2U8ODA7ZSsrKXtjb25zdCB0PV9lLmRlZmF1bHQucm90clNIKGwsdSwxNCleX2UuZGVmYXVsdC5yb3RyU0gobCx1LDE4KV5fZS5kZWZhdWx0LnJvdHJCSChsLHUsNDEpLHk9X2UuZGVmYXVsdC5yb3RyU0wobCx1LDE0KV5fZS5kZWZhdWx0LnJvdHJTTChsLHUsMTgpXl9lLmRlZmF1bHQucm90ckJMKGwsdSw0MSksRT1sJmhefmwmcCxiPXUmZl5+dSZtLHc9X2UuZGVmYXVsdC5hZGQ1TCh2LHksYixrZVtlXSxBZVtlXSksUz1fZS5kZWZhdWx0LmFkZDVIKHcsZyx0LEUseGVbZV0sTWVbZV0pLF89MHx3LEM9X2UuZGVmYXVsdC5yb3RyU0gobixyLDI4KV5fZS5kZWZhdWx0LnJvdHJCSChuLHIsMzQpXl9lLmRlZmF1bHQucm90ckJIKG4sciwzOSkseD1fZS5kZWZhdWx0LnJvdHJTTChuLHIsMjgpXl9lLmRlZmF1bHQucm90ckJMKG4sciwzNCleX2UuZGVmYXVsdC5yb3RyQkwobixyLDM5KSxrPW4maV5uJnNeaSZzLE09ciZvXnImYV5vJmE7Zz0wfHAsdj0wfG0scD0wfGgsbT0wfGYsaD0wfGwsZj0wfHUsKHtoOmwsbDp1fT1fZS5kZWZhdWx0LmFkZCgwfGMsMHxkLDB8UywwfF8pKSxjPTB8cyxkPTB8YSxzPTB8aSxhPTB8byxpPTB8bixvPTB8cjtjb25zdCBBPV9lLmRlZmF1bHQuYWRkM0woXyx4LE0pO249X2UuZGVmYXVsdC5hZGQzSChBLFMsQyxrKSxyPTB8QX0oe2g6bixsOnJ9PV9lLmRlZmF1bHQuYWRkKDB8dGhpcy5BaCwwfHRoaXMuQWwsMHxuLDB8cikpLCh7aDppLGw6b309X2UuZGVmYXVsdC5hZGQoMHx0aGlzLkJoLDB8dGhpcy5CbCwwfGksMHxvKSksKHtoOnMsbDphfT1fZS5kZWZhdWx0LmFkZCgwfHRoaXMuQ2gsMHx0aGlzLkNsLDB8cywwfGEpKSwoe2g6YyxsOmR9PV9lLmRlZmF1bHQuYWRkKDB8dGhpcy5EaCwwfHRoaXMuRGwsMHxjLDB8ZCkpLCh7aDpsLGw6dX09X2UuZGVmYXVsdC5hZGQoMHx0aGlzLkVoLDB8dGhpcy5FbCwwfGwsMHx1KSksKHtoOmgsbDpmfT1fZS5kZWZhdWx0LmFkZCgwfHRoaXMuRmgsMHx0aGlzLkZsLDB8aCwwfGYpKSwoe2g6cCxsOm19PV9lLmRlZmF1bHQuYWRkKDB8dGhpcy5HaCwwfHRoaXMuR2wsMHxwLDB8bSkpLCh7aDpnLGw6dn09X2UuZGVmYXVsdC5hZGQoMHx0aGlzLkhoLDB8dGhpcy5IbCwwfGcsMHx2KSksdGhpcy5zZXQobixyLGksbyxzLGEsYyxkLGwsdSxoLGYscCxtLGcsdil9cm91bmRDbGVhbigpe01lLmZpbGwoMCksQWUuZmlsbCgwKX1kZXN0cm95KCl7dGhpcy5idWZmZXIuZmlsbCgwKSx0aGlzLnNldCgwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwKX19Ti5TSEE1MTI9VGU7Y2xhc3MgSWUgZXh0ZW5kcyBUZXtjb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5BaD0tMTk0MjE0NTA4MCx0aGlzLkFsPTQyNDk1NTI5OCx0aGlzLkJoPTE5NDQxNjQ3MTAsdGhpcy5CbD0tMTk4MjAxNjI5OCx0aGlzLkNoPTUwMjk3MDI4Nix0aGlzLkNsPTg1NTYxMjU0Nix0aGlzLkRoPTE3MzgzOTY5NDgsdGhpcy5EbD0xNDc5NTE2MTExLHRoaXMuRWg9MjU4ODEyNzc3LHRoaXMuRWw9MjA3NzUxMTA4MCx0aGlzLkZoPTIwMTEzOTM5MDcsdGhpcy5GbD03OTk4OTA1OCx0aGlzLkdoPTEwNjcyODc5NzYsdGhpcy5HbD0xNzgwMjk5NDY0LHRoaXMuSGg9Mjg2NDUxMzczLHRoaXMuSGw9LTE4NDgyMDg3MzUsdGhpcy5vdXRwdXRMZW49Mjh9fU4uU0hBNTEyXzIyND1JZTtjbGFzcyBQZSBleHRlbmRzIFRle2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLkFoPTU3MzY0NTIwNCx0aGlzLkFsPS02NDIyNzU0MCx0aGlzLkJoPS0xNjIxNzk0OTA5LHRoaXMuQmw9LTkzNDUxNzU2Nix0aGlzLkNoPTU5Njg4MzU2Myx0aGlzLkNsPTE4Njc3NTU4NTcsdGhpcy5EaD0tMTc3NDY4NDM5MSx0aGlzLkRsPTE0OTc0MjY2MjEsdGhpcy5FaD0tMTc3NTc0NzM1OCx0aGlzLkVsPS0xNDY3MDIzMzg5LHRoaXMuRmg9LTExMDExMjgxNTUsdGhpcy5GbD0xNDAxMzA1NDkwLHRoaXMuR2g9NzIxNTI1MjQ0LHRoaXMuR2w9NzQ2OTYxMDY2LHRoaXMuSGg9MjQ2ODg1ODUyLHRoaXMuSGw9LTIxMTc3ODQ0MTQsdGhpcy5vdXRwdXRMZW49MzJ9fU4uU0hBNTEyXzI1Nj1QZTtjbGFzcyBSZSBleHRlbmRzIFRle2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLkFoPS04NzY4OTY5MzEsdGhpcy5BbD0tMTA1NjU5NjI2NCx0aGlzLkJoPTE2NTQyNzAyNTAsdGhpcy5CbD05MTQxNTA2NjMsdGhpcy5DaD0tMTg1NjQzNzkyNix0aGlzLkNsPTgxMjcwMjk5OSx0aGlzLkRoPTM1NTQ2MjM2MCx0aGlzLkRsPS0xNTAwNTQ1OTksdGhpcy5FaD0xNzMxNDA1NDE1LHRoaXMuRWw9LTQxOTE0MzksdGhpcy5GaD0tMTkwMDc4NzA2NSx0aGlzLkZsPTE3NTA2MDMwMjUsdGhpcy5HaD0tNjE5OTU4NzcxLHRoaXMuR2w9MTY5NDA3NjgzOSx0aGlzLkhoPTEyMDMwNjI4MTMsdGhpcy5IbD0tMTA5MDg5MTg2OCx0aGlzLm91dHB1dExlbj00OH19Ti5TSEEzODQ9UmUsTi5zaGE1MTI9KDAsQ2Uud3JhcENvbnN0cnVjdG9yKSgoKCk9Pm5ldyBUZSkpLE4uc2hhNTEyXzIyND0oMCxDZS53cmFwQ29uc3RydWN0b3IpKCgoKT0+bmV3IEllKSksTi5zaGE1MTJfMjU2PSgwLENlLndyYXBDb25zdHJ1Y3RvcikoKCgpPT5uZXcgUGUpKSxOLnNoYTM4ND0oMCxDZS53cmFwQ29uc3RydWN0b3IpKCgoKT0+bmV3IFJlKSk7dmFyIE9lPXt9LE5lPXt9LERlPXt9LExlPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShMZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxMZS5ub3RJbXBsZW1lbnRlZD1MZS5iaXRNYXNrPXZvaWQgMCxMZS5pc0J5dGVzPSRlLExlLmFieXRlcz1IZSxMZS5hYm9vbD1mdW5jdGlvbihlLHQpe2lmKFwiYm9vbGVhblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgRXJyb3IoYCR7ZX0gbXVzdCBiZSB2YWxpZCBib29sZWFuLCBnb3QgXCIke3R9XCIuYCl9LExlLmJ5dGVzVG9IZXg9RmUsTGUubnVtYmVyVG9IZXhVbnBhZGRlZD1xZSxMZS5oZXhUb051bWJlcj16ZSxMZS5oZXhUb0J5dGVzPUdlLExlLmJ5dGVzVG9OdW1iZXJCRT1mdW5jdGlvbihlKXtyZXR1cm4gemUoRmUoZSkpfSxMZS5ieXRlc1RvTnVtYmVyTEU9ZnVuY3Rpb24oZSl7cmV0dXJuIEhlKGUpLHplKEZlKFVpbnQ4QXJyYXkuZnJvbShlKS5yZXZlcnNlKCkpKX0sTGUubnVtYmVyVG9CeXRlc0JFPVllLExlLm51bWJlclRvQnl0ZXNMRT1mdW5jdGlvbihlLHQpe3JldHVybiBZZShlLHQpLnJldmVyc2UoKX0sTGUubnVtYmVyVG9WYXJCeXRlc0JFPWZ1bmN0aW9uKGUpe3JldHVybiBHZShxZShlKSl9LExlLmVuc3VyZUJ5dGVzPWZ1bmN0aW9uKGUsdCxuKXtsZXQgcjtpZihcInN0cmluZ1wiPT10eXBlb2YgdCl0cnl7cj1HZSh0KX1jYXRjaChuKXt0aHJvdyBuZXcgRXJyb3IoYCR7ZX0gbXVzdCBiZSB2YWxpZCBoZXggc3RyaW5nLCBnb3QgXCIke3R9XCIuIENhdXNlOiAke259YCl9ZWxzZXtpZighJGUodCkpdGhyb3cgbmV3IEVycm9yKGAke2V9IG11c3QgYmUgaGV4IHN0cmluZyBvciBVaW50OEFycmF5YCk7cj1VaW50OEFycmF5LmZyb20odCl9Y29uc3QgaT1yLmxlbmd0aDtpZihcIm51bWJlclwiPT10eXBlb2YgbiYmaSE9PW4pdGhyb3cgbmV3IEVycm9yKGAke2V9IGV4cGVjdGVkICR7bn0gYnl0ZXMsIGdvdCAke2l9YCk7cmV0dXJuIHJ9LExlLmNvbmNhdEJ5dGVzPVplLExlLmVxdWFsQnl0ZXM9ZnVuY3Rpb24oZSx0KXtpZihlLmxlbmd0aCE9PXQubGVuZ3RoKXJldHVybiExO2xldCBuPTA7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspbnw9ZVtyXV50W3JdO3JldHVybiAwPT09bn0sTGUudXRmOFRvQnl0ZXM9ZnVuY3Rpb24oZSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKFwidXRmOFRvQnl0ZXMgZXhwZWN0ZWQgc3RyaW5nLCBnb3QgXCIrdHlwZW9mIGUpO3JldHVybiBuZXcgVWludDhBcnJheSgobmV3IFRleHRFbmNvZGVyKS5lbmNvZGUoZSkpfSxMZS5pblJhbmdlPVFlLExlLmFJblJhbmdlPWZ1bmN0aW9uKGUsdCxuLHIpe2lmKCFRZSh0LG4scikpdGhyb3cgbmV3IEVycm9yKGBleHBlY3RlZCB2YWxpZCAke2V9OiAke259IDw9IG4gPCAke3J9LCBnb3QgJHt0eXBlb2YgdH0gJHt0fWApfSxMZS5iaXRMZW49ZnVuY3Rpb24oZSl7bGV0IHQ7Zm9yKHQ9MDtlPkJlO2U+Pj1LZSx0Kz0xKTtyZXR1cm4gdH0sTGUuYml0R2V0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU+PkJpZ0ludCh0KSZLZX0sTGUuYml0U2V0PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZXwobj9LZTpCZSk8PEJpZ0ludCh0KX0sTGUuY3JlYXRlSG1hY0RyYmc9ZnVuY3Rpb24oZSx0LG4pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlPDIpdGhyb3cgbmV3IEVycm9yKFwiaGFzaExlbiBtdXN0IGJlIGEgbnVtYmVyXCIpO2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0PDIpdGhyb3cgbmV3IEVycm9yKFwicUJ5dGVMZW4gbXVzdCBiZSBhIG51bWJlclwiKTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBuKXRocm93IG5ldyBFcnJvcihcImhtYWNGbiBtdXN0IGJlIGEgZnVuY3Rpb25cIik7bGV0IHI9WGUoZSksaT1YZShlKSxvPTA7Y29uc3Qgcz0oKT0+e3IuZmlsbCgxKSxpLmZpbGwoMCksbz0wfSxhPSguLi5lKT0+bihpLHIsLi4uZSksYz0oZT1YZSgpKT0+e2k9YShldChbMF0pLGUpLHI9YSgpLDAhPT1lLmxlbmd0aCYmKGk9YShldChbMV0pLGUpLHI9YSgpKX0sZD0oKT0+e2lmKG8rKz49MWUzKXRocm93IG5ldyBFcnJvcihcImRyYmc6IHRyaWVkIDEwMDAgdmFsdWVzXCIpO2xldCBlPTA7Y29uc3Qgbj1bXTtmb3IoO2U8dDspe3I9YSgpO2NvbnN0IHQ9ci5zbGljZSgpO24ucHVzaCh0KSxlKz1yLmxlbmd0aH1yZXR1cm4gWmUoLi4ubil9O3JldHVybihlLHQpPT57bGV0IG47Zm9yKHMoKSxjKGUpOyEobj10KGQoKSkpOyljKCk7cmV0dXJuIHMoKSxufX0sTGUudmFsaWRhdGVPYmplY3Q9ZnVuY3Rpb24oZSx0LG49e30pe2NvbnN0IHI9KHQsbixyKT0+e2NvbnN0IGk9dHRbbl07aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgaSl0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgdmFsaWRhdG9yIFwiJHtufVwiLCBleHBlY3RlZCBmdW5jdGlvbmApO2NvbnN0IG89ZVt0XTtpZighKHImJnZvaWQgMD09PW98fGkobyxlKSkpdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHBhcmFtICR7U3RyaW5nKHQpfT0ke299ICgke3R5cGVvZiBvfSksIGV4cGVjdGVkICR7bn1gKX07Zm9yKGNvbnN0W2Usbl1vZiBPYmplY3QuZW50cmllcyh0KSlyKGUsbiwhMSk7Zm9yKGNvbnN0W2UsdF1vZiBPYmplY3QuZW50cmllcyhuKSlyKGUsdCwhMCk7cmV0dXJuIGV9LExlLm1lbW9pemVkPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9bmV3IFdlYWtNYXA7cmV0dXJuKG4sLi4ucik9Pntjb25zdCBpPXQuZ2V0KG4pO2lmKHZvaWQgMCE9PWkpcmV0dXJuIGk7Y29uc3Qgbz1lKG4sLi4ucik7cmV0dXJuIHQuc2V0KG4sbyksb319O2NvbnN0IEJlPUJpZ0ludCgwKSxLZT1CaWdJbnQoMSksamU9QmlnSW50KDIpO2Z1bmN0aW9uICRlKGUpe3JldHVybiBlIGluc3RhbmNlb2YgVWludDhBcnJheXx8bnVsbCE9ZSYmXCJvYmplY3RcIj09dHlwZW9mIGUmJlwiVWludDhBcnJheVwiPT09ZS5jb25zdHJ1Y3Rvci5uYW1lfWZ1bmN0aW9uIEhlKGUpe2lmKCEkZShlKSl0aHJvdyBuZXcgRXJyb3IoXCJVaW50OEFycmF5IGV4cGVjdGVkXCIpfWNvbnN0IFVlPUFycmF5LmZyb20oe2xlbmd0aDoyNTZ9LCgoZSx0KT0+dC50b1N0cmluZygxNikucGFkU3RhcnQoMixcIjBcIikpKTtmdW5jdGlvbiBGZShlKXtIZShlKTtsZXQgdD1cIlwiO2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXQrPVVlW2Vbbl1dO3JldHVybiB0fWZ1bmN0aW9uIHFlKGUpe2NvbnN0IHQ9ZS50b1N0cmluZygxNik7cmV0dXJuIDEmdC5sZW5ndGg/YDAke3R9YDp0fWZ1bmN0aW9uIHplKGUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihcImhleCBzdHJpbmcgZXhwZWN0ZWQsIGdvdCBcIit0eXBlb2YgZSk7cmV0dXJuIEJpZ0ludChcIlwiPT09ZT9cIjBcIjpgMHgke2V9YCl9Y29uc3QgV2U9e18wOjQ4LF85OjU3LF9BOjY1LF9GOjcwLF9hOjk3LF9mOjEwMn07ZnVuY3Rpb24gVmUoZSl7cmV0dXJuIGU+PVdlLl8wJiZlPD1XZS5fOT9lLVdlLl8wOmU+PVdlLl9BJiZlPD1XZS5fRj9lLShXZS5fQS0xMCk6ZT49V2UuX2EmJmU8PVdlLl9mP2UtKFdlLl9hLTEwKTp2b2lkIDB9ZnVuY3Rpb24gR2UoZSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKFwiaGV4IHN0cmluZyBleHBlY3RlZCwgZ290IFwiK3R5cGVvZiBlKTtjb25zdCB0PWUubGVuZ3RoLG49dC8yO2lmKHQlMil0aHJvdyBuZXcgRXJyb3IoXCJwYWRkZWQgaGV4IHN0cmluZyBleHBlY3RlZCwgZ290IHVucGFkZGVkIGhleCBvZiBsZW5ndGggXCIrdCk7Y29uc3Qgcj1uZXcgVWludDhBcnJheShuKTtmb3IobGV0IHQ9MCxpPTA7dDxuO3QrKyxpKz0yKXtjb25zdCBuPVZlKGUuY2hhckNvZGVBdChpKSksbz1WZShlLmNoYXJDb2RlQXQoaSsxKSk7aWYodm9pZCAwPT09bnx8dm9pZCAwPT09byl7Y29uc3QgdD1lW2ldK2VbaSsxXTt0aHJvdyBuZXcgRXJyb3IoJ2hleCBzdHJpbmcgZXhwZWN0ZWQsIGdvdCBub24taGV4IGNoYXJhY3RlciBcIicrdCsnXCIgYXQgaW5kZXggJytpKX1yW3RdPTE2Km4rb31yZXR1cm4gcn1mdW5jdGlvbiBZZShlLHQpe3JldHVybiBHZShlLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyKnQsXCIwXCIpKX1mdW5jdGlvbiBaZSguLi5lKXtsZXQgdD0wO2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXtjb25zdCByPWVbbl07SGUociksdCs9ci5sZW5ndGh9Y29uc3Qgbj1uZXcgVWludDhBcnJheSh0KTtmb3IobGV0IHQ9MCxyPTA7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IGk9ZVt0XTtuLnNldChpLHIpLHIrPWkubGVuZ3RofXJldHVybiBufWNvbnN0IEplPWU9PlwiYmlnaW50XCI9PXR5cGVvZiBlJiZCZTw9ZTtmdW5jdGlvbiBRZShlLHQsbil7cmV0dXJuIEplKGUpJiZKZSh0KSYmSmUobikmJnQ8PWUmJmU8bn1MZS5iaXRNYXNrPWU9PihqZTw8QmlnSW50KGUtMSkpLUtlO2NvbnN0IFhlPWU9Pm5ldyBVaW50OEFycmF5KGUpLGV0PWU9PlVpbnQ4QXJyYXkuZnJvbShlKTtjb25zdCB0dD17YmlnaW50OmU9PlwiYmlnaW50XCI9PXR5cGVvZiBlLGZ1bmN0aW9uOmU9PlwiZnVuY3Rpb25cIj09dHlwZW9mIGUsYm9vbGVhbjplPT5cImJvb2xlYW5cIj09dHlwZW9mIGUsc3RyaW5nOmU9Plwic3RyaW5nXCI9PXR5cGVvZiBlLHN0cmluZ09yVWludDhBcnJheTplPT5cInN0cmluZ1wiPT10eXBlb2YgZXx8JGUoZSksaXNTYWZlSW50ZWdlcjplPT5OdW1iZXIuaXNTYWZlSW50ZWdlcihlKSxhcnJheTplPT5BcnJheS5pc0FycmF5KGUpLGZpZWxkOihlLHQpPT50LkZwLmlzVmFsaWQoZSksaGFzaDplPT5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiZOdW1iZXIuaXNTYWZlSW50ZWdlcihlLm91dHB1dExlbil9O0xlLm5vdEltcGxlbWVudGVkPSgpPT57dGhyb3cgbmV3IEVycm9yKFwibm90IGltcGxlbWVudGVkXCIpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoRGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksRGUuaXNOZWdhdGl2ZUxFPXZvaWQgMCxEZS5tb2Q9bHQsRGUucG93PXV0LERlLnBvdzI9ZnVuY3Rpb24oZSx0LG4pe2xldCByPWU7Zm9yKDt0LS0gPnJ0OylyKj1yLHIlPW47cmV0dXJuIHJ9LERlLmludmVydD1odCxEZS50b25lbGxpU2hhbmtzPWZ0LERlLkZwU3FydD1wdCxEZS52YWxpZGF0ZUZpZWxkPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9bXQucmVkdWNlKCgoZSx0KT0+KGVbdF09XCJmdW5jdGlvblwiLGUpKSx7T1JERVI6XCJiaWdpbnRcIixNQVNLOlwiYmlnaW50XCIsQllURVM6XCJpc1NhZmVJbnRlZ2VyXCIsQklUUzpcImlzU2FmZUludGVnZXJcIn0pO3JldHVybigwLG50LnZhbGlkYXRlT2JqZWN0KShlLHQpfSxEZS5GcFBvdz1ndCxEZS5GcEludmVydEJhdGNoPXZ0LERlLkZwRGl2PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZS5tdWwodCxcImJpZ2ludFwiPT10eXBlb2Ygbj9odChuLGUuT1JERVIpOmUuaW52KG4pKX0sRGUuRnBMZWdlbmRyZT15dCxEZS5GcElzU3F1YXJlPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9eXQoZS5PUkRFUik7cmV0dXJuIG49Pntjb25zdCByPXQoZSxuKTtyZXR1cm4gZS5lcWwocixlLlpFUk8pfHxlLmVxbChyLGUuT05FKX19LERlLm5MZW5ndGg9RXQsRGUuRmllbGQ9ZnVuY3Rpb24oZSx0LG49ITEscj17fSl7aWYoZTw9cnQpdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBGaWVsZCBPUkRFUiA+IDAsIGdvdCAke2V9YCk7Y29uc3R7bkJpdExlbmd0aDppLG5CeXRlTGVuZ3RoOm99PUV0KGUsdCk7aWYobz4yMDQ4KXRocm93IG5ldyBFcnJvcihcIkZpZWxkIGxlbmd0aHMgb3ZlciAyMDQ4IGJ5dGVzIGFyZSBub3Qgc3VwcG9ydGVkXCIpO2NvbnN0IHM9cHQoZSksYT1PYmplY3QuZnJlZXplKHtPUkRFUjplLEJJVFM6aSxCWVRFUzpvLE1BU0s6KDAsbnQuYml0TWFzaykoaSksWkVSTzpydCxPTkU6aXQsY3JlYXRlOnQ9Pmx0KHQsZSksaXNWYWxpZDp0PT57aWYoXCJiaWdpbnRcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBmaWVsZCBlbGVtZW50OiBleHBlY3RlZCBiaWdpbnQsIGdvdCBcIit0eXBlb2YgdCk7cmV0dXJuIHJ0PD10JiZ0PGV9LGlzMDplPT5lPT09cnQsaXNPZGQ6ZT0+KGUmaXQpPT09aXQsbmVnOnQ9Pmx0KC10LGUpLGVxbDooZSx0KT0+ZT09PXQsc3FyOnQ9Pmx0KHQqdCxlKSxhZGQ6KHQsbik9Pmx0KHQrbixlKSxzdWI6KHQsbik9Pmx0KHQtbixlKSxtdWw6KHQsbik9Pmx0KHQqbixlKSxwb3c6KGUsdCk9Pmd0KGEsZSx0KSxkaXY6KHQsbik9Pmx0KHQqaHQobixlKSxlKSxzcXJOOmU9PmUqZSxhZGROOihlLHQpPT5lK3Qsc3ViTjooZSx0KT0+ZS10LG11bE46KGUsdCk9PmUqdCxpbnY6dD0+aHQodCxlKSxzcXJ0OnIuc3FydHx8KGU9PnMoYSxlKSksaW52ZXJ0QmF0Y2g6ZT0+dnQoYSxlKSxjbW92OihlLHQsbik9Pm4/dDplLHRvQnl0ZXM6ZT0+bj8oMCxudC5udW1iZXJUb0J5dGVzTEUpKGUsbyk6KDAsbnQubnVtYmVyVG9CeXRlc0JFKShlLG8pLGZyb21CeXRlczplPT57aWYoZS5sZW5ndGghPT1vKXRocm93IG5ldyBFcnJvcihgRnAuZnJvbUJ5dGVzOiBleHBlY3RlZCAke299LCBnb3QgJHtlLmxlbmd0aH1gKTtyZXR1cm4gbj8oMCxudC5ieXRlc1RvTnVtYmVyTEUpKGUpOigwLG50LmJ5dGVzVG9OdW1iZXJCRSkoZSl9fSk7cmV0dXJuIE9iamVjdC5mcmVlemUoYSl9LERlLkZwU3FydE9kZD1mdW5jdGlvbihlLHQpe2lmKCFlLmlzT2RkKXRocm93IG5ldyBFcnJvcihcIkZpZWxkIGRvZXNuJ3QgaGF2ZSBpc09kZFwiKTtjb25zdCBuPWUuc3FydCh0KTtyZXR1cm4gZS5pc09kZChuKT9uOmUubmVnKG4pfSxEZS5GcFNxcnRFdmVuPWZ1bmN0aW9uKGUsdCl7aWYoIWUuaXNPZGQpdGhyb3cgbmV3IEVycm9yKFwiRmllbGQgZG9lc24ndCBoYXZlIGlzT2RkXCIpO2NvbnN0IG49ZS5zcXJ0KHQpO3JldHVybiBlLmlzT2RkKG4pP2UubmVnKG4pOm59LERlLmhhc2hUb1ByaXZhdGVTY2FsYXI9ZnVuY3Rpb24oZSx0LG49ITEpe2U9KDAsbnQuZW5zdXJlQnl0ZXMpKFwicHJpdmF0ZUhhc2hcIixlKTtjb25zdCByPWUubGVuZ3RoLGk9RXQodCkubkJ5dGVMZW5ndGgrODtpZihpPDI0fHxyPGl8fHI+MTAyNCl0aHJvdyBuZXcgRXJyb3IoYGhhc2hUb1ByaXZhdGVTY2FsYXI6IGV4cGVjdGVkICR7aX0tMTAyNCBieXRlcyBvZiBpbnB1dCwgZ290ICR7cn1gKTtjb25zdCBvPW4/KDAsbnQuYnl0ZXNUb051bWJlckxFKShlKTooMCxudC5ieXRlc1RvTnVtYmVyQkUpKGUpO3JldHVybiBsdChvLHQtaXQpK2l0fSxEZS5nZXRGaWVsZEJ5dGVzTGVuZ3RoPWJ0LERlLmdldE1pbkhhc2hMZW5ndGg9d3QsRGUubWFwSGFzaFRvRmllbGQ9ZnVuY3Rpb24oZSx0LG49ITEpe2NvbnN0IHI9ZS5sZW5ndGgsaT1idCh0KSxvPXd0KHQpO2lmKHI8MTZ8fHI8b3x8cj4xMDI0KXRocm93IG5ldyBFcnJvcihgZXhwZWN0ZWQgJHtvfS0xMDI0IGJ5dGVzIG9mIGlucHV0LCBnb3QgJHtyfWApO2NvbnN0IHM9bHQobj8oMCxudC5ieXRlc1RvTnVtYmVyQkUpKGUpOigwLG50LmJ5dGVzVG9OdW1iZXJMRSkoZSksdC1pdCkraXQ7cmV0dXJuIG4/KDAsbnQubnVtYmVyVG9CeXRlc0xFKShzLGkpOigwLG50Lm51bWJlclRvQnl0ZXNCRSkocyxpKX07Y29uc3QgbnQ9TGUscnQ9QmlnSW50KDApLGl0PUJpZ0ludCgxKSxvdD1CaWdJbnQoMiksc3Q9QmlnSW50KDMpLGF0PUJpZ0ludCg0KSxjdD1CaWdJbnQoNSksZHQ9QmlnSW50KDgpO2Z1bmN0aW9uIGx0KGUsdCl7Y29uc3Qgbj1lJXQ7cmV0dXJuIG4+PXJ0P246dCtufWZ1bmN0aW9uIHV0KGUsdCxuKXtpZihuPD1ydHx8dDxydCl0aHJvdyBuZXcgRXJyb3IoXCJFeHBlY3RlZCBwb3dlci9tb2R1bG8gPiAwXCIpO2lmKG49PT1pdClyZXR1cm4gcnQ7bGV0IHI9aXQ7Zm9yKDt0PnJ0Oyl0Jml0JiYocj1yKmUlbiksZT1lKmUlbix0Pj49aXQ7cmV0dXJuIHJ9ZnVuY3Rpb24gaHQoZSx0KXtpZihlPT09cnR8fHQ8PXJ0KXRocm93IG5ldyBFcnJvcihgaW52ZXJ0OiBleHBlY3RlZCBwb3NpdGl2ZSBpbnRlZ2VycywgZ290IG49JHtlfSBtb2Q9JHt0fWApO2xldCBuPWx0KGUsdCkscj10LGk9cnQsbz1pdDtmb3IoO24hPT1ydDspe2NvbnN0IGU9ciVuLHQ9aS1vKihyL24pO3I9bixuPWUsaT1vLG89dH1pZihyIT09aXQpdGhyb3cgbmV3IEVycm9yKFwiaW52ZXJ0OiBkb2VzIG5vdCBleGlzdFwiKTtyZXR1cm4gbHQoaSx0KX1mdW5jdGlvbiBmdChlKXtjb25zdCB0PShlLWl0KS9vdDtsZXQgbixyLGk7Zm9yKG49ZS1pdCxyPTA7biVvdD09PXJ0O24vPW90LHIrKyk7Zm9yKGk9b3Q7aTxlJiZ1dChpLHQsZSkhPT1lLWl0O2krKyk7aWYoMT09PXIpe2NvbnN0IHQ9KGUraXQpL2F0O3JldHVybiBmdW5jdGlvbihlLG4pe2NvbnN0IHI9ZS5wb3cobix0KTtpZighZS5lcWwoZS5zcXIociksbikpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgc3F1YXJlIHJvb3RcIik7cmV0dXJuIHJ9fWNvbnN0IG89KG4raXQpL290O3JldHVybiBmdW5jdGlvbihlLHMpe2lmKGUucG93KHMsdCk9PT1lLm5lZyhlLk9ORSkpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgc3F1YXJlIHJvb3RcIik7bGV0IGE9cixjPWUucG93KGUubXVsKGUuT05FLGkpLG4pLGQ9ZS5wb3cocyxvKSxsPWUucG93KHMsbik7Zm9yKDshZS5lcWwobCxlLk9ORSk7KXtpZihlLmVxbChsLGUuWkVSTykpcmV0dXJuIGUuWkVSTztsZXQgdD0xO2ZvcihsZXQgbj1lLnNxcihsKTt0PGEmJiFlLmVxbChuLGUuT05FKTt0Kyspbj1lLnNxcihuKTtjb25zdCBuPWUucG93KGMsaXQ8PEJpZ0ludChhLXQtMSkpO2M9ZS5zcXIobiksZD1lLm11bChkLG4pLGw9ZS5tdWwobCxjKSxhPXR9cmV0dXJuIGR9fWZ1bmN0aW9uIHB0KGUpe2lmKGUlYXQ9PT1zdCl7Y29uc3QgdD0oZStpdCkvYXQ7cmV0dXJuIGZ1bmN0aW9uKGUsbil7Y29uc3Qgcj1lLnBvdyhuLHQpO2lmKCFlLmVxbChlLnNxcihyKSxuKSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBzcXVhcmUgcm9vdFwiKTtyZXR1cm4gcn19aWYoZSVkdD09PWN0KXtjb25zdCB0PShlLWN0KS9kdDtyZXR1cm4gZnVuY3Rpb24oZSxuKXtjb25zdCByPWUubXVsKG4sb3QpLGk9ZS5wb3cocix0KSxvPWUubXVsKG4saSkscz1lLm11bChlLm11bChvLG90KSxpKSxhPWUubXVsKG8sZS5zdWIocyxlLk9ORSkpO2lmKCFlLmVxbChlLnNxcihhKSxuKSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBzcXVhcmUgcm9vdFwiKTtyZXR1cm4gYX19cmV0dXJuIGZ0KGUpfUJpZ0ludCg5KSxCaWdJbnQoMTYpO0RlLmlzTmVnYXRpdmVMRT0oZSx0KT0+KGx0KGUsdCkmaXQpPT09aXQ7Y29uc3QgbXQ9W1wiY3JlYXRlXCIsXCJpc1ZhbGlkXCIsXCJpczBcIixcIm5lZ1wiLFwiaW52XCIsXCJzcXJ0XCIsXCJzcXJcIixcImVxbFwiLFwiYWRkXCIsXCJzdWJcIixcIm11bFwiLFwicG93XCIsXCJkaXZcIixcImFkZE5cIixcInN1Yk5cIixcIm11bE5cIixcInNxck5cIl07ZnVuY3Rpb24gZ3QoZSx0LG4pe2lmKG48cnQpdGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgcG93ZXIgPiAwXCIpO2lmKG49PT1ydClyZXR1cm4gZS5PTkU7aWYobj09PWl0KXJldHVybiB0O2xldCByPWUuT05FLGk9dDtmb3IoO24+cnQ7KW4maXQmJihyPWUubXVsKHIsaSkpLGk9ZS5zcXIoaSksbj4+PWl0O3JldHVybiByfWZ1bmN0aW9uIHZ0KGUsdCl7Y29uc3Qgbj1uZXcgQXJyYXkodC5sZW5ndGgpLHI9dC5yZWR1Y2UoKCh0LHIsaSk9PmUuaXMwKHIpP3Q6KG5baV09dCxlLm11bCh0LHIpKSksZS5PTkUpLGk9ZS5pbnYocik7cmV0dXJuIHQucmVkdWNlUmlnaHQoKCh0LHIsaSk9PmUuaXMwKHIpP3Q6KG5baV09ZS5tdWwodCxuW2ldKSxlLm11bCh0LHIpKSksaSksbn1mdW5jdGlvbiB5dChlKXtjb25zdCB0PShlLWl0KS9vdDtyZXR1cm4oZSxuKT0+ZS5wb3cobix0KX1mdW5jdGlvbiBFdChlLHQpe2NvbnN0IG49dm9pZCAwIT09dD90OmUudG9TdHJpbmcoMikubGVuZ3RoO3JldHVybntuQml0TGVuZ3RoOm4sbkJ5dGVMZW5ndGg6TWF0aC5jZWlsKG4vOCl9fWZ1bmN0aW9uIGJ0KGUpe2lmKFwiYmlnaW50XCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihcImZpZWxkIG9yZGVyIG11c3QgYmUgYmlnaW50XCIpO2NvbnN0IHQ9ZS50b1N0cmluZygyKS5sZW5ndGg7cmV0dXJuIE1hdGguY2VpbCh0LzgpfWZ1bmN0aW9uIHd0KGUpe2NvbnN0IHQ9YnQoZSk7cmV0dXJuIHQrTWF0aC5jZWlsKHQvMil9T2JqZWN0LmRlZmluZVByb3BlcnR5KE5lLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLE5lLndOQUY9ZnVuY3Rpb24oZSx0KXtjb25zdCBuPShlLHQpPT57Y29uc3Qgbj10Lm5lZ2F0ZSgpO3JldHVybiBlP246dH0scj1lPT57aWYoIU51bWJlci5pc1NhZmVJbnRlZ2VyKGUpfHxlPD0wfHxlPnQpdGhyb3cgbmV3IEVycm9yKGBXcm9uZyB3aW5kb3cgc2l6ZT0ke2V9LCBzaG91bGQgYmUgWzEuLiR7dH1dYCl9LGk9ZT0+e3IoZSk7cmV0dXJue3dpbmRvd3M6TWF0aC5jZWlsKHQvZSkrMSx3aW5kb3dTaXplOjIqKihlLTEpfX07cmV0dXJue2NvbnN0VGltZU5lZ2F0ZTpuLHVuc2FmZUxhZGRlcih0LG4pe2xldCByPWUuWkVSTyxpPXQ7Zm9yKDtuPkN0OyluJnh0JiYocj1yLmFkZChpKSksaT1pLmRvdWJsZSgpLG4+Pj14dDtyZXR1cm4gcn0scHJlY29tcHV0ZVdpbmRvdyhlLHQpe2NvbnN0e3dpbmRvd3M6bix3aW5kb3dTaXplOnJ9PWkodCksbz1bXTtsZXQgcz1lLGE9cztmb3IobGV0IGU9MDtlPG47ZSsrKXthPXMsby5wdXNoKGEpO2ZvcihsZXQgZT0xO2U8cjtlKyspYT1hLmFkZChzKSxvLnB1c2goYSk7cz1hLmRvdWJsZSgpfXJldHVybiBvfSx3TkFGKHQscixvKXtjb25zdHt3aW5kb3dzOnMsd2luZG93U2l6ZTphfT1pKHQpO2xldCBjPWUuWkVSTyxkPWUuQkFTRTtjb25zdCBsPUJpZ0ludCgyKip0LTEpLHU9MioqdCxoPUJpZ0ludCh0KTtmb3IobGV0IGU9MDtlPHM7ZSsrKXtjb25zdCB0PWUqYTtsZXQgaT1OdW1iZXIobyZsKTtvPj49aCxpPmEmJihpLT11LG8rPXh0KTtjb25zdCBzPXQsZj10K01hdGguYWJzKGkpLTEscD1lJTIhPTAsbT1pPDA7MD09PWk/ZD1kLmFkZChuKHAscltzXSkpOmM9Yy5hZGQobihtLHJbZl0pKX1yZXR1cm57cDpjLGY6ZH19LHdOQUZDYWNoZWQoZSx0LG4pe2NvbnN0IHI9TXQuZ2V0KGUpfHwxO2xldCBpPWt0LmdldChlKTtyZXR1cm4gaXx8KGk9dGhpcy5wcmVjb21wdXRlV2luZG93KGUsciksMSE9PXImJmt0LnNldChlLG4oaSkpKSx0aGlzLndOQUYocixpLHQpfSxzZXRXaW5kb3dTaXplKGUsdCl7cih0KSxNdC5zZXQoZSx0KSxrdC5kZWxldGUoZSl9fX0sTmUucGlwcGVuZ2VyPWZ1bmN0aW9uKGUsdCxuLHIpe2lmKCFBcnJheS5pc0FycmF5KG4pfHwhQXJyYXkuaXNBcnJheShyKXx8ci5sZW5ndGghPT1uLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJhcnJheXMgb2YgcG9pbnRzIGFuZCBzY2FsYXJzIG11c3QgaGF2ZSBlcXVhbCBsZW5ndGhcIik7ci5mb3JFYWNoKCgoZSxuKT0+e2lmKCF0LmlzVmFsaWQoZSkpdGhyb3cgbmV3IEVycm9yKGB3cm9uZyBzY2FsYXIgYXQgaW5kZXggJHtufWApfSkpLG4uZm9yRWFjaCgoKHQsbik9PntpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgRXJyb3IoYHdyb25nIHBvaW50IGF0IGluZGV4ICR7bn1gKX0pKTtjb25zdCBpPSgwLF90LmJpdExlbikoQmlnSW50KG4ubGVuZ3RoKSksbz1pPjEyP2ktMzppPjQ/aS0yOmk/MjoxLHM9KDE8PG8pLTEsYT1uZXcgQXJyYXkocysxKS5maWxsKGUuWkVSTyksYz1NYXRoLmZsb29yKCh0LkJJVFMtMSkvbykqbztsZXQgZD1lLlpFUk87Zm9yKGxldCB0PWM7dD49MDt0LT1vKXthLmZpbGwoZS5aRVJPKTtmb3IobGV0IGU9MDtlPHIubGVuZ3RoO2UrKyl7Y29uc3QgaT1yW2VdLG89TnVtYmVyKGk+PkJpZ0ludCh0KSZCaWdJbnQocykpO2Fbb109YVtvXS5hZGQobltlXSl9bGV0IGk9ZS5aRVJPO2ZvcihsZXQgdD1hLmxlbmd0aC0xLG49ZS5aRVJPO3Q+MDt0LS0pbj1uLmFkZChhW3RdKSxpPWkuYWRkKG4pO2lmKGQ9ZC5hZGQoaSksMCE9PXQpZm9yKGxldCBlPTA7ZTxvO2UrKylkPWQuZG91YmxlKCl9cmV0dXJuIGR9LE5lLnZhbGlkYXRlQmFzaWM9ZnVuY3Rpb24oZSl7cmV0dXJuKDAsU3QudmFsaWRhdGVGaWVsZCkoZS5GcCksKDAsX3QudmFsaWRhdGVPYmplY3QpKGUse246XCJiaWdpbnRcIixoOlwiYmlnaW50XCIsR3g6XCJmaWVsZFwiLEd5OlwiZmllbGRcIn0se25CaXRMZW5ndGg6XCJpc1NhZmVJbnRlZ2VyXCIsbkJ5dGVMZW5ndGg6XCJpc1NhZmVJbnRlZ2VyXCJ9KSxPYmplY3QuZnJlZXplKHsuLi4oMCxTdC5uTGVuZ3RoKShlLm4sZS5uQml0TGVuZ3RoKSwuLi5lLHA6ZS5GcC5PUkRFUn0pfTtjb25zdCBTdD1EZSxfdD1MZSxDdD1CaWdJbnQoMCkseHQ9QmlnSW50KDEpLGt0PW5ldyBXZWFrTWFwLE10PW5ldyBXZWFrTWFwO09iamVjdC5kZWZpbmVQcm9wZXJ0eShPZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxPZS50d2lzdGVkRWR3YXJkcz1mdW5jdGlvbihlKXtjb25zdCB0PWZ1bmN0aW9uKGUpe2NvbnN0IHQ9KDAsQXQudmFsaWRhdGVCYXNpYykoZSk7cmV0dXJuIEl0LnZhbGlkYXRlT2JqZWN0KGUse2hhc2g6XCJmdW5jdGlvblwiLGE6XCJiaWdpbnRcIixkOlwiYmlnaW50XCIscmFuZG9tQnl0ZXM6XCJmdW5jdGlvblwifSx7YWRqdXN0U2NhbGFyQnl0ZXM6XCJmdW5jdGlvblwiLGRvbWFpbjpcImZ1bmN0aW9uXCIsdXZSYXRpbzpcImZ1bmN0aW9uXCIsbWFwVG9DdXJ2ZTpcImZ1bmN0aW9uXCJ9KSxPYmplY3QuZnJlZXplKHsuLi50fSl9KGUpLHtGcDpuLG46cixwcmVoYXNoOmksaGFzaDpvLHJhbmRvbUJ5dGVzOnMsbkJ5dGVMZW5ndGg6YSxoOmN9PXQsZD1OdDw8QmlnSW50KDgqYSktT3QsbD1uLmNyZWF0ZSx1PSgwLFR0LkZpZWxkKSh0Lm4sdC5uQml0TGVuZ3RoKSxoPXQudXZSYXRpb3x8KChlLHQpPT57dHJ5e3JldHVybntpc1ZhbGlkOiEwLHZhbHVlOm4uc3FydChlKm4uaW52KHQpKX19Y2F0Y2goZSl7cmV0dXJue2lzVmFsaWQ6ITEsdmFsdWU6UnR9fX0pLGY9dC5hZGp1c3RTY2FsYXJCeXRlc3x8KGU9PmUpLHA9dC5kb21haW58fCgoZSx0LG4pPT57aWYoKDAsUHQuYWJvb2wpKFwicGhmbGFnXCIsbiksdC5sZW5ndGh8fG4pdGhyb3cgbmV3IEVycm9yKFwiQ29udGV4dHMvcHJlLWhhc2ggYXJlIG5vdCBzdXBwb3J0ZWRcIik7cmV0dXJuIGV9KTtmdW5jdGlvbiBtKGUsdCl7SXQuYUluUmFuZ2UoXCJjb29yZGluYXRlIFwiK2UsdCxSdCxkKX1mdW5jdGlvbiBnKGUpe2lmKCEoZSBpbnN0YW5jZW9mIEUpKXRocm93IG5ldyBFcnJvcihcIkV4dGVuZGVkUG9pbnQgZXhwZWN0ZWRcIil9Y29uc3Qgdj0oMCxQdC5tZW1vaXplZCkoKChlLHQpPT57Y29uc3R7ZXg6cixleTppLGV6Om99PWUscz1lLmlzMCgpO251bGw9PXQmJih0PXM/RHQ6bi5pbnYobykpO2NvbnN0IGE9bChyKnQpLGM9bChpKnQpLGQ9bChvKnQpO2lmKHMpcmV0dXJue3g6UnQseTpPdH07aWYoZCE9PU90KXRocm93IG5ldyBFcnJvcihcImludlogd2FzIGludmFsaWRcIik7cmV0dXJue3g6YSx5OmN9fSkpLHk9KDAsUHQubWVtb2l6ZWQpKChlPT57Y29uc3R7YTpuLGQ6cn09dDtpZihlLmlzMCgpKXRocm93IG5ldyBFcnJvcihcImJhZCBwb2ludDogWkVST1wiKTtjb25zdHtleDppLGV5Om8sZXo6cyxldDphfT1lLGM9bChpKmkpLGQ9bChvKm8pLHU9bChzKnMpLGg9bCh1KnUpLGY9bChjKm4pO2lmKGwodSpsKGYrZCkpIT09bChoK2wocipsKGMqZCkpKSl0aHJvdyBuZXcgRXJyb3IoXCJiYWQgcG9pbnQ6IGVxdWF0aW9uIGxlZnQgIT0gcmlnaHQgKDEpXCIpO2lmKGwoaSpvKSE9PWwocyphKSl0aHJvdyBuZXcgRXJyb3IoXCJiYWQgcG9pbnQ6IGVxdWF0aW9uIGxlZnQgIT0gcmlnaHQgKDIpXCIpO3JldHVybiEwfSkpO2NsYXNzIEV7Y29uc3RydWN0b3IoZSx0LG4scil7dGhpcy5leD1lLHRoaXMuZXk9dCx0aGlzLmV6PW4sdGhpcy5ldD1yLG0oXCJ4XCIsZSksbShcInlcIix0KSxtKFwielwiLG4pLG0oXCJ0XCIsciksT2JqZWN0LmZyZWV6ZSh0aGlzKX1nZXQgeCgpe3JldHVybiB0aGlzLnRvQWZmaW5lKCkueH1nZXQgeSgpe3JldHVybiB0aGlzLnRvQWZmaW5lKCkueX1zdGF0aWMgZnJvbUFmZmluZShlKXtpZihlIGluc3RhbmNlb2YgRSl0aHJvdyBuZXcgRXJyb3IoXCJleHRlbmRlZCBwb2ludCBub3QgYWxsb3dlZFwiKTtjb25zdHt4OnQseTpufT1lfHx7fTtyZXR1cm4gbShcInhcIix0KSxtKFwieVwiLG4pLG5ldyBFKHQsbixPdCxsKHQqbikpfXN0YXRpYyBub3JtYWxpemVaKGUpe2NvbnN0IHQ9bi5pbnZlcnRCYXRjaChlLm1hcCgoZT0+ZS5leikpKTtyZXR1cm4gZS5tYXAoKChlLG4pPT5lLnRvQWZmaW5lKHRbbl0pKSkubWFwKEUuZnJvbUFmZmluZSl9c3RhdGljIG1zbShlLHQpe3JldHVybigwLEF0LnBpcHBlbmdlcikoRSx1LGUsdCl9X3NldFdpbmRvd1NpemUoZSl7Uy5zZXRXaW5kb3dTaXplKHRoaXMsZSl9YXNzZXJ0VmFsaWRpdHkoKXt5KHRoaXMpfWVxdWFscyhlKXtnKGUpO2NvbnN0e2V4OnQsZXk6bixlejpyfT10aGlzLHtleDppLGV5Om8sZXo6c309ZSxhPWwodCpzKSxjPWwoaSpyKSxkPWwobipzKSx1PWwobypyKTtyZXR1cm4gYT09PWMmJmQ9PT11fWlzMCgpe3JldHVybiB0aGlzLmVxdWFscyhFLlpFUk8pfW5lZ2F0ZSgpe3JldHVybiBuZXcgRShsKC10aGlzLmV4KSx0aGlzLmV5LHRoaXMuZXosbCgtdGhpcy5ldCkpfWRvdWJsZSgpe2NvbnN0e2E6ZX09dCx7ZXg6bixleTpyLGV6Oml9PXRoaXMsbz1sKG4qbikscz1sKHIqciksYT1sKE50KmwoaSppKSksYz1sKGUqbyksZD1uK3IsdT1sKGwoZCpkKS1vLXMpLGg9YytzLGY9aC1hLHA9Yy1zLG09bCh1KmYpLGc9bChoKnApLHY9bCh1KnApLHk9bChmKmgpO3JldHVybiBuZXcgRShtLGcseSx2KX1hZGQoZSl7ZyhlKTtjb25zdHthOm4sZDpyfT10LHtleDppLGV5Om8sZXo6cyxldDphfT10aGlzLHtleDpjLGV5OmQsZXo6dSxldDpofT1lO2lmKG49PT1CaWdJbnQoLTEpKXtjb25zdCBlPWwoKG8taSkqKGQrYykpLHQ9bCgobytpKSooZC1jKSksbj1sKHQtZSk7aWYobj09PVJ0KXJldHVybiB0aGlzLmRvdWJsZSgpO2NvbnN0IHI9bChzKk50KmgpLGY9bChhKk50KnUpLHA9ZityLG09dCtlLGc9Zi1yLHY9bChwKm4pLHk9bChtKmcpLGI9bChwKmcpLHc9bChuKm0pO3JldHVybiBuZXcgRSh2LHksdyxiKX1jb25zdCBmPWwoaSpjKSxwPWwobypkKSxtPWwoYSpyKmgpLHY9bChzKnUpLHk9bCgoaStvKSooYytkKS1mLXApLGI9di1tLHc9dittLFM9bChwLW4qZiksXz1sKHkqYiksQz1sKHcqUykseD1sKHkqUyksaz1sKGIqdyk7cmV0dXJuIG5ldyBFKF8sQyxrLHgpfXN1YnRyYWN0KGUpe3JldHVybiB0aGlzLmFkZChlLm5lZ2F0ZSgpKX13TkFGKGUpe3JldHVybiBTLndOQUZDYWNoZWQodGhpcyxlLEUubm9ybWFsaXplWil9bXVsdGlwbHkoZSl7Y29uc3QgdD1lO0l0LmFJblJhbmdlKFwic2NhbGFyXCIsdCxPdCxyKTtjb25zdHtwOm4sZjppfT10aGlzLndOQUYodCk7cmV0dXJuIEUubm9ybWFsaXplWihbbixpXSlbMF19bXVsdGlwbHlVbnNhZmUoZSl7Y29uc3QgdD1lO3JldHVybiBJdC5hSW5SYW5nZShcInNjYWxhclwiLHQsUnQsciksdD09PVJ0P3c6dGhpcy5lcXVhbHModyl8fHQ9PT1PdD90aGlzOnRoaXMuZXF1YWxzKGIpP3RoaXMud05BRih0KS5wOlMudW5zYWZlTGFkZGVyKHRoaXMsdCl9aXNTbWFsbE9yZGVyKCl7cmV0dXJuIHRoaXMubXVsdGlwbHlVbnNhZmUoYykuaXMwKCl9aXNUb3JzaW9uRnJlZSgpe3JldHVybiBTLnVuc2FmZUxhZGRlcih0aGlzLHIpLmlzMCgpfXRvQWZmaW5lKGUpe3JldHVybiB2KHRoaXMsZSl9Y2xlYXJDb2ZhY3Rvcigpe2NvbnN0e2g6ZX09dDtyZXR1cm4gZT09PU90P3RoaXM6dGhpcy5tdWx0aXBseVVuc2FmZShlKX1zdGF0aWMgZnJvbUhleChlLHI9ITEpe2NvbnN0e2Q6aSxhOm99PXQscz1uLkJZVEVTO2U9KDAsUHQuZW5zdXJlQnl0ZXMpKFwicG9pbnRIZXhcIixlLHMpLCgwLFB0LmFib29sKShcInppcDIxNVwiLHIpO2NvbnN0IGE9ZS5zbGljZSgpLGM9ZVtzLTFdO2Fbcy0xXT0tMTI5JmM7Y29uc3QgdT1JdC5ieXRlc1RvTnVtYmVyTEUoYSksZj1yP2Q6bi5PUkRFUjtJdC5hSW5SYW5nZShcInBvaW50SGV4LnlcIix1LFJ0LGYpO2NvbnN0IHA9bCh1KnUpLG09bChwLU90KSxnPWwoaSpwLW8pO2xldHtpc1ZhbGlkOnYsdmFsdWU6eX09aChtLGcpO2lmKCF2KXRocm93IG5ldyBFcnJvcihcIlBvaW50LmZyb21IZXg6IGludmFsaWQgeSBjb29yZGluYXRlXCIpO2NvbnN0IGI9KHkmT3QpPT09T3Qsdz0wIT0oMTI4JmMpO2lmKCFyJiZ5PT09UnQmJncpdGhyb3cgbmV3IEVycm9yKFwiUG9pbnQuZnJvbUhleDogeD0wIGFuZCB4XzA9MVwiKTtyZXR1cm4gdyE9PWImJih5PWwoLXkpKSxFLmZyb21BZmZpbmUoe3g6eSx5OnV9KX1zdGF0aWMgZnJvbVByaXZhdGVLZXkoZSl7cmV0dXJuIHgoZSkucG9pbnR9dG9SYXdCeXRlcygpe2NvbnN0e3g6ZSx5OnR9PXRoaXMudG9BZmZpbmUoKSxyPUl0Lm51bWJlclRvQnl0ZXNMRSh0LG4uQllURVMpO3JldHVybiByW3IubGVuZ3RoLTFdfD1lJk90PzEyODowLHJ9dG9IZXgoKXtyZXR1cm4gSXQuYnl0ZXNUb0hleCh0aGlzLnRvUmF3Qnl0ZXMoKSl9fUUuQkFTRT1uZXcgRSh0Lkd4LHQuR3ksT3QsbCh0Lkd4KnQuR3kpKSxFLlpFUk89bmV3IEUoUnQsT3QsT3QsUnQpO2NvbnN0e0JBU0U6YixaRVJPOnd9PUUsUz0oMCxBdC53TkFGKShFLDgqYSk7ZnVuY3Rpb24gXyhlKXtyZXR1cm4oMCxUdC5tb2QpKGUscil9ZnVuY3Rpb24gQyhlKXtyZXR1cm4gXyhJdC5ieXRlc1RvTnVtYmVyTEUoZSkpfWZ1bmN0aW9uIHgoZSl7Y29uc3QgdD1hO2U9KDAsUHQuZW5zdXJlQnl0ZXMpKFwicHJpdmF0ZSBrZXlcIixlLHQpO2NvbnN0IG49KDAsUHQuZW5zdXJlQnl0ZXMpKFwiaGFzaGVkIHByaXZhdGUga2V5XCIsbyhlKSwyKnQpLHI9ZihuLnNsaWNlKDAsdCkpLGk9bi5zbGljZSh0LDIqdCkscz1DKHIpLGM9Yi5tdWx0aXBseShzKSxkPWMudG9SYXdCeXRlcygpO3JldHVybntoZWFkOnIscHJlZml4Omksc2NhbGFyOnMscG9pbnQ6Yyxwb2ludEJ5dGVzOmR9fWZ1bmN0aW9uIGsoZT1uZXcgVWludDhBcnJheSwuLi50KXtjb25zdCBuPUl0LmNvbmNhdEJ5dGVzKC4uLnQpO3JldHVybiBDKG8ocChuLCgwLFB0LmVuc3VyZUJ5dGVzKShcImNvbnRleHRcIixlKSwhIWkpKSl9Y29uc3QgTT1MdDtiLl9zZXRXaW5kb3dTaXplKDgpO2NvbnN0IEE9e2dldEV4dGVuZGVkUHVibGljS2V5OngscmFuZG9tUHJpdmF0ZUtleTooKT0+cyhuLkJZVEVTKSxwcmVjb21wdXRlOihlPTgsdD1FLkJBU0UpPT4odC5fc2V0V2luZG93U2l6ZShlKSx0Lm11bHRpcGx5KEJpZ0ludCgzKSksdCl9O3JldHVybntDVVJWRTp0LGdldFB1YmxpY0tleTpmdW5jdGlvbihlKXtyZXR1cm4geChlKS5wb2ludEJ5dGVzfSxzaWduOmZ1bmN0aW9uKGUsdCxvPXt9KXtlPSgwLFB0LmVuc3VyZUJ5dGVzKShcIm1lc3NhZ2VcIixlKSxpJiYoZT1pKGUpKTtjb25zdHtwcmVmaXg6cyxzY2FsYXI6Yyxwb2ludEJ5dGVzOmR9PXgodCksbD1rKG8uY29udGV4dCxzLGUpLHU9Yi5tdWx0aXBseShsKS50b1Jhd0J5dGVzKCksaD1fKGwrayhvLmNvbnRleHQsdSxkLGUpKmMpO0l0LmFJblJhbmdlKFwic2lnbmF0dXJlLnNcIixoLFJ0LHIpO2NvbnN0IGY9SXQuY29uY2F0Qnl0ZXModSxJdC5udW1iZXJUb0J5dGVzTEUoaCxuLkJZVEVTKSk7cmV0dXJuKDAsUHQuZW5zdXJlQnl0ZXMpKFwicmVzdWx0XCIsZiwyKmEpfSx2ZXJpZnk6ZnVuY3Rpb24oZSx0LHIsbz1NKXtjb25zdHtjb250ZXh0OnMsemlwMjE1OmF9PW8sYz1uLkJZVEVTO2U9KDAsUHQuZW5zdXJlQnl0ZXMpKFwic2lnbmF0dXJlXCIsZSwyKmMpLHQ9KDAsUHQuZW5zdXJlQnl0ZXMpKFwibWVzc2FnZVwiLHQpLHZvaWQgMCE9PWEmJigwLFB0LmFib29sKShcInppcDIxNVwiLGEpLGkmJih0PWkodCkpO2NvbnN0IGQ9SXQuYnl0ZXNUb051bWJlckxFKGUuc2xpY2UoYywyKmMpKTtsZXQgbCx1LGg7dHJ5e2w9RS5mcm9tSGV4KHIsYSksdT1FLmZyb21IZXgoZS5zbGljZSgwLGMpLGEpLGg9Yi5tdWx0aXBseVVuc2FmZShkKX1jYXRjaChlKXtyZXR1cm4hMX1pZighYSYmbC5pc1NtYWxsT3JkZXIoKSlyZXR1cm4hMTtjb25zdCBmPWsocyx1LnRvUmF3Qnl0ZXMoKSxsLnRvUmF3Qnl0ZXMoKSx0KTtyZXR1cm4gdS5hZGQobC5tdWx0aXBseVVuc2FmZShmKSkuc3VidHJhY3QoaCkuY2xlYXJDb2ZhY3RvcigpLmVxdWFscyhFLlpFUk8pfSxFeHRlbmRlZFBvaW50OkUsdXRpbHM6QX19O2NvbnN0IEF0PU5lLFR0PURlLEl0PUxlLFB0PUxlLFJ0PUJpZ0ludCgwKSxPdD1CaWdJbnQoMSksTnQ9QmlnSW50KDIpLER0PUJpZ0ludCg4KSxMdD17emlwMjE1OiEwfTt2YXIgQnQ9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KEJ0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLEJ0LmV4cGFuZF9tZXNzYWdlX3htZD1xdCxCdC5leHBhbmRfbWVzc2FnZV94b2Y9enQsQnQuaGFzaF90b19maWVsZD1XdCxCdC5pc29nZW55TWFwPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj10Lm1hcCgoZT0+QXJyYXkuZnJvbShlKS5yZXZlcnNlKCkpKTtyZXR1cm4odCxyKT0+e2NvbnN0W2ksbyxzLGFdPW4ubWFwKChuPT5uLnJlZHVjZSgoKG4scik9PmUuYWRkKGUubXVsKG4sdCkscikpKSkpO3JldHVybiB0PWUuZGl2KGksbykscj1lLm11bChyLGUuZGl2KHMsYSkpLHt4OnQseTpyfX19LEJ0LmNyZWF0ZUhhc2hlcj1mdW5jdGlvbihlLHQsbil7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgRXJyb3IoXCJtYXBUb0N1cnZlKCkgbXVzdCBiZSBkZWZpbmVkXCIpO3JldHVybntoYXNoVG9DdXJ2ZShyLGkpe2NvbnN0IG89V3QociwyLHsuLi5uLERTVDpuLkRTVCwuLi5pfSkscz1lLmZyb21BZmZpbmUodChvWzBdKSksYT1lLmZyb21BZmZpbmUodChvWzFdKSksYz1zLmFkZChhKS5jbGVhckNvZmFjdG9yKCk7cmV0dXJuIGMuYXNzZXJ0VmFsaWRpdHkoKSxjfSxlbmNvZGVUb0N1cnZlKHIsaSl7Y29uc3Qgbz1XdChyLDEsey4uLm4sRFNUOm4uZW5jb2RlRFNULC4uLml9KSxzPWUuZnJvbUFmZmluZSh0KG9bMF0pKS5jbGVhckNvZmFjdG9yKCk7cmV0dXJuIHMuYXNzZXJ0VmFsaWRpdHkoKSxzfSxtYXBUb0N1cnZlKG4pe2lmKCFBcnJheS5pc0FycmF5KG4pKXRocm93IG5ldyBFcnJvcihcIm1hcFRvQ3VydmU6IGV4cGVjdGVkIGFycmF5IG9mIGJpZ2ludHNcIik7Zm9yKGNvbnN0IGUgb2YgbilpZihcImJpZ2ludFwiIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoYG1hcFRvQ3VydmU6IGV4cGVjdGVkIGFycmF5IG9mIGJpZ2ludHMsIGdvdCAke2V9IGluIGFycmF5YCk7Y29uc3Qgcj1lLmZyb21BZmZpbmUodChuKSkuY2xlYXJDb2ZhY3RvcigpO3JldHVybiByLmFzc2VydFZhbGlkaXR5KCkscn19fTtjb25zdCBLdD1EZSxqdD1MZSwkdD1qdC5ieXRlc1RvTnVtYmVyQkU7ZnVuY3Rpb24gSHQoZSx0KXtpZihGdChlKSxGdCh0KSxlPDB8fGU+PTE8PDgqdCl0aHJvdyBuZXcgRXJyb3IoYGJhZCBJMk9TUCBjYWxsOiB2YWx1ZT0ke2V9IGxlbmd0aD0ke3R9YCk7Y29uc3Qgbj1BcnJheS5mcm9tKHtsZW5ndGg6dH0pLmZpbGwoMCk7Zm9yKGxldCByPXQtMTtyPj0wO3ItLSluW3JdPTI1NSZlLGU+Pj49ODtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkobil9ZnVuY3Rpb24gVXQoZSx0KXtjb25zdCBuPW5ldyBVaW50OEFycmF5KGUubGVuZ3RoKTtmb3IobGV0IHI9MDtyPGUubGVuZ3RoO3IrKyluW3JdPWVbcl1edFtyXTtyZXR1cm4gbn1mdW5jdGlvbiBGdChlKXtpZighTnVtYmVyLmlzU2FmZUludGVnZXIoZSkpdGhyb3cgbmV3IEVycm9yKFwibnVtYmVyIGV4cGVjdGVkXCIpfWZ1bmN0aW9uIHF0KGUsdCxuLHIpeygwLGp0LmFieXRlcykoZSksKDAsanQuYWJ5dGVzKSh0KSxGdChuKSx0Lmxlbmd0aD4yNTUmJih0PXIoKDAsanQuY29uY2F0Qnl0ZXMpKCgwLGp0LnV0ZjhUb0J5dGVzKShcIkgyQy1PVkVSU0laRS1EU1QtXCIpLHQpKSk7Y29uc3R7b3V0cHV0TGVuOmksYmxvY2tMZW46b309cixzPU1hdGguY2VpbChuL2kpO2lmKG4+NjU1MzV8fHM+MjU1KXRocm93IG5ldyBFcnJvcihcImV4cGFuZF9tZXNzYWdlX3htZDogaW52YWxpZCBsZW5JbkJ5dGVzXCIpO2NvbnN0IGE9KDAsanQuY29uY2F0Qnl0ZXMpKHQsSHQodC5sZW5ndGgsMSkpLGM9SHQoMCxvKSxkPUh0KG4sMiksbD1uZXcgQXJyYXkocyksdT1yKCgwLGp0LmNvbmNhdEJ5dGVzKShjLGUsZCxIdCgwLDEpLGEpKTtsWzBdPXIoKDAsanQuY29uY2F0Qnl0ZXMpKHUsSHQoMSwxKSxhKSk7Zm9yKGxldCBlPTE7ZTw9cztlKyspe2NvbnN0IHQ9W1V0KHUsbFtlLTFdKSxIdChlKzEsMSksYV07bFtlXT1yKCgwLGp0LmNvbmNhdEJ5dGVzKSguLi50KSl9cmV0dXJuKDAsanQuY29uY2F0Qnl0ZXMpKC4uLmwpLnNsaWNlKDAsbil9ZnVuY3Rpb24genQoZSx0LG4scixpKXtpZigoMCxqdC5hYnl0ZXMpKGUpLCgwLGp0LmFieXRlcykodCksRnQobiksdC5sZW5ndGg+MjU1KXtjb25zdCBlPU1hdGguY2VpbCgyKnIvOCk7dD1pLmNyZWF0ZSh7ZGtMZW46ZX0pLnVwZGF0ZSgoMCxqdC51dGY4VG9CeXRlcykoXCJIMkMtT1ZFUlNJWkUtRFNULVwiKSkudXBkYXRlKHQpLmRpZ2VzdCgpfWlmKG4+NjU1MzV8fHQubGVuZ3RoPjI1NSl0aHJvdyBuZXcgRXJyb3IoXCJleHBhbmRfbWVzc2FnZV94b2Y6IGludmFsaWQgbGVuSW5CeXRlc1wiKTtyZXR1cm4gaS5jcmVhdGUoe2RrTGVuOm59KS51cGRhdGUoZSkudXBkYXRlKEh0KG4sMikpLnVwZGF0ZSh0KS51cGRhdGUoSHQodC5sZW5ndGgsMSkpLmRpZ2VzdCgpfWZ1bmN0aW9uIFd0KGUsdCxuKXsoMCxqdC52YWxpZGF0ZU9iamVjdCkobix7RFNUOlwic3RyaW5nT3JVaW50OEFycmF5XCIscDpcImJpZ2ludFwiLG06XCJpc1NhZmVJbnRlZ2VyXCIsazpcImlzU2FmZUludGVnZXJcIixoYXNoOlwiaGFzaFwifSk7Y29uc3R7cDpyLGs6aSxtOm8saGFzaDpzLGV4cGFuZDphLERTVDpjfT1uOygwLGp0LmFieXRlcykoZSksRnQodCk7Y29uc3QgZD1cInN0cmluZ1wiPT10eXBlb2YgYz8oMCxqdC51dGY4VG9CeXRlcykoYyk6YyxsPXIudG9TdHJpbmcoMikubGVuZ3RoLHU9TWF0aC5jZWlsKChsK2kpLzgpLGg9dCpvKnU7bGV0IGY7aWYoXCJ4bWRcIj09PWEpZj1xdChlLGQsaCxzKTtlbHNlIGlmKFwieG9mXCI9PT1hKWY9enQoZSxkLGgsaSxzKTtlbHNle2lmKFwiX2ludGVybmFsX3Bhc3NcIiE9PWEpdGhyb3cgbmV3IEVycm9yKCdleHBhbmQgbXVzdCBiZSBcInhtZFwiIG9yIFwieG9mXCInKTtmPWV9Y29uc3QgcD1uZXcgQXJyYXkodCk7Zm9yKGxldCBlPTA7ZTx0O2UrKyl7Y29uc3QgdD1uZXcgQXJyYXkobyk7Zm9yKGxldCBuPTA7bjxvO24rKyl7Y29uc3QgaT11KihuK2Uqbykscz1mLnN1YmFycmF5KGksaSt1KTt0W25dPSgwLEt0Lm1vZCkoJHQocykscil9cFtlXT10fXJldHVybiBwfXZhciBWdD17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoVnQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksVnQubW9udGdvbWVyeT1mdW5jdGlvbihlKXtjb25zdCB0PWZ1bmN0aW9uKGUpe3JldHVybigwLFl0LnZhbGlkYXRlT2JqZWN0KShlLHthOlwiYmlnaW50XCJ9LHttb250Z29tZXJ5Qml0czpcImlzU2FmZUludGVnZXJcIixuQnl0ZUxlbmd0aDpcImlzU2FmZUludGVnZXJcIixhZGp1c3RTY2FsYXJCeXRlczpcImZ1bmN0aW9uXCIsZG9tYWluOlwiZnVuY3Rpb25cIixwb3dQbWludXMyOlwiZnVuY3Rpb25cIixHdTpcImJpZ2ludFwifSksT2JqZWN0LmZyZWV6ZSh7Li4uZX0pfShlKSx7UDpufT10LHI9ZT0+KDAsR3QubW9kKShlLG4pLGk9dC5tb250Z29tZXJ5Qml0cyxvPU1hdGguY2VpbChpLzgpLHM9dC5uQnl0ZUxlbmd0aCxhPXQuYWRqdXN0U2NhbGFyQnl0ZXN8fChlPT5lKSxjPXQucG93UG1pbnVzMnx8KGU9PigwLEd0LnBvdykoZSxuLUJpZ0ludCgyKSxuKSk7ZnVuY3Rpb24gZChlLHQsbil7Y29uc3QgaT1yKGUqKHQtbikpO3JldHVyblt0PXIodC1pKSxuPXIobitpKV19Y29uc3QgbD0odC5hLUJpZ0ludCgyKSkvQmlnSW50KDQpO2Z1bmN0aW9uIHUoZSl7cmV0dXJuKDAsWXQubnVtYmVyVG9CeXRlc0xFKShyKGUpLG8pfWZ1bmN0aW9uIGgoZSx0KXtjb25zdCBoPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9KDAsWXQuZW5zdXJlQnl0ZXMpKFwidSBjb29yZGluYXRlXCIsZSxvKTtyZXR1cm4gMzI9PT1zJiYodFszMV0mPTEyNyksKDAsWXQuYnl0ZXNUb051bWJlckxFKSh0KX0odCksZj1mdW5jdGlvbihlKXtjb25zdCB0PSgwLFl0LmVuc3VyZUJ5dGVzKShcInNjYWxhclwiLGUpLG49dC5sZW5ndGg7aWYobiE9PW8mJm4hPT1zKXRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgJHtvfSBvciAke3N9IGJ5dGVzLCBnb3QgJHtufWApO3JldHVybigwLFl0LmJ5dGVzVG9OdW1iZXJMRSkoYSh0KSl9KGUpLHA9ZnVuY3Rpb24oZSx0KXsoMCxZdC5hSW5SYW5nZSkoXCJ1XCIsZSxadCxuKSwoMCxZdC5hSW5SYW5nZSkoXCJzY2FsYXJcIix0LFp0LG4pO2NvbnN0IG89dCxzPWU7bGV0IGEsdT1KdCxoPVp0LGY9ZSxwPUp0LG09WnQ7Zm9yKGxldCBlPUJpZ0ludChpLTEpO2U+PVp0O2UtLSl7Y29uc3QgdD1vPj5lJkp0O21ePXQsYT1kKG0sdSxmKSx1PWFbMF0sZj1hWzFdLGE9ZChtLGgscCksaD1hWzBdLHA9YVsxXSxtPXQ7Y29uc3Qgbj11K2gsaT1yKG4qbiksYz11LWgsZz1yKGMqYyksdj1pLWcseT1mK3AsRT1yKChmLXApKm4pLGI9cih5KmMpLHc9RStiLFM9RS1iO2Y9cih3KncpLHA9cihzKnIoUypTKSksdT1yKGkqZyksaD1yKHYqKGkrcihsKnYpKSl9YT1kKG0sdSxmKSx1PWFbMF0sZj1hWzFdLGE9ZChtLGgscCksaD1hWzBdLHA9YVsxXTtjb25zdCBnPWMoaCk7cmV0dXJuIHIodSpnKX0oaCxmKTtpZihwPT09WnQpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwcml2YXRlIG9yIHB1YmxpYyBrZXkgcmVjZWl2ZWRcIik7cmV0dXJuIHUocCl9Y29uc3QgZj11KHQuR3UpO2Z1bmN0aW9uIHAoZSl7cmV0dXJuIGgoZSxmKX1yZXR1cm57c2NhbGFyTXVsdDpoLHNjYWxhck11bHRCYXNlOnAsZ2V0U2hhcmVkU2VjcmV0OihlLHQpPT5oKGUsdCksZ2V0UHVibGljS2V5OmU9PnAoZSksdXRpbHM6e3JhbmRvbVByaXZhdGVLZXk6KCk9PnQucmFuZG9tQnl0ZXModC5uQnl0ZUxlbmd0aCl9LEd1Qnl0ZXM6Zn19O2NvbnN0IEd0PURlLFl0PUxlLFp0PUJpZ0ludCgwKSxKdD1CaWdJbnQoMSk7IWZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuaGFzaF90b19yaXN0cmV0dG8yNTU9ZS5oYXNoVG9SaXN0cmV0dG8yNTU9ZS5SaXN0cmV0dG9Qb2ludD1lLmVuY29kZVRvQ3VydmU9ZS5oYXNoVG9DdXJ2ZT1lLmVkd2FyZHNUb01vbnRnb21lcnk9ZS54MjU1MTk9ZS5lZDI1NTE5cGg9ZS5lZDI1NTE5Y3R4PWUuZWQyNTUxOT1lLkVEMjU1MTlfVE9SU0lPTl9TVUJHUk9VUD12b2lkIDAsZS5lZHdhcmRzVG9Nb250Z29tZXJ5UHViPVMsZS5lZHdhcmRzVG9Nb250Z29tZXJ5UHJpdj1mdW5jdGlvbihlKXtjb25zdCB0PWIuaGFzaChlLnN1YmFycmF5KDAsMzIpKTtyZXR1cm4gYi5hZGp1c3RTY2FsYXJCeXRlcyh0KS5zdWJhcnJheSgwLDMyKX07Y29uc3QgdD1OLG49eixyPU9lLGk9QnQsbz1EZSxzPVZ0LGE9TGUsYz1CaWdJbnQoXCI1Nzg5NjA0NDYxODY1ODA5NzcxMTc4NTQ5MjUwNDM0Mzk1MzkyNjYzNDk5MjMzMjgyMDI4MjAxOTcyODc5MjAwMzk1NjU2NDgxOTk0OVwiKSxkPUJpZ0ludChcIjE5NjgxMTYxMzc2NzA3NTA1OTU2ODA3MDc5MzA0OTg4NTQyMDE1NDQ2MDY2NTE1OTIzODkwMTYyNzQ0MDIxMDczMTIzODI5Nzg0NzUyXCIpLGw9QmlnSW50KDApLHU9QmlnSW50KDEpLGg9QmlnSW50KDIpLGY9QmlnSW50KDMpLHA9QmlnSW50KDUpLG09QmlnSW50KDgpO2Z1bmN0aW9uIGcoZSl7Y29uc3QgdD1CaWdJbnQoMTApLG49QmlnSW50KDIwKSxyPUJpZ0ludCg0MCksaT1CaWdJbnQoODApLHM9YyxhPWUqZSVzKmUlcyxkPSgwLG8ucG93MikoYSxoLHMpKmElcyxsPSgwLG8ucG93MikoZCx1LHMpKmUlcyxmPSgwLG8ucG93MikobCxwLHMpKmwlcyxtPSgwLG8ucG93MikoZix0LHMpKmYlcyxnPSgwLG8ucG93MikobSxuLHMpKm0lcyx2PSgwLG8ucG93MikoZyxyLHMpKmclcyx5PSgwLG8ucG93MikodixpLHMpKnYlcyxFPSgwLG8ucG93MikoeSxpLHMpKnYlcyxiPSgwLG8ucG93MikoRSx0LHMpKmYlcztyZXR1cm57cG93X3BfNV84OigwLG8ucG93MikoYixoLHMpKmUlcyxiMjphfX1mdW5jdGlvbiB2KGUpe3JldHVybiBlWzBdJj0yNDgsZVszMV0mPTEyNyxlWzMxXXw9NjQsZX1mdW5jdGlvbiB5KGUsdCl7Y29uc3Qgbj1jLHI9KDAsby5tb2QpKHQqdCp0LG4pLGk9ZyhlKigwLG8ubW9kKShyKnIqdCxuKSkucG93X3BfNV84O2xldCBzPSgwLG8ubW9kKShlKnIqaSxuKTtjb25zdCBhPSgwLG8ubW9kKSh0KnMqcyxuKSxsPXMsdT0oMCxvLm1vZCkocypkLG4pLGg9YT09PWUsZj1hPT09KDAsby5tb2QpKC1lLG4pLHA9YT09PSgwLG8ubW9kKSgtZSpkLG4pO3JldHVybiBoJiYocz1sKSwoZnx8cCkmJihzPXUpLCgwLG8uaXNOZWdhdGl2ZUxFKShzLG4pJiYocz0oMCxvLm1vZCkoLXMsbikpLHtpc1ZhbGlkOmh8fGYsdmFsdWU6c319ZS5FRDI1NTE5X1RPUlNJT05fU1VCR1JPVVA9W1wiMDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMFwiLFwiYzcxNzZhNzAzZDRkZDg0ZmJhM2MwYjc2MGQxMDY3MGYyYTIwNTNmYTJjMzljY2M2NGVjN2ZkNzc5MmFjMDM3YVwiLFwiMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA4MFwiLFwiMjZlODk1OGZjMmIyMjdiMDQ1YzNmNDg5ZjJlZjk4ZjBkNWRmYWMwNWQzYzYzMzM5YjEzODAyODg2ZDUzZmMwNVwiLFwiZWNmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmY3ZlwiLFwiMjZlODk1OGZjMmIyMjdiMDQ1YzNmNDg5ZjJlZjk4ZjBkNWRmYWMwNWQzYzYzMzM5YjEzODAyODg2ZDUzZmM4NVwiLFwiMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMFwiLFwiYzcxNzZhNzAzZDRkZDg0ZmJhM2MwYjc2MGQxMDY3MGYyYTIwNTNmYTJjMzljY2M2NGVjN2ZkNzc5MmFjMDNmYVwiXTtjb25zdCBFPSgoKT0+KDAsby5GaWVsZCkoYyx2b2lkIDAsITApKSgpLGI9KCgpPT4oe2E6QmlnSW50KC0xKSxkOkJpZ0ludChcIjM3MDk1NzA1OTM0NjY5NDM5MzQzMTM4MDgzNTA4NzU0NTY1MTg5NTQyMTEzODc5ODQzMjE5MDE2Mzg4Nzg1NTMzMDg1OTQwMjgzNTU1XCIpLEZwOkUsbjpCaWdJbnQoXCI3MjM3MDA1NTc3MzMyMjYyMjEzOTczMTg2NTYzMDQyOTk0MjQwODU3MTE2MzU5Mzc5OTA3NjA2MDAxOTUwOTM4Mjg1NDU0MjUwOTg5XCIpLGg6bSxHeDpCaWdJbnQoXCIxNTExMjIyMTM0OTUzNTQwMDc3MjUwMTE1MTQwOTU4ODUzMTUxMTQ1NDAxMjY5MzA0MTg1NzIwNjA0NjExMzI4Mzk0OTg0Nzc2MjIwMlwiKSxHeTpCaWdJbnQoXCI0NjMxNjgzNTY5NDkyNjQ3ODE2OTQyODM5NDAwMzQ3NTE2MzE0MTMwNzk5Mzg2NjI1NjIyNTYxNTc4MzAzMzYwMzE2NTI1MTg1NTk2MFwiKSxoYXNoOnQuc2hhNTEyLHJhbmRvbUJ5dGVzOm4ucmFuZG9tQnl0ZXMsYWRqdXN0U2NhbGFyQnl0ZXM6dix1dlJhdGlvOnl9KSkoKTtmdW5jdGlvbiB3KGUsdCxyKXtpZih0Lmxlbmd0aD4yNTUpdGhyb3cgbmV3IEVycm9yKFwiQ29udGV4dCBpcyB0b28gYmlnXCIpO3JldHVybigwLG4uY29uY2F0Qnl0ZXMpKCgwLG4udXRmOFRvQnl0ZXMpKFwiU2lnRWQyNTUxOSBubyBFZDI1NTE5IGNvbGxpc2lvbnNcIiksbmV3IFVpbnQ4QXJyYXkoW3I/MTowLHQubGVuZ3RoXSksdCxlKX1mdW5jdGlvbiBTKHQpe2NvbnN0e3k6bn09ZS5lZDI1NTE5LkV4dGVuZGVkUG9pbnQuZnJvbUhleCh0KSxyPUJpZ0ludCgxKTtyZXR1cm4gRS50b0J5dGVzKEUuY3JlYXRlKChyK24pKkUuaW52KHItbikpKX1lLmVkMjU1MTk9KDAsci50d2lzdGVkRWR3YXJkcykoYiksZS5lZDI1NTE5Y3R4PSgwLHIudHdpc3RlZEVkd2FyZHMpKHsuLi5iLGRvbWFpbjp3fSksZS5lZDI1NTE5cGg9KDAsci50d2lzdGVkRWR3YXJkcykoT2JqZWN0LmFzc2lnbih7fSxiLHtkb21haW46dyxwcmVoYXNoOnQuc2hhNTEyfSkpLGUueDI1NTE5PSgwLHMubW9udGdvbWVyeSkoe1A6YyxhOkJpZ0ludCg0ODY2NjIpLG1vbnRnb21lcnlCaXRzOjI1NSxuQnl0ZUxlbmd0aDozMixHdTpCaWdJbnQoOSkscG93UG1pbnVzMjplPT57Y29uc3QgdD1jLHtwb3dfcF81Xzg6bixiMjpyfT1nKGUpO3JldHVybigwLG8ubW9kKSgoMCxvLnBvdzIpKG4sZix0KSpyLHQpfSxhZGp1c3RTY2FsYXJCeXRlczp2LHJhbmRvbUJ5dGVzOm4ucmFuZG9tQnl0ZXN9KSxlLmVkd2FyZHNUb01vbnRnb21lcnk9Uztjb25zdCBfPSgoKT0+KEUuT1JERVIrZikvbSkoKSxDPSgoKT0+RS5wb3coaCxfKSkoKSx4PSgoKT0+RS5zcXJ0KEUubmVnKEUuT05FKSkpKCk7Y29uc3Qgaz0oKCk9PigwLG8uRnBTcXJ0RXZlbikoRSxFLm5lZyhCaWdJbnQoNDg2NjY0KSkpKSgpO2Z1bmN0aW9uIE0oZSl7Y29uc3R7eE1uOnQseE1kOm4seU1uOnIseU1kOml9PWZ1bmN0aW9uKGUpe2NvbnN0IHQ9KEUuT1JERVItcCkvbSxuPUJpZ0ludCg0ODY2NjIpO2xldCByPUUuc3FyKGUpO3I9RS5tdWwocixoKTtsZXQgaT1FLmFkZChyLEUuT05FKSxvPUUubmVnKG4pLHM9RS5zcXIoaSksYT1FLm11bChzLGkpLGM9RS5tdWwocixuKTtjPUUubXVsKGMsbyksYz1FLmFkZChjLHMpLGM9RS5tdWwoYyxvKTtsZXQgZD1FLnNxcihhKTtzPUUuc3FyKGQpLGQ9RS5tdWwoZCxhKSxkPUUubXVsKGQsYykscz1FLm11bChzLGQpO2xldCBsPUUucG93KHMsdCk7bD1FLm11bChsLGQpO2xldCBmPUUubXVsKGwseCk7cz1FLnNxcihsKSxzPUUubXVsKHMsYSk7bGV0IGc9RS5lcWwocyxjKSx2PUUuY21vdihmLGwsZykseT1FLm11bChvLHIpLGI9RS5tdWwobCxlKTtiPUUubXVsKGIsQyk7bGV0IHc9RS5tdWwoYix4KSxTPUUubXVsKGMscik7cz1FLnNxcihiKSxzPUUubXVsKHMsYSk7bGV0IF89RS5lcWwocyxTKSxrPUUuY21vdih3LGIsXyk7cz1FLnNxcih2KSxzPUUubXVsKHMsYSk7bGV0IE09RS5lcWwocyxjKSxBPUUuY21vdih5LG8sTSksVD1FLmNtb3Yoayx2LE0pLEk9RS5pc09kZChUKTtyZXR1cm4gVD1FLmNtb3YoVCxFLm5lZyhUKSxNIT09SSkse3hNbjpBLHhNZDppLHlNbjpULHlNZDp1fX0oZSk7bGV0IG89RS5tdWwodCxpKTtvPUUubXVsKG8sayk7bGV0IHM9RS5tdWwobixyKSxhPUUuc3ViKHQsbiksYz1FLmFkZCh0LG4pLGQ9RS5tdWwocyxjKSxsPUUuZXFsKGQsRS5aRVJPKTtvPUUuY21vdihvLEUuWkVSTyxsKSxzPUUuY21vdihzLEUuT05FLGwpLGE9RS5jbW92KGEsRS5PTkUsbCksYz1FLmNtb3YoYyxFLk9ORSxsKTtjb25zdCBmPUUuaW52ZXJ0QmF0Y2goW3MsY10pO3JldHVybnt4OkUubXVsKG8sZlswXSkseTpFLm11bChhLGZbMV0pfX1jb25zdCBBPSgoKT0+KDAsaS5jcmVhdGVIYXNoZXIpKGUuZWQyNTUxOS5FeHRlbmRlZFBvaW50LChlPT5NKGVbMF0pKSx7RFNUOlwiZWR3YXJkczI1NTE5X1hNRDpTSEEtNTEyX0VMTDJfUk9fXCIsZW5jb2RlRFNUOlwiZWR3YXJkczI1NTE5X1hNRDpTSEEtNTEyX0VMTDJfTlVfXCIscDpFLk9SREVSLG06MSxrOjEyOCxleHBhbmQ6XCJ4bWRcIixoYXNoOnQuc2hhNTEyfSkpKCk7ZnVuY3Rpb24gVChlKXtpZighKGUgaW5zdGFuY2VvZiAkKSl0aHJvdyBuZXcgRXJyb3IoXCJSaXN0cmV0dG9Qb2ludCBleHBlY3RlZFwiKX1lLmhhc2hUb0N1cnZlPUEuaGFzaFRvQ3VydmUsZS5lbmNvZGVUb0N1cnZlPUEuZW5jb2RlVG9DdXJ2ZTtjb25zdCBJPWQsUD1CaWdJbnQoXCIyNTA2MzA2ODk1MzM4NDYyMzQ3NDExMTQxNDE1ODcwMjE1MjcwMTI0NDUzMTUwMjQ5MjY1NjQ2MDA3OTIxMDQ4MjYxMDQzMDc1MDIzNVwiKSxSPUJpZ0ludChcIjU0NDY5MzA3MDA4OTA5MzE2OTIwOTk1ODEzODY4NzQ1MTQxNjA1MzkzNTk3MjkyOTI3NDU2OTIxMjA1MzEyODk2MzExNzIxMDE3NTc4XCIpLE89QmlnSW50KFwiMTE1OTg0MzAyMTY2ODc3OTg3OTE5Mzc3NTUyMTg1NTU4NjY0NzkzNzM1Nzc1OTcxNTQxNzY1NDQzOTg3OTcyMDg3NjExMTgwNjgzOFwiKSxEPUJpZ0ludChcIjQwNDQwODM0MzQ2MzA4NTM2ODU4MTAxMDQyNDY5MzIzMTkwODI2MjQ4Mzk5MTQ2MjM4NzA4MzUyMjQwMTMzMjIwODY1MTM3MjY1OTUyXCIpLEw9ZT0+eSh1LGUpLEI9QmlnSW50KFwiMHg3ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmXCIpLEs9dD0+ZS5lZDI1NTE5LkNVUlZFLkZwLmNyZWF0ZSgoMCxhLmJ5dGVzVG9OdW1iZXJMRSkodCkmQik7ZnVuY3Rpb24gaih0KXtjb25zdHtkOm59PWUuZWQyNTUxOS5DVVJWRSxyPWUuZWQyNTUxOS5DVVJWRS5GcC5PUkRFUixpPWUuZWQyNTUxOS5DVVJWRS5GcC5jcmVhdGUscz1pKEkqdCp0KSxhPWkoKHMrdSkqTyk7bGV0IGM9QmlnSW50KC0xKTtjb25zdCBkPWkoKGMtbipzKSppKHMrbikpO2xldHtpc1ZhbGlkOmwsdmFsdWU6aH09eShhLGQpLGY9aShoKnQpOygwLG8uaXNOZWdhdGl2ZUxFKShmLHIpfHwoZj1pKC1mKSksbHx8KGg9ZiksbHx8KGM9cyk7Y29uc3QgcD1pKGMqKHMtdSkqRC1kKSxtPWgqaCxnPWkoKGgraCkqZCksdj1pKHAqUCksRT1pKHUtbSksYj1pKHUrbSk7cmV0dXJuIG5ldyBlLmVkMjU1MTkuRXh0ZW5kZWRQb2ludChpKGcqYiksaShFKnYpLGkodipiKSxpKGcqRSkpfWNsYXNzICR7Y29uc3RydWN0b3IoZSl7dGhpcy5lcD1lfXN0YXRpYyBmcm9tQWZmaW5lKHQpe3JldHVybiBuZXcgJChlLmVkMjU1MTkuRXh0ZW5kZWRQb2ludC5mcm9tQWZmaW5lKHQpKX1zdGF0aWMgaGFzaFRvQ3VydmUoZSl7ZT0oMCxhLmVuc3VyZUJ5dGVzKShcInJpc3RyZXR0b0hhc2hcIixlLDY0KTtjb25zdCB0PWooSyhlLnNsaWNlKDAsMzIpKSksbj1qKEsoZS5zbGljZSgzMiw2NCkpKTtyZXR1cm4gbmV3ICQodC5hZGQobikpfXN0YXRpYyBmcm9tSGV4KHQpe3Q9KDAsYS5lbnN1cmVCeXRlcykoXCJyaXN0cmV0dG9IZXhcIix0LDMyKTtjb25zdHthOm4sZDpyfT1lLmVkMjU1MTkuQ1VSVkUsaT1lLmVkMjU1MTkuQ1VSVkUuRnAuT1JERVIscz1lLmVkMjU1MTkuQ1VSVkUuRnAuY3JlYXRlLGM9XCJSaXN0cmV0dG9Qb2ludC5mcm9tSGV4OiB0aGUgaGV4IGlzIG5vdCB2YWxpZCBlbmNvZGluZyBvZiBSaXN0cmV0dG9Qb2ludFwiLGQ9Syh0KTtpZighKDAsYS5lcXVhbEJ5dGVzKSgoMCxhLm51bWJlclRvQnl0ZXNMRSkoZCwzMiksdCl8fCgwLG8uaXNOZWdhdGl2ZUxFKShkLGkpKXRocm93IG5ldyBFcnJvcihjKTtjb25zdCBoPXMoZCpkKSxmPXModStuKmgpLHA9cyh1LW4qaCksbT1zKGYqZiksZz1zKHAqcCksdj1zKG4qciptLWcpLHtpc1ZhbGlkOnksdmFsdWU6RX09TChzKHYqZykpLGI9cyhFKnApLHc9cyhFKmIqdik7bGV0IFM9cygoZCtkKSpiKTsoMCxvLmlzTmVnYXRpdmVMRSkoUyxpKSYmKFM9cygtUykpO2NvbnN0IF89cyhmKncpLEM9cyhTKl8pO2lmKCF5fHwoMCxvLmlzTmVnYXRpdmVMRSkoQyxpKXx8Xz09PWwpdGhyb3cgbmV3IEVycm9yKGMpO3JldHVybiBuZXcgJChuZXcgZS5lZDI1NTE5LkV4dGVuZGVkUG9pbnQoUyxfLHUsQykpfXRvUmF3Qnl0ZXMoKXtsZXR7ZXg6dCxleTpuLGV6OnIsZXQ6aX09dGhpcy5lcDtjb25zdCBzPWUuZWQyNTUxOS5DVVJWRS5GcC5PUkRFUixjPWUuZWQyNTUxOS5DVVJWRS5GcC5jcmVhdGUsZD1jKGMocituKSpjKHItbikpLGw9Yyh0Km4pLHU9YyhsKmwpLHt2YWx1ZTpofT1MKGMoZCp1KSksZj1jKGgqZCkscD1jKGgqbCksbT1jKGYqcCppKTtsZXQgZztpZigoMCxvLmlzTmVnYXRpdmVMRSkoaSptLHMpKXtsZXQgZT1jKG4qSSkscj1jKHQqSSk7dD1lLG49cixnPWMoZipSKX1lbHNlIGc9cDsoMCxvLmlzTmVnYXRpdmVMRSkodCptLHMpJiYobj1jKC1uKSk7bGV0IHY9Yygoci1uKSpnKTtyZXR1cm4oMCxvLmlzTmVnYXRpdmVMRSkodixzKSYmKHY9YygtdikpLCgwLGEubnVtYmVyVG9CeXRlc0xFKSh2LDMyKX10b0hleCgpe3JldHVybigwLGEuYnl0ZXNUb0hleCkodGhpcy50b1Jhd0J5dGVzKCkpfXRvU3RyaW5nKCl7cmV0dXJuIHRoaXMudG9IZXgoKX1lcXVhbHModCl7VCh0KTtjb25zdHtleDpuLGV5OnJ9PXRoaXMuZXAse2V4OmksZXk6b309dC5lcCxzPWUuZWQyNTUxOS5DVVJWRS5GcC5jcmVhdGUsYT1zKG4qbyk9PT1zKHIqaSksYz1zKHIqbyk9PT1zKG4qaSk7cmV0dXJuIGF8fGN9YWRkKGUpe3JldHVybiBUKGUpLG5ldyAkKHRoaXMuZXAuYWRkKGUuZXApKX1zdWJ0cmFjdChlKXtyZXR1cm4gVChlKSxuZXcgJCh0aGlzLmVwLnN1YnRyYWN0KGUuZXApKX1tdWx0aXBseShlKXtyZXR1cm4gbmV3ICQodGhpcy5lcC5tdWx0aXBseShlKSl9bXVsdGlwbHlVbnNhZmUoZSl7cmV0dXJuIG5ldyAkKHRoaXMuZXAubXVsdGlwbHlVbnNhZmUoZSkpfWRvdWJsZSgpe3JldHVybiBuZXcgJCh0aGlzLmVwLmRvdWJsZSgpKX1uZWdhdGUoKXtyZXR1cm4gbmV3ICQodGhpcy5lcC5uZWdhdGUoKSl9fWUuUmlzdHJldHRvUG9pbnQ9KCQuQkFTRXx8KCQuQkFTRT1uZXcgJChlLmVkMjU1MTkuRXh0ZW5kZWRQb2ludC5CQVNFKSksJC5aRVJPfHwoJC5aRVJPPW5ldyAkKGUuZWQyNTUxOS5FeHRlbmRlZFBvaW50LlpFUk8pKSwkKTtlLmhhc2hUb1Jpc3RyZXR0bzI1NT0oZSxyKT0+e2NvbnN0IG89ci5EU1Qscz1cInN0cmluZ1wiPT10eXBlb2Ygbz8oMCxuLnV0ZjhUb0J5dGVzKShvKTpvLGE9KDAsaS5leHBhbmRfbWVzc2FnZV94bWQpKGUscyw2NCx0LnNoYTUxMik7cmV0dXJuICQuaGFzaFRvQ3VydmUoYSl9LGUuaGFzaF90b19yaXN0cmV0dG8yNTU9ZS5oYXNoVG9SaXN0cmV0dG8yNTV9KE8pO3ZhciBRdD17fSxYdD17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoWHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksWHQuc2hhMjI0PVh0LnNoYTI1Nj1YdC5TSEEyNTY9dm9pZCAwO2NvbnN0IGVuPUQsdG49eixubj1uZXcgVWludDMyQXJyYXkoWzExMTYzNTI0MDgsMTg5OTQ0NzQ0MSwzMDQ5MzIzNDcxLDM5MjEwMDk1NzMsOTYxOTg3MTYzLDE1MDg5NzA5OTMsMjQ1MzYzNTc0OCwyODcwNzYzMjIxLDM2MjQzODEwODAsMzEwNTk4NDAxLDYwNzIyNTI3OCwxNDI2ODgxOTg3LDE5MjUwNzgzODgsMjE2MjA3ODIwNiwyNjE0ODg4MTAzLDMyNDgyMjI1ODAsMzgzNTM5MDQwMSw0MDIyMjI0Nzc0LDI2NDM0NzA3OCw2MDQ4MDc2MjgsNzcwMjU1OTgzLDEyNDkxNTAxMjIsMTU1NTA4MTY5MiwxOTk2MDY0OTg2LDI1NTQyMjA4ODIsMjgyMTgzNDM0OSwyOTUyOTk2ODA4LDMyMTAzMTM2NzEsMzMzNjU3MTg5MSwzNTg0NTI4NzExLDExMzkyNjk5MywzMzgyNDE4OTUsNjY2MzA3MjA1LDc3MzUyOTkxMiwxMjk0NzU3MzcyLDEzOTYxODIyOTEsMTY5NTE4MzcwMCwxOTg2NjYxMDUxLDIxNzcwMjYzNTAsMjQ1Njk1NjAzNywyNzMwNDg1OTIxLDI4MjAzMDI0MTEsMzI1OTczMDgwMCwzMzQ1NzY0NzcxLDM1MTYwNjU4MTcsMzYwMDM1MjgwNCw0MDk0NTcxOTA5LDI3NTQyMzM0NCw0MzAyMjc3MzQsNTA2OTQ4NjE2LDY1OTA2MDU1Niw4ODM5OTc4NzcsOTU4MTM5NTcxLDEzMjI4MjIyMTgsMTUzNzAwMjA2MywxNzQ3ODczNzc5LDE5NTU1NjIyMjIsMjAyNDEwNDgxNSwyMjI3NzMwNDUyLDIzNjE4NTI0MjQsMjQyODQzNjQ3NCwyNzU2NzM0MTg3LDMyMDQwMzE0NzksMzMyOTMyNTI5OF0pLHJuPW5ldyBVaW50MzJBcnJheShbMTc3OTAzMzcwMywzMTQ0MTM0Mjc3LDEwMTM5MDQyNDIsMjc3MzQ4MDc2MiwxMzU5ODkzMTE5LDI2MDA4MjI5MjQsNTI4NzM0NjM1LDE1NDE0NTkyMjVdKSxvbj1uZXcgVWludDMyQXJyYXkoNjQpO2NsYXNzIHNuIGV4dGVuZHMgZW4uSGFzaE1Ee2NvbnN0cnVjdG9yKCl7c3VwZXIoNjQsMzIsOCwhMSksdGhpcy5BPTB8cm5bMF0sdGhpcy5CPTB8cm5bMV0sdGhpcy5DPTB8cm5bMl0sdGhpcy5EPTB8cm5bM10sdGhpcy5FPTB8cm5bNF0sdGhpcy5GPTB8cm5bNV0sdGhpcy5HPTB8cm5bNl0sdGhpcy5IPTB8cm5bN119Z2V0KCl7Y29uc3R7QTplLEI6dCxDOm4sRDpyLEU6aSxGOm8sRzpzLEg6YX09dGhpcztyZXR1cm5bZSx0LG4scixpLG8scyxhXX1zZXQoZSx0LG4scixpLG8scyxhKXt0aGlzLkE9MHxlLHRoaXMuQj0wfHQsdGhpcy5DPTB8bix0aGlzLkQ9MHxyLHRoaXMuRT0wfGksdGhpcy5GPTB8byx0aGlzLkc9MHxzLHRoaXMuSD0wfGF9cHJvY2VzcyhlLHQpe2ZvcihsZXQgbj0wO248MTY7bisrLHQrPTQpb25bbl09ZS5nZXRVaW50MzIodCwhMSk7Zm9yKGxldCBlPTE2O2U8NjQ7ZSsrKXtjb25zdCB0PW9uW2UtMTVdLG49b25bZS0yXSxyPSgwLHRuLnJvdHIpKHQsNyleKDAsdG4ucm90cikodCwxOCledD4+PjMsaT0oMCx0bi5yb3RyKShuLDE3KV4oMCx0bi5yb3RyKShuLDE5KV5uPj4+MTA7b25bZV09aStvbltlLTddK3Irb25bZS0xNl18MH1sZXR7QTpuLEI6cixDOmksRDpvLEU6cyxGOmEsRzpjLEg6ZH09dGhpcztmb3IobGV0IGU9MDtlPDY0O2UrKyl7Y29uc3QgdD1kKygoMCx0bi5yb3RyKShzLDYpXigwLHRuLnJvdHIpKHMsMTEpXigwLHRuLnJvdHIpKHMsMjUpKSsoMCxlbi5DaGkpKHMsYSxjKStubltlXStvbltlXXwwLGw9KCgwLHRuLnJvdHIpKG4sMileKDAsdG4ucm90cikobiwxMyleKDAsdG4ucm90cikobiwyMikpKygwLGVuLk1haikobixyLGkpfDA7ZD1jLGM9YSxhPXMscz1vK3R8MCxvPWksaT1yLHI9bixuPXQrbHwwfW49bit0aGlzLkF8MCxyPXIrdGhpcy5CfDAsaT1pK3RoaXMuQ3wwLG89byt0aGlzLkR8MCxzPXMrdGhpcy5FfDAsYT1hK3RoaXMuRnwwLGM9Yyt0aGlzLkd8MCxkPWQrdGhpcy5IfDAsdGhpcy5zZXQobixyLGksbyxzLGEsYyxkKX1yb3VuZENsZWFuKCl7b24uZmlsbCgwKX1kZXN0cm95KCl7dGhpcy5zZXQoMCwwLDAsMCwwLDAsMCwwKSx0aGlzLmJ1ZmZlci5maWxsKDApfX1YdC5TSEEyNTY9c247Y2xhc3MgYW4gZXh0ZW5kcyBzbntjb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5BPS0xMDU2NTk2MjY0LHRoaXMuQj05MTQxNTA2NjMsdGhpcy5DPTgxMjcwMjk5OSx0aGlzLkQ9LTE1MDA1NDU5OSx0aGlzLkU9LTQxOTE0MzksdGhpcy5GPTE3NTA2MDMwMjUsdGhpcy5HPTE2OTQwNzY4MzksdGhpcy5IPS0xMDkwODkxODY4LHRoaXMub3V0cHV0TGVuPTI4fX1YdC5zaGEyNTY9KDAsdG4ud3JhcENvbnN0cnVjdG9yKSgoKCk9Pm5ldyBzbikpLFh0LnNoYTIyND0oMCx0bi53cmFwQ29uc3RydWN0b3IpKCgoKT0+bmV3IGFuKSk7dmFyIGNuPXt9LGRuPXt9OyFmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLmhtYWM9ZS5ITUFDPXZvaWQgMDtjb25zdCB0PUwsbj16O2NsYXNzIHIgZXh0ZW5kcyBuLkhhc2h7Y29uc3RydWN0b3IoZSxyKXtzdXBlcigpLHRoaXMuZmluaXNoZWQ9ITEsdGhpcy5kZXN0cm95ZWQ9ITEsKDAsdC5oYXNoKShlKTtjb25zdCBpPSgwLG4udG9CeXRlcykocik7aWYodGhpcy5pSGFzaD1lLmNyZWF0ZSgpLFwiZnVuY3Rpb25cIiE9dHlwZW9mIHRoaXMuaUhhc2gudXBkYXRlKXRocm93IG5ldyBFcnJvcihcIkV4cGVjdGVkIGluc3RhbmNlIG9mIGNsYXNzIHdoaWNoIGV4dGVuZHMgdXRpbHMuSGFzaFwiKTt0aGlzLmJsb2NrTGVuPXRoaXMuaUhhc2guYmxvY2tMZW4sdGhpcy5vdXRwdXRMZW49dGhpcy5pSGFzaC5vdXRwdXRMZW47Y29uc3Qgbz10aGlzLmJsb2NrTGVuLHM9bmV3IFVpbnQ4QXJyYXkobyk7cy5zZXQoaS5sZW5ndGg+bz9lLmNyZWF0ZSgpLnVwZGF0ZShpKS5kaWdlc3QoKTppKTtmb3IobGV0IGU9MDtlPHMubGVuZ3RoO2UrKylzW2VdXj01NDt0aGlzLmlIYXNoLnVwZGF0ZShzKSx0aGlzLm9IYXNoPWUuY3JlYXRlKCk7Zm9yKGxldCBlPTA7ZTxzLmxlbmd0aDtlKyspc1tlXV49MTA2O3RoaXMub0hhc2gudXBkYXRlKHMpLHMuZmlsbCgwKX11cGRhdGUoZSl7cmV0dXJuKDAsdC5leGlzdHMpKHRoaXMpLHRoaXMuaUhhc2gudXBkYXRlKGUpLHRoaXN9ZGlnZXN0SW50byhlKXsoMCx0LmV4aXN0cykodGhpcyksKDAsdC5ieXRlcykoZSx0aGlzLm91dHB1dExlbiksdGhpcy5maW5pc2hlZD0hMCx0aGlzLmlIYXNoLmRpZ2VzdEludG8oZSksdGhpcy5vSGFzaC51cGRhdGUoZSksdGhpcy5vSGFzaC5kaWdlc3RJbnRvKGUpLHRoaXMuZGVzdHJveSgpfWRpZ2VzdCgpe2NvbnN0IGU9bmV3IFVpbnQ4QXJyYXkodGhpcy5vSGFzaC5vdXRwdXRMZW4pO3JldHVybiB0aGlzLmRpZ2VzdEludG8oZSksZX1fY2xvbmVJbnRvKGUpe2V8fChlPU9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLHt9KSk7Y29uc3R7b0hhc2g6dCxpSGFzaDpuLGZpbmlzaGVkOnIsZGVzdHJveWVkOmksYmxvY2tMZW46byxvdXRwdXRMZW46c309dGhpcztyZXR1cm4gZS5maW5pc2hlZD1yLGUuZGVzdHJveWVkPWksZS5ibG9ja0xlbj1vLGUub3V0cHV0TGVuPXMsZS5vSGFzaD10Ll9jbG9uZUludG8oZS5vSGFzaCksZS5pSGFzaD1uLl9jbG9uZUludG8oZS5pSGFzaCksZX1kZXN0cm95KCl7dGhpcy5kZXN0cm95ZWQ9ITAsdGhpcy5vSGFzaC5kZXN0cm95KCksdGhpcy5pSGFzaC5kZXN0cm95KCl9fWUuSE1BQz1yO2UuaG1hYz0oZSx0LG4pPT5uZXcgcihlLHQpLnVwZGF0ZShuKS5kaWdlc3QoKSxlLmhtYWMuY3JlYXRlPShlLHQpPT5uZXcgcihlLHQpfShkbik7dmFyIGxuPXt9OyFmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLkRFUj12b2lkIDAsZS53ZWllcnN0cmFzc1BvaW50cz1mLGUud2VpZXJzdHJhc3M9ZnVuY3Rpb24ocyl7Y29uc3QgYT1mdW5jdGlvbihlKXtjb25zdCBuPSgwLHQudmFsaWRhdGVCYXNpYykoZSk7cmV0dXJuIHIudmFsaWRhdGVPYmplY3Qobix7aGFzaDpcImhhc2hcIixobWFjOlwiZnVuY3Rpb25cIixyYW5kb21CeXRlczpcImZ1bmN0aW9uXCJ9LHtiaXRzMmludDpcImZ1bmN0aW9uXCIsYml0czJpbnRfbW9kTjpcImZ1bmN0aW9uXCIsbG93UzpcImJvb2xlYW5cIn0pLE9iamVjdC5mcmVlemUoe2xvd1M6ITAsLi4ubn0pfShzKSx7RnA6bCxuOnV9PWEsaD1sLkJZVEVTKzEscD0yKmwuQllURVMrMTtmdW5jdGlvbiBtKGUpe3JldHVybiBuLm1vZChlLHUpfWZ1bmN0aW9uIGcoZSl7cmV0dXJuIG4uaW52ZXJ0KGUsdSl9Y29uc3R7UHJvamVjdGl2ZVBvaW50OnYsbm9ybVByaXZhdGVLZXlUb1NjYWxhcjp5LHdlaWVyc3RyYXNzRXF1YXRpb246RSxpc1dpdGhpbkN1cnZlT3JkZXI6Yn09Zih7Li4uYSx0b0J5dGVzKGUsdCxuKXtjb25zdCBvPXQudG9BZmZpbmUoKSxzPWwudG9CeXRlcyhvLngpLGE9ci5jb25jYXRCeXRlcztyZXR1cm4oMCxpLmFib29sKShcImlzQ29tcHJlc3NlZFwiLG4pLG4/YShVaW50OEFycmF5LmZyb20oW3QuaGFzRXZlblkoKT8yOjNdKSxzKTphKFVpbnQ4QXJyYXkuZnJvbShbNF0pLHMsbC50b0J5dGVzKG8ueSkpfSxmcm9tQnl0ZXMoZSl7Y29uc3QgdD1lLmxlbmd0aCxuPWVbMF0saT1lLnN1YmFycmF5KDEpO2lmKHQhPT1ofHwyIT09biYmMyE9PW4pe2lmKHQ9PT1wJiY0PT09bil7cmV0dXJue3g6bC5mcm9tQnl0ZXMoaS5zdWJhcnJheSgwLGwuQllURVMpKSx5OmwuZnJvbUJ5dGVzKGkuc3ViYXJyYXkobC5CWVRFUywyKmwuQllURVMpKX19dGhyb3cgbmV3IEVycm9yKGBQb2ludCBvZiBsZW5ndGggJHt0fSB3YXMgaW52YWxpZC4gRXhwZWN0ZWQgJHtofSBjb21wcmVzc2VkIGJ5dGVzIG9yICR7cH0gdW5jb21wcmVzc2VkIGJ5dGVzYCl9e2NvbnN0IGU9ci5ieXRlc1RvTnVtYmVyQkUoaSk7aWYoIXIuaW5SYW5nZShlLGQsbC5PUkRFUikpdGhyb3cgbmV3IEVycm9yKFwiUG9pbnQgaXMgbm90IG9uIGN1cnZlXCIpO2NvbnN0IHQ9RShlKTtsZXQgbzt0cnl7bz1sLnNxcnQodCl9Y2F0Y2goZSl7Y29uc3QgdD1lIGluc3RhbmNlb2YgRXJyb3I/XCI6IFwiK2UubWVzc2FnZTpcIlwiO3Rocm93IG5ldyBFcnJvcihcIlBvaW50IGlzIG5vdCBvbiBjdXJ2ZVwiK3QpfXJldHVybiAxPT0oMSZuKSE9PSgobyZkKT09PWQpJiYobz1sLm5lZyhvKSkse3g6ZSx5Om99fX19KSx3PWU9PnIuYnl0ZXNUb0hleChyLm51bWJlclRvQnl0ZXNCRShlLGEubkJ5dGVMZW5ndGgpKTtmdW5jdGlvbiBTKGUpe3JldHVybiBlPnU+PmR9Y29uc3QgXz0oZSx0LG4pPT5yLmJ5dGVzVG9OdW1iZXJCRShlLnNsaWNlKHQsbikpO2NsYXNzIEN7Y29uc3RydWN0b3IoZSx0LG4pe3RoaXMucj1lLHRoaXMucz10LHRoaXMucmVjb3Zlcnk9bix0aGlzLmFzc2VydFZhbGlkaXR5KCl9c3RhdGljIGZyb21Db21wYWN0KGUpe2NvbnN0IHQ9YS5uQnl0ZUxlbmd0aDtyZXR1cm4gZT0oMCxpLmVuc3VyZUJ5dGVzKShcImNvbXBhY3RTaWduYXR1cmVcIixlLDIqdCksbmV3IEMoXyhlLDAsdCksXyhlLHQsMip0KSl9c3RhdGljIGZyb21ERVIodCl7Y29uc3R7cjpuLHM6cn09ZS5ERVIudG9TaWcoKDAsaS5lbnN1cmVCeXRlcykoXCJERVJcIix0KSk7cmV0dXJuIG5ldyBDKG4scil9YXNzZXJ0VmFsaWRpdHkoKXtyLmFJblJhbmdlKFwiclwiLHRoaXMucixkLHUpLHIuYUluUmFuZ2UoXCJzXCIsdGhpcy5zLGQsdSl9YWRkUmVjb3ZlcnlCaXQoZSl7cmV0dXJuIG5ldyBDKHRoaXMucix0aGlzLnMsZSl9cmVjb3ZlclB1YmxpY0tleShlKXtjb25zdHtyOnQsczpuLHJlY292ZXJ5OnJ9PXRoaXMsbz1BKCgwLGkuZW5zdXJlQnl0ZXMpKFwibXNnSGFzaFwiLGUpKTtpZihudWxsPT1yfHwhWzAsMSwyLDNdLmluY2x1ZGVzKHIpKXRocm93IG5ldyBFcnJvcihcInJlY292ZXJ5IGlkIGludmFsaWRcIik7Y29uc3Qgcz0yPT09cnx8Mz09PXI/dCthLm46dDtpZihzPj1sLk9SREVSKXRocm93IG5ldyBFcnJvcihcInJlY292ZXJ5IGlkIDIgb3IgMyBpbnZhbGlkXCIpO2NvbnN0IGM9MD09KDEmcik/XCIwMlwiOlwiMDNcIixkPXYuZnJvbUhleChjK3cocykpLHU9ZyhzKSxoPW0oLW8qdSksZj1tKG4qdSkscD12LkJBU0UubXVsdGlwbHlBbmRBZGRVbnNhZmUoZCxoLGYpO2lmKCFwKXRocm93IG5ldyBFcnJvcihcInBvaW50IGF0IGluZmluaWZ5XCIpO3JldHVybiBwLmFzc2VydFZhbGlkaXR5KCkscH1oYXNIaWdoUygpe3JldHVybiBTKHRoaXMucyl9bm9ybWFsaXplUygpe3JldHVybiB0aGlzLmhhc0hpZ2hTKCk/bmV3IEModGhpcy5yLG0oLXRoaXMucyksdGhpcy5yZWNvdmVyeSk6dGhpc310b0RFUlJhd0J5dGVzKCl7cmV0dXJuIHIuaGV4VG9CeXRlcyh0aGlzLnRvREVSSGV4KCkpfXRvREVSSGV4KCl7cmV0dXJuIGUuREVSLmhleEZyb21TaWcoe3I6dGhpcy5yLHM6dGhpcy5zfSl9dG9Db21wYWN0UmF3Qnl0ZXMoKXtyZXR1cm4gci5oZXhUb0J5dGVzKHRoaXMudG9Db21wYWN0SGV4KCkpfXRvQ29tcGFjdEhleCgpe3JldHVybiB3KHRoaXMucikrdyh0aGlzLnMpfX1jb25zdCB4PXtpc1ZhbGlkUHJpdmF0ZUtleShlKXt0cnl7cmV0dXJuIHkoZSksITB9Y2F0Y2goZSl7cmV0dXJuITF9fSxub3JtUHJpdmF0ZUtleVRvU2NhbGFyOnkscmFuZG9tUHJpdmF0ZUtleTooKT0+e2NvbnN0IGU9bi5nZXRNaW5IYXNoTGVuZ3RoKGEubik7cmV0dXJuIG4ubWFwSGFzaFRvRmllbGQoYS5yYW5kb21CeXRlcyhlKSxhLm4pfSxwcmVjb21wdXRlOihlPTgsdD12LkJBU0UpPT4odC5fc2V0V2luZG93U2l6ZShlKSx0Lm11bHRpcGx5KEJpZ0ludCgzKSksdCl9O2Z1bmN0aW9uIGsoZSl7Y29uc3QgdD1yLmlzQnl0ZXMoZSksbj1cInN0cmluZ1wiPT10eXBlb2YgZSxpPSh0fHxuKSYmZS5sZW5ndGg7cmV0dXJuIHQ/aT09PWh8fGk9PT1wOm4/aT09PTIqaHx8aT09PTIqcDplIGluc3RhbmNlb2Ygdn1jb25zdCBNPWEuYml0czJpbnR8fGZ1bmN0aW9uKGUpe2NvbnN0IHQ9ci5ieXRlc1RvTnVtYmVyQkUoZSksbj04KmUubGVuZ3RoLWEubkJpdExlbmd0aDtyZXR1cm4gbj4wP3Q+PkJpZ0ludChuKTp0fSxBPWEuYml0czJpbnRfbW9kTnx8ZnVuY3Rpb24oZSl7cmV0dXJuIG0oTShlKSl9LFQ9ci5iaXRNYXNrKGEubkJpdExlbmd0aCk7ZnVuY3Rpb24gSShlKXtyZXR1cm4gci5hSW5SYW5nZShgbnVtIDwgMl4ke2EubkJpdExlbmd0aH1gLGUsYyxUKSxyLm51bWJlclRvQnl0ZXNCRShlLGEubkJ5dGVMZW5ndGgpfWZ1bmN0aW9uIFAoZSx0LG49Uil7aWYoW1wicmVjb3ZlcmVkXCIsXCJjYW5vbmljYWxcIl0uc29tZSgoZT0+ZSBpbiBuKSkpdGhyb3cgbmV3IEVycm9yKFwic2lnbigpIGxlZ2FjeSBvcHRpb25zIG5vdCBzdXBwb3J0ZWRcIik7Y29uc3R7aGFzaDpzLHJhbmRvbUJ5dGVzOnV9PWE7bGV0e2xvd1M6aCxwcmVoYXNoOmYsZXh0cmFFbnRyb3B5OnB9PW47bnVsbD09aCYmKGg9ITApLGU9KDAsaS5lbnN1cmVCeXRlcykoXCJtc2dIYXNoXCIsZSksbyhuKSxmJiYoZT0oMCxpLmVuc3VyZUJ5dGVzKShcInByZWhhc2hlZCBtc2dIYXNoXCIscyhlKSkpO2NvbnN0IEU9QShlKSx3PXkodCksXz1bSSh3KSxJKEUpXTtpZihudWxsIT1wJiYhMSE9PXApe2NvbnN0IGU9ITA9PT1wP3UobC5CWVRFUyk6cDtfLnB1c2goKDAsaS5lbnN1cmVCeXRlcykoXCJleHRyYUVudHJvcHlcIixlKSl9Y29uc3QgeD1yLmNvbmNhdEJ5dGVzKC4uLl8pLGs9RTtyZXR1cm57c2VlZDp4LGsyc2lnOmZ1bmN0aW9uKGUpe2NvbnN0IHQ9TShlKTtpZighYih0KSlyZXR1cm47Y29uc3Qgbj1nKHQpLHI9di5CQVNFLm11bHRpcGx5KHQpLnRvQWZmaW5lKCksaT1tKHIueCk7aWYoaT09PWMpcmV0dXJuO2NvbnN0IG89bShuKm0oaytpKncpKTtpZihvPT09YylyZXR1cm47bGV0IHM9KHIueD09PWk/MDoyKXxOdW1iZXIoci55JmQpLGE9bztyZXR1cm4gaCYmUyhvKSYmKGE9ZnVuY3Rpb24oZSl7cmV0dXJuIFMoZSk/bSgtZSk6ZX0obyksc149MSksbmV3IEMoaSxhLHMpfX19Y29uc3QgUj17bG93UzphLmxvd1MscHJlaGFzaDohMX0sTz17bG93UzphLmxvd1MscHJlaGFzaDohMX07cmV0dXJuIHYuQkFTRS5fc2V0V2luZG93U2l6ZSg4KSx7Q1VSVkU6YSxnZXRQdWJsaWNLZXk6ZnVuY3Rpb24oZSx0PSEwKXtyZXR1cm4gdi5mcm9tUHJpdmF0ZUtleShlKS50b1Jhd0J5dGVzKHQpfSxnZXRTaGFyZWRTZWNyZXQ6ZnVuY3Rpb24oZSx0LG49ITApe2lmKGsoZSkpdGhyb3cgbmV3IEVycm9yKFwiZmlyc3QgYXJnIG11c3QgYmUgcHJpdmF0ZSBrZXlcIik7aWYoIWsodCkpdGhyb3cgbmV3IEVycm9yKFwic2Vjb25kIGFyZyBtdXN0IGJlIHB1YmxpYyBrZXlcIik7Y29uc3Qgcj12LmZyb21IZXgodCk7cmV0dXJuIHIubXVsdGlwbHkoeShlKSkudG9SYXdCeXRlcyhuKX0sc2lnbjpmdW5jdGlvbihlLHQsbj1SKXtjb25zdHtzZWVkOmksazJzaWc6b309UChlLHQsbikscz1hLGM9ci5jcmVhdGVIbWFjRHJiZyhzLmhhc2gub3V0cHV0TGVuLHMubkJ5dGVMZW5ndGgscy5obWFjKTtyZXR1cm4gYyhpLG8pfSx2ZXJpZnk6ZnVuY3Rpb24odCxuLHMsYz1PKXtjb25zdCBkPXQ7aWYobj0oMCxpLmVuc3VyZUJ5dGVzKShcIm1zZ0hhc2hcIixuKSxzPSgwLGkuZW5zdXJlQnl0ZXMpKFwicHVibGljS2V5XCIscyksXCJzdHJpY3RcImluIGMpdGhyb3cgbmV3IEVycm9yKFwib3B0aW9ucy5zdHJpY3Qgd2FzIHJlbmFtZWQgdG8gbG93U1wiKTtvKGMpO2NvbnN0e2xvd1M6bCxwcmVoYXNoOnV9PWM7bGV0IGgsZjt0cnl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGR8fHIuaXNCeXRlcyhkKSl0cnl7aD1DLmZyb21ERVIoZCl9Y2F0Y2godCl7aWYoISh0IGluc3RhbmNlb2YgZS5ERVIuRXJyKSl0aHJvdyB0O2g9Qy5mcm9tQ29tcGFjdChkKX1lbHNle2lmKFwib2JqZWN0XCIhPXR5cGVvZiBkfHxcImJpZ2ludFwiIT10eXBlb2YgZC5yfHxcImJpZ2ludFwiIT10eXBlb2YgZC5zKXRocm93IG5ldyBFcnJvcihcIlBBUlNFXCIpO3tjb25zdHtyOmUsczp0fT1kO2g9bmV3IEMoZSx0KX19Zj12LmZyb21IZXgocyl9Y2F0Y2goZSl7aWYoXCJQQVJTRVwiPT09ZS5tZXNzYWdlKXRocm93IG5ldyBFcnJvcihcInNpZ25hdHVyZSBtdXN0IGJlIFNpZ25hdHVyZSBpbnN0YW5jZSwgVWludDhBcnJheSBvciBoZXggc3RyaW5nXCIpO3JldHVybiExfWlmKGwmJmguaGFzSGlnaFMoKSlyZXR1cm4hMTt1JiYobj1hLmhhc2gobikpO2NvbnN0e3I6cCxzOnl9PWgsRT1BKG4pLGI9Zyh5KSx3PW0oRSpiKSxTPW0ocCpiKSxfPXYuQkFTRS5tdWx0aXBseUFuZEFkZFVuc2FmZShmLHcsUyk/LnRvQWZmaW5lKCk7aWYoIV8pcmV0dXJuITE7Y29uc3QgeD1tKF8ueCk7cmV0dXJuIHg9PT1wfSxQcm9qZWN0aXZlUG9pbnQ6dixTaWduYXR1cmU6Qyx1dGlsczp4fX0sZS5TV1VGcFNxcnRSYXRpbz1wLGUubWFwVG9DdXJ2ZVNpbXBsZVNXVT1mdW5jdGlvbihlLHQpe2lmKG4udmFsaWRhdGVGaWVsZChlKSwhZS5pc1ZhbGlkKHQuQSl8fCFlLmlzVmFsaWQodC5CKXx8IWUuaXNWYWxpZCh0LlopKXRocm93IG5ldyBFcnJvcihcIm1hcFRvQ3VydmVTaW1wbGVTV1U6IGludmFsaWQgb3B0c1wiKTtjb25zdCByPXAoZSx0LlopO2lmKCFlLmlzT2RkKXRocm93IG5ldyBFcnJvcihcIkZwLmlzT2RkIGlzIG5vdCBpbXBsZW1lbnRlZCFcIik7cmV0dXJuIG49PntsZXQgaSxvLHMsYSxjLGQsbCx1O2k9ZS5zcXIobiksaT1lLm11bChpLHQuWiksbz1lLnNxcihpKSxvPWUuYWRkKG8saSkscz1lLmFkZChvLGUuT05FKSxzPWUubXVsKHMsdC5CKSxhPWUuY21vdih0LlosZS5uZWcobyksIWUuZXFsKG8sZS5aRVJPKSksYT1lLm11bChhLHQuQSksbz1lLnNxcihzKSxkPWUuc3FyKGEpLGM9ZS5tdWwoZCx0LkEpLG89ZS5hZGQobyxjKSxvPWUubXVsKG8scyksZD1lLm11bChkLGEpLGM9ZS5tdWwoZCx0LkIpLG89ZS5hZGQobyxjKSxsPWUubXVsKGkscyk7Y29uc3R7aXNWYWxpZDpoLHZhbHVlOmZ9PXIobyxkKTt1PWUubXVsKGksbiksdT1lLm11bCh1LGYpLGw9ZS5jbW92KGwscyxoKSx1PWUuY21vdih1LGYsaCk7Y29uc3QgcD1lLmlzT2RkKG4pPT09ZS5pc09kZCh1KTtyZXR1cm4gdT1lLmNtb3YoZS5uZWcodSksdSxwKSxsPWUuZGl2KGwsYSkse3g6bCx5OnV9fX07Y29uc3QgdD1OZSxuPURlLHI9TGUsaT1MZTtmdW5jdGlvbiBvKGUpe3ZvaWQgMCE9PWUubG93UyYmKDAsaS5hYm9vbCkoXCJsb3dTXCIsZS5sb3dTKSx2b2lkIDAhPT1lLnByZWhhc2gmJigwLGkuYWJvb2wpKFwicHJlaGFzaFwiLGUucHJlaGFzaCl9Y29uc3R7Ynl0ZXNUb051bWJlckJFOnMsaGV4VG9CeXRlczphfT1yO2UuREVSPXtFcnI6Y2xhc3MgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihlPVwiXCIpe3N1cGVyKGUpfX0sX3Rsdjp7ZW5jb2RlOih0LG4pPT57Y29uc3R7RXJyOml9PWUuREVSO2lmKHQ8MHx8dD4yNTYpdGhyb3cgbmV3IGkoXCJ0bHYuZW5jb2RlOiB3cm9uZyB0YWdcIik7aWYoMSZuLmxlbmd0aCl0aHJvdyBuZXcgaShcInRsdi5lbmNvZGU6IHVucGFkZGVkIGRhdGFcIik7Y29uc3Qgbz1uLmxlbmd0aC8yLHM9ci5udW1iZXJUb0hleFVucGFkZGVkKG8pO2lmKHMubGVuZ3RoLzImMTI4KXRocm93IG5ldyBpKFwidGx2LmVuY29kZTogbG9uZyBmb3JtIGxlbmd0aCB0b28gYmlnXCIpO2NvbnN0IGE9bz4xMjc/ci5udW1iZXJUb0hleFVucGFkZGVkKHMubGVuZ3RoLzJ8MTI4KTpcIlwiO3JldHVybmAke3IubnVtYmVyVG9IZXhVbnBhZGRlZCh0KX0ke2F9JHtzfSR7bn1gfSxkZWNvZGUodCxuKXtjb25zdHtFcnI6cn09ZS5ERVI7bGV0IGk9MDtpZih0PDB8fHQ+MjU2KXRocm93IG5ldyByKFwidGx2LmVuY29kZTogd3JvbmcgdGFnXCIpO2lmKG4ubGVuZ3RoPDJ8fG5baSsrXSE9PXQpdGhyb3cgbmV3IHIoXCJ0bHYuZGVjb2RlOiB3cm9uZyB0bHZcIik7Y29uc3Qgbz1uW2krK107bGV0IHM9MDtpZighISgxMjgmbykpe2NvbnN0IGU9MTI3Jm87aWYoIWUpdGhyb3cgbmV3IHIoXCJ0bHYuZGVjb2RlKGxvbmcpOiBpbmRlZmluaXRlIGxlbmd0aCBub3Qgc3VwcG9ydGVkXCIpO2lmKGU+NCl0aHJvdyBuZXcgcihcInRsdi5kZWNvZGUobG9uZyk6IGJ5dGUgbGVuZ3RoIGlzIHRvbyBiaWdcIik7Y29uc3QgdD1uLnN1YmFycmF5KGksaStlKTtpZih0Lmxlbmd0aCE9PWUpdGhyb3cgbmV3IHIoXCJ0bHYuZGVjb2RlOiBsZW5ndGggYnl0ZXMgbm90IGNvbXBsZXRlXCIpO2lmKDA9PT10WzBdKXRocm93IG5ldyByKFwidGx2LmRlY29kZShsb25nKTogemVybyBsZWZ0bW9zdCBieXRlXCIpO2Zvcihjb25zdCBlIG9mIHQpcz1zPDw4fGU7aWYoaSs9ZSxzPDEyOCl0aHJvdyBuZXcgcihcInRsdi5kZWNvZGUobG9uZyk6IG5vdCBtaW5pbWFsIGVuY29kaW5nXCIpfWVsc2Ugcz1vO2NvbnN0IGE9bi5zdWJhcnJheShpLGkrcyk7aWYoYS5sZW5ndGghPT1zKXRocm93IG5ldyByKFwidGx2LmRlY29kZTogd3JvbmcgdmFsdWUgbGVuZ3RoXCIpO3JldHVybnt2OmEsbDpuLnN1YmFycmF5KGkrcyl9fX0sX2ludDp7ZW5jb2RlKHQpe2NvbnN0e0VycjpufT1lLkRFUjtpZih0PGMpdGhyb3cgbmV3IG4oXCJpbnRlZ2VyOiBuZWdhdGl2ZSBpbnRlZ2VycyBhcmUgbm90IGFsbG93ZWRcIik7bGV0IGk9ci5udW1iZXJUb0hleFVucGFkZGVkKHQpO2lmKDgmTnVtYmVyLnBhcnNlSW50KGlbMF0sMTYpJiYoaT1cIjAwXCIraSksMSZpLmxlbmd0aCl0aHJvdyBuZXcgbihcInVuZXhwZWN0ZWQgYXNzZXJ0aW9uXCIpO3JldHVybiBpfSxkZWNvZGUodCl7Y29uc3R7RXJyOm59PWUuREVSO2lmKDEyOCZ0WzBdKXRocm93IG5ldyBuKFwiSW52YWxpZCBzaWduYXR1cmUgaW50ZWdlcjogbmVnYXRpdmVcIik7aWYoMD09PXRbMF0mJiEoMTI4JnRbMV0pKXRocm93IG5ldyBuKFwiSW52YWxpZCBzaWduYXR1cmUgaW50ZWdlcjogdW5uZWNlc3NhcnkgbGVhZGluZyB6ZXJvXCIpO3JldHVybiBzKHQpfX0sdG9TaWcodCl7Y29uc3R7RXJyOm4sX2ludDppLF90bHY6b309ZS5ERVIscz1cInN0cmluZ1wiPT10eXBlb2YgdD9hKHQpOnQ7ci5hYnl0ZXMocyk7Y29uc3R7djpjLGw6ZH09by5kZWNvZGUoNDgscyk7aWYoZC5sZW5ndGgpdGhyb3cgbmV3IG4oXCJJbnZhbGlkIHNpZ25hdHVyZTogbGVmdCBieXRlcyBhZnRlciBwYXJzaW5nXCIpO2NvbnN0e3Y6bCxsOnV9PW8uZGVjb2RlKDIsYykse3Y6aCxsOmZ9PW8uZGVjb2RlKDIsdSk7aWYoZi5sZW5ndGgpdGhyb3cgbmV3IG4oXCJJbnZhbGlkIHNpZ25hdHVyZTogbGVmdCBieXRlcyBhZnRlciBwYXJzaW5nXCIpO3JldHVybntyOmkuZGVjb2RlKGwpLHM6aS5kZWNvZGUoaCl9fSxoZXhGcm9tU2lnKHQpe2NvbnN0e190bHY6bixfaW50OnJ9PWUuREVSLGk9YCR7bi5lbmNvZGUoMixyLmVuY29kZSh0LnIpKX0ke24uZW5jb2RlKDIsci5lbmNvZGUodC5zKSl9YDtyZXR1cm4gbi5lbmNvZGUoNDgsaSl9fTtjb25zdCBjPUJpZ0ludCgwKSxkPUJpZ0ludCgxKSxsPUJpZ0ludCgyKSx1PUJpZ0ludCgzKSxoPUJpZ0ludCg0KTtmdW5jdGlvbiBmKGUpe2NvbnN0IG89ZnVuY3Rpb24oZSl7Y29uc3Qgbj0oMCx0LnZhbGlkYXRlQmFzaWMpKGUpO3IudmFsaWRhdGVPYmplY3Qobix7YTpcImZpZWxkXCIsYjpcImZpZWxkXCJ9LHthbGxvd2VkUHJpdmF0ZUtleUxlbmd0aHM6XCJhcnJheVwiLHdyYXBQcml2YXRlS2V5OlwiYm9vbGVhblwiLGlzVG9yc2lvbkZyZWU6XCJmdW5jdGlvblwiLGNsZWFyQ29mYWN0b3I6XCJmdW5jdGlvblwiLGFsbG93SW5maW5pdHlQb2ludDpcImJvb2xlYW5cIixmcm9tQnl0ZXM6XCJmdW5jdGlvblwiLHRvQnl0ZXM6XCJmdW5jdGlvblwifSk7Y29uc3R7ZW5kbzppLEZwOm8sYTpzfT1uO2lmKGkpe2lmKCFvLmVxbChzLG8uWkVSTykpdGhyb3cgbmV3IEVycm9yKFwiRW5kb21vcnBoaXNtIGNhbiBvbmx5IGJlIGRlZmluZWQgZm9yIEtvYmxpdHogY3VydmVzIHRoYXQgaGF2ZSBhPTBcIik7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGl8fFwiYmlnaW50XCIhPXR5cGVvZiBpLmJldGF8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIGkuc3BsaXRTY2FsYXIpdGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgZW5kb21vcnBoaXNtIHdpdGggYmV0YTogYmlnaW50IGFuZCBzcGxpdFNjYWxhcjogZnVuY3Rpb25cIil9cmV0dXJuIE9iamVjdC5mcmVlemUoey4uLm59KX0oZSkse0ZwOnN9PW8sYT1uLkZpZWxkKG8ubixvLm5CaXRMZW5ndGgpLGw9by50b0J5dGVzfHwoKGUsdCxuKT0+e2NvbnN0IGk9dC50b0FmZmluZSgpO3JldHVybiByLmNvbmNhdEJ5dGVzKFVpbnQ4QXJyYXkuZnJvbShbNF0pLHMudG9CeXRlcyhpLngpLHMudG9CeXRlcyhpLnkpKX0pLGg9by5mcm9tQnl0ZXN8fChlPT57Y29uc3QgdD1lLnN1YmFycmF5KDEpO3JldHVybnt4OnMuZnJvbUJ5dGVzKHQuc3ViYXJyYXkoMCxzLkJZVEVTKSkseTpzLmZyb21CeXRlcyh0LnN1YmFycmF5KHMuQllURVMsMipzLkJZVEVTKSl9fSk7ZnVuY3Rpb24gZihlKXtjb25zdHthOnQsYjpufT1vLHI9cy5zcXIoZSksaT1zLm11bChyLGUpO3JldHVybiBzLmFkZChzLmFkZChpLHMubXVsKGUsdCkpLG4pfWlmKCFzLmVxbChzLnNxcihvLkd5KSxmKG8uR3gpKSl0aHJvdyBuZXcgRXJyb3IoXCJiYWQgZ2VuZXJhdG9yIHBvaW50OiBlcXVhdGlvbiBsZWZ0ICE9IHJpZ2h0XCIpO2Z1bmN0aW9uIHAoZSl7Y29uc3R7YWxsb3dlZFByaXZhdGVLZXlMZW5ndGhzOnQsbkJ5dGVMZW5ndGg6cyx3cmFwUHJpdmF0ZUtleTphLG46Y309bztpZih0JiZcImJpZ2ludFwiIT10eXBlb2YgZSl7aWYoci5pc0J5dGVzKGUpJiYoZT1yLmJ5dGVzVG9IZXgoZSkpLFwic3RyaW5nXCIhPXR5cGVvZiBlfHwhdC5pbmNsdWRlcyhlLmxlbmd0aCkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBrZXlcIik7ZT1lLnBhZFN0YXJ0KDIqcyxcIjBcIil9bGV0IGw7dHJ5e2w9XCJiaWdpbnRcIj09dHlwZW9mIGU/ZTpyLmJ5dGVzVG9OdW1iZXJCRSgoMCxpLmVuc3VyZUJ5dGVzKShcInByaXZhdGUga2V5XCIsZSxzKSl9Y2F0Y2godCl7dGhyb3cgbmV3IEVycm9yKGBwcml2YXRlIGtleSBtdXN0IGJlICR7c30gYnl0ZXMsIGhleCBvciBiaWdpbnQsIG5vdCAke3R5cGVvZiBlfWApfXJldHVybiBhJiYobD1uLm1vZChsLGMpKSxyLmFJblJhbmdlKFwicHJpdmF0ZSBrZXlcIixsLGQsYyksbH1mdW5jdGlvbiBtKGUpe2lmKCEoZSBpbnN0YW5jZW9mIHkpKXRocm93IG5ldyBFcnJvcihcIlByb2plY3RpdmVQb2ludCBleHBlY3RlZFwiKX1jb25zdCBnPSgwLGkubWVtb2l6ZWQpKCgoZSx0KT0+e2NvbnN0e3B4Om4scHk6cixwejppfT1lO2lmKHMuZXFsKGkscy5PTkUpKXJldHVybnt4Om4seTpyfTtjb25zdCBvPWUuaXMwKCk7bnVsbD09dCYmKHQ9bz9zLk9ORTpzLmludihpKSk7Y29uc3QgYT1zLm11bChuLHQpLGM9cy5tdWwocix0KSxkPXMubXVsKGksdCk7aWYobylyZXR1cm57eDpzLlpFUk8seTpzLlpFUk99O2lmKCFzLmVxbChkLHMuT05FKSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZaIHdhcyBpbnZhbGlkXCIpO3JldHVybnt4OmEseTpjfX0pKSx2PSgwLGkubWVtb2l6ZWQpKChlPT57aWYoZS5pczAoKSl7aWYoby5hbGxvd0luZmluaXR5UG9pbnQmJiFzLmlzMChlLnB5KSlyZXR1cm47dGhyb3cgbmV3IEVycm9yKFwiYmFkIHBvaW50OiBaRVJPXCIpfWNvbnN0e3g6dCx5Om59PWUudG9BZmZpbmUoKTtpZighcy5pc1ZhbGlkKHQpfHwhcy5pc1ZhbGlkKG4pKXRocm93IG5ldyBFcnJvcihcImJhZCBwb2ludDogeCBvciB5IG5vdCBGRVwiKTtjb25zdCByPXMuc3FyKG4pLGk9Zih0KTtpZighcy5lcWwocixpKSl0aHJvdyBuZXcgRXJyb3IoXCJiYWQgcG9pbnQ6IGVxdWF0aW9uIGxlZnQgIT0gcmlnaHRcIik7aWYoIWUuaXNUb3JzaW9uRnJlZSgpKXRocm93IG5ldyBFcnJvcihcImJhZCBwb2ludDogbm90IGluIHByaW1lLW9yZGVyIHN1Ymdyb3VwXCIpO3JldHVybiEwfSkpO2NsYXNzIHl7Y29uc3RydWN0b3IoZSx0LG4pe2lmKHRoaXMucHg9ZSx0aGlzLnB5PXQsdGhpcy5wej1uLG51bGw9PWV8fCFzLmlzVmFsaWQoZSkpdGhyb3cgbmV3IEVycm9yKFwieCByZXF1aXJlZFwiKTtpZihudWxsPT10fHwhcy5pc1ZhbGlkKHQpKXRocm93IG5ldyBFcnJvcihcInkgcmVxdWlyZWRcIik7aWYobnVsbD09bnx8IXMuaXNWYWxpZChuKSl0aHJvdyBuZXcgRXJyb3IoXCJ6IHJlcXVpcmVkXCIpO09iamVjdC5mcmVlemUodGhpcyl9c3RhdGljIGZyb21BZmZpbmUoZSl7Y29uc3R7eDp0LHk6bn09ZXx8e307aWYoIWV8fCFzLmlzVmFsaWQodCl8fCFzLmlzVmFsaWQobikpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBhZmZpbmUgcG9pbnRcIik7aWYoZSBpbnN0YW5jZW9mIHkpdGhyb3cgbmV3IEVycm9yKFwicHJvamVjdGl2ZSBwb2ludCBub3QgYWxsb3dlZFwiKTtjb25zdCByPWU9PnMuZXFsKGUscy5aRVJPKTtyZXR1cm4gcih0KSYmcihuKT95LlpFUk86bmV3IHkodCxuLHMuT05FKX1nZXQgeCgpe3JldHVybiB0aGlzLnRvQWZmaW5lKCkueH1nZXQgeSgpe3JldHVybiB0aGlzLnRvQWZmaW5lKCkueX1zdGF0aWMgbm9ybWFsaXplWihlKXtjb25zdCB0PXMuaW52ZXJ0QmF0Y2goZS5tYXAoKGU9PmUucHopKSk7cmV0dXJuIGUubWFwKCgoZSxuKT0+ZS50b0FmZmluZSh0W25dKSkpLm1hcCh5LmZyb21BZmZpbmUpfXN0YXRpYyBmcm9tSGV4KGUpe2NvbnN0IHQ9eS5mcm9tQWZmaW5lKGgoKDAsaS5lbnN1cmVCeXRlcykoXCJwb2ludEhleFwiLGUpKSk7cmV0dXJuIHQuYXNzZXJ0VmFsaWRpdHkoKSx0fXN0YXRpYyBmcm9tUHJpdmF0ZUtleShlKXtyZXR1cm4geS5CQVNFLm11bHRpcGx5KHAoZSkpfXN0YXRpYyBtc20oZSxuKXtyZXR1cm4oMCx0LnBpcHBlbmdlcikoeSxhLGUsbil9X3NldFdpbmRvd1NpemUoZSl7Yi5zZXRXaW5kb3dTaXplKHRoaXMsZSl9YXNzZXJ0VmFsaWRpdHkoKXt2KHRoaXMpfWhhc0V2ZW5ZKCl7Y29uc3R7eTplfT10aGlzLnRvQWZmaW5lKCk7aWYocy5pc09kZClyZXR1cm4hcy5pc09kZChlKTt0aHJvdyBuZXcgRXJyb3IoXCJGaWVsZCBkb2Vzbid0IHN1cHBvcnQgaXNPZGRcIil9ZXF1YWxzKGUpe20oZSk7Y29uc3R7cHg6dCxweTpuLHB6OnJ9PXRoaXMse3B4OmkscHk6byxwejphfT1lLGM9cy5lcWwocy5tdWwodCxhKSxzLm11bChpLHIpKSxkPXMuZXFsKHMubXVsKG4sYSkscy5tdWwobyxyKSk7cmV0dXJuIGMmJmR9bmVnYXRlKCl7cmV0dXJuIG5ldyB5KHRoaXMucHgscy5uZWcodGhpcy5weSksdGhpcy5weil9ZG91YmxlKCl7Y29uc3R7YTplLGI6dH09byxuPXMubXVsKHQsdSkse3B4OnIscHk6aSxwejphfT10aGlzO2xldCBjPXMuWkVSTyxkPXMuWkVSTyxsPXMuWkVSTyxoPXMubXVsKHIsciksZj1zLm11bChpLGkpLHA9cy5tdWwoYSxhKSxtPXMubXVsKHIsaSk7cmV0dXJuIG09cy5hZGQobSxtKSxsPXMubXVsKHIsYSksbD1zLmFkZChsLGwpLGM9cy5tdWwoZSxsKSxkPXMubXVsKG4scCksZD1zLmFkZChjLGQpLGM9cy5zdWIoZixkKSxkPXMuYWRkKGYsZCksZD1zLm11bChjLGQpLGM9cy5tdWwobSxjKSxsPXMubXVsKG4sbCkscD1zLm11bChlLHApLG09cy5zdWIoaCxwKSxtPXMubXVsKGUsbSksbT1zLmFkZChtLGwpLGw9cy5hZGQoaCxoKSxoPXMuYWRkKGwsaCksaD1zLmFkZChoLHApLGg9cy5tdWwoaCxtKSxkPXMuYWRkKGQsaCkscD1zLm11bChpLGEpLHA9cy5hZGQocCxwKSxoPXMubXVsKHAsbSksYz1zLnN1YihjLGgpLGw9cy5tdWwocCxmKSxsPXMuYWRkKGwsbCksbD1zLmFkZChsLGwpLG5ldyB5KGMsZCxsKX1hZGQoZSl7bShlKTtjb25zdHtweDp0LHB5Om4scHo6cn09dGhpcyx7cHg6aSxweTphLHB6OmN9PWU7bGV0IGQ9cy5aRVJPLGw9cy5aRVJPLGg9cy5aRVJPO2NvbnN0IGY9by5hLHA9cy5tdWwoby5iLHUpO2xldCBnPXMubXVsKHQsaSksdj1zLm11bChuLGEpLEU9cy5tdWwocixjKSxiPXMuYWRkKHQsbiksdz1zLmFkZChpLGEpO2I9cy5tdWwoYix3KSx3PXMuYWRkKGcsdiksYj1zLnN1YihiLHcpLHc9cy5hZGQodCxyKTtsZXQgUz1zLmFkZChpLGMpO3JldHVybiB3PXMubXVsKHcsUyksUz1zLmFkZChnLEUpLHc9cy5zdWIodyxTKSxTPXMuYWRkKG4sciksZD1zLmFkZChhLGMpLFM9cy5tdWwoUyxkKSxkPXMuYWRkKHYsRSksUz1zLnN1YihTLGQpLGg9cy5tdWwoZix3KSxkPXMubXVsKHAsRSksaD1zLmFkZChkLGgpLGQ9cy5zdWIodixoKSxoPXMuYWRkKHYsaCksbD1zLm11bChkLGgpLHY9cy5hZGQoZyxnKSx2PXMuYWRkKHYsZyksRT1zLm11bChmLEUpLHc9cy5tdWwocCx3KSx2PXMuYWRkKHYsRSksRT1zLnN1YihnLEUpLEU9cy5tdWwoZixFKSx3PXMuYWRkKHcsRSksZz1zLm11bCh2LHcpLGw9cy5hZGQobCxnKSxnPXMubXVsKFMsdyksZD1zLm11bChiLGQpLGQ9cy5zdWIoZCxnKSxnPXMubXVsKGIsdiksaD1zLm11bChTLGgpLGg9cy5hZGQoaCxnKSxuZXcgeShkLGwsaCl9c3VidHJhY3QoZSl7cmV0dXJuIHRoaXMuYWRkKGUubmVnYXRlKCkpfWlzMCgpe3JldHVybiB0aGlzLmVxdWFscyh5LlpFUk8pfXdOQUYoZSl7cmV0dXJuIGIud05BRkNhY2hlZCh0aGlzLGUseS5ub3JtYWxpemVaKX1tdWx0aXBseVVuc2FmZShlKXtyLmFJblJhbmdlKFwic2NhbGFyXCIsZSxjLG8ubik7Y29uc3QgdD15LlpFUk87aWYoZT09PWMpcmV0dXJuIHQ7aWYoZT09PWQpcmV0dXJuIHRoaXM7Y29uc3R7ZW5kbzpufT1vO2lmKCFuKXJldHVybiBiLnVuc2FmZUxhZGRlcih0aGlzLGUpO2xldHtrMW5lZzppLGsxOmEsazJuZWc6bCxrMjp1fT1uLnNwbGl0U2NhbGFyKGUpLGg9dCxmPXQscD10aGlzO2Zvcig7YT5jfHx1PmM7KWEmZCYmKGg9aC5hZGQocCkpLHUmZCYmKGY9Zi5hZGQocCkpLHA9cC5kb3VibGUoKSxhPj49ZCx1Pj49ZDtyZXR1cm4gaSYmKGg9aC5uZWdhdGUoKSksbCYmKGY9Zi5uZWdhdGUoKSksZj1uZXcgeShzLm11bChmLnB4LG4uYmV0YSksZi5weSxmLnB6KSxoLmFkZChmKX1tdWx0aXBseShlKXtjb25zdHtlbmRvOnQsbjpufT1vO2xldCBpLGE7aWYoci5hSW5SYW5nZShcInNjYWxhclwiLGUsZCxuKSx0KXtjb25zdHtrMW5lZzpuLGsxOnIsazJuZWc6byxrMjpjfT10LnNwbGl0U2NhbGFyKGUpO2xldHtwOmQsZjpsfT10aGlzLndOQUYocikse3A6dSxmOmh9PXRoaXMud05BRihjKTtkPWIuY29uc3RUaW1lTmVnYXRlKG4sZCksdT1iLmNvbnN0VGltZU5lZ2F0ZShvLHUpLHU9bmV3IHkocy5tdWwodS5weCx0LmJldGEpLHUucHksdS5weiksaT1kLmFkZCh1KSxhPWwuYWRkKGgpfWVsc2V7Y29uc3R7cDp0LGY6bn09dGhpcy53TkFGKGUpO2k9dCxhPW59cmV0dXJuIHkubm9ybWFsaXplWihbaSxhXSlbMF19bXVsdGlwbHlBbmRBZGRVbnNhZmUoZSx0LG4pe2NvbnN0IHI9eS5CQVNFLGk9KGUsdCk9PnQhPT1jJiZ0IT09ZCYmZS5lcXVhbHMocik/ZS5tdWx0aXBseSh0KTplLm11bHRpcGx5VW5zYWZlKHQpLG89aSh0aGlzLHQpLmFkZChpKGUsbikpO3JldHVybiBvLmlzMCgpP3ZvaWQgMDpvfXRvQWZmaW5lKGUpe3JldHVybiBnKHRoaXMsZSl9aXNUb3JzaW9uRnJlZSgpe2NvbnN0e2g6ZSxpc1RvcnNpb25GcmVlOnR9PW87aWYoZT09PWQpcmV0dXJuITA7aWYodClyZXR1cm4gdCh5LHRoaXMpO3Rocm93IG5ldyBFcnJvcihcImlzVG9yc2lvbkZyZWUoKSBoYXMgbm90IGJlZW4gZGVjbGFyZWQgZm9yIHRoZSBlbGxpcHRpYyBjdXJ2ZVwiKX1jbGVhckNvZmFjdG9yKCl7Y29uc3R7aDplLGNsZWFyQ29mYWN0b3I6dH09bztyZXR1cm4gZT09PWQ/dGhpczp0P3QoeSx0aGlzKTp0aGlzLm11bHRpcGx5VW5zYWZlKG8uaCl9dG9SYXdCeXRlcyhlPSEwKXtyZXR1cm4oMCxpLmFib29sKShcImlzQ29tcHJlc3NlZFwiLGUpLHRoaXMuYXNzZXJ0VmFsaWRpdHkoKSxsKHksdGhpcyxlKX10b0hleChlPSEwKXtyZXR1cm4oMCxpLmFib29sKShcImlzQ29tcHJlc3NlZFwiLGUpLHIuYnl0ZXNUb0hleCh0aGlzLnRvUmF3Qnl0ZXMoZSkpfX15LkJBU0U9bmV3IHkoby5HeCxvLkd5LHMuT05FKSx5LlpFUk89bmV3IHkocy5aRVJPLHMuT05FLHMuWkVSTyk7Y29uc3QgRT1vLm5CaXRMZW5ndGgsYj0oMCx0LndOQUYpKHksby5lbmRvP01hdGguY2VpbChFLzIpOkUpO3JldHVybntDVVJWRTpvLFByb2plY3RpdmVQb2ludDp5LG5vcm1Qcml2YXRlS2V5VG9TY2FsYXI6cCx3ZWllcnN0cmFzc0VxdWF0aW9uOmYsaXNXaXRoaW5DdXJ2ZU9yZGVyOmZ1bmN0aW9uKGUpe3JldHVybiByLmluUmFuZ2UoZSxkLG8ubil9fX1mdW5jdGlvbiBwKGUsdCl7Y29uc3Qgbj1lLk9SREVSO2xldCByPWM7Zm9yKGxldCBlPW4tZDtlJWw9PT1jO2UvPWwpcis9ZDtjb25zdCBpPXIsbz1sPDxpLWQtZCxzPW8qbCxhPShuLWQpL3MsZj0oYS1kKS9sLHA9cy1kLG09byxnPWUucG93KHQsYSksdj1lLnBvdyh0LChhK2QpL2wpO2xldCB5PSh0LG4pPT57bGV0IHI9ZyxvPWUucG93KG4scCkscz1lLnNxcihvKTtzPWUubXVsKHMsbik7bGV0IGE9ZS5tdWwodCxzKTthPWUucG93KGEsZiksYT1lLm11bChhLG8pLG89ZS5tdWwoYSxuKSxzPWUubXVsKGEsdCk7bGV0IGM9ZS5tdWwocyxvKTthPWUucG93KGMsbSk7bGV0IHU9ZS5lcWwoYSxlLk9ORSk7bz1lLm11bChzLHYpLGE9ZS5tdWwoYyxyKSxzPWUuY21vdihvLHMsdSksYz1lLmNtb3YoYSxjLHUpO2ZvcihsZXQgdD1pO3Q+ZDt0LS0pe2xldCBuPXQtbDtuPWw8PG4tZDtsZXQgaT1lLnBvdyhjLG4pO2NvbnN0IGE9ZS5lcWwoaSxlLk9ORSk7bz1lLm11bChzLHIpLHI9ZS5tdWwocixyKSxpPWUubXVsKGMscikscz1lLmNtb3YobyxzLGEpLGM9ZS5jbW92KGksYyxhKX1yZXR1cm57aXNWYWxpZDp1LHZhbHVlOnN9fTtpZihlLk9SREVSJWg9PT11KXtjb25zdCBuPShlLk9SREVSLXUpL2gscj1lLnNxcnQoZS5uZWcodCkpO3k9KHQsaSk9PntsZXQgbz1lLnNxcihpKTtjb25zdCBzPWUubXVsKHQsaSk7bz1lLm11bChvLHMpO2xldCBhPWUucG93KG8sbik7YT1lLm11bChhLHMpO2NvbnN0IGM9ZS5tdWwoYSxyKSxkPWUubXVsKGUuc3FyKGEpLGkpLGw9ZS5lcWwoZCx0KTtyZXR1cm57aXNWYWxpZDpsLHZhbHVlOmUuY21vdihjLGEsbCl9fX1yZXR1cm4geX19KGxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoY24sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksY24uZ2V0SGFzaD1wbixjbi5jcmVhdGVDdXJ2ZT1mdW5jdGlvbihlLHQpe2NvbnN0IG49dD0+KDAsZm4ud2VpZXJzdHJhc3MpKHsuLi5lLC4uLnBuKHQpfSk7cmV0dXJuIE9iamVjdC5mcmVlemUoey4uLm4odCksY3JlYXRlOm59KX07Y29uc3QgdW49ZG4saG49eixmbj1sbjtmdW5jdGlvbiBwbihlKXtyZXR1cm57aGFzaDplLGhtYWM6KHQsLi4ubik9PigwLHVuLmhtYWMpKGUsdCwoMCxobi5jb25jYXRCeXRlcykoLi4ubikpLHJhbmRvbUJ5dGVzOmhuLnJhbmRvbUJ5dGVzfX0hZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5lbmNvZGVUb0N1cnZlPWUuaGFzaFRvQ3VydmU9ZS5zY2hub3JyPWUuc2VjcDI1NmsxPXZvaWQgMDtjb25zdCB0PVh0LG49eixyPWNuLGk9QnQsbz1EZSxzPUxlLGE9bG4sYz1CaWdJbnQoXCIweGZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZlZmZmZmZjMmZcIiksZD1CaWdJbnQoXCIweGZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZlYmFhZWRjZTZhZjQ4YTAzYmJmZDI1ZThjZDAzNjQxNDFcIiksbD1CaWdJbnQoMSksdT1CaWdJbnQoMiksaD0oZSx0KT0+KGUrdC91KS90O2Z1bmN0aW9uIGYoZSl7Y29uc3QgdD1jLG49QmlnSW50KDMpLHI9QmlnSW50KDYpLGk9QmlnSW50KDExKSxzPUJpZ0ludCgyMiksYT1CaWdJbnQoMjMpLGQ9QmlnSW50KDQ0KSxsPUJpZ0ludCg4OCksaD1lKmUqZSV0LGY9aCpoKmUldCxtPSgwLG8ucG93MikoZixuLHQpKmYldCxnPSgwLG8ucG93MikobSxuLHQpKmYldCx2PSgwLG8ucG93MikoZyx1LHQpKmgldCx5PSgwLG8ucG93MikodixpLHQpKnYldCxFPSgwLG8ucG93MikoeSxzLHQpKnkldCxiPSgwLG8ucG93MikoRSxkLHQpKkUldCx3PSgwLG8ucG93MikoYixsLHQpKmIldCxTPSgwLG8ucG93MikodyxkLHQpKkUldCxfPSgwLG8ucG93MikoUyxuLHQpKmYldCxDPSgwLG8ucG93MikoXyxhLHQpKnkldCx4PSgwLG8ucG93MikoQyxyLHQpKmgldCxrPSgwLG8ucG93MikoeCx1LHQpO2lmKCFwLmVxbChwLnNxcihrKSxlKSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBzcXVhcmUgcm9vdFwiKTtyZXR1cm4ga31jb25zdCBwPSgwLG8uRmllbGQpKGMsdm9pZCAwLHZvaWQgMCx7c3FydDpmfSk7ZS5zZWNwMjU2azE9KDAsci5jcmVhdGVDdXJ2ZSkoe2E6QmlnSW50KDApLGI6QmlnSW50KDcpLEZwOnAsbjpkLEd4OkJpZ0ludChcIjU1MDY2MjYzMDIyMjc3MzQzNjY5NTc4NzE4ODk1MTY4NTM0MzI2MjUwNjAzNDUzNzc3NTk0MTc1NTAwMTg3MzYwMzg5MTE2NzI5MjQwXCIpLEd5OkJpZ0ludChcIjMyNjcwNTEwMDIwNzU4ODE2OTc4MDgzMDg1MTMwNTA3MDQzMTg0NDcxMjczMzgwNjU5MjQzMjc1OTM4OTA0MzM1NzU3MzM3NDgyNDI0XCIpLGg6QmlnSW50KDEpLGxvd1M6ITAsZW5kbzp7YmV0YTpCaWdJbnQoXCIweDdhZTk2YTJiNjU3YzA3MTA2ZTY0NDc5ZWFjMzQzNGU5OWNmMDQ5NzUxMmY1ODk5NWMxMzk2YzI4NzE5NTAxZWVcIiksc3BsaXRTY2FsYXI6ZT0+e2NvbnN0IHQ9ZCxuPUJpZ0ludChcIjB4MzA4NmQyMjFhN2Q0NmJjZGU4NmM5MGU0OTI4NGViMTVcIikscj0tbCpCaWdJbnQoXCIweGU0NDM3ZWQ2MDEwZTg4Mjg2ZjU0N2ZhOTBhYmZlNGMzXCIpLGk9QmlnSW50KFwiMHgxMTRjYTUwZjdhOGUyZjNmNjU3YzExMDhkOWQ0NGNmZDhcIikscz1uLGE9QmlnSW50KFwiMHgxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDBcIiksYz1oKHMqZSx0KSx1PWgoLXIqZSx0KTtsZXQgZj0oMCxvLm1vZCkoZS1jKm4tdSppLHQpLHA9KDAsby5tb2QpKC1jKnItdSpzLHQpO2NvbnN0IG09Zj5hLGc9cD5hO2lmKG0mJihmPXQtZiksZyYmKHA9dC1wKSxmPmF8fHA+YSl0aHJvdyBuZXcgRXJyb3IoXCJzcGxpdFNjYWxhcjogRW5kb21vcnBoaXNtIGZhaWxlZCwgaz1cIitlKTtyZXR1cm57azFuZWc6bSxrMTpmLGsybmVnOmcsazI6cH19fX0sdC5zaGEyNTYpO2NvbnN0IG09QmlnSW50KDApLGc9e307ZnVuY3Rpb24gdihlLC4uLm4pe2xldCByPWdbZV07aWYodm9pZCAwPT09cil7Y29uc3Qgbj0oMCx0LnNoYTI1NikoVWludDhBcnJheS5mcm9tKGUsKGU9PmUuY2hhckNvZGVBdCgwKSkpKTtyPSgwLHMuY29uY2F0Qnl0ZXMpKG4sbiksZ1tlXT1yfXJldHVybigwLHQuc2hhMjU2KSgoMCxzLmNvbmNhdEJ5dGVzKShyLC4uLm4pKX1jb25zdCB5PWU9PmUudG9SYXdCeXRlcyghMCkuc2xpY2UoMSksRT1lPT4oMCxzLm51bWJlclRvQnl0ZXNCRSkoZSwzMiksYj1lPT4oMCxvLm1vZCkoZSxjKSx3PWU9PigwLG8ubW9kKShlLGQpLFM9ZS5zZWNwMjU2azEuUHJvamVjdGl2ZVBvaW50LF89KGUsdCxuKT0+Uy5CQVNFLm11bHRpcGx5QW5kQWRkVW5zYWZlKGUsdCxuKTtmdW5jdGlvbiBDKHQpe2xldCBuPWUuc2VjcDI1NmsxLnV0aWxzLm5vcm1Qcml2YXRlS2V5VG9TY2FsYXIodCkscj1TLmZyb21Qcml2YXRlS2V5KG4pO3JldHVybntzY2FsYXI6ci5oYXNFdmVuWSgpP246dygtbiksYnl0ZXM6eShyKX19ZnVuY3Rpb24geChlKXsoMCxzLmFJblJhbmdlKShcInhcIixlLGwsYyk7Y29uc3QgdD1iKGUqZSk7bGV0IG49ZihiKHQqZStCaWdJbnQoNykpKTtuJXUhPT1tJiYobj1iKC1uKSk7Y29uc3Qgcj1uZXcgUyhlLG4sbCk7cmV0dXJuIHIuYXNzZXJ0VmFsaWRpdHkoKSxyfWNvbnN0IGs9cy5ieXRlc1RvTnVtYmVyQkU7ZnVuY3Rpb24gTSguLi5lKXtyZXR1cm4gdyhrKHYoXCJCSVAwMzQwL2NoYWxsZW5nZVwiLC4uLmUpKSl9ZnVuY3Rpb24gQShlKXtyZXR1cm4gQyhlKS5ieXRlc31mdW5jdGlvbiBUKGUsdCxyPSgwLG4ucmFuZG9tQnl0ZXMpKDMyKSl7Y29uc3QgaT0oMCxzLmVuc3VyZUJ5dGVzKShcIm1lc3NhZ2VcIixlKSx7Ynl0ZXM6byxzY2FsYXI6YX09Qyh0KSxjPSgwLHMuZW5zdXJlQnl0ZXMpKFwiYXV4UmFuZFwiLHIsMzIpLGQ9RShhXmsodihcIkJJUDAzNDAvYXV4XCIsYykpKSxsPXYoXCJCSVAwMzQwL25vbmNlXCIsZCxvLGkpLHU9dyhrKGwpKTtpZih1PT09bSl0aHJvdyBuZXcgRXJyb3IoXCJzaWduIGZhaWxlZDogayBpcyB6ZXJvXCIpO2NvbnN0e2J5dGVzOmgsc2NhbGFyOmZ9PUModSkscD1NKGgsbyxpKSxnPW5ldyBVaW50OEFycmF5KDY0KTtpZihnLnNldChoLDApLGcuc2V0KEUodyhmK3AqYSkpLDMyKSwhSShnLGksbykpdGhyb3cgbmV3IEVycm9yKFwic2lnbjogSW52YWxpZCBzaWduYXR1cmUgcHJvZHVjZWRcIik7cmV0dXJuIGd9ZnVuY3Rpb24gSShlLHQsbil7Y29uc3Qgcj0oMCxzLmVuc3VyZUJ5dGVzKShcInNpZ25hdHVyZVwiLGUsNjQpLGk9KDAscy5lbnN1cmVCeXRlcykoXCJtZXNzYWdlXCIsdCksbz0oMCxzLmVuc3VyZUJ5dGVzKShcInB1YmxpY0tleVwiLG4sMzIpO3RyeXtjb25zdCBlPXgoayhvKSksdD1rKHIuc3ViYXJyYXkoMCwzMikpO2lmKCEoMCxzLmluUmFuZ2UpKHQsbCxjKSlyZXR1cm4hMTtjb25zdCBuPWsoci5zdWJhcnJheSgzMiw2NCkpO2lmKCEoMCxzLmluUmFuZ2UpKG4sbCxkKSlyZXR1cm4hMTtjb25zdCBhPU0oRSh0KSx5KGUpLGkpLHU9XyhlLG4sdygtYSkpO3JldHVybiEoIXV8fCF1Lmhhc0V2ZW5ZKCl8fHUudG9BZmZpbmUoKS54IT09dCl9Y2F0Y2goZSl7cmV0dXJuITF9fWUuc2Nobm9ycj17Z2V0UHVibGljS2V5OkEsc2lnbjpULHZlcmlmeTpJLHV0aWxzOntyYW5kb21Qcml2YXRlS2V5OmUuc2VjcDI1NmsxLnV0aWxzLnJhbmRvbVByaXZhdGVLZXksbGlmdF94OngscG9pbnRUb0J5dGVzOnksbnVtYmVyVG9CeXRlc0JFOnMubnVtYmVyVG9CeXRlc0JFLGJ5dGVzVG9OdW1iZXJCRTpzLmJ5dGVzVG9OdW1iZXJCRSx0YWdnZWRIYXNoOnYsbW9kOm8ubW9kfX07Y29uc3QgUD0oKCk9PigwLGkuaXNvZ2VueU1hcCkocCxbW1wiMHg4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZGFhYWFhOGM3XCIsXCIweDdkM2Q0YzgwYmMzMjFkNWI5ZjMxNWNlYTdmZDQ0YzVkNTk1ZDJmYzBiZjYzYjkyZGZmZjEwNDRmMTdjNjU4MVwiLFwiMHg1MzRjMzI4ZDIzZjIzNGU2ZTJhNDEzZGVjYTI1Y2FlY2U0NTA2MTQ0MDM3YzQwMzE0ZWNiZDBiNTNkOWRkMjYyXCIsXCIweDhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhkYWFhYWE4OGNcIl0sW1wiMHhkMzU3NzExOTNkOTQ5MThhOWNhMzRjY2JiN2I2NDBkZDg2Y2Q0MDk1NDJmODQ4N2Q5ZmU2Yjc0NTc4MWViNDliXCIsXCIweGVkYWRjNmY2NDM4M2RjMWRmN2M0YjJkNTFiNTQyMjU0MDZkMzZiNjQxZjVlNDFiYmM1MmE1NjYxMmE4YzZkMTRcIixcIjB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMVwiXSxbXCIweDRiZGExMmY2ODRiZGExMmY2ODRiZGExMmY2ODRiZGExMmY2ODRiZGExMmY2ODRiZGExMmY2ODRiOGUzOGUyM2NcIixcIjB4Yzc1ZTBjMzJkNWNiN2MwZmE5ZDBhNTRiMTJhMGE2ZDU2NDdhYjA0NmQ2ODZkYTZmZGZmYzkwZmMyMDFkNzFhM1wiLFwiMHgyOWE2MTk0NjkxZjkxYTczNzE1MjA5ZWY2NTEyZTU3NjcyMjgzMGEyMDFiZTIwMThhNzY1ZTg1YTllY2VlOTMxXCIsXCIweDJmNjg0YmRhMTJmNjg0YmRhMTJmNjg0YmRhMTJmNjg0YmRhMTJmNjg0YmRhMTJmNjg0YmRhMTJmMzhlMzhkODRcIl0sW1wiMHhmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZWZmZmZmOTNiXCIsXCIweDdhMDY1MzRiYjhiZGI0OWZkNWU5ZTY2MzI3MjJjMjk4OTQ2N2MxYmZjOGU4ZDk3OGRmYjQyNWQyNjg1YzI1NzNcIixcIjB4NjQ4NGFhNzE2NTQ1Y2EyY2YzYTcwYzNmYThmZTMzN2UwYTNkMjExNjJmMGQ2Mjk5YTdiZjgxOTJiZmQyYTc2ZlwiLFwiMHgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxXCJdXS5tYXAoKGU9PmUubWFwKChlPT5CaWdJbnQoZSkpKSkpKSkoKSxSPSgoKT0+KDAsYS5tYXBUb0N1cnZlU2ltcGxlU1dVKShwLHtBOkJpZ0ludChcIjB4M2Y4NzMxYWJkZDY2MWFkY2EwOGE1NTU4ZjBmNWQyNzJlOTUzZDM2M2NiNmYwZTVkNDA1NDQ3YzAxYTQ0NDUzM1wiKSxCOkJpZ0ludChcIjE3NzFcIiksWjpwLmNyZWF0ZShCaWdJbnQoXCItMTFcIikpfSkpKCksTz0oKCk9PigwLGkuY3JlYXRlSGFzaGVyKShlLnNlY3AyNTZrMS5Qcm9qZWN0aXZlUG9pbnQsKGU9Pntjb25zdHt4OnQseTpufT1SKHAuY3JlYXRlKGVbMF0pKTtyZXR1cm4gUCh0LG4pfSkse0RTVDpcInNlY3AyNTZrMV9YTUQ6U0hBLTI1Nl9TU1dVX1JPX1wiLGVuY29kZURTVDpcInNlY3AyNTZrMV9YTUQ6U0hBLTI1Nl9TU1dVX05VX1wiLHA6cC5PUkRFUixtOjEsazoxMjgsZXhwYW5kOlwieG1kXCIsaGFzaDp0LnNoYTI1Nn0pKSgpO2UuaGFzaFRvQ3VydmU9Ty5oYXNoVG9DdXJ2ZSxlLmVuY29kZVRvQ3VydmU9Ty5lbmNvZGVUb0N1cnZlfShRdCk7dmFyIG1uPXt9OyFmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLmRlY29kZUhleD1lLnJlbW92ZTB4PXZvaWQgMDt2YXIgdD1wO2UucmVtb3ZlMHg9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RhcnRzV2l0aChcIjB4XCIpfHxlLnN0YXJ0c1dpdGgoXCIwWFwiKT9lLnNsaWNlKDIpOmV9O2UuZGVjb2RlSGV4PWZ1bmN0aW9uKG4pe3JldHVybigwLHQuaGV4VG9CeXRlcykoKDAsZS5yZW1vdmUweCkobikpfX0obW4pLGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuaGV4VG9QdWJsaWNLZXk9ZS5jb252ZXJ0UHVibGljS2V5Rm9ybWF0PWUuZ2V0U2hhcmVkUG9pbnQ9ZS5nZXRQdWJsaWNLZXk9ZS5pc1ZhbGlkUHJpdmF0ZUtleT1lLmdldFZhbGlkU2VjcmV0PXZvaWQgMDt2YXIgdD1JLG49TyxyPVF0LGk9QyxvPXgscz1tbjtlLmdldFZhbGlkU2VjcmV0PWZ1bmN0aW9uKCl7dmFyIG47ZG97bj0oMCx0LnJhbmRvbUJ5dGVzKShvLlNFQ1JFVF9LRVlfTEVOR1RIKX13aGlsZSghKDAsZS5pc1ZhbGlkUHJpdmF0ZUtleSkobikpO3JldHVybiBufTtlLmlzVmFsaWRQcml2YXRlS2V5PWZ1bmN0aW9uKGUpe3JldHVybiBhKCgwLGkuZWxsaXB0aWNDdXJ2ZSkoKSwoZnVuY3Rpb24odCl7cmV0dXJuIHQudXRpbHMuaXNWYWxpZFByaXZhdGVLZXkoZSl9KSwoZnVuY3Rpb24oKXtyZXR1cm4hMH0pLChmdW5jdGlvbigpe3JldHVybiEwfSkpfTtlLmdldFB1YmxpY0tleT1mdW5jdGlvbihlKXtyZXR1cm4gYSgoMCxpLmVsbGlwdGljQ3VydmUpKCksKGZ1bmN0aW9uKHQpe3JldHVybiB0LmdldFB1YmxpY0tleShlKX0pLChmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRQdWJsaWNLZXkoZSl9KSwoZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0UHVibGljS2V5KGUpfSkpfTtlLmdldFNoYXJlZFBvaW50PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gYSgoMCxpLmVsbGlwdGljQ3VydmUpKCksKGZ1bmN0aW9uKHIpe3JldHVybiByLmdldFNoYXJlZFNlY3JldChlLHQsbil9KSwoZnVuY3Rpb24obil7cmV0dXJuIG4uZ2V0U2hhcmVkU2VjcmV0KGUsdCl9KSwoZnVuY3Rpb24obil7cmV0dXJuIGQobixlLHQpfSkpfTtlLmNvbnZlcnRQdWJsaWNLZXlGb3JtYXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYSgoMCxpLmVsbGlwdGljQ3VydmUpKCksKGZ1bmN0aW9uKG4pe3JldHVybiBuLmdldFNoYXJlZFNlY3JldChCaWdJbnQoMSksZSx0KX0pLChmdW5jdGlvbigpe3JldHVybiBlfSksKGZ1bmN0aW9uKCl7cmV0dXJuIGV9KSl9O2Z1bmN0aW9uIGEoZSx0LGksbyl7aWYoXCJzZWNwMjU2azFcIj09PWUpcmV0dXJuIHQoci5zZWNwMjU2azEpO2lmKFwieDI1NTE5XCI9PT1lKXJldHVybiBpKG4ueDI1NTE5KTtpZihcImVkMjU1MTlcIj09PWUpcmV0dXJuIG8obi5lZDI1NTE5KTt0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWRcIil9ZS5oZXhUb1B1YmxpY0tleT1mdW5jdGlvbihlKXt2YXIgdD0oMCxzLmRlY29kZUhleCkoZSk7cmV0dXJuIGEoKDAsaS5lbGxpcHRpY0N1cnZlKSgpLChmdW5jdGlvbigpe3JldHVybiBjKHQpfSksKGZ1bmN0aW9uKCl7cmV0dXJuIHR9KSwoZnVuY3Rpb24oKXtyZXR1cm4gdH0pKX07dmFyIGM9ZnVuY3Rpb24oZSl7aWYoZS5sZW5ndGg9PT1vLkVUSF9QVUJMSUNfS0VZX1NJWkUpe3ZhciB0PW5ldyBVaW50OEFycmF5KDErZS5sZW5ndGgpO3JldHVybiB0LnNldChbNF0pLHQuc2V0KGUsMSksdH1yZXR1cm4gZX0sZD1mdW5jdGlvbihlLHQsbil7dmFyIHI9ZS51dGlscy5nZXRFeHRlbmRlZFB1YmxpY0tleSh0KS5zY2FsYXI7cmV0dXJuIGUuRXh0ZW5kZWRQb2ludC5mcm9tSGV4KG4pLm11bHRpcGx5KHIpLnRvUmF3Qnl0ZXMoKX19KFQpO3ZhciBnbj17fSx2bj17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodm4sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdm4uaGtkZj12b2lkIDAsdm4uZXh0cmFjdD13bix2bi5leHBhbmQ9Q247Y29uc3QgeW49TCxFbj16LGJuPWRuO2Z1bmN0aW9uIHduKGUsdCxuKXtyZXR1cm4oMCx5bi5oYXNoKShlKSx2b2lkIDA9PT1uJiYobj1uZXcgVWludDhBcnJheShlLm91dHB1dExlbikpLCgwLGJuLmhtYWMpKGUsKDAsRW4udG9CeXRlcykobiksKDAsRW4udG9CeXRlcykodCkpfWNvbnN0IFNuPW5ldyBVaW50OEFycmF5KFswXSksX249bmV3IFVpbnQ4QXJyYXk7ZnVuY3Rpb24gQ24oZSx0LG4scj0zMil7aWYoKDAseW4uaGFzaCkoZSksKDAseW4ubnVtYmVyKShyKSxyPjI1NSplLm91dHB1dExlbil0aHJvdyBuZXcgRXJyb3IoXCJMZW5ndGggc2hvdWxkIGJlIDw9IDI1NSpIYXNoTGVuXCIpO2NvbnN0IGk9TWF0aC5jZWlsKHIvZS5vdXRwdXRMZW4pO3ZvaWQgMD09PW4mJihuPV9uKTtjb25zdCBvPW5ldyBVaW50OEFycmF5KGkqZS5vdXRwdXRMZW4pLHM9Ym4uaG1hYy5jcmVhdGUoZSx0KSxhPXMuX2Nsb25lSW50bygpLGM9bmV3IFVpbnQ4QXJyYXkocy5vdXRwdXRMZW4pO2ZvcihsZXQgdD0wO3Q8aTt0KyspU25bMF09dCsxLGEudXBkYXRlKDA9PT10P19uOmMpLnVwZGF0ZShuKS51cGRhdGUoU24pLmRpZ2VzdEludG8oYyksby5zZXQoYyxlLm91dHB1dExlbip0KSxzLl9jbG9uZUludG8oYSk7cmV0dXJuIHMuZGVzdHJveSgpLGEuZGVzdHJveSgpLGMuZmlsbCgwKSxTbi5maWxsKDApLG8uc2xpY2UoMCxyKX12bi5oa2RmPShlLHQsbixyLGkpPT5DbihlLHduKGUsdCxuKSxyLGkpLGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuZ2V0U2hhcmVkS2V5PWUuZGVyaXZlS2V5PXZvaWQgMDt2YXIgdD1wLG49dm4scj1YdDtlLmRlcml2ZUtleT1mdW5jdGlvbihlLHQsaSl7cmV0dXJuKDAsbi5oa2RmKShyLnNoYTI1NixlLHQsaSwzMil9O2UuZ2V0U2hhcmVkS2V5PWZ1bmN0aW9uKCl7Zm9yKHZhciBuPVtdLHI9MDtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKW5bcl09YXJndW1lbnRzW3JdO3JldHVybigwLGUuZGVyaXZlS2V5KSh0LmNvbmNhdEJ5dGVzLmFwcGx5KHZvaWQgMCxuKSl9fShnbik7dmFyIHhuPXt9LGtuPXt9LE1uPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShNbixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxNbi5fY29tcGF0PXZvaWQgMDt2YXIgQW49cCxUbj1yO01uLl9jb21wYXQ9ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9XCJhZXMtMjU2LWdjbVwiPT09ZXx8XCJjaGFjaGEyMC1wb2x5MTMwNVwiPT09ZSxvPWk/MTY6MCxzPWk/e2F1dGhUYWdMZW5ndGg6b306dm9pZCAwO3JldHVybntlbmNyeXB0OmZ1bmN0aW9uKG8pe3ZhciBhPSgwLFRuLmNyZWF0ZUNpcGhlcml2KShlLHQsbixzKTtpJiZ2b2lkIDAhPT1yJiZhLnNldEFBRChyKTt2YXIgYz1hLnVwZGF0ZShvKSxkPWEuZmluYWwoKTtyZXR1cm4gaT8oMCxBbi5jb25jYXRCeXRlcykoYyxkLGEuZ2V0QXV0aFRhZygpKTooMCxBbi5jb25jYXRCeXRlcykoYyxkKX0sZGVjcnlwdDpmdW5jdGlvbihhKXt2YXIgYz1hLnN1YmFycmF5KDAsYS5sZW5ndGgtbyksZD1hLnN1YmFycmF5KGEubGVuZ3RoLW8pLGw9KDAsVG4uY3JlYXRlRGVjaXBoZXJpdikoZSx0LG4scyk7aSYmKHZvaWQgMCE9PXImJmwuc2V0QUFEKHIpLGwuc2V0QXV0aFRhZyhkKSk7dmFyIHU9bC51cGRhdGUoYyksaD1sLmZpbmFsKCk7cmV0dXJuKDAsQW4uY29uY2F0Qnl0ZXMpKHUsaCl9fX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGtuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGtuLmFlczI1NmNiYz1rbi5hZXMyNTZnY209dm9pZCAwO3ZhciBJbj1Nbjtrbi5hZXMyNTZnY209ZnVuY3Rpb24oZSx0LG4pe3JldHVybigwLEluLl9jb21wYXQpKFwiYWVzLTI1Ni1nY21cIixlLHQsbil9O2tuLmFlczI1NmNiYz1mdW5jdGlvbihlLHQsbil7cmV0dXJuKDAsSW4uX2NvbXBhdCkoXCJhZXMtMjU2LWNiY1wiLGUsdCl9O3ZhciBQbj17fSxSbj17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoUm4sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksUm4uX2hjaGFjaGE9dm9pZCAwO1JuLl9oY2hhY2hhPWZ1bmN0aW9uKGUsdCxuLHIpe2Zvcih2YXIgaT1lWzBdLG89ZVsxXSxzPWVbMl0sYT1lWzNdLGM9dFswXSxkPXRbMV0sbD10WzJdLHU9dFszXSxoPXRbNF0sZj10WzVdLHA9dFs2XSxtPXRbN10sZz1uWzBdLHY9blsxXSx5PW5bMl0sRT1uWzNdLGI9MDtiPDIwO2IrPTIpZz1PbihnXihpPWkrY3wwKSwxNiksYz1PbihjXihoPWgrZ3wwKSwxMiksZz1PbihnXihpPWkrY3wwKSw4KSxjPU9uKGNeKGg9aCtnfDApLDcpLHY9T24odl4obz1vK2R8MCksMTYpLGQ9T24oZF4oZj1mK3Z8MCksMTIpLHY9T24odl4obz1vK2R8MCksOCksZD1PbihkXihmPWYrdnwwKSw3KSx5PU9uKHleKHM9cytsfDApLDE2KSxsPU9uKGxeKHA9cCt5fDApLDEyKSx5PU9uKHleKHM9cytsfDApLDgpLGw9T24obF4ocD1wK3l8MCksNyksRT1PbihFXihhPWErdXwwKSwxNiksdT1Pbih1XihtPW0rRXwwKSwxMiksRT1PbihFXihhPWErdXwwKSw4KSx1PU9uKHVeKG09bStFfDApLDcpLEU9T24oRV4oaT1pK2R8MCksMTYpLGQ9T24oZF4ocD1wK0V8MCksMTIpLEU9T24oRV4oaT1pK2R8MCksOCksZD1PbihkXihwPXArRXwwKSw3KSxnPU9uKGdeKG89bytsfDApLDE2KSxsPU9uKGxeKG09bStnfDApLDEyKSxnPU9uKGdeKG89bytsfDApLDgpLGw9T24obF4obT1tK2d8MCksNyksdj1Pbih2XihzPXMrdXwwKSwxNiksdT1Pbih1XihoPWgrdnwwKSwxMiksdj1Pbih2XihzPXMrdXwwKSw4KSx1PU9uKHVeKGg9aCt2fDApLDcpLHk9T24oeV4oYT1hK2N8MCksMTYpLGM9T24oY14oZj1mK3l8MCksMTIpLHk9T24oeV4oYT1hK2N8MCksOCksYz1PbihjXihmPWYreXwwKSw3KTt2YXIgdz0wO3JbdysrXT1pLHJbdysrXT1vLHJbdysrXT1zLHJbdysrXT1hLHJbdysrXT1nLHJbdysrXT12LHJbdysrXT15LHJbdysrXT1FfTt2YXIgT249ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZTw8dHxlPj4+MzItdH07T2JqZWN0LmRlZmluZVByb3BlcnR5KFBuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLFBuLnhjaGFjaGEyMD12b2lkIDA7dmFyIE5uPXAsRG49TW4sTG49Um47UG4ueGNoYWNoYTIwPWZ1bmN0aW9uKGUsdCxuKXtpZigyNCE9PXQubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcInhjaGFjaGEyMCdzIG5vbmNlIG11c3QgYmUgMjQgYnl0ZXNcIik7dmFyIHI9bmV3IFVpbnQzMkFycmF5KFsxNjM0NzYwODA1LDg1Nzc2MDg3OCwyMDM2NDc3MjM0LDE3OTcyODUyMzZdKSxpPW5ldyBVaW50MzJBcnJheSg4KTsoMCxMbi5faGNoYWNoYSkociwoMCxObi51MzIpKGUpLCgwLE5uLnUzMikodC5zdWJhcnJheSgwLDE2KSksaSk7dmFyIG89bmV3IFVpbnQ4QXJyYXkoMTIpO3JldHVybiBvLnNldChbMCwwLDAsMF0pLG8uc2V0KHQuc3ViYXJyYXkoMTYpLDQpLCgwLERuLl9jb21wYXQpKFwiY2hhY2hhMjAtcG9seTEzMDVcIiwoMCxObi51OCkoaSksbyxuKX0sZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5hZXNEZWNyeXB0PWUuYWVzRW5jcnlwdD1lLnN5bURlY3J5cHQ9ZS5zeW1FbmNyeXB0PXZvaWQgMDt2YXIgdD1wLG49SSxyPWtuLGk9UG4sbz1DLHM9eDtlLnN5bUVuY3J5cHQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBhKGMsZSx0LG4pfTtmdW5jdGlvbiBhKGUsdCxuLGEpe3ZhciBjPSgwLG8uc3ltbWV0cmljQWxnb3JpdGhtKSgpO2lmKFwiYWVzLTI1Ni1nY21cIj09PWMpcmV0dXJuIGUoci5hZXMyNTZnY20sdCxuLCgwLG8uc3ltbWV0cmljTm9uY2VMZW5ndGgpKCkscy5BRUFEX1RBR19MRU5HVEgsYSk7aWYoXCJ4Y2hhY2hhMjBcIj09PWMpcmV0dXJuIGUoaS54Y2hhY2hhMjAsdCxuLHMuWENIQUNIQTIwX05PTkNFX0xFTkdUSCxzLkFFQURfVEFHX0xFTkdUSCxhKTtpZihcImFlcy0yNTYtY2JjXCI9PT1jKXJldHVybiBlKHIuYWVzMjU2Y2JjLHQsbiwxNiwwKTt0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWRcIil9ZnVuY3Rpb24gYyhlLHIsaSxvLHMsYSl7dmFyIGM9KDAsbi5yYW5kb21CeXRlcykobyksZD1lKHIsYyxhKS5lbmNyeXB0KGkpO2lmKDA9PT1zKXJldHVybigwLHQuY29uY2F0Qnl0ZXMpKGMsZCk7dmFyIGw9ZC5sZW5ndGgtcyx1PWQuc3ViYXJyYXkoMCxsKSxoPWQuc3ViYXJyYXkobCk7cmV0dXJuKDAsdC5jb25jYXRCeXRlcykoYyxoLHUpfWZ1bmN0aW9uIGQoZSxuLHIsaSxvLHMpe3ZhciBhPXIuc3ViYXJyYXkoMCxpKSxjPWUobixVaW50OEFycmF5LmZyb20oYSkscyksZD1yLnN1YmFycmF5KGkpO2lmKDA9PT1vKXJldHVybiBjLmRlY3J5cHQoZCk7dmFyIGw9ZC5zdWJhcnJheSgwLG8pLHU9ZC5zdWJhcnJheShvKTtyZXR1cm4gYy5kZWNyeXB0KCgwLHQuY29uY2F0Qnl0ZXMpKHUsbCkpfWUuc3ltRGVjcnlwdD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGEoZCxlLHQsbil9LGUuYWVzRW5jcnlwdD1lLnN5bUVuY3J5cHQsZS5hZXNEZWNyeXB0PWUuc3ltRGVjcnlwdH0oeG4pLGZ1bmN0aW9uKGUpe3ZhciB0PXUmJnUuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihlLHQsbixyKXt2b2lkIDA9PT1yJiYocj1uKTt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsbik7aSYmIShcImdldFwiaW4gaT8hdC5fX2VzTW9kdWxlOmkud3JpdGFibGV8fGkuY29uZmlndXJhYmxlKXx8KGk9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRbbl19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUscixpKX06ZnVuY3Rpb24oZSx0LG4scil7dm9pZCAwPT09ciYmKHI9biksZVtyXT10W25dfSksbj11JiZ1Ll9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oZSxuKXtmb3IodmFyIHIgaW4gZSlcImRlZmF1bHRcIj09PXJ8fE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpfHx0KG4sZSxyKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksbihULGUpLG4oZ24sZSksbihtbixlKSxuKHhuLGUpfShBKTt2YXIgQm49e307T2JqZWN0LmRlZmluZVByb3BlcnR5KEJuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLEJuLlB1YmxpY0tleT12b2lkIDA7dmFyIEtuPXAsam49QSwkbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5kYXRhPSgwLGpuLmNvbnZlcnRQdWJsaWNLZXlGb3JtYXQpKGUsITApfXJldHVybiBlLmZyb21IZXg9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlKCgwLGpuLmhleFRvUHVibGljS2V5KSh0KSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInVuY29tcHJlc3NlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gQnVmZmVyLmZyb20oKDAsam4uY29udmVydFB1YmxpY0tleUZvcm1hdCkodGhpcy5kYXRhLCExKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiY29tcHJlc3NlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gQnVmZmVyLmZyb20odGhpcy5kYXRhKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS50b0hleD1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9ITApLCgwLEtuLmJ5dGVzVG9IZXgpKGU/dGhpcy5kYXRhOnRoaXMudW5jb21wcmVzc2VkKX0sZS5wcm90b3R5cGUuZGVjYXBzdWxhdGU9ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT10JiYodD0hMSk7dmFyIG49dD90aGlzLmRhdGE6dGhpcy51bmNvbXByZXNzZWQscj1lLm11bHRpcGx5KHRoaXMsdCk7cmV0dXJuKDAsam4uZ2V0U2hhcmVkS2V5KShuLHIpfSxlLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24oZSl7cmV0dXJuKDAsS24uZXF1YWxCeXRlcykodGhpcy5kYXRhLGUuZGF0YSl9LGV9KCk7Qm4uUHVibGljS2V5PSRuLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLE0uUHJpdmF0ZUtleT12b2lkIDA7dmFyIEhuPXAsVW49QSxGbj1Cbixxbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7aWYodm9pZCAwPT09ZSl0aGlzLmRhdGE9KDAsVW4uZ2V0VmFsaWRTZWNyZXQpKCk7ZWxzZXtpZighKDAsVW4uaXNWYWxpZFByaXZhdGVLZXkpKGUpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcHJpdmF0ZSBrZXlcIik7dGhpcy5kYXRhPWV9dGhpcy5wdWJsaWNLZXk9bmV3IEZuLlB1YmxpY0tleSgoMCxVbi5nZXRQdWJsaWNLZXkpKHRoaXMuZGF0YSkpfXJldHVybiBlLmZyb21IZXg9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlKCgwLFVuLmRlY29kZUhleCkodCkpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJzZWNyZXRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEJ1ZmZlci5mcm9tKHRoaXMuZGF0YSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUudG9IZXg9ZnVuY3Rpb24oKXtyZXR1cm4oMCxIbi5ieXRlc1RvSGV4KSh0aGlzLmRhdGEpfSxlLnByb3RvdHlwZS5lbmNhcHN1bGF0ZT1mdW5jdGlvbihlLHQpe3ZvaWQgMD09PXQmJih0PSExKTt2YXIgbj10P3RoaXMucHVibGljS2V5LmNvbXByZXNzZWQ6dGhpcy5wdWJsaWNLZXkudW5jb21wcmVzc2VkLHI9dGhpcy5tdWx0aXBseShlLHQpO3JldHVybigwLFVuLmdldFNoYXJlZEtleSkobixyKX0sZS5wcm90b3R5cGUubXVsdGlwbHk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9ITEpLCgwLFVuLmdldFNoYXJlZFBvaW50KSh0aGlzLmRhdGEsZS5jb21wcmVzc2VkLHQpfSxlLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24oZSl7cmV0dXJuKDAsSG4uZXF1YWxCeXRlcykodGhpcy5kYXRhLGUuZGF0YSl9LGV9KCk7TS5Qcml2YXRlS2V5PXFuLGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuUHVibGljS2V5PWUuUHJpdmF0ZUtleT12b2lkIDA7dmFyIHQ9TTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIlByaXZhdGVLZXlcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5Qcml2YXRlS2V5fX0pO3ZhciBuPUJuO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiUHVibGljS2V5XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4uUHVibGljS2V5fX0pfShrKSxmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLnV0aWxzPWUuUHVibGljS2V5PWUuUHJpdmF0ZUtleT1lLkVDSUVTX0NPTkZJRz12b2lkIDAsZS5lbmNyeXB0PWZ1bmN0aW9uKGUsbyl7dmFyIHM9bmV3IHIuUHJpdmF0ZUtleSxhPWUgaW5zdGFuY2VvZiBVaW50OEFycmF5P25ldyByLlB1YmxpY0tleShlKTpyLlB1YmxpY0tleS5mcm9tSGV4KGUpLGM9cy5lbmNhcHN1bGF0ZShhLCgwLG4uaXNIa2RmS2V5Q29tcHJlc3NlZCkoKSksZD0oMCxuLmlzRXBoZW1lcmFsS2V5Q29tcHJlc3NlZCkoKT9zLnB1YmxpY0tleS5jb21wcmVzc2VkOnMucHVibGljS2V5LnVuY29tcHJlc3NlZCxsPSgwLGkuc3ltRW5jcnlwdCkoYyxvKTtyZXR1cm4gQnVmZmVyLmZyb20oKDAsdC5jb25jYXRCeXRlcykoZCxsKSl9LGUuZGVjcnlwdD1mdW5jdGlvbihlLHQpe3ZhciBvPWUgaW5zdGFuY2VvZiBVaW50OEFycmF5P25ldyByLlByaXZhdGVLZXkoZSk6ci5Qcml2YXRlS2V5LmZyb21IZXgoZSkscz0oMCxuLmVwaGVtZXJhbEtleVNpemUpKCksYT1uZXcgci5QdWJsaWNLZXkodC5zdWJhcnJheSgwLHMpKSxjPXQuc3ViYXJyYXkocyksZD1hLmRlY2Fwc3VsYXRlKG8sKDAsbi5pc0hrZGZLZXlDb21wcmVzc2VkKSgpKTtyZXR1cm4gQnVmZmVyLmZyb20oKDAsaS5zeW1EZWNyeXB0KShkLGMpKX07dmFyIHQ9cCxuPUMscj1rLGk9QTt2YXIgbz1DO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiRUNJRVNfQ09ORklHXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG8uRUNJRVNfQ09ORklHfX0pO3ZhciBzPWs7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJQcml2YXRlS2V5XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuUHJpdmF0ZUtleX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIlB1YmxpY0tleVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlB1YmxpY0tleX19KSxlLnV0aWxzPXthZXNFbmNyeXB0OmkuYWVzRW5jcnlwdCxhZXNEZWNyeXB0OmkuYWVzRGVjcnlwdCxzeW1FbmNyeXB0Omkuc3ltRW5jcnlwdCxzeW1EZWNyeXB0Omkuc3ltRGVjcnlwdCxkZWNvZGVIZXg6aS5kZWNvZGVIZXgsZ2V0VmFsaWRTZWNyZXQ6aS5nZXRWYWxpZFNlY3JldCxyZW1vdmUweDppLnJlbW92ZTB4fX0oZik7Y29uc3Qgem49dChcIktleUV4Y2hhbmdlOkxheWVyXCIpLFduPXQoXCJTb2NrZXRTZXJ2aWNlOkxheWVyXCIpLFZuPXQoXCJFY2llczpMYXllclwiKSxHbj10KFwiUmVtb3RlQ29tbXVuaWNhdGlvbjpMYXllclwiKTt6bi5jb2xvcj1cIiMjOTVjNDRlXCIsV24uY29sb3I9XCIjZjYzOGQ3XCIsVm4uY29sb3I9XCIjNDY1YjljXCIsR24uY29sb3I9XCIjNDdhMmJlXCI7Y29uc3QgWW49e0tleUV4Y2hhbmdlOnpuLFNvY2tldFNlcnZpY2U6V24sRWNpZXM6Vm4sUmVtb3RlQ29tbXVuaWNhdGlvbjpHbn07bGV0IFpuLEpuPVtdLFFuPVtdO2NvbnN0IFhuPSh0LG4pPT5sKHZvaWQgMCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtabj1uLFFuLnB1c2godCksZnVuY3Rpb24odCl7cmV0dXJuIGwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtpZighWm58fCF0KXJldHVybjshZnVuY3Rpb24oKXtjb25zdCBlPVFuO1FuPUpuLEpuPWV9KCk7Y29uc3Qgbj1abi5lbmRzV2l0aChcIi9cIik/YCR7Wm59ZXZ0YDpgJHtabn0vZXZ0YCxyPU9iamVjdC5hc3NpZ24oe30sdCk7aWYoZGVsZXRlIHIucGFyYW1zLHQucGFyYW1zKWZvcihjb25zdFtlLG5db2YgT2JqZWN0LmVudHJpZXModC5wYXJhbXMpKXJbZV09bjtjb25zdCBpPUpTT04uc3RyaW5naWZ5KHIpO1luLlJlbW90ZUNvbW11bmljYXRpb24oYFtzZW5kQnVmZmVyZWRFdmVudHNdIFNlbmRpbmcgJHtKbi5sZW5ndGh9IGFuYWx5dGljcyBldmVudHMgdG8gJHtufWApO3RyeXtjb25zdCB0PXlpZWxkIGUobix7bWV0aG9kOlwiUE9TVFwiLGhlYWRlcnM6e0FjY2VwdDpcImFwcGxpY2F0aW9uL2pzb25cIixcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifSxib2R5Oml9KSxyPXlpZWxkIHQudGV4dCgpO1luLlJlbW90ZUNvbW11bmljYXRpb24oYFtzZW5kQnVmZmVyZWRFdmVudHNdIFJlc3BvbnNlOiAke3J9YCksSm4ubGVuZ3RoPTB9Y2F0Y2gobil7fX0pKX0odCkuY2F0Y2goKCgpPT57fSkpfSkpO2NsYXNzIGVye2NvbnN0cnVjdG9yKGUpe3RoaXMuZW5hYmxlZD0hMCwobnVsbD09ZT92b2lkIDA6ZS5kZWJ1ZykmJnQuZW5hYmxlKFwiRWNpZXM6TGF5ZXJcIiksdGhpcy5lY2llcz0obnVsbD09ZT92b2lkIDA6ZS5wcml2YXRlS2V5KT9mLlByaXZhdGVLZXkuZnJvbUhleChlLnByaXZhdGVLZXkpOm5ldyBmLlByaXZhdGVLZXksWW4uRWNpZXMoXCJbRUNJRVMgY29uc3RydWN0b3IoKV0gaW5pdGlhbGl6ZWQgc2VjcmV0OiBcIix0aGlzLmVjaWVzLnRvSGV4KCkpLFluLkVjaWVzKFwiW0VDSUVTIGNvbnN0cnVjdG9yKCldIGluaXRpYWxpemVkIHB1YmxpYzogXCIsdGhpcy5lY2llcy5wdWJsaWNLZXkudG9IZXgoKSksWW4uRWNpZXMoXCJbRUNJRVMgY29uc3RydWN0b3IoKV0gaW5pdCB3aXRoXCIsdGhpcyl9Z2VuZXJhdGVFQ0lFUygpe3RoaXMuZWNpZXM9bmV3IGYuUHJpdmF0ZUtleX1nZXRQdWJsaWNLZXkoKXtyZXR1cm4gdGhpcy5lY2llcy5wdWJsaWNLZXkudG9IZXgoKX1lbmNyeXB0KGUsdCl7bGV0IHI9ZTtpZih0aGlzLmVuYWJsZWQpdHJ5e1luLkVjaWVzKFwiW0VDSUVTOiBlbmNyeXB0KCldIHVzaW5nIG90aGVyUHVibGljS2V5XCIsdCk7Y29uc3QgaT1uLkJ1ZmZlci5mcm9tKGUpLG89Zi5lbmNyeXB0KHQsaSk7cj1uLkJ1ZmZlci5mcm9tKG8pLnRvU3RyaW5nKFwiYmFzZTY0XCIpfWNhdGNoKHIpe3Rocm93IFluLkVjaWVzKFwiW0VDSUVTOiBlbmNyeXB0KCldIGVycm9yIGVuY3J5cHQ6XCIsciksWW4uRWNpZXMoXCJbRUNJRVM6IGVuY3J5cHQoKV0gcHJpdmF0ZTogXCIsdGhpcy5lY2llcy50b0hleCgpKSxZbi5FY2llcyhcIltFQ0lFUzogZW5jcnlwdCgpXSBkYXRhOiBcIixlKSxZbi5FY2llcyhcIltFQ0lFUzogZW5jcnlwdCgpXSBvdGhlcmtleTogXCIsdCkscn1yZXR1cm4gcn1kZWNyeXB0KGUpe2xldCB0PWU7aWYodGhpcy5lbmFibGVkKXRyeXtZbi5FY2llcyhcIltFQ0lFUzogZGVjcnlwdCgpXSB1c2luZyBwcml2YXRlS2V5XCIsdGhpcy5lY2llcy50b0hleCgpKTtjb25zdCByPW4uQnVmZmVyLmZyb20oZS50b1N0cmluZygpLFwiYmFzZTY0XCIpO3Q9Zi5kZWNyeXB0KHRoaXMuZWNpZXMudG9IZXgoKSxyKS50b1N0cmluZygpfWNhdGNoKHQpe3Rocm93IFluLkVjaWVzKFwiW0VDSUVTOiBkZWNyeXB0KCldIGVycm9yIGRlY3J5cHRcIix0KSxZbi5FY2llcyhcIltFQ0lFUzogZGVjcnlwdCgpXSBwcml2YXRlOiBcIix0aGlzLmVjaWVzLnRvSGV4KCkpLFluLkVjaWVzKFwiW0VDSUVTOiBkZWNyeXB0KCldIGVuY3J5cHRlZERhdGE6IFwiLGUpLHR9cmV0dXJuIHR9Z2V0S2V5SW5mbygpe3JldHVybntwcml2YXRlOnRoaXMuZWNpZXMudG9IZXgoKSxwdWJsaWM6dGhpcy5lY2llcy5wdWJsaWNLZXkudG9IZXgoKX19dG9TdHJpbmcoKXtZbi5FY2llcyhcIltFQ0lFUzogdG9TdHJpbmcoKV1cIix0aGlzLmdldEtleUluZm8oKSl9fXZhciB0cj17bmFtZTpcIkBtZXRhbWFzay9zZGstY29tbXVuaWNhdGlvbi1sYXllclwiLHZlcnNpb246XCIwLjMyLjBcIixkZXNjcmlwdGlvbjpcIlwiLGhvbWVwYWdlOlwiaHR0cHM6Ly9naXRodWIuY29tL01ldGFNYXNrL21ldGFtYXNrLXNkayNyZWFkbWVcIixidWdzOnt1cmw6XCJodHRwczovL2dpdGh1Yi5jb20vTWV0YU1hc2svbWV0YW1hc2stc2RrL2lzc3Vlc1wifSxyZXBvc2l0b3J5Ont0eXBlOlwiZ2l0XCIsdXJsOlwiaHR0cHM6Ly9naXRodWIuY29tL01ldGFNYXNrL21ldGFtYXNrLXNkay5naXRcIixkaXJlY3Rvcnk6XCJwYWNrYWdlcy9zZGstY29tbXVuaWNhdGlvbi1sYXllclwifSxtYWluOlwiZGlzdC9ub2RlL2Nqcy9tZXRhbWFzay1zZGstY29tbXVuaWNhdGlvbi1sYXllci5qc1wiLHVucGtnOlwiZGlzdC9icm93c2VyL3VtZC9tZXRhbWFzay1zZGstY29tbXVuaWNhdGlvbi1sYXllci5qc1wiLG1vZHVsZTpcImRpc3Qvbm9kZS9lcy9tZXRhbWFzay1zZGstY29tbXVuaWNhdGlvbi1sYXllci5qc1wiLGJyb3dzZXI6XCJkaXN0L2Jyb3dzZXIvZXMvbWV0YW1hc2stc2RrLWNvbW11bmljYXRpb24tbGF5ZXIuanNcIixcInJlYWN0LW5hdGl2ZVwiOlwiZGlzdC9yZWFjdC1uYXRpdmUvZXMvbWV0YW1hc2stc2RrLWNvbW11bmljYXRpb24tbGF5ZXIuanNcIix0eXBlczpcImRpc3QvdHlwZXMvc3JjL2luZGV4LmQudHNcIixmaWxlczpbXCIvZGlzdFwiXSxzY3JpcHRzOntcImJ1aWxkOnR5cGVzXCI6XCJ0c2MgLS1wcm9qZWN0IHRzY29uZmlnLmJ1aWxkLmpzb24gLS1lbWl0RGVjbGFyYXRpb25Pbmx5IC0tb3V0RGlyIGRpc3QvdHlwZXNcIixcImJ1aWxkOmNsZWFuXCI6XCJ5YXJuIGNsZWFuICYmIHlhcm4gYnVpbGRcIixidWlsZDpcInlhcm4gYnVpbGQ6dHlwZXMgJiYgcm9sbHVwIC1jIC0tYnVuZGxlQ29uZmlnQXNDanNcIixcImJ1aWxkOmRldlwiOlwieWFybiBidWlsZDp0eXBlcyAmJiBOT0RFX0VOVj1kZXYgcm9sbHVwIC1jIC0tYnVuZGxlQ29uZmlnQXNDanNcIixkZXY6J2NvbmN1cnJlbnRseSBcInRzYyAtLXdhdGNoXCIgXCJyb2xsdXAgLWMgLS1idW5kbGVDb25maWdBc0NqcyAtd1wiJyxcImJ1aWxkOnBvc3QtdHNjXCI6XCJlY2hvICdOL0EnXCIsXCJidWlsZDpwcmUtdHNjXCI6XCJlY2hvICdOL0EnXCIsc2l6ZTpcInNpemUtbGltaXRcIixjbGVhbjpcInJpbXJhZiAuL2Rpc3RcIixsaW50OlwieWFybiBsaW50OmVzbGludCAmJiB5YXJuIGxpbnQ6bWlzYyAtLWNoZWNrXCIsXCJsaW50OmNoYW5nZWxvZ1wiOlwiLi4vLi4vc2NyaXB0cy92YWxpZGF0ZS1jaGFuZ2Vsb2cuc2ggQG1ldGFtYXNrL3Nkay1jb21tdW5pY2F0aW9uLWxheWVyXCIsXCJsaW50OmVzbGludFwiOlwiZXNsaW50IC4gLS1jYWNoZSAtLWV4dCBqcyx0c1wiLFwibGludDpmaXhcIjpcInlhcm4gbGludDplc2xpbnQgLS1maXggJiYgeWFybiBsaW50Om1pc2MgLS13cml0ZVwiLFwibGludDptaXNjXCI6XCJwcmV0dGllciAnKiovKi5qc29uJyAnKiovKi5tZCcgJyFDSEFOR0VMT0cubWQnIC0taWdub3JlLXBhdGggLi4vLi4vLmdpdGlnbm9yZVwiLFwicHVibGlzaDpwcmV2aWV3XCI6XCJ5YXJuIG5wbSBwdWJsaXNoIC0tdGFnIHByZXZpZXdcIixwcmVwYWNrOlwiLi4vLi4vc2NyaXB0cy9wcmVwYWNrLnNoXCIscmVzZXQ6XCJ5YXJuIGNsZWFuICYmIHJpbXJhZiAuL25vZGVfbW9kdWxlcy9cIix0ZXN0OidqZXN0IC0tdGVzdFBhdGhJZ25vcmVQYXR0ZXJucyBcIi9lMmUvXCInLFwidGVzdDplMmVcIjonamVzdCAtLXRlc3RQYXRoUGF0dGVybiBcIi9lMmUvXCInLFwidGVzdDpjb3ZlcmFnZVwiOlwiamVzdCAtLWNvdmVyYWdlXCIsXCJ0ZXN0OmNpXCI6J2plc3QgLS1jb3ZlcmFnZSAtLXBhc3NXaXRoTm9UZXN0cyAtLXNldHVwRmlsZXNBZnRlckVudiAuL2plc3QtcHJlbG9hZC5qcyAtLXRlc3RQYXRoSWdub3JlUGF0dGVybnMgXCIvZTJlL1wiJyxcInRlc3Q6ZGV2XCI6XCJqZXN0XCIsd2F0Y2g6XCJyb2xsdXAgLWMgLS1idW5kbGVDb25maWdBc0NqcyAtd1wifSxkZXBlbmRlbmNpZXM6e2J1ZmZlcnV0aWw6XCJeNC4wLjhcIixcImRhdGUtZm5zXCI6XCJeMi4yOS4zXCIsZGVidWc6XCJeNC4zLjRcIixcInV0Zi04LXZhbGlkYXRlXCI6XCJeNS4wLjJcIix1dWlkOlwiXjguMy4yXCJ9LGRldkRlcGVuZGVuY2llczp7XCJAamVzdC9nbG9iYWxzXCI6XCJeMjkuMy4xXCIsXCJAbGF2YW1vYXQvYWxsb3ctc2NyaXB0c1wiOlwiXjIuMy4xXCIsXCJAbWV0YW1hc2svYXV0by1jaGFuZ2Vsb2dcIjpcIjMuMS4wXCIsXCJAbWV0YW1hc2svZXNsaW50LWNvbmZpZ1wiOlwiXjYuMC4wXCIsXCJAbWV0YW1hc2svZXNsaW50LWNvbmZpZy1ub2RlanNcIjpcIl42LjAuMFwiLFwiQG1ldGFtYXNrL2VzbGludC1jb25maWctdHlwZXNjcmlwdFwiOlwiXjYuMC4wXCIsXCJAcm9sbHVwL3BsdWdpbi1jb21tb25qc1wiOlwiXjI1LjAuMFwiLFwiQHJvbGx1cC9wbHVnaW4tanNvblwiOlwiXjYuMC4wXCIsXCJAcm9sbHVwL3BsdWdpbi1ub2RlLXJlc29sdmVcIjpcIl4xNS4wLjJcIixcIkByb2xsdXAvcGx1Z2luLXJlcGxhY2VcIjpcIl42LjAuMVwiLFwiQHJvbGx1cC9wbHVnaW4tdGVyc2VyXCI6XCJeMC40LjRcIixcIkBzaXplLWxpbWl0L3ByZXNldC1iaWctbGliXCI6XCJeMTEuMC4yXCIsXCJAdHlwZXMvamVzdFwiOlwiXjI5LjIuNFwiLFwiQHR5cGVzL25vZGVcIjpcIl4yMC4xLjNcIixcIkB0eXBlcy91dWlkXCI6XCJeOS4wLjBcIixcIkB0eXBlc2NyaXB0LWVzbGludC9lc2xpbnQtcGx1Z2luXCI6XCJeNC4yNi4wXCIsXCJAdHlwZXNjcmlwdC1lc2xpbnQvcGFyc2VyXCI6XCJeNC4yNi4wXCIsY29uY3VycmVudGx5OlwiXjkuMS4yXCIsXCJjcm9zcy1mZXRjaFwiOlwiXjQuMC4wXCIsZWNpZXNqczpcIl4wLjQuMTFcIixlc2xpbnQ6XCJeNy4zMC4wXCIsXCJlc2xpbnQtY29uZmlnLXByZXR0aWVyXCI6XCJeOC4zLjBcIixcImVzbGludC1wbHVnaW4taW1wb3J0XCI6XCJeMi4yMy40XCIsXCJlc2xpbnQtcGx1Z2luLWplc3RcIjpcIl4yNC40LjBcIixcImVzbGludC1wbHVnaW4tanNkb2NcIjpcIl4zNi4xLjBcIixcImVzbGludC1wbHVnaW4tbm9kZVwiOlwiXjExLjEuMFwiLFwiZXNsaW50LXBsdWdpbi1wcmV0dGllclwiOlwiXjMuNC4wXCIsZXZlbnRlbWl0dGVyMjpcIl42LjQuOVwiLGplc3Q6XCJeMjkuMy4xXCIscHJldHRpZXI6XCJeMi4zLjBcIixyaW1yYWY6XCJeMy4wLjJcIixyb2xsdXA6XCJeNC4yNi4wXCIsXCJyb2xsdXAtcGx1Z2luLWpzY2NcIjpcIl4yLjAuMFwiLFwicm9sbHVwLXBsdWdpbi1uYXRpdmVzXCI6XCJeMC43LjVcIixcInJvbGx1cC1wbHVnaW4tbm9kZS1idWlsdGluc1wiOlwiXjIuMS4yXCIsXCJyb2xsdXAtcGx1Z2luLW5vZGUtZ2xvYmFsc1wiOlwiXjEuNC4wXCIsXCJyb2xsdXAtcGx1Z2luLXBlZXItZGVwcy1leHRlcm5hbFwiOlwiXjIuMi40XCIsXCJyb2xsdXAtcGx1Z2luLXBvbHlmaWxsLW5vZGVcIjpcIl4wLjEzLjBcIixcInJvbGx1cC1wbHVnaW4tc2l6ZXNcIjpcIl4xLjAuNlwiLFwicm9sbHVwLXBsdWdpbi10eXBlc2NyaXB0MlwiOlwiXjAuMzEuMlwiLFwicm9sbHVwLXBsdWdpbi12aXN1YWxpemVyXCI6XCJeNS4xMi4wXCIsXCJzaXplLWxpbWl0XCI6XCJeMTEuMS42XCIsXCJzb2NrZXQuaW8tY2xpZW50XCI6XCJeNC41LjFcIixcInN0cmVhbS1icm93c2VyaWZ5XCI6XCJeMy4wLjBcIixcInRzLWplc3RcIjpcIl4yOS4wLjNcIixcInRzLW5vZGVcIjpcIl4xMC45LjFcIix0eXBlc2NyaXB0OlwiXjUuNi4zXCJ9LHBlZXJEZXBlbmRlbmNpZXM6e1wiY3Jvc3MtZmV0Y2hcIjpcIl40LjAuMFwiLGVjaWVzanM6XCIqXCIsZXZlbnRlbWl0dGVyMjpcIl42LjQuOVwiLFwicmVhZGFibGUtc3RyZWFtXCI6XCJeMy42LjJcIixcInNvY2tldC5pby1jbGllbnRcIjpcIl40LjUuMVwifSxwdWJsaXNoQ29uZmlnOnthY2Nlc3M6XCJwdWJsaWNcIixyZWdpc3RyeTpcImh0dHBzOi8vcmVnaXN0cnkubnBtanMub3JnL1wifSxsYXZhbW9hdDp7YWxsb3dTY3JpcHRzOntcIkBsYXZhbW9hdC9wcmVpbnN0YWxsLWFsd2F5cy1mYWlsXCI6ITEsY2FudmFzOiEwLFwiZWNpZXNqcz5zZWNwMjU2azFcIjohMSxcInNvY2tldC5pby1jbGllbnQ+ZW5naW5lLmlvLWNsaWVudD53cz5idWZmZXJ1dGlsXCI6ITEsXCJzb2NrZXQuaW8tY2xpZW50PmVuZ2luZS5pby1jbGllbnQ+d3M+dXRmLTgtdmFsaWRhdGVcIjohMSxidWZmZXJ1dGlsOiExLFwidXRmLTgtdmFsaWRhdGVcIjohMX19fTtjb25zdCBucj1cImh0dHBzOi8vbWV0YW1hc2stc2RrLmFwaS5jeC5tZXRhbWFzay5pby9cIixycj1bXCJ3ZWJzb2NrZXRcIl0saXI9NjA0OGU1LG9yPTNlMyxzcj17TUVUQU1BU0tfR0VUUFJPVklERVJTVEFURTpcIm1ldGFtYXNrX2dldFByb3ZpZGVyU3RhdGVcIixFVEhfUkVRVUVTVEFDQ09VTlRTOlwiZXRoX3JlcXVlc3RBY2NvdW50c1wifTtmdW5jdGlvbiBhcihlKXtjb25zdHtjb250ZXh0OnR9PWU7WW4uUmVtb3RlQ29tbXVuaWNhdGlvbihgW1JlbW90ZUNvbW11bmljYXRpb246IGNsZWFuKCldIGNvbnRleHQ9JHt0fWApLGUuY2hhbm5lbENvbmZpZz12b2lkIDAsZS5yZWFkeT0hMSxlLm9yaWdpbmF0b3JDb25uZWN0U3RhcnRlZD0hMX12YXIgY3IsZHIsbHIsdXI7ZXhwb3J0cy5Db25uZWN0aW9uU3RhdHVzPXZvaWQgMCxleHBvcnRzLkV2ZW50VHlwZT12b2lkIDAsZXhwb3J0cy5NZXNzYWdlVHlwZT12b2lkIDAsKHVyPWV4cG9ydHMuQ29ubmVjdGlvblN0YXR1c3x8KGV4cG9ydHMuQ29ubmVjdGlvblN0YXR1cz17fSkpLkRJU0NPTk5FQ1RFRD1cImRpc2Nvbm5lY3RlZFwiLHVyLldBSVRJTkc9XCJ3YWl0aW5nXCIsdXIuVElNRU9VVD1cInRpbWVvdXRcIix1ci5MSU5LRUQ9XCJsaW5rZWRcIix1ci5QQVVTRUQ9XCJwYXVzZWRcIix1ci5URVJNSU5BVEVEPVwidGVybWluYXRlZFwiLGZ1bmN0aW9uKGUpe2UuS0VZX0lORk89XCJrZXlfaW5mb1wiLGUuU0VSVklDRV9TVEFUVVM9XCJzZXJ2aWNlX3N0YXR1c1wiLGUuUFJPVklERVJfVVBEQVRFPVwicHJvdmlkZXJfdXBkYXRlXCIsZS5SUENfVVBEQVRFPVwicnBjX3VwZGF0ZVwiLGUuS0VZU19FWENIQU5HRUQ9XCJrZXlzX2V4Y2hhbmdlZFwiLGUuSk9JTl9DSEFOTkVMPVwiam9pbl9jaGFubmVsXCIsZS5QVUJMSUNfS0VZPVwicHVibGljX2tleVwiLGUuQ0hBTk5FTF9DUkVBVEVEPVwiY2hhbm5lbF9jcmVhdGVkXCIsZS5DTElFTlRTX0NPTk5FQ1RFRD1cImNsaWVudHNfY29ubmVjdGVkXCIsZS5DTElFTlRTX0RJU0NPTk5FQ1RFRD1cImNsaWVudHNfZGlzY29ubmVjdGVkXCIsZS5DTElFTlRTX1dBSVRJTkc9XCJjbGllbnRzX3dhaXRpbmdcIixlLkNMSUVOVFNfUkVBRFk9XCJjbGllbnRzX3JlYWR5XCIsZS5SRUpFQ1RFRD1cInJlamVjdGVkXCIsZS5XQUxMRVRfSU5JVD1cIndhbGxldF9pbml0XCIsZS5DSEFOTkVMX1BFUlNJU1RFTkNFPVwiY2hhbm5lbF9wZXJzaXN0ZW5jZVwiLGUuQ09ORklHPVwiY29uZmlnXCIsZS5NRVNTQUdFX0FDSz1cImFja1wiLGUuU09DS0VUX0RJU0NPTk5FQ1RFRD1cInNvY2tldF9kaXNjb25uZWN0ZWRcIixlLlNPQ0tFVF9SRUNPTk5FQ1Q9XCJzb2NrZXRfcmVjb25uZWN0XCIsZS5PVFA9XCJvdHBcIixlLlNES19SUENfQ0FMTD1cInNka19ycGNfY2FsbFwiLGUuQVVUSE9SSVpFRD1cImF1dGhvcml6ZWRcIixlLkNPTk5FQ1RJT05fU1RBVFVTPVwiY29ubmVjdGlvbl9zdGF0dXNcIixlLk1FU1NBR0U9XCJtZXNzYWdlXCIsZS5URVJNSU5BVEU9XCJ0ZXJtaW5hdGVcIn0oZXhwb3J0cy5FdmVudFR5cGV8fChleHBvcnRzLkV2ZW50VHlwZT17fSkpLChjcnx8KGNyPXt9KSkuS0VZX0VYQ0hBTkdFPVwia2V5X2V4Y2hhbmdlXCIsZnVuY3Rpb24oZSl7ZS5LRVlfSEFORFNIQUtFX1NUQVJUPVwia2V5X2hhbmRzaGFrZV9zdGFydFwiLGUuS0VZX0hBTkRTSEFLRV9DSEVDSz1cImtleV9oYW5kc2hha2VfY2hlY2tcIixlLktFWV9IQU5EU0hBS0VfU1lOPVwia2V5X2hhbmRzaGFrZV9TWU5cIixlLktFWV9IQU5EU0hBS0VfU1lOQUNLPVwia2V5X2hhbmRzaGFrZV9TWU5BQ0tcIixlLktFWV9IQU5EU0hBS0VfQUNLPVwia2V5X2hhbmRzaGFrZV9BQ0tcIixlLktFWV9IQU5EU0hBS0VfV0FMTEVUPVwia2V5X2hhbmRzaGFrZV93YWxsZXRcIixlLktFWV9IQU5EU0hBS0VfTk9ORT1cIm5vbmVcIn0oZHJ8fChkcj17fSkpO2NsYXNzIGhyIGV4dGVuZHMgaS5FdmVudEVtaXR0ZXIye2NvbnN0cnVjdG9yKHtjb21tdW5pY2F0aW9uTGF5ZXI6ZSxvdGhlclB1YmxpY0tleTp0LGNvbnRleHQ6bixlY2llczpyLGxvZ2dpbmc6aX0pe3N1cGVyKCksdGhpcy5rZXlzRXhjaGFuZ2VkPSExLHRoaXMuc3RlcD1kci5LRVlfSEFORFNIQUtFX05PTkUsdGhpcy5kZWJ1Zz0hMSx0aGlzLmNvbnRleHQ9bix0aGlzLmNvbW11bmljYXRpb25MYXllcj1lLChudWxsPT1yP3ZvaWQgMDpyLnByaXZhdGVLZXkpJiZ0JiYoWW4uS2V5RXhjaGFuZ2UoYFtLZXlFeGNoYW5nZTogY29uc3RydWN0b3IoKV0gb3RoZXJQdWJLZXk9JHt0fSBzZXQga2V5c0V4Y2hhbmdlZCB0byB0cnVlIWAsciksdGhpcy5rZXlzRXhjaGFuZ2VkPSEwKSx0aGlzLm15RUNJRVM9bmV3IGVyKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyKSx7ZGVidWc6bnVsbD09aT92b2lkIDA6aS5lY2llc0xheWVyfSkpLHRoaXMuY29tbXVuaWNhdGlvbkxheWVyLnN0YXRlLmVjaWVzSW5zdGFuY2U9dGhpcy5teUVDSUVTLHRoaXMubXlQdWJsaWNLZXk9dGhpcy5teUVDSUVTLmdldFB1YmxpY0tleSgpLHRoaXMuZGVidWc9ITA9PT0obnVsbD09aT92b2lkIDA6aS5rZXlFeGNoYW5nZUxheWVyKSx0JiZ0aGlzLnNldE90aGVyUHVibGljS2V5KHQpLHRoaXMuY29tbXVuaWNhdGlvbkxheWVyLm9uKGNyLktFWV9FWENIQU5HRSx0aGlzLm9uS2V5RXhjaGFuZ2VNZXNzYWdlLmJpbmQodGhpcykpfW9uS2V5RXhjaGFuZ2VNZXNzYWdlKGUpe2NvbnN0e3JlbGF5UGVyc2lzdGVuY2U6dH09dGhpcy5jb21tdW5pY2F0aW9uTGF5ZXIucmVtb3RlLnN0YXRlO2lmKFluLktleUV4Y2hhbmdlKGBbS2V5RXhjaGFuZ2U6IG9uS2V5RXhjaGFuZ2VNZXNzYWdlKCldIGNvbnRleHQ9JHt0aGlzLmNvbnRleHR9IGtleXNFeGNoYW5nZWQ9JHt0aGlzLmtleXNFeGNoYW5nZWR9IHJlbGF5UGVyc2lzdGVuY2U9JHt0fWAsZSksdClyZXR1cm4gdm9pZCBZbi5LZXlFeGNoYW5nZShcIltLZXlFeGNoYW5nZTogb25LZXlFeGNoYW5nZU1lc3NhZ2UoKV0gSWdub3Jpbmcga2V5IGV4Y2hhbmdlIG1lc3NhZ2UgYmVjYXVzZSByZWxheSBwZXJzaXN0ZW5jZSBpcyBhY3RpdmF0ZWRcIik7Y29uc3R7bWVzc2FnZTpufT1lO3RoaXMua2V5c0V4Y2hhbmdlZCYmWW4uS2V5RXhjaGFuZ2UoYFtLZXlFeGNoYW5nZTogb25LZXlFeGNoYW5nZU1lc3NhZ2UoKV0gY29udGV4dD0ke3RoaXMuY29udGV4dH0gcmVjZWl2ZWQgaGFuZHNoYWtlIHdoaWxlIGFscmVhZHkgZXhjaGFuZ2VkLiBzdGVwPSR7dGhpcy5zdGVwfSBvdGhlclB1YktleT0ke3RoaXMub3RoZXJQdWJsaWNLZXl9YCksdGhpcy5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLktFWV9JTkZPLG4udHlwZSksbi50eXBlPT09ZHIuS0VZX0hBTkRTSEFLRV9TWU4/KHRoaXMuY2hlY2tTdGVwKFtkci5LRVlfSEFORFNIQUtFX05PTkUsZHIuS0VZX0hBTkRTSEFLRV9BQ0tdKSxZbi5LZXlFeGNoYW5nZShcIltLZXlFeGNoYW5nZTogb25LZXlFeGNoYW5nZU1lc3NhZ2UoKV0gS0VZX0hBTkRTSEFLRV9TWU5cIixuKSxuLnB1YmtleSYmdGhpcy5zZXRPdGhlclB1YmxpY0tleShuLnB1YmtleSksdGhpcy5jb21tdW5pY2F0aW9uTGF5ZXIuc2VuZE1lc3NhZ2Uoe3R5cGU6ZHIuS0VZX0hBTkRTSEFLRV9TWU5BQ0sscHVia2V5OnRoaXMubXlQdWJsaWNLZXl9KS5jYXRjaCgoZT0+e1luLktleUV4Y2hhbmdlKFwiW0tleUV4Y2hhbmdlOiBvbktleUV4Y2hhbmdlTWVzc2FnZSgpXSBFcnJvciBzZW5kaW5nIEtFWV9IQU5EU0hBS0VfU1lOQUNLXCIsZSl9KSksdGhpcy5zZXRTdGVwKGRyLktFWV9IQU5EU0hBS0VfQUNLKSk6bi50eXBlPT09ZHIuS0VZX0hBTkRTSEFLRV9TWU5BQ0s/KHRoaXMuY2hlY2tTdGVwKFtkci5LRVlfSEFORFNIQUtFX1NZTkFDSyxkci5LRVlfSEFORFNIQUtFX0FDSyxkci5LRVlfSEFORFNIQUtFX05PTkVdKSxZbi5LZXlFeGNoYW5nZShcIltLZXlFeGNoYW5nZTogb25LZXlFeGNoYW5nZU1lc3NhZ2UoKV0gS0VZX0hBTkRTSEFLRV9TWU5BQ0tcIiksbi5wdWJrZXkmJnRoaXMuc2V0T3RoZXJQdWJsaWNLZXkobi5wdWJrZXkpLHRoaXMuY29tbXVuaWNhdGlvbkxheWVyLnNlbmRNZXNzYWdlKHt0eXBlOmRyLktFWV9IQU5EU0hBS0VfQUNLfSkuY2F0Y2goKGU9PntZbi5LZXlFeGNoYW5nZShcIltLZXlFeGNoYW5nZTogb25LZXlFeGNoYW5nZU1lc3NhZ2UoKV0gRXJyb3Igc2VuZGluZyBLRVlfSEFORFNIQUtFX0FDS1wiLGUpfSkpLHRoaXMua2V5c0V4Y2hhbmdlZD0hMCx0aGlzLnNldFN0ZXAoZHIuS0VZX0hBTkRTSEFLRV9BQ0spLHRoaXMuZW1pdChleHBvcnRzLkV2ZW50VHlwZS5LRVlTX0VYQ0hBTkdFRCkpOm4udHlwZT09PWRyLktFWV9IQU5EU0hBS0VfQUNLJiYoWW4uS2V5RXhjaGFuZ2UoXCJbS2V5RXhjaGFuZ2U6IG9uS2V5RXhjaGFuZ2VNZXNzYWdlKCldIEtFWV9IQU5EU0hBS0VfQUNLIHNldCBrZXlzRXhjaGFuZ2VkIHRvIHRydWUhXCIpLHRoaXMuY2hlY2tTdGVwKFtkci5LRVlfSEFORFNIQUtFX0FDSyxkci5LRVlfSEFORFNIQUtFX05PTkVdKSx0aGlzLmtleXNFeGNoYW5nZWQ9ITAsdGhpcy5zZXRTdGVwKGRyLktFWV9IQU5EU0hBS0VfQUNLKSx0aGlzLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuS0VZU19FWENIQU5HRUQpKX1yZXNldEtleXMoZSl7dGhpcy5jbGVhbigpLHRoaXMubXlFQ0lFUz1uZXcgZXIoZSl9Y2xlYW4oKXtZbi5LZXlFeGNoYW5nZShgW0tleUV4Y2hhbmdlOiBjbGVhbigpXSBjb250ZXh0PSR7dGhpcy5jb250ZXh0fSByZXNldCBoYW5kc2hha2Ugc3RhdGVgKSx0aGlzLnNldFN0ZXAoZHIuS0VZX0hBTkRTSEFLRV9OT05FKSx0aGlzLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuS0VZX0lORk8sdGhpcy5zdGVwKSx0aGlzLmtleXNFeGNoYW5nZWQ9ITF9c3RhcnQoe2lzT3JpZ2luYXRvcjplLGZvcmNlOnR9KXtjb25zdHtyZWxheVBlcnNpc3RlbmNlOm4scHJvdG9jb2xWZXJzaW9uOnJ9PXRoaXMuY29tbXVuaWNhdGlvbkxheWVyLnJlbW90ZS5zdGF0ZSxpPXI+PTI7bj9Zbi5LZXlFeGNoYW5nZShcIltLZXlFeGNoYW5nZTogc3RhcnQoKV0gSWdub3Jpbmcga2V5IGV4Y2hhbmdlIG1lc3NhZ2UgYmVjYXVzZSByZWxheSBwZXJzaXN0ZW5jZSBpcyBhY3RpdmF0ZWRcIik6KFluLktleUV4Y2hhbmdlKGBbS2V5RXhjaGFuZ2U6IHN0YXJ0KCldIGNvbnRleHQ9JHt0aGlzLmNvbnRleHR9IHByb3RvY29sVmVyc2lvbj0ke3J9IGlzT3JpZ2luYXRvcj0ke2V9IHN0ZXA9JHt0aGlzLnN0ZXB9IGZvcmNlPSR7dH0gcmVsYXlQZXJzaXN0ZW5jZT0ke259IGtleXNFeGNoYW5nZWQ9JHt0aGlzLmtleXNFeGNoYW5nZWR9YCksZT8hKHRoaXMua2V5c0V4Y2hhbmdlZHx8dGhpcy5zdGVwIT09ZHIuS0VZX0hBTkRTSEFLRV9OT05FJiZ0aGlzLnN0ZXAhPT1kci5LRVlfSEFORFNIQUtFX1NZTkFDSyl8fHQ/KFluLktleUV4Y2hhbmdlKGBbS2V5RXhjaGFuZ2U6IHN0YXJ0KCldIGNvbnRleHQ9JHt0aGlzLmNvbnRleHR9IC0tIHN0YXJ0IGtleSBleGNoYW5nZSAoZm9yY2U9JHt0fSkgLS0gc3RlcD0ke3RoaXMuc3RlcH1gLHRoaXMuc3RlcCksdGhpcy5jbGVhbigpLHRoaXMuc2V0U3RlcChkci5LRVlfSEFORFNIQUtFX1NZTkFDSyksdGhpcy5jb21tdW5pY2F0aW9uTGF5ZXIuc2VuZE1lc3NhZ2Uoe3R5cGU6ZHIuS0VZX0hBTkRTSEFLRV9TWU4scHVia2V5OnRoaXMubXlQdWJsaWNLZXksdjoyfSkuY2F0Y2goKGU9PntZbi5LZXlFeGNoYW5nZShcIltLZXlFeGNoYW5nZTogc3RhcnQoKV0gRXJyb3Igc2VuZGluZyBLRVlfSEFORFNIQUtFX1NZTlwiLGUpfSkpKTpZbi5LZXlFeGNoYW5nZShgW0tleUV4Y2hhbmdlOiBzdGFydCgpXSBjb250ZXh0PSR7dGhpcy5jb250ZXh0fSAtLSBrZXkgZXhjaGFuZ2UgYWxyZWFkeSAke3RoaXMua2V5c0V4Y2hhbmdlZD9cImRvbmVcIjpcImluIHByb2dyZXNzXCJ9IC0tIGFib3J0ZWQuYCx0aGlzLnN0ZXApOnRoaXMua2V5c0V4Y2hhbmdlZCYmITAhPT10P1luLktleUV4Y2hhbmdlKFwiW0tleUV4Y2hhbmdlOiBzdGFydCgpXSBkb24ndCBzZW5kIEtFWV9IQU5EU0hBS0VfU1RBUlQgLS0gZXhjaGFuZ2UgYWxyZWFkeSBkb25lLlwiKTppP3RoaXMuY29tbXVuaWNhdGlvbkxheWVyLnNlbmRNZXNzYWdlKHt0eXBlOmRyLktFWV9IQU5EU0hBS0VfU1lOQUNLLHB1YmtleTp0aGlzLm15UHVibGljS2V5LHY6Mn0pLmNhdGNoKChlPT57WW4uS2V5RXhjaGFuZ2UoXCJbS2V5RXhjaGFuZ2U6IHN0YXJ0KCldIEVycm9yIHNlbmRpbmcgS0VZX0hBTkRTSEFLRV9TWU5BQ0tcIixlKX0pKToodGhpcy5jb21tdW5pY2F0aW9uTGF5ZXIuc2VuZE1lc3NhZ2Uoe3R5cGU6ZHIuS0VZX0hBTkRTSEFLRV9TVEFSVH0pLmNhdGNoKChlPT57WW4uS2V5RXhjaGFuZ2UoXCJbS2V5RXhjaGFuZ2U6IHN0YXJ0KCldIEVycm9yIHNlbmRpbmcgS0VZX0hBTkRTSEFLRV9TVEFSVFwiLGUpfSkpLHRoaXMuY2xlYW4oKSkpfXNldFN0ZXAoZSl7dGhpcy5zdGVwPWUsdGhpcy5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLktFWV9JTkZPLGUpfWNoZWNrU3RlcChlKXtlLmxlbmd0aD4wJiZlLmluZGV4T2YodGhpcy5zdGVwLnRvU3RyaW5nKCkpfXNldFJlbGF5UGVyc2lzdGVuY2Uoe2xvY2FsS2V5OmUsb3RoZXJLZXk6dH0pe3RoaXMub3RoZXJQdWJsaWNLZXk9dCx0aGlzLm15RUNJRVM9bmV3IGVyKHtwcml2YXRlS2V5OmUsZGVidWc6dGhpcy5kZWJ1Z30pLHRoaXMua2V5c0V4Y2hhbmdlZD0hMH1zZXRLZXlzRXhjaGFuZ2VkKGUpe3RoaXMua2V5c0V4Y2hhbmdlZD1lfWFyZUtleXNFeGNoYW5nZWQoKXtyZXR1cm4gdGhpcy5rZXlzRXhjaGFuZ2VkfWdldE15UHVibGljS2V5KCl7cmV0dXJuIHRoaXMubXlQdWJsaWNLZXl9Z2V0T3RoZXJQdWJsaWNLZXkoKXtyZXR1cm4gdGhpcy5vdGhlclB1YmxpY0tleX1zZXRPdGhlclB1YmxpY0tleShlKXtZbi5LZXlFeGNoYW5nZShcIltLZXlFeGNoYW5nZTogc2V0T3RoZXJQdWJLZXkoKV1cIixlKSx0aGlzLm90aGVyUHVibGljS2V5PWV9ZW5jcnlwdE1lc3NhZ2UoZSl7aWYoIXRoaXMub3RoZXJQdWJsaWNLZXkpdGhyb3cgbmV3IEVycm9yKFwiZW5jcnlwdE1lc3NhZ2U6IEtleXMgbm90IGV4Y2hhbmdlZCAtIG1pc3Npbmcgb3RoZXJQdWJLZXlcIik7cmV0dXJuIHRoaXMubXlFQ0lFUy5lbmNyeXB0KGUsdGhpcy5vdGhlclB1YmxpY0tleSl9ZGVjcnlwdE1lc3NhZ2UoZSl7aWYoIXRoaXMub3RoZXJQdWJsaWNLZXkpdGhyb3cgbmV3IEVycm9yKFwiZGVjcnlwdE1lc3NhZ2U6IEtleXMgbm90IGV4Y2hhbmdlZCAtIG1pc3Npbmcgb3RoZXJQdWJLZXlcIik7cmV0dXJuIHRoaXMubXlFQ0lFUy5kZWNyeXB0KGUpfWdldEtleUluZm8oKXtyZXR1cm57ZWNpZXM6T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHRoaXMubXlFQ0lFUy5nZXRLZXlJbmZvKCkpLHtvdGhlclB1YktleTp0aGlzLm90aGVyUHVibGljS2V5fSksc3RlcDp0aGlzLnN0ZXAsa2V5c0V4Y2hhbmdlZDp0aGlzLmFyZUtleXNFeGNoYW5nZWQoKX19dG9TdHJpbmcoKXtjb25zdCBlPXtrZXlJbmZvOnRoaXMuZ2V0S2V5SW5mbygpLGtleXNFeGNoYW5nZWQ6dGhpcy5rZXlzRXhjaGFuZ2VkLHN0ZXA6dGhpcy5zdGVwfTtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoZSl9fSFmdW5jdGlvbihlKXtlLlRFUk1JTkFURT1cInRlcm1pbmF0ZVwiLGUuQU5TV0VSPVwiYW5zd2VyXCIsZS5PRkZFUj1cIm9mZmVyXCIsZS5DQU5ESURBVEU9XCJjYW5kaWRhdGVcIixlLkpTT05SUEM9XCJqc29ucnBjXCIsZS5XQUxMRVRfSU5GTz1cIndhbGxldF9pbmZvXCIsZS5XQUxMRVRfSU5JVD1cIndhbGxldF9pbml0XCIsZS5PUklHSU5BVE9SX0lORk89XCJvcmlnaW5hdG9yX2luZm9cIixlLlBBVVNFPVwicGF1c2VcIixlLk9UUD1cIm90cFwiLGUuQVVUSE9SSVpFRD1cImF1dGhvcml6ZWRcIixlLlBJTkc9XCJwaW5nXCIsZS5SRUFEWT1cInJlYWR5XCJ9KGV4cG9ydHMuTWVzc2FnZVR5cGV8fChleHBvcnRzLk1lc3NhZ2VUeXBlPXt9KSksZnVuY3Rpb24oZSl7ZS5SRVFVRVNUPVwic2RrX2Nvbm5lY3RfcmVxdWVzdF9zdGFydGVkXCIsZS5SRVFVRVNUX01PQklMRT1cInNka19jb25uZWN0X3JlcXVlc3Rfc3RhcnRlZF9tb2JpbGVcIixlLlJFQ09OTkVDVD1cInNka19yZWNvbm5lY3RfcmVxdWVzdF9zdGFydGVkXCIsZS5DT05ORUNURUQ9XCJzZGtfY29ubmVjdGlvbl9lc3RhYmxpc2hlZFwiLGUuQ09OTkVDVEVEX01PQklMRT1cInNka19jb25uZWN0aW9uX2VzdGFibGlzaGVkX21vYmlsZVwiLGUuQVVUSE9SSVpFRD1cInNka19jb25uZWN0aW9uX2F1dGhvcml6ZWRcIixlLlJFSkVDVEVEPVwic2RrX2Nvbm5lY3Rpb25fcmVqZWN0ZWRcIixlLlRFUk1JTkFURUQ9XCJzZGtfY29ubmVjdGlvbl90ZXJtaW5hdGVkXCIsZS5ESVNDT05ORUNURUQ9XCJzZGtfZGlzY29ubmVjdGVkXCIsZS5TREtfVVNFX0VYVEVOU0lPTj1cInNka191c2VfZXh0ZW5zaW9uXCIsZS5TREtfUlBDX1JFUVVFU1Q9XCJzZGtfcnBjX3JlcXVlc3RcIixlLlNES19SUENfUkVRVUVTVF9SRUNFSVZFRD1cInNka19ycGNfcmVxdWVzdF9yZWNlaXZlZFwiLGUuU0RLX1JQQ19SRVFVRVNUX0RPTkU9XCJzZGtfcnBjX3JlcXVlc3RfZG9uZVwiLGUuU0RLX0VYVEVOU0lPTl9VVElMSVpFRD1cInNka19leHRlbnNpb25fdXRpbGl6ZWRcIixlLlNES19VU0VfSU5BUFBfQlJPV1NFUj1cInNka191c2VfaW5hcHBfYnJvd3NlclwifShscnx8KGxyPXt9KSk7Y29uc3QgZnI9KGUsdCxuKT0+bCh2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7dmFyIHIsaSxvLHMsYSxjO2NvbnN0e3JlbW90ZTpkLHN0YXRlOmx9PWUse2NoYW5uZWxJZDp1LGlzT3JpZ2luYXRvcjpofT1sO2lmKFwiZXJyb3JfdGVybWluYXRlZFwiPT09dClyZXR1cm4gWW4uU29ja2V0U2VydmljZShgaGFuZGxlSm9pbkNoYW5uZWxSZXN1bHRzOiBDaGFubmVsICR7dX0gdGVybWluYXRlZGApLHZvaWQgZS5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLlRFUk1JTkFURSk7aWYoIW4pcmV0dXJuIHZvaWQgWW4uU29ja2V0U2VydmljZShgaGFuZGxlSm9pbkNoYW5uZWxSZXN1bHRzOiBObyByZXN1bHQgZm9yIGNoYW5uZWwgJHt1fWApO2NvbnN0e3BlcnNpc3RlbmNlOmYsd2FsbGV0S2V5OnAscmVqZWN0ZWQ6bX09bjtpZihZbi5Tb2NrZXRTZXJ2aWNlKGBoYW5kbGVKb2luQ2hhbm5lbFJlc3VsdHM6IENoYW5uZWwgJHt1fSBwZXJzaXN0ZW5jZT0ke2Z9IHdhbGxldEtleT0ke3B9IHJlamVjdGVkPSR7bX1gKSxtKXJldHVybiBZbi5Tb2NrZXRTZXJ2aWNlKGBoYW5kbGVKb2luQ2hhbm5lbFJlc3VsdHM6IENoYW5uZWwgJHt1fSByZWplY3RlZGApLHlpZWxkIGUucmVtb3RlLmRpc2Nvbm5lY3Qoe3Rlcm1pbmF0ZTohMH0pLGUucmVtb3RlLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuUkVKRUNURUQse2NoYW5uZWxJZDp1fSksdm9pZCBlLnJlbW90ZS5lbWl0U2VydmljZVN0YXR1c0V2ZW50KCk7aWYocCYmIShudWxsPT09KHI9ZC5zdGF0ZS5jaGFubmVsQ29uZmlnKXx8dm9pZCAwPT09cj92b2lkIDA6ci5vdGhlcktleSkpe2UuZ2V0S2V5RXhjaGFuZ2UoKS5zZXRPdGhlclB1YmxpY0tleShwKSxudWxsPT09KGk9ZS5zdGF0ZS5rZXlFeGNoYW5nZSl8fHZvaWQgMD09PWl8fGkuc2V0S2V5c0V4Y2hhbmdlZCghMCksZC5zdGF0ZS5yZWFkeT0hMCxkLnN0YXRlLmF1dGhvcml6ZWQ9ITAsZC5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLkFVVEhPUklaRUQpO2NvbnN0e2NvbW11bmljYXRpb25MYXllcjp0LHN0b3JhZ2VNYW5hZ2VyOm59PWQuc3RhdGUscj1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZC5zdGF0ZS5jaGFubmVsQ29uZmlnKSx7Y2hhbm5lbElkOm51bGwhPT0obz1kLnN0YXRlLmNoYW5uZWxJZCkmJnZvaWQgMCE9PW8/bzpcIlwiLHZhbGlkVW50aWw6RGF0ZS5ub3coKStpcixsb2NhbEtleTpudWxsPT10P3ZvaWQgMDp0LmdldEtleUluZm8oKS5lY2llcy5wcml2YXRlLG90aGVyS2V5OnB9KTtlLnNlbmRNZXNzYWdlKHt0eXBlOmRyLktFWV9IQU5EU0hBS0VfQUNLfSkuY2F0Y2goKGU9Pnt9KSksbnVsbD09PShzPWUuc3RhdGUuc29ja2V0KXx8dm9pZCAwPT09c3x8cy5lbWl0KGV4cG9ydHMuTWVzc2FnZVR5cGUuUElORyx7aWQ6dSxjbGllbnRUeXBlOmg/XCJkYXBwXCI6XCJ3YWxsZXRcIixjb250ZXh0Olwib25fY2hhbm5lbF9yZWNvbm5lY3RcIixtZXNzYWdlOlwiXCJ9KSx5aWVsZCBudWxsPT1uP3ZvaWQgMDpuLnBlcnNpc3RDaGFubmVsQ29uZmlnKHIpLGQuZW1pdFNlcnZpY2VTdGF0dXNFdmVudCgpLGQuc2V0Q29ubmVjdGlvblN0YXR1cyhleHBvcnRzLkNvbm5lY3Rpb25TdGF0dXMuTElOS0VEKX1mJiYoZS5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLkNIQU5ORUxfUEVSU0lTVEVOQ0UpLG51bGw9PT0oYT1lLnN0YXRlLmtleUV4Y2hhbmdlKXx8dm9pZCAwPT09YXx8YS5zZXRLZXlzRXhjaGFuZ2VkKCEwKSxkLnN0YXRlLnJlYWR5PSEwLGQuc3RhdGUuYXV0aG9yaXplZD0hMCxkLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuQVVUSE9SSVpFRCksWG4oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHtpZDpudWxsIT11P3U6XCJcIixldmVudDpoP2xyLkNPTk5FQ1RFRDpsci5DT05ORUNURURfTU9CSUxFfSxlLnJlbW90ZS5zdGF0ZS5vcmlnaW5hdG9ySW5mbykse3Nka1ZlcnNpb246ZS5yZW1vdGUuc3RhdGUuc2RrVmVyc2lvbixjb21tTGF5ZXI6ZS5zdGF0ZS5jb21tdW5pY2F0aW9uTGF5ZXJQcmVmZXJlbmNlLGNvbW1MYXllclZlcnNpb246dHIudmVyc2lvbix3YWxsZXRWZXJzaW9uOm51bGw9PT0oYz1lLnJlbW90ZS5zdGF0ZS53YWxsZXRJbmZvKXx8dm9pZCAwPT09Yz92b2lkIDA6Yy52ZXJzaW9ufSksbC5jb21tdW5pY2F0aW9uU2VydmVyVXJsKS5jYXRjaCgoZT0+e30pKSl9KSkscHI9ZT0+bmV3IFByb21pc2UoKHQ9PntzZXRUaW1lb3V0KHQsZSl9KSksbXI9KGUsdCwuLi5uKT0+bCh2b2lkIDAsW2UsdCwuLi5uXSx2b2lkIDAsKGZ1bmN0aW9uKihlLHQsbj0yMDApe2xldCByO2NvbnN0IGk9RGF0ZS5ub3coKTtsZXQgbz0hMTtmb3IoOyFvOyl7aWYobz1EYXRlLm5vdygpLWk+M2U1LHI9dFtlXSx2b2lkIDAhPT1yLmVsYXBzZWRUaW1lKXJldHVybiByO3lpZWxkIHByKG4pfXRocm93IG5ldyBFcnJvcihgUlBDICR7ZX0gdGltZWQgb3V0YCl9KSksZ3I9ZT0+bCh2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7Y29uc3R7c3RhdGU6dH09ZSx7c29ja2V0Om4sY2hhbm5lbElkOnIsY29udGV4dDppLGlzT3JpZ2luYXRvcjpvLGlzUmVjb25uZWN0aW5nOnN9PXQ7aWYocylyZXR1cm4gWW4uU29ja2V0U2VydmljZShcIltTb2NrZXRTZXJ2aWNlOiByZWNvbm5lY3RTb2NrZXQoKV0gUmVjb25uZWN0aW9uIGFscmVhZHkgaW4gcHJvZ3Jlc3MsIHNraXBwaW5nXCIsZSksITE7aWYoIW4pcmV0dXJuIFluLlNvY2tldFNlcnZpY2UoXCJbU29ja2V0U2VydmljZTogcmVjb25uZWN0U29ja2V0KCldIHNvY2tldCBpcyBub3QgZGVmaW5lZFwiLGUpLCExO2lmKCFyKXJldHVybiExO2NvbnN0e2Nvbm5lY3RlZDphfT1uO3QuaXNSZWNvbm5lY3Rpbmc9ITAsdC5yZWNvbm5lY3Rpb25BdHRlbXB0cz0wLFluLlNvY2tldFNlcnZpY2UoYFtTb2NrZXRTZXJ2aWNlOiByZWNvbm5lY3RTb2NrZXQoKV0gY29ubmVjdGVkPSR7YX0gdHJ5aW5nIHRvIHJlY29ubmVjdCBhZnRlciBzb2NrZXRpbyBkaXNjb25uZWN0aW9uYCxlKTt0cnl7Zm9yKDszPnQucmVjb25uZWN0aW9uQXR0ZW1wdHM7KXtpZihZbi5Tb2NrZXRTZXJ2aWNlKGBbU29ja2V0U2VydmljZTogcmVjb25uZWN0U29ja2V0KCldIEF0dGVtcHQgJHt0LnJlY29ubmVjdGlvbkF0dGVtcHRzKzF9IG9mIDNgLGUpLHlpZWxkIHByKDIwMCksbi5jb25uZWN0ZWQpcmV0dXJuIFluLlNvY2tldFNlcnZpY2UoXCJTb2NrZXQgYWxyZWFkeSBjb25uZWN0ZWQgLS0tIHBpbmcgdG8gcmV0cmlldmUgbWVzc2FnZXNcIiksbi5lbWl0KGV4cG9ydHMuTWVzc2FnZVR5cGUuUElORyx7aWQ6cixjbGllbnRUeXBlOm8/XCJkYXBwXCI6XCJ3YWxsZXRcIixjb250ZXh0Olwib25fY2hhbm5lbF9jb25maWdcIixtZXNzYWdlOlwiXCJ9KSwhMDt0LnJlc3VtZWQ9ITAsbi5jb25uZWN0KCksZS5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLlNPQ0tFVF9SRUNPTk5FQ1QpO3RyeXtpZih5aWVsZCBuZXcgUHJvbWlzZSgoKHQscyk9PntuLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuSk9JTl9DSEFOTkVMLHtjaGFubmVsSWQ6cixjb250ZXh0OmAke2l9Y29ubmVjdF9hZ2FpbmAsY2xpZW50VHlwZTpvP1wiZGFwcFwiOlwid2FsbGV0XCJ9LCgobixyKT0+bCh2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7dHJ5e3lpZWxkIGZyKGUsbixyKSx0KCl9Y2F0Y2goZSl7cyhlKX19KSkpKX0pKSx5aWVsZCBwcigxMDApLG4uY29ubmVjdGVkKXJldHVybiBZbi5Tb2NrZXRTZXJ2aWNlKGBSZWNvbm5lY3Rpb24gc3VjY2Vzc2Z1bCBvbiBhdHRlbXB0ICR7dC5yZWNvbm5lY3Rpb25BdHRlbXB0cysxfWApLCEwfWNhdGNoKGUpe1luLlNvY2tldFNlcnZpY2UoYEVycm9yIGR1cmluZyByZWNvbm5lY3Rpb24gYXR0ZW1wdCAke3QucmVjb25uZWN0aW9uQXR0ZW1wdHMrMX06YCxlKX10LnJlY29ubmVjdGlvbkF0dGVtcHRzKz0xLDM+dC5yZWNvbm5lY3Rpb25BdHRlbXB0cyYmKHlpZWxkIHByKDIwMCkpfXJldHVybiBZbi5Tb2NrZXRTZXJ2aWNlKFwiRmFpbGVkIHRvIHJlY29ubmVjdCBhZnRlciAzIGF0dGVtcHRzXCIpLCExfWZpbmFsbHl7dC5pc1JlY29ubmVjdGluZz0hMSx0LnJlY29ubmVjdGlvbkF0dGVtcHRzPTB9fSkpO2Z1bmN0aW9uIHZyKGUsdCl7cmV0dXJuIGwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXt2YXIgbjtjb25zdCByPW51bGw9PT0obj1lLnN0YXRlLmtleUV4Y2hhbmdlKXx8dm9pZCAwPT09bj92b2lkIDA6bi5lbmNyeXB0TWVzc2FnZShKU09OLnN0cmluZ2lmeSh0KSksaT17aWQ6ZS5zdGF0ZS5jaGFubmVsSWQsY29udGV4dDplLnN0YXRlLmNvbnRleHQsY2xpZW50VHlwZTplLnN0YXRlLmlzT3JpZ2luYXRvcj9cImRhcHBcIjpcIndhbGxldFwiLG1lc3NhZ2U6cixwbGFpbnRleHQ6ZS5zdGF0ZS5oYXNQbGFpbnRleHQ/SlNPTi5zdHJpbmdpZnkodCk6dm9pZCAwfTtyZXR1cm4gWW4uU29ja2V0U2VydmljZShgW1NvY2tldFNlcnZpY2U6IGVuY3J5cHRBbmRTZW5kTWVzc2FnZSgpXSBjb250ZXh0PSR7ZS5zdGF0ZS5jb250ZXh0fWAsaSksdC50eXBlPT09ZXhwb3J0cy5NZXNzYWdlVHlwZS5URVJNSU5BVEUmJihlLnN0YXRlLm1hbnVhbERpc2Nvbm5lY3Q9ITApLG5ldyBQcm9taXNlKCgodCxuKT0+e3ZhciByO251bGw9PT0ocj1lLnN0YXRlLnNvY2tldCl8fHZvaWQgMD09PXJ8fHIuZW1pdChleHBvcnRzLkV2ZW50VHlwZS5NRVNTQUdFLGksKChlLHIpPT57dmFyIGk7ZSYmKFluLlNvY2tldFNlcnZpY2UoYFtTb2NrZXRTZXJ2aWNlOiBlbmNyeXB0QW5kU2VuZE1lc3NhZ2UoKV0gZXJyb3I9JHtlfWApLG4oZSkpLFluLlNvY2tldFNlcnZpY2UoXCJbZW5jcnlwdEFuZFNlbmRNZXNzYWdlXSByZXNwb25zZVwiLHIpLHQobnVsbCE9PShpPW51bGw9PXI/dm9pZCAwOnIuc3VjY2VzcykmJnZvaWQgMCE9PWkmJmkpfSkpfSkpfSkpfXZhciB5cjshZnVuY3Rpb24oZSl7ZS5SUENfQ0hFQ0s9XCJycGNDaGVja1wiLGUuU0tJUFBFRF9SUEM9XCJza2lwcGVkUnBjXCJ9KHlyfHwoeXI9e30pKTtjb25zdCBFcj1bXCJldGhfc2VuZFRyYW5zYWN0aW9uXCIsXCJldGhfc2lnblR5cGVkRGF0YVwiLFwiZXRoX3NpZ25UcmFuc2FjdGlvblwiLFwicGVyc29uYWxfc2lnblwiLFwid2FsbGV0X3JlcXVlc3RQZXJtaXNzaW9uc1wiLFwid2FsbGV0X3N3aXRjaEV0aGVyZXVtQ2hhaW5cIixcImV0aF9zaWduVHlwZWREYXRhX3YzXCIsXCJldGhfc2lnblR5cGVkRGF0YV92NFwiLFwibWV0YW1hc2tfY29ubmVjdFNpZ25cIixcIm1ldGFtYXNrX2Nvbm5lY3RXaXRoXCIsXCJtZXRhbWFza19iYXRjaFwiXS5tYXAoKGU9PmUudG9Mb3dlckNhc2UoKSkpO2NvbnN0IGJyPVt7ZXZlbnQ6ZXhwb3J0cy5FdmVudFR5cGUuQ0xJRU5UU19DT05ORUNURUQsaGFuZGxlcjpmdW5jdGlvbihlLHQpe3JldHVybiBuPT5sKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7dmFyIG4scixpLG8scyxhLGMsZCxsLHUsaDtjb25zdCBmPW51bGwhPT0ocj1udWxsPT09KG49ZS5yZW1vdGUuc3RhdGUuY2hhbm5lbENvbmZpZyl8fHZvaWQgMD09PW4/dm9pZCAwOm4ucmVsYXlQZXJzaXN0ZW5jZSkmJnZvaWQgMCE9PXImJnI7aWYoWW4uU29ja2V0U2VydmljZShgW1NvY2tldFNlcnZpY2U6IGhhbmRsZUNsaWVudHNDb25uZWN0ZWQoKV0gY29udGV4dD0ke2Uuc3RhdGUuY29udGV4dH0gb24gJ2NsaWVudHNfY29ubmVjdGVkLSR7dH0nIHJlbGF5UGVyc2lzdGVuY2U9JHtmfSByZXN1bWVkPSR7ZS5zdGF0ZS5yZXN1bWVkfSAgY2xpZW50c1BhdXNlZD0ke2Uuc3RhdGUuY2xpZW50c1BhdXNlZH0ga2V5c0V4Y2hhbmdlZD0ke251bGw9PT0oaT1lLnN0YXRlLmtleUV4Y2hhbmdlKXx8dm9pZCAwPT09aT92b2lkIDA6aS5hcmVLZXlzRXhjaGFuZ2VkKCl9IGlzT3JpZ2luYXRvcj0ke2Uuc3RhdGUuaXNPcmlnaW5hdG9yfWApLGUuZW1pdChleHBvcnRzLkV2ZW50VHlwZS5DTElFTlRTX0NPTk5FQ1RFRCx7aXNPcmlnaW5hdG9yOmUuc3RhdGUuaXNPcmlnaW5hdG9yLGtleXNFeGNoYW5nZWQ6bnVsbD09PShvPWUuc3RhdGUua2V5RXhjaGFuZ2UpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmFyZUtleXNFeGNoYW5nZWQoKSxjb250ZXh0OmUuc3RhdGUuY29udGV4dH0pLGUuc3RhdGUucmVzdW1lZCllLnN0YXRlLmlzT3JpZ2luYXRvcnx8KFluLlNvY2tldFNlcnZpY2UoYFtTb2NrZXRTZXJ2aWNlOiBoYW5kbGVDbGllbnRzQ29ubmVjdGVkKCldIGNvbnRleHQ9JHtlLnN0YXRlLmNvbnRleHR9ICdjbGllbnRzX2Nvbm5lY3RlZCcgLyBrZXlzRXhjaGFuZ2VkPSR7bnVsbD09PShzPWUuc3RhdGUua2V5RXhjaGFuZ2UpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLmFyZUtleXNFeGNoYW5nZWQoKX0gLS0gYmFja3dhcmQgY29tcGF0aWJpbGl0eWApLG51bGw9PT0oYT1lLnN0YXRlLmtleUV4Y2hhbmdlKXx8dm9pZCAwPT09YXx8YS5zdGFydCh7aXNPcmlnaW5hdG9yOm51bGwhPT0oYz1lLnN0YXRlLmlzT3JpZ2luYXRvcikmJnZvaWQgMCE9PWMmJmN9KSksZS5zdGF0ZS5yZXN1bWVkPSExO2Vsc2UgaWYoZS5zdGF0ZS5jbGllbnRzUGF1c2VkKVluLlNvY2tldFNlcnZpY2UoXCJbU29ja2V0U2VydmljZTogaGFuZGxlQ2xpZW50c0Nvbm5lY3RlZCgpXSAnY2xpZW50c19jb25uZWN0ZWQnIHNraXAgc2VuZGluZyBvcmlnaW5hdG9ySW5mbyBvbiBwYXVzZVwiKTtlbHNlIGlmKCFlLnN0YXRlLmlzT3JpZ2luYXRvcil7Y29uc3QgdD0hZjtZbi5Tb2NrZXRTZXJ2aWNlKGBbU29ja2V0U2VydmljZTogaGFuZGxlQ2xpZW50c0Nvbm5lY3RlZCgpXSBjb250ZXh0PSR7ZS5zdGF0ZS5jb250ZXh0fSBvbiAnY2xpZW50c19jb25uZWN0ZWQnIC8ga2V5c0V4Y2hhbmdlZD0ke251bGw9PT0oZD1lLnN0YXRlLmtleUV4Y2hhbmdlKXx8dm9pZCAwPT09ZD92b2lkIDA6ZC5hcmVLZXlzRXhjaGFuZ2VkKCl9IC0tIGZvcmNlPSR7dH0gLS0gYmFja3dhcmQgY29tcGF0aWJpbGl0eWApLFluLlNvY2tldFNlcnZpY2UoYFtTb2NrZXRTZXJ2aWNlOiBoYW5kbGVDbGllbnRzQ29ubmVjdGVkKCldIGNvbnRleHQ9JHtlLnN0YXRlLmNvbnRleHR9IG9uICdjbGllbnRzX2Nvbm5lY3RlZCcgLyBrZXlzRXhjaGFuZ2VkPSR7bnVsbD09PShsPWUuc3RhdGUua2V5RXhjaGFuZ2UpfHx2b2lkIDA9PT1sP3ZvaWQgMDpsLmFyZUtleXNFeGNoYW5nZWQoKX0gLS0gZm9yY2U9JHt0fSAtLSBiYWNrd2FyZCBjb21wYXRpYmlsaXR5YCksbnVsbD09PSh1PWUuc3RhdGUua2V5RXhjaGFuZ2UpfHx2b2lkIDA9PT11fHx1LnN0YXJ0KHtpc09yaWdpbmF0b3I6bnVsbCE9PShoPWUuc3RhdGUuaXNPcmlnaW5hdG9yKSYmdm9pZCAwIT09aCYmaCxmb3JjZTp0fSl9ZS5zdGF0ZS5jbGllbnRzQ29ubmVjdGVkPSEwLGUuc3RhdGUuY2xpZW50c1BhdXNlZD0hMX0pKX19LHtldmVudDpleHBvcnRzLkV2ZW50VHlwZS5DSEFOTkVMX0NSRUFURUQsaGFuZGxlcjpmdW5jdGlvbihlLHQpe3JldHVybiBuPT57WW4uU29ja2V0U2VydmljZShgW1NvY2tldFNlcnZpY2U6IGhhbmRsZUNoYW5uZWxDcmVhdGVkKCldIGNvbnRleHQ9JHtlLnN0YXRlLmNvbnRleHR9IG9uICdjaGFubmVsX2NyZWF0ZWQtJHt0fSdgLG4pLGUuZW1pdChleHBvcnRzLkV2ZW50VHlwZS5DSEFOTkVMX0NSRUFURUQsbil9fX0se2V2ZW50OmV4cG9ydHMuRXZlbnRUeXBlLkNMSUVOVFNfRElTQ09OTkVDVEVELGhhbmRsZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4oKT0+e3ZhciBuO2Uuc3RhdGUuY2xpZW50c0Nvbm5lY3RlZD0hMSxZbi5Tb2NrZXRTZXJ2aWNlKGBbU29ja2V0U2VydmljZTogaGFuZGxlc0NsaWVudHNEaXNjb25uZWN0ZWQoKV0gY29udGV4dD0ke2Uuc3RhdGUuY29udGV4dH0gb24gJ2NsaWVudHNfZGlzY29ubmVjdGVkLSR7dH0nYCksZS5yZW1vdGUuc3RhdGUucmVsYXlQZXJzaXN0ZW5jZT9Zbi5Tb2NrZXRTZXJ2aWNlKGBbU29ja2V0U2VydmljZTogaGFuZGxlc0NsaWVudHNEaXNjb25uZWN0ZWQoKV0gY29udGV4dD0ke2Uuc3RhdGUuY29udGV4dH0gb24gJ2NsaWVudHNfZGlzY29ubmVjdGVkLSR7dH0nIC0gcmVsYXlQZXJzaXN0ZW5jZSBlbmFibGVkLCBza2lwcGluZyBrZXkgZXhjaGFuZ2UgY2xlYW51cC5gKTooZS5zdGF0ZS5pc09yaWdpbmF0b3ImJiFlLnN0YXRlLmNsaWVudHNQYXVzZWQmJihudWxsPT09KG49ZS5zdGF0ZS5rZXlFeGNoYW5nZSl8fHZvaWQgMD09PW58fG4uY2xlYW4oKSksZS5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLkNMSUVOVFNfRElTQ09OTkVDVEVELHQpKX19fSx7ZXZlbnQ6ZXhwb3J0cy5FdmVudFR5cGUuQ09ORklHLGhhbmRsZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbj0+bCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3ZhciByLGksbztZbi5Tb2NrZXRTZXJ2aWNlKGBbU29ja2V0U2VydmljZTogaGFuZGxlQ2hhbm5lbENvbmZpZygpXSB1cGRhdGUgcmVsYXlQZXJzaXN0ZW5jZSBvbiAnY29uZmlnLSR7dH0nYCxuKTtjb25zdHtwZXJzaXN0ZW5jZTpzLHdhbGxldEtleTphfT1uO2Uuc3RhdGUuaXNPcmlnaW5hdG9yJiZlLnJlbW90ZS5zdGF0ZS5jaGFubmVsQ29uZmlnPyhuLndhbGxldEtleSYmIWUucmVtb3RlLnN0YXRlLmNoYW5uZWxDb25maWcub3RoZXJLZXkmJihZbi5Tb2NrZXRTZXJ2aWNlKGBTZXR0aW5nIHdhbGxldCBrZXkgJHthfWApLGUucmVtb3RlLnN0YXRlLmNoYW5uZWxDb25maWcub3RoZXJLZXk9YSxlLmdldEtleUV4Y2hhbmdlKCkuc2V0T3RoZXJQdWJsaWNLZXkobi53YWxsZXRLZXkpLG51bGw9PT0ocj1lLnN0YXRlLmtleUV4Y2hhbmdlKXx8dm9pZCAwPT09cnx8ci5zZXRLZXlzRXhjaGFuZ2VkKCEwKSx5aWVsZCBlLnJlbW90ZS5zZW5kTWVzc2FnZSh7dHlwZTpkci5LRVlfSEFORFNIQUtFX0FDS30pLHlpZWxkIGUucmVtb3RlLnNlbmRNZXNzYWdlKHt0eXBlOmV4cG9ydHMuTWVzc2FnZVR5cGUuUElOR30pLHlpZWxkIG51bGw9PT0oaT1lLnJlbW90ZS5zdGF0ZS5zdG9yYWdlTWFuYWdlcil8fHZvaWQgMD09PWk/dm9pZCAwOmkucGVyc2lzdENoYW5uZWxDb25maWcoZS5yZW1vdGUuc3RhdGUuY2hhbm5lbENvbmZpZykpLCEwIT09c3x8ZS5yZW1vdGUuc3RhdGUuY2hhbm5lbENvbmZpZy5yZWxheVBlcnNpc3RlbmNlfHwoWW4uU29ja2V0U2VydmljZShgU2V0dGluZyByZWxheSBwZXJzaXN0ZW5jZSAke3N9YCksZS5yZW1vdGUuc3RhdGUuY2hhbm5lbENvbmZpZy5yZWxheVBlcnNpc3RlbmNlPXMsZS5yZW1vdGUuc3RhdGUucmVsYXlQZXJzaXN0ZW5jZT0hMCxlLnJlbW90ZS5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLkNIQU5ORUxfUEVSU0lTVEVOQ0UpLGUucmVtb3RlLnN0YXRlLmF1dGhvcml6ZWQ9ITAsZS5yZW1vdGUuc3RhdGUucmVhZHk9ITAsZS5yZW1vdGUuZW1pdChleHBvcnRzLkV2ZW50VHlwZS5BVVRIT1JJWkVEKSx5aWVsZCBudWxsPT09KG89ZS5yZW1vdGUuc3RhdGUuc3RvcmFnZU1hbmFnZXIpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLnBlcnNpc3RDaGFubmVsQ29uZmlnKGUucmVtb3RlLnN0YXRlLmNoYW5uZWxDb25maWcpKSk6ZS5zdGF0ZS5pc09yaWdpbmF0b3J8fG4ucGVyc2lzdGVuY2UmJihlLnJlbW90ZS5zdGF0ZS5yZWxheVBlcnNpc3RlbmNlPSEwLGUucmVtb3RlLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuQ0hBTk5FTF9QRVJTSVNURU5DRSkpfSkpfX0se2V2ZW50OmV4cG9ydHMuRXZlbnRUeXBlLk1FU1NBR0UsaGFuZGxlcjpmdW5jdGlvbihlLHQpe3JldHVybiBuPT57dmFyIHIsaSxvLHMsYSxjLGQsbCx1LGgsZixwLG0sZyx2LHksRSxiO2NvbnN0e2Fja0lkOncsbWVzc2FnZTpTLGVycm9yOl99PW4sQz1udWxsIT09KHI9ZS5yZW1vdGUuc3RhdGUucmVsYXlQZXJzaXN0ZW5jZSkmJnZvaWQgMCE9PXImJnI7aWYoWW4uU29ja2V0U2VydmljZShgW1NvY2tldFNlcnZpY2UgaGFuZGxlTWVzc2FnZSgpXSAgcmVsYXlQZXJzaXN0ZW5jZT0ke0N9ICBjb250ZXh0PSR7ZS5zdGF0ZS5jb250ZXh0fSBvbiAnbWVzc2FnZScgJHt0fSBrZXlzRXhjaGFuZ2VkPSR7bnVsbD09PShpPWUuc3RhdGUua2V5RXhjaGFuZ2UpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmFyZUtleXNFeGNoYW5nZWQoKX1gLG4pLF8pdGhyb3cgWW4uU29ja2V0U2VydmljZShgXFxuICAgICAgW1NvY2tldFNlcnZpY2UgaGFuZGxlTWVzc2FnZSgpXSBjb250ZXh0PSR7ZS5zdGF0ZS5jb250ZXh0fTo6b24gJ21lc3NhZ2UnIGVycm9yPSR7X31gKSxuZXcgRXJyb3IoXyk7Y29uc3QgeD1cInN0cmluZ1wiPT10eXBlb2YgUztpZigheCYmKG51bGw9PVM/dm9pZCAwOlMudHlwZSk9PT1kci5LRVlfSEFORFNIQUtFX1NUQVJUKXtpZihDKXJldHVybjtyZXR1cm4gWW4uU29ja2V0U2VydmljZShgW1NvY2tldFNlcnZpY2UgaGFuZGxlTWVzc2FnZSgpXSBjb250ZXh0PSR7ZS5zdGF0ZS5jb250ZXh0fTo6b24gJ21lc3NhZ2UnIHJlY2VpdmVkIEhBTkRTSEFLRV9TVEFSVCBpc09yaWdpbmF0b3I9JHtlLnN0YXRlLmlzT3JpZ2luYXRvcn1gLFMpLHZvaWQobnVsbD09PShvPWUuc3RhdGUua2V5RXhjaGFuZ2UpfHx2b2lkIDA9PT1vfHxvLnN0YXJ0KHtpc09yaWdpbmF0b3I6bnVsbCE9PShzPWUuc3RhdGUuaXNPcmlnaW5hdG9yKSYmdm9pZCAwIT09cyYmcyxmb3JjZTohMH0pKX1pZigheCYmKG51bGw9PT0oYT1udWxsPT1TP3ZvaWQgMDpTLnR5cGUpfHx2b2lkIDA9PT1hP3ZvaWQgMDphLnN0YXJ0c1dpdGgoXCJrZXlfaGFuZHNoYWtlXCIpKSl7aWYoQylyZXR1cm47cmV0dXJuIFluLlNvY2tldFNlcnZpY2UoYFtTb2NrZXRTZXJ2aWNlIGhhbmRsZU1lc3NhZ2UoKV0gY29udGV4dD0ke2Uuc3RhdGUuY29udGV4dH06Om9uICdtZXNzYWdlJyBlbWl0IEtFWV9FWENIQU5HRWAsUyksdm9pZCBlLmVtaXQoY3IuS0VZX0VYQ0hBTkdFLHttZXNzYWdlOlMsY29udGV4dDplLnN0YXRlLmNvbnRleHR9KX1pZih4JiYhKG51bGw9PT0oYz1lLnN0YXRlLmtleUV4Y2hhbmdlKXx8dm9pZCAwPT09Yz92b2lkIDA6Yy5hcmVLZXlzRXhjaGFuZ2VkKCkpKXtsZXQgdD0hMTt0cnl7WW4uU29ja2V0U2VydmljZShgW1NvY2tldFNlcnZpY2UgaGFuZGxlTWVzc2FnZSgpXSBjb250ZXh0PSR7ZS5zdGF0ZS5jb250ZXh0fTo6b24gJ21lc3NhZ2UnIHRyeWluZyB0byBkZWNyeXB0IG1lc3NhZ2VgKSxudWxsPT09KGQ9ZS5zdGF0ZS5rZXlFeGNoYW5nZSl8fHZvaWQgMD09PWR8fGQuZGVjcnlwdE1lc3NhZ2UoUyksdD0hMH1jYXRjaCh0KXtZbi5Tb2NrZXRTZXJ2aWNlKGBbU29ja2V0U2VydmljZSBoYW5kbGVNZXNzYWdlKCldIGNvbnRleHQ9JHtlLnN0YXRlLmNvbnRleHR9OjpvbiAnbWVzc2FnZScgZXJyb3JgLHQpfWlmKCF0KXJldHVybiBlLnN0YXRlLmlzT3JpZ2luYXRvcj9udWxsPT09KHU9ZS5zdGF0ZS5rZXlFeGNoYW5nZSl8fHZvaWQgMD09PXV8fHUuc3RhcnQoe2lzT3JpZ2luYXRvcjpudWxsIT09KGg9ZS5zdGF0ZS5pc09yaWdpbmF0b3IpJiZ2b2lkIDAhPT1oJiZofSk6ZS5zZW5kTWVzc2FnZSh7dHlwZTpkci5LRVlfSEFORFNIQUtFX1NUQVJUfSkuY2F0Y2goKGU9Pnt9KSksdm9pZCBZbi5Tb2NrZXRTZXJ2aWNlKGBNZXNzYWdlIGlnbm9yZWQgYmVjYXVzZSBpbnZhbGlkIGtleSBleGNoYW5nZSBzdGF0dXMuIHN0ZXA9JHtudWxsPT09KGY9ZS5zdGF0ZS5rZXlFeGNoYW5nZSl8fHZvaWQgMD09PWY/dm9pZCAwOmYuZ2V0S2V5SW5mbygpLnN0ZXB9YCxudWxsPT09KHA9ZS5zdGF0ZS5rZXlFeGNoYW5nZSl8fHZvaWQgMD09PXA/dm9pZCAwOnAuZ2V0S2V5SW5mbygpLFMpO1luLlNvY2tldFNlcnZpY2UoXCJJbnZhbGlkIGtleSBleGNoYW5nZSBzdGF0dXMgZGV0ZWN0ZWQgLS0tIHVwZGF0aW5nIGl0LlwiKSxudWxsPT09KGw9ZS5zdGF0ZS5rZXlFeGNoYW5nZSl8fHZvaWQgMD09PWx8fGwuc2V0S2V5c0V4Y2hhbmdlZCghMCl9ZWxzZSBpZigheCYmKG51bGw9PVM/dm9pZCAwOlMudHlwZSkpcmV0dXJuIHZvaWQgZS5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLk1FU1NBR0UsUyk7aWYoIXgpcmV0dXJuIHZvaWQgZS5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLk1FU1NBR0UsUyk7Y29uc3Qgaz1udWxsPT09KG09ZS5zdGF0ZS5rZXlFeGNoYW5nZSl8fHZvaWQgMD09PW0/dm9pZCAwOm0uZGVjcnlwdE1lc3NhZ2UoUyksTT1KU09OLnBhcnNlKG51bGwhPWs/azpcInt9XCIpO2lmKHcmJihudWxsPT13P3ZvaWQgMDp3Lmxlbmd0aCk+MCYmKFluLlNvY2tldFNlcnZpY2UoYFtTb2NrZXRTZXJ2aWNlIGhhbmRsZU1lc3NhZ2UoKV0gY29udGV4dD0ke2Uuc3RhdGUuY29udGV4dH06Om9uICdtZXNzYWdlJyBhY2tpZD0ke3d9IGNoYW5uZWxJZD0ke3R9YCksbnVsbD09PShnPWUuc3RhdGUuc29ja2V0KXx8dm9pZCAwPT09Z3x8Zy5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLk1FU1NBR0VfQUNLLHthY2tJZDp3LGNoYW5uZWxJZDp0LGNsaWVudFR5cGU6ZS5zdGF0ZS5pc09yaWdpbmF0b3I/XCJkYXBwXCI6XCJ3YWxsZXRcIn0pKSxlLnN0YXRlLmNsaWVudHNQYXVzZWQ9KG51bGw9PU0/dm9pZCAwOk0udHlwZSk9PT1leHBvcnRzLk1lc3NhZ2VUeXBlLlBBVVNFLGUuc3RhdGUuaXNPcmlnaW5hdG9yJiZNLmRhdGEpe2NvbnN0IHQ9TS5kYXRhLG49ZS5zdGF0ZS5ycGNNZXRob2RUcmFja2VyW3QuaWRdO2lmKG4pe2NvbnN0IHI9RGF0ZS5ub3coKS1uLnRpbWVzdGFtcDtZbi5Tb2NrZXRTZXJ2aWNlKGBbU29ja2V0U2VydmljZSBoYW5kbGVNZXNzYWdlKCldIGNvbnRleHQ9JHtlLnN0YXRlLmNvbnRleHR9OjpvbiAnbWVzc2FnZScgcmVjZWl2ZWQgYW5zd2VyIGZvciBpZD0ke3QuaWR9IG1ldGhvZD0ke24ubWV0aG9kfSByZXNwb25zZVRpbWU9JHtyfWAsTSksZS5yZW1vdGUuc3RhdGUuYW5hbHl0aWNzJiZFci5pbmNsdWRlcyhuLm1ldGhvZC50b0xvd2VyQ2FzZSgpKSYmWG4oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHtpZDpudWxsIT09KHY9ZS5yZW1vdGUuc3RhdGUuY2hhbm5lbElkKSYmdm9pZCAwIT09dj92OlwiXCIsZXZlbnQ6bHIuU0RLX1JQQ19SRVFVRVNUX0RPTkUsc2RrVmVyc2lvbjplLnJlbW90ZS5zdGF0ZS5zZGtWZXJzaW9uLGNvbW1MYXllclZlcnNpb246dHIudmVyc2lvbn0sZS5yZW1vdGUuc3RhdGUub3JpZ2luYXRvckluZm8pLHt3YWxsZXRWZXJzaW9uOm51bGw9PT0oeT1lLnJlbW90ZS5zdGF0ZS53YWxsZXRJbmZvKXx8dm9pZCAwPT09eT92b2lkIDA6eS52ZXJzaW9uLHBhcmFtczp7bWV0aG9kOm4ubWV0aG9kLGZyb206XCJtb2JpbGVcIn19KSxlLnJlbW90ZS5zdGF0ZS5jb21tdW5pY2F0aW9uU2VydmVyVXJsKS5jYXRjaCgoZT0+e30pKTtjb25zdCBpPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxuKSx7cmVzdWx0OnQucmVzdWx0LGVycm9yOnQuZXJyb3I/e2NvZGU6bnVsbD09PShFPXQuZXJyb3IpfHx2b2lkIDA9PT1FP3ZvaWQgMDpFLmNvZGUsbWVzc2FnZTpudWxsPT09KGI9dC5lcnJvcil8fHZvaWQgMD09PWI/dm9pZCAwOmIubWVzc2FnZX06dm9pZCAwLGVsYXBzZWRUaW1lOnJ9KTtlLnN0YXRlLnJwY01ldGhvZFRyYWNrZXJbdC5pZF09aSxlLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuUlBDX1VQREFURSxpKX19ZS5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLk1FU1NBR0Use21lc3NhZ2U6TX0pfX19LHtldmVudDpleHBvcnRzLkV2ZW50VHlwZS5SRUpFQ1RFRCxoYW5kbGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG49PmwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXt2YXIgbjtlLnN0YXRlLmlzT3JpZ2luYXRvciYmIWUucmVtb3RlLnN0YXRlLnJlYWR5PyhZbi5Tb2NrZXRTZXJ2aWNlKGBbU29ja2V0U2VydmljZTogaGFuZGxlQ2hhbm5lbFJlamVjdGVkKCldIGNvbnRleHQ9JHtlLnN0YXRlLmNvbnRleHR9IGNoYW5uZWxJZD0ke3R9IGlzT3JpZ2luYXRvcj0ke2Uuc3RhdGUuaXNPcmlnaW5hdG9yfSByZWFkeT0ke2UucmVtb3RlLnN0YXRlLnJlYWR5fWAsZS5yZW1vdGUuc3RhdGUub3JpZ2luYXRvckluZm8pLFhuKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7aWQ6dCxldmVudDpsci5SRUpFQ1RFRH0sZS5yZW1vdGUuc3RhdGUub3JpZ2luYXRvckluZm8pLHtzZGtWZXJzaW9uOmUucmVtb3RlLnN0YXRlLnNka1ZlcnNpb24sY29tbUxheWVyOmUuc3RhdGUuY29tbXVuaWNhdGlvbkxheWVyUHJlZmVyZW5jZSxjb21tTGF5ZXJWZXJzaW9uOnRyLnZlcnNpb24sd2FsbGV0VmVyc2lvbjpudWxsPT09KG49ZS5yZW1vdGUuc3RhdGUud2FsbGV0SW5mbyl8fHZvaWQgMD09PW4/dm9pZCAwOm4udmVyc2lvbn0pLGUucmVtb3RlLnN0YXRlLmNvbW11bmljYXRpb25TZXJ2ZXJVcmwpLmNhdGNoKChlPT57fSkpLHlpZWxkIGUucmVtb3RlLmRpc2Nvbm5lY3Qoe3Rlcm1pbmF0ZTohMH0pLGUucmVtb3RlLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuUkVKRUNURUQse2NoYW5uZWxJZDp0fSksZS5yZW1vdGUuc2V0Q29ubmVjdGlvblN0YXR1cyhleHBvcnRzLkNvbm5lY3Rpb25TdGF0dXMuRElTQ09OTkVDVEVEKSk6WW4uU29ja2V0U2VydmljZShgW1NvY2tldFNlcnZpY2U6IGhhbmRsZUNoYW5uZWxSZWplY3RlZCgpXSBTS0lQIC0tIGNoYW5uZWxJZD0ke3R9IGlzT3JpZ2luYXRvcj0ke2Uuc3RhdGUuaXNPcmlnaW5hdG9yfSByZWFkeT0ke2UucmVtb3RlLnN0YXRlLnJlYWR5fWApfSkpfX0se2V2ZW50OlwiY2xpZW50c193YWl0aW5nX3RvX2pvaW5cIixoYW5kbGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG49PntZbi5Tb2NrZXRTZXJ2aWNlKGBbU29ja2V0U2VydmljZTogaGFuZGxlQ2xpZW50c1dhaXRpbmdUb0pvaW4oKV0gY29udGV4dD0ke2Uuc3RhdGUuY29udGV4dH0gb24gJ2NsaWVudHNfd2FpdGluZ190b19qb2luLSR7dH0nYCxuKSxlLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuQ0xJRU5UU19XQUlUSU5HLG4pfX19XSx3cj1be2V2ZW50OmV4cG9ydHMuRXZlbnRUeXBlLktFWV9JTkZPLGhhbmRsZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHQ9PntZbi5Tb2NrZXRTZXJ2aWNlKFwiW1NvY2tldFNlcnZpY2U6IGhhbmRsZUtleUluZm8oKV0gb24gJ0tFWV9JTkZPJ1wiLHQpLGUuZW1pdChleHBvcnRzLkV2ZW50VHlwZS5LRVlfSU5GTyx0KX19fSx7ZXZlbnQ6ZXhwb3J0cy5FdmVudFR5cGUuS0VZU19FWENIQU5HRUQsaGFuZGxlcjpmdW5jdGlvbihlKXtyZXR1cm4oKT0+e3ZhciB0LG4scjtZbi5Tb2NrZXRTZXJ2aWNlKGBbU29ja2V0U2VydmljZTogaGFuZGxlS2V5c0V4Y2hhbmdlZCgpXSBvbiAna2V5c19leGNoYW5nZWQnIGtleXNjaGFuZ2VkPSR7bnVsbD09PSh0PWUuc3RhdGUua2V5RXhjaGFuZ2UpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmFyZUtleXNFeGNoYW5nZWQoKX1gKTtjb25zdHtjaGFubmVsQ29uZmlnOml9PWUucmVtb3RlLnN0YXRlO2lmKGkpe2NvbnN0IHQ9ZS5nZXRLZXlFeGNoYW5nZSgpLmdldEtleUluZm8oKS5lY2llcztpLmxvY2FsS2V5PXQucHJpdmF0ZSxpLm90aGVyS2V5PXQub3RoZXJQdWJLZXksZS5yZW1vdGUuc3RhdGUuY2hhbm5lbENvbmZpZz1pLG51bGw9PT0obj1lLnJlbW90ZS5zdGF0ZS5zdG9yYWdlTWFuYWdlcil8fHZvaWQgMD09PW58fG4ucGVyc2lzdENoYW5uZWxDb25maWcoaSkuY2F0Y2goKGU9Pnt9KSl9ZS5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLktFWVNfRVhDSEFOR0VELHtrZXlzRXhjaGFuZ2VkOm51bGw9PT0ocj1lLnN0YXRlLmtleUV4Y2hhbmdlKXx8dm9pZCAwPT09cj92b2lkIDA6ci5hcmVLZXlzRXhjaGFuZ2VkKCksaXNPcmlnaW5hdG9yOmUuc3RhdGUuaXNPcmlnaW5hdG9yfSk7Y29uc3Qgbz17a2V5SW5mbzplLmdldEtleUluZm8oKX07ZS5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLlNFUlZJQ0VfU1RBVFVTLG8pfX19XTtmdW5jdGlvbiBTcihlLHQpe1luLlNvY2tldFNlcnZpY2UoYFtTb2NrZXRTZXJ2aWNlOiBzZXR1cENoYW5uZWxMaXN0ZW5lcigpXSBjb250ZXh0PSR7ZS5zdGF0ZS5jb250ZXh0fSBzZXR0aW5nIHNvY2tldCBsaXN0ZW5lcnMgZm9yIGNoYW5uZWwgJHt0fS4uLmApO2NvbnN0e3NvY2tldDpufT1lLnN0YXRlLHtrZXlFeGNoYW5nZTpyfT1lLnN0YXRlO24mJmUuc3RhdGUuaXNPcmlnaW5hdG9yJiYoZS5zdGF0ZS5kZWJ1ZyYmKG51bGw9PW58fG4uaW8ub24oXCJlcnJvclwiLCh0PT57WW4uU29ja2V0U2VydmljZShgW1NvY2tldFNlcnZpY2U6IHNldHVwQ2hhbm5lbExpc3RlbmVyKCldIGNvbnRleHQ9JHtlLnN0YXRlLmNvbnRleHR9IHNvY2tldCBldmVudD1lcnJvcmAsdCl9KSksbnVsbD09bnx8bi5pby5vbihcInJlY29ubmVjdFwiLCh0PT57WW4uU29ja2V0U2VydmljZShgW1NvY2tldFNlcnZpY2U6IHNldHVwQ2hhbm5lbExpc3RlbmVyKCldIGNvbnRleHQ9JHtlLnN0YXRlLmNvbnRleHR9IHNvY2tldCBldmVudD1yZWNvbm5lY3RgLHQpLGdyKGUpLmNhdGNoKChlPT57fSkpfSkpLG51bGw9PW58fG4uaW8ub24oXCJyZWNvbm5lY3RfZXJyb3JcIiwodD0+e1luLlNvY2tldFNlcnZpY2UoYFtTb2NrZXRTZXJ2aWNlOiBzZXR1cENoYW5uZWxMaXN0ZW5lcigpXSBjb250ZXh0PSR7ZS5zdGF0ZS5jb250ZXh0fSBzb2NrZXQgZXZlbnQ9cmVjb25uZWN0X2Vycm9yYCx0KX0pKSxudWxsPT1ufHxuLmlvLm9uKFwicmVjb25uZWN0X2ZhaWxlZFwiLCgoKT0+e1luLlNvY2tldFNlcnZpY2UoYFtTb2NrZXRTZXJ2aWNlOiBzZXR1cENoYW5uZWxMaXN0ZW5lcigpXSBjb250ZXh0PSR7ZS5zdGF0ZS5jb250ZXh0fSBzb2NrZXQgZXZlbnQ9cmVjb25uZWN0X2ZhaWxlZGApfSkpKSxudWxsPT1ufHxuLm9uKFwiZGlzY29ubmVjdFwiLCh0PT4oWW4uU29ja2V0U2VydmljZShgW1NvY2tldFNlcnZpY2U6IHNldHVwQ2hhbm5lbExpc3RlbmVyKCldIG9uICdkaXNjb25uZWN0JyAtLSBNZXRhTWFza1NESyBzb2NrZXQgZGlzY29ubmVjdGVkICcke3R9JyBiZWdpbiByZWNvdmVyeS4uLmApLGZ1bmN0aW9uKGUpe3JldHVybiB0PT57WW4uU29ja2V0U2VydmljZShgW1NvY2tldFNlcnZpY2U6IGhhbmRsZURpc2Nvbm5lY3QoKV0gb24gJ2Rpc2Nvbm5lY3QnIG1hbnVhbERpc2Nvbm5lY3Q9JHtlLnN0YXRlLm1hbnVhbERpc2Nvbm5lY3R9YCx0KSxlLnN0YXRlLm1hbnVhbERpc2Nvbm5lY3R8fChlLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuU09DS0VUX0RJU0NPTk5FQ1RFRCksZ3IoZSkuY2F0Y2goKGU9Pnt9KSkpfX0oZSkodCkpKSkpLGJyLmZvckVhY2goKCh7ZXZlbnQ6cixoYW5kbGVyOml9KT0+e251bGw9PW58fG4ub24oYCR7cn0tJHt0fWAsaShlLHQpKX0pKSx3ci5mb3JFYWNoKCgoe2V2ZW50OnQsaGFuZGxlcjpufSk9PntudWxsPT1yfHxyLm9uKHQsbihlKSl9KSksZS5zdGF0ZS5zZXR1cENoYW5uZWxMaXN0ZW5lcnM9ITB9Y2xhc3MgX3IgZXh0ZW5kcyBpLkV2ZW50RW1pdHRlcjJ7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLnN0YXRlPXtjbGllbnRzQ29ubmVjdGVkOiExLGNsaWVudHNQYXVzZWQ6ITEsbWFudWFsRGlzY29ubmVjdDohMSxsYXN0UnBjSWQ6dm9pZCAwLHJwY01ldGhvZFRyYWNrZXI6e30saGFzUGxhaW50ZXh0OiExLGNvbW11bmljYXRpb25TZXJ2ZXJVcmw6XCJcIixmb2N1c0xpc3RlbmVyQWRkZWQ6ITEscmVtb3ZlRm9jdXNMaXN0ZW5lcjp2b2lkIDAsaXNSZWNvbm5lY3Rpbmc6ITEscmVjb25uZWN0aW9uQXR0ZW1wdHM6MH0sdGhpcy5vcHRpb25zPWU7Y29uc3R7cmVjb25uZWN0Om4sY29tbXVuaWNhdGlvbkxheWVyUHJlZmVyZW5jZTpyLGNvbW11bmljYXRpb25TZXJ2ZXJVcmw6aSxjb250ZXh0Om8scmVtb3RlOnMsbG9nZ2luZzphfT1lO3RoaXMuc3RhdGUucmVzdW1lZD1uLHRoaXMuc3RhdGUuY29udGV4dD1vLHRoaXMuc3RhdGUuaXNPcmlnaW5hdG9yPXMuc3RhdGUuaXNPcmlnaW5hdG9yLHRoaXMuc3RhdGUuY29tbXVuaWNhdGlvbkxheWVyUHJlZmVyZW5jZT1yLHRoaXMuc3RhdGUuZGVidWc9ITA9PT0obnVsbD09YT92b2lkIDA6YS5zZXJ2aWNlTGF5ZXIpLHRoaXMucmVtb3RlPXMsITA9PT0obnVsbD09YT92b2lkIDA6YS5zZXJ2aWNlTGF5ZXIpJiZ0LmVuYWJsZShcIlNvY2tldFNlcnZpY2U6TGF5ZXJcIiksdGhpcy5zdGF0ZS5jb21tdW5pY2F0aW9uU2VydmVyVXJsPWksdGhpcy5zdGF0ZS5oYXNQbGFpbnRleHQ9dGhpcy5zdGF0ZS5jb21tdW5pY2F0aW9uU2VydmVyVXJsIT09bnImJiEwPT09KG51bGw9PWE/dm9pZCAwOmEucGxhaW50ZXh0KSxZbi5Tb2NrZXRTZXJ2aWNlKGBbU29ja2V0U2VydmljZTogY29uc3RydWN0b3IoKV0gU29ja2V0IElPIHVybDogJHt0aGlzLnN0YXRlLmNvbW11bmljYXRpb25TZXJ2ZXJVcmx9YCksdGhpcy5pbml0U29ja2V0KCl9aW5pdFNvY2tldCgpe3ZhciBlO2NvbnN0e290aGVyUHVibGljS2V5OnQsZWNpZXM6bixsb2dnaW5nOnJ9PXRoaXMub3B0aW9ucyxpPXthdXRvQ29ubmVjdDohMSx0cmFuc3BvcnRzOnJyLHdpdGhDcmVkZW50aWFsczohMH0sbz10aGlzLnN0YXRlLmNvbW11bmljYXRpb25TZXJ2ZXJVcmw7WW4uU29ja2V0U2VydmljZShgW1NvY2tldFNlcnZpY2U6IGluaXRTb2NrZXQoKV0gU29ja2V0IElPIHVybDogJHtvfWApLHRoaXMuc3RhdGUuc29ja2V0PXMuaW8obyxpKSxmdW5jdGlvbihlKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQmJihZbi5Tb2NrZXRTZXJ2aWNlKGBbU29ja2V0U2VydmljZTogc2V0dXBTb2NrZXRGb2N1c0xpc3RlbmVyKCldIGhhc0ZvY3VzPSR7ZG9jdW1lbnQuaGFzRm9jdXMoKX1gLGUpLCFlLnN0YXRlLmZvY3VzTGlzdGVuZXJBZGRlZCkpe2NvbnN0IHQ9KCk9PntZbi5Tb2NrZXRTZXJ2aWNlKFwiRG9jdW1lbnQgaGFzIGZvY3VzIC0tLSByZWNvbm5lY3Rpbmcgc29ja2V0XCIpLGdyKGUpLmNhdGNoKChlPT57fSkpfTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsdCksZS5zdGF0ZS5mb2N1c0xpc3RlbmVyQWRkZWQ9ITAsZS5zdGF0ZS5yZW1vdmVGb2N1c0xpc3RlbmVyPSgpPT57d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLHQpLGUuc3RhdGUuZm9jdXNMaXN0ZW5lckFkZGVkPSExfX19KHRoaXMpO2NvbnN0IGE9e2NvbW11bmljYXRpb25MYXllcjp0aGlzLG90aGVyUHVibGljS2V5OnQsc2VuZFB1YmxpY0tleTohMSxjb250ZXh0Om51bGwhPT0oZT10aGlzLnN0YXRlLmNvbnRleHQpJiZ2b2lkIDAhPT1lP2U6XCJcIixlY2llczpuLGxvZ2dpbmc6cn07dGhpcy5zdGF0ZS5rZXlFeGNoYW5nZT1uZXcgaHIoYSl9cmVzZXRLZXlzKCl7cmV0dXJuIFluLlNvY2tldFNlcnZpY2UoXCJbU29ja2V0U2VydmljZTogcmVzZXRLZXlzKCldIFJlc2V0dGluZyBrZXlzLlwiKSx2b2lkKG51bGw9PT0oZT10aGlzLnN0YXRlLmtleUV4Y2hhbmdlKXx8dm9pZCAwPT09ZXx8ZS5yZXNldEtleXMoKSk7dmFyIGV9Y3JlYXRlQ2hhbm5lbCgpe3JldHVybiBsKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBsKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7dmFyIHQsbixyO2lmKFluLlNvY2tldFNlcnZpY2UoYFtTb2NrZXRTZXJ2aWNlOiBjcmVhdGVDaGFubmVsKCldIGNvbnRleHQ9JHtlLnN0YXRlLmNvbnRleHR9YCksZS5zdGF0ZS5zb2NrZXR8fGUuaW5pdFNvY2tldCgpLG51bGw9PT0odD1lLnN0YXRlLnNvY2tldCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuY29ubmVjdGVkKXRocm93IG5ldyBFcnJvcihcInNvY2tldCBhbHJlYWR5IGNvbm5lY3RlZFwiKTtudWxsPT09KG49ZS5zdGF0ZS5zb2NrZXQpfHx2b2lkIDA9PT1ufHxuLmNvbm5lY3QoKSxlLnN0YXRlLm1hbnVhbERpc2Nvbm5lY3Q9ITEsZS5zdGF0ZS5pc09yaWdpbmF0b3I9ITA7Y29uc3QgaT1vLnY0KCk7ZS5zdGF0ZS5jaGFubmVsSWQ9aSxTcihlLGkpLHlpZWxkIG5ldyBQcm9taXNlKCgodCxuKT0+e3ZhciByO251bGw9PT0ocj1lLnN0YXRlLnNvY2tldCl8fHZvaWQgMD09PXJ8fHIuZW1pdChleHBvcnRzLkV2ZW50VHlwZS5KT0lOX0NIQU5ORUwse2NoYW5uZWxJZDppLGNvbnRleHQ6YCR7ZS5zdGF0ZS5jb250ZXh0fWNyZWF0ZUNoYW5uZWxgLGNsaWVudFR5cGU6XCJkYXBwXCJ9LCgocixpKT0+bCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3RyeXt5aWVsZCBmcihlLHIsaSksdCgpfWNhdGNoKGUpe24oZSl9fSkpKSl9KSk7Y29uc3Qgcz1udWxsPT09KHI9ZS5zdGF0ZS5rZXlFeGNoYW5nZSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuZ2V0S2V5SW5mbygpO3JldHVybntjaGFubmVsSWQ6aSxwdWJLZXk6KG51bGw9PXM/dm9pZCAwOnMuZWNpZXMucHVibGljKXx8XCJcIixwcml2S2V5OihudWxsPT1zP3ZvaWQgMDpzLmVjaWVzLnByaXZhdGUpfHxcIlwifX0pKX0odGhpcyl9KSl9Y29ubmVjdFRvQ2hhbm5lbCh7Y2hhbm5lbElkOmUsd2l0aEtleUV4Y2hhbmdlOnQ9ITEsYXV0aG9yaXplZDpufSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBsKHRoaXMsYXJndW1lbnRzLHZvaWQgMCwoZnVuY3Rpb24qKHtvcHRpb25zOmUsaW5zdGFuY2U6dH0pe2NvbnN0e2NoYW5uZWxJZDpuLGF1dGhvcml6ZWQ6cix3aXRoS2V5RXhjaGFuZ2U6aX09ZSx7c3RhdGU6byxyZW1vdGU6c309dCx7aXNPcmlnaW5hdG9yOmE9ITEsc29ja2V0OmMsa2V5RXhjaGFuZ2U6ZH09byx7Y2hhbm5lbENvbmZpZzp1fT1zLnN0YXRlO2lmKG51bGw9PWM/dm9pZCAwOmMuY29ubmVjdGVkKXRocm93IG5ldyBFcnJvcihcInNvY2tldCBhbHJlYWR5IGNvbm5lY3RlZFwiKTtpZihhJiYobnVsbD09dT92b2lkIDA6dS5yZWxheVBlcnNpc3RlbmNlKSl7Y29uc3R7bG9jYWxLZXk6ZSxvdGhlcktleTp0fT11O2UmJnQmJihudWxsPT1kfHxkLnNldFJlbGF5UGVyc2lzdGVuY2Uoe2xvY2FsS2V5OmUsb3RoZXJLZXk6dH0pKX1yZXR1cm4gT2JqZWN0LmFzc2lnbihvLHttYW51YWxEaXNjb25uZWN0OiExLHdpdGhLZXlFeGNoYW5nZTppLGlzT3JpZ2luYXRvcjphLGNoYW5uZWxJZDpufSksbnVsbD09Y3x8Yy5jb25uZWN0KCksU3IodCxuKSwhYSYmciYmKG51bGw9PWR8fGQuc2V0S2V5c0V4Y2hhbmdlZCghMCksT2JqZWN0LmFzc2lnbihzLnN0YXRlLHtyZWFkeTohMCxhdXRob3JpemVkOiEwfSkpLG5ldyBQcm9taXNlKChlPT57dmFyIGk7Y29uc3Qgcz1udWxsPT09KGk9bnVsbD09ZD92b2lkIDA6ZC5nZXRLZXlJbmZvKCkpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmVjaWVzLnB1YmxpYztudWxsPT1jfHxjLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuSk9JTl9DSEFOTkVMLHtjaGFubmVsSWQ6bixjb250ZXh0OmAke28uY29udGV4dH1fY29ubmVjdFRvQ2hhbm5lbGAsY2xpZW50VHlwZTphP1wiZGFwcFwiOlwid2FsbGV0XCIscHVibGljS2V5OnImJiFhP3M6dm9pZCAwfSwoKG4scik9PmwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXt5aWVsZCBmcih0LG4sciksZSgpfSkpKSl9KSl9KSl9KHtvcHRpb25zOntjaGFubmVsSWQ6ZSx3aXRoS2V5RXhjaGFuZ2U6dCxhdXRob3JpemVkOm59LGluc3RhbmNlOnRoaXN9KX1nZXRLZXlJbmZvKCl7cmV0dXJuIHRoaXMuc3RhdGUua2V5RXhjaGFuZ2UuZ2V0S2V5SW5mbygpfWtleUNoZWNrKCl7dmFyIGUsdDtudWxsPT09KHQ9KGU9dGhpcykuc3RhdGUuc29ja2V0KXx8dm9pZCAwPT09dHx8dC5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLk1FU1NBR0Use2lkOmUuc3RhdGUuY2hhbm5lbElkLGNvbnRleHQ6ZS5zdGF0ZS5jb250ZXh0LG1lc3NhZ2U6e3R5cGU6ZHIuS0VZX0hBTkRTSEFLRV9DSEVDSyxwdWJrZXk6ZS5nZXRLZXlJbmZvKCkuZWNpZXMub3RoZXJQdWJLZXl9fSl9Z2V0S2V5RXhjaGFuZ2UoKXtyZXR1cm4gdGhpcy5zdGF0ZS5rZXlFeGNoYW5nZX1zZW5kTWVzc2FnZShlKXtyZXR1cm4gbCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3JldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBsKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7dmFyIG4scixpO2lmKCFlLnN0YXRlLmNoYW5uZWxJZCl0aHJvdyBZbi5Tb2NrZXRTZXJ2aWNlKFwiaGFuZGxlU2VuZE1lc3NhZ2U6IG5vIGNoYW5uZWxJZCAtIENyZWF0ZSBhIGNoYW5uZWwgZmlyc3RcIiksbmV3IEVycm9yKFwiQ3JlYXRlIGEgY2hhbm5lbCBmaXJzdFwiKTtpZihZbi5Tb2NrZXRTZXJ2aWNlKGBbU29ja2V0U2VydmljZTogaGFuZGxlU2VuZE1lc3NhZ2UoKV0gY29udGV4dD0ke2Uuc3RhdGUuY29udGV4dH0gYXJlS2V5c0V4Y2hhbmdlZD0ke251bGw9PT0obj1lLnN0YXRlLmtleUV4Y2hhbmdlKXx8dm9pZCAwPT09bj92b2lkIDA6bi5hcmVLZXlzRXhjaGFuZ2VkKCl9YCx0KSxudWxsPT09KHI9bnVsbD09dD92b2lkIDA6dC50eXBlKXx8dm9pZCAwPT09cj92b2lkIDA6ci5zdGFydHNXaXRoKFwia2V5X2hhbmRzaGFrZVwiKSlyZXR1cm4gZnVuY3Rpb24oZSx0KXt2YXIgbjtZbi5Tb2NrZXRTZXJ2aWNlKGBbU29ja2V0U2VydmljZTogaGFuZGxlS2V5SGFuZHNoYWtlKCldIGNvbnRleHQ9JHtlLnN0YXRlLmNvbnRleHR9YCx0KSxudWxsPT09KG49ZS5zdGF0ZS5zb2NrZXQpfHx2b2lkIDA9PT1ufHxuLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuTUVTU0FHRSx7aWQ6ZS5zdGF0ZS5jaGFubmVsSWQsY29udGV4dDplLnN0YXRlLmNvbnRleHQsY2xpZW50VHlwZTplLnN0YXRlLmlzT3JpZ2luYXRvcj9cImRhcHBcIjpcIndhbGxldFwiLG1lc3NhZ2U6dH0pfShlLHQpLCEwOyFmdW5jdGlvbihlLHQpe3ZhciBuO2lmKCEobnVsbD09PShuPWUuc3RhdGUua2V5RXhjaGFuZ2UpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmFyZUtleXNFeGNoYW5nZWQoKSkmJiFlLnJlbW90ZS5zdGF0ZS5yZWxheVBlcnNpc3RlbmNlKXRocm93IFluLlNvY2tldFNlcnZpY2UoYFtTb2NrZXRTZXJ2aWNlOiB2YWxpZGF0ZUtleUV4Y2hhbmdlKCldIGNvbnRleHQ9JHtlLnN0YXRlLmNvbnRleHR9IEVSUk9SIGtleXMgbm90IGV4Y2hhbmdlZGAsdCksbmV3IEVycm9yKFwiS2V5cyBub3QgZXhjaGFuZ2VkIEJCQlwiKX0oZSx0KSxmdW5jdGlvbihlLHQpe3ZhciBuO2NvbnN0IHI9bnVsbCE9PShuPW51bGw9PXQ/dm9pZCAwOnQubWV0aG9kKSYmdm9pZCAwIT09bj9uOlwiXCIsaT1udWxsPT10P3ZvaWQgMDp0LmlkO2Uuc3RhdGUuaXNPcmlnaW5hdG9yJiZpJiYoZS5zdGF0ZS5ycGNNZXRob2RUcmFja2VyW2ldPXtpZDppLHRpbWVzdGFtcDpEYXRlLm5vdygpLG1ldGhvZDpyfSxlLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuUlBDX1VQREFURSxlLnN0YXRlLnJwY01ldGhvZFRyYWNrZXJbaV0pKX0oZSx0KTtjb25zdCBvPXlpZWxkIHZyKGUsdCk7cmV0dXJuIGUucmVtb3RlLnN0YXRlLmFuYWx5dGljcyYmZS5yZW1vdGUuc3RhdGUuaXNPcmlnaW5hdG9yJiZ0Lm1ldGhvZCYmRXIuaW5jbHVkZXModC5tZXRob2QudG9Mb3dlckNhc2UoKSkmJlhuKHtpZDpudWxsIT09KGk9ZS5yZW1vdGUuc3RhdGUuY2hhbm5lbElkKSYmdm9pZCAwIT09aT9pOlwiXCIsZXZlbnQ6bHIuU0RLX1JQQ19SRVFVRVNULHBhcmFtczp7bWV0aG9kOnQubWV0aG9kLGZyb206XCJtb2JpbGVcIn19LGUucmVtb3RlLnN0YXRlLmNvbW11bmljYXRpb25TZXJ2ZXJVcmwpLmNhdGNoKChlPT57fSkpLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXt2YXIgbjtjb25zdCByPW51bGw9PXQ/dm9pZCAwOnQuaWQsaT1udWxsIT09KG49bnVsbD09dD92b2lkIDA6dC5tZXRob2QpJiZ2b2lkIDAhPT1uP246XCJcIjtpZihlLnN0YXRlLmlzT3JpZ2luYXRvciYmcil0cnl7Y29uc3Qgbj1tcihyLGUuc3RhdGUucnBjTWV0aG9kVHJhY2tlciwyMDApLnRoZW4oKGU9Pih7dHlwZTp5ci5SUENfQ0hFQ0sscmVzdWx0OmV9KSkpLG89KCgpPT5sKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7Y29uc3QgdD15aWVsZChlPT5sKHZvaWQgMCxbZV0sdm9pZCAwLChmdW5jdGlvbiooe3JwY0lkOmUsaW5zdGFuY2U6dH0pe2Zvcig7dC5zdGF0ZS5sYXN0UnBjSWQ9PT1lfHx2b2lkIDA9PT10LnN0YXRlLmxhc3RScGNJZDspeWllbGQgcHIoMjAwKTtyZXR1cm4gdC5zdGF0ZS5sYXN0UnBjSWR9KSkpKHtpbnN0YW5jZTplLHJwY0lkOnJ9KSxuPXlpZWxkIG1yKHQsZS5zdGF0ZS5ycGNNZXRob2RUcmFja2VyLDIwMCk7cmV0dXJue3R5cGU6eXIuU0tJUFBFRF9SUEMscmVzdWx0Om59fSkpKSgpLHM9eWllbGQgUHJvbWlzZS5yYWNlKFtuLG9dKTtpZihzLnR5cGU9PT15ci5SUENfQ0hFQ0spe2NvbnN0IGU9cy5yZXN1bHQ7WW4uU29ja2V0U2VydmljZShgW1NvY2tldFNlcnZpY2U6aGFuZGxlUnBjUmVwbGllcygpXSBpZD0ke3QuaWR9ICR7aX0gKCAke2UuZWxhcHNlZFRpbWV9IG1zKWAsZS5yZXN1bHQpfWVsc2V7aWYocy50eXBlIT09eXIuU0tJUFBFRF9SUEMpdGhyb3cgbmV3IEVycm9yKGBFcnJvciBoYW5kbGluZyBSUEMgcmVwbGllcyBmb3IgJHtyfWApO3tjb25zdCB0PU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlLnN0YXRlLnJwY01ldGhvZFRyYWNrZXJbcl0pLHtlcnJvcjpuZXcgRXJyb3IoXCJTREtfQ09OTkVDVElPTl9JU1NVRVwiKX0pO2UuZW1pdChleHBvcnRzLkV2ZW50VHlwZS5SUENfVVBEQVRFLHQpO2NvbnN0IG49e2RhdGE6T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHQpLHtqc29ucnBjOlwiMi4wXCJ9KSxuYW1lOlwibWV0YW1hc2stcHJvdmlkZXJcIn07ZS5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLk1FU1NBR0Use21lc3NhZ2U6bn0pfX19Y2F0Y2goZSl7dGhyb3cgZX19KSl9KGUsdCkuY2F0Y2goKGU9Pnt9KSksb30pKX0odGhpcyxlKX0pKX1waW5nKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBsKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7dmFyIHQsbjtZbi5Tb2NrZXRTZXJ2aWNlKGBbU29ja2V0U2VydmljZTogcGluZygpXSBjb250ZXh0PSR7ZS5zdGF0ZS5jb250ZXh0fSBvcmlnaW5hdG9yPSR7ZS5zdGF0ZS5pc09yaWdpbmF0b3J9IGtleXNFeGNoYW5nZWQ9JHtudWxsPT09KHQ9ZS5zdGF0ZS5rZXlFeGNoYW5nZSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuYXJlS2V5c0V4Y2hhbmdlZCgpfWApLG51bGw9PT0obj1lLnN0YXRlLnNvY2tldCl8fHZvaWQgMD09PW58fG4uZW1pdChleHBvcnRzLk1lc3NhZ2VUeXBlLlBJTkcse2lkOmUuc3RhdGUuY2hhbm5lbElkLGNvbnRleHQ6XCJwaW5nXCIsY2xpZW50VHlwZTplLnJlbW90ZS5zdGF0ZS5pc09yaWdpbmF0b3I/XCJkYXBwXCI6XCJ3YWxsZXRcIixtZXNzYWdlOlwiXCJ9KX0pKX0odGhpcyl9cGF1c2UoKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXt2YXIgdCxuO1luLlNvY2tldFNlcnZpY2UoYFtTb2NrZXRTZXJ2aWNlOiBwYXVzZSgpXSBjb250ZXh0PSR7ZS5zdGF0ZS5jb250ZXh0fWApLGUuc3RhdGUubWFudWFsRGlzY29ubmVjdD0hMCwobnVsbD09PSh0PWUuc3RhdGUua2V5RXhjaGFuZ2UpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmFyZUtleXNFeGNoYW5nZWQoKSkmJih5aWVsZCBlLnNlbmRNZXNzYWdlKHt0eXBlOmV4cG9ydHMuTWVzc2FnZVR5cGUuUEFVU0V9KSksbnVsbD09PShuPWUuc3RhdGUuc29ja2V0KXx8dm9pZCAwPT09bnx8bi5kaXNjb25uZWN0KCl9KSl9KHRoaXMpfWlzQ29ubmVjdGVkKCl7dmFyIGU7cmV0dXJuIG51bGw9PT0oZT10aGlzLnN0YXRlLnNvY2tldCl8fHZvaWQgMD09PWU/dm9pZCAwOmUuY29ubmVjdGVkfXJlc3VtZSgpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2NvbnN0e3N0YXRlOnQscmVtb3RlOm59PWUse3NvY2tldDpyLGNoYW5uZWxJZDppLGNvbnRleHQ6byxrZXlFeGNoYW5nZTpzLGlzT3JpZ2luYXRvcjphfT10LHtpc09yaWdpbmF0b3I6Y309bi5zdGF0ZTtpZihZbi5Tb2NrZXRTZXJ2aWNlKGBbU29ja2V0U2VydmljZTogcmVzdW1lKCldIGNoYW5uZWxJZD0ke2l9IGNvbnRleHQ9JHtvfSBjb25uZWN0ZWQ9JHtudWxsPT1yP3ZvaWQgMDpyLmNvbm5lY3RlZH0gbWFudWFsRGlzY29ubmVjdD0ke3QubWFudWFsRGlzY29ubmVjdH0gcmVzdW1lZD0ke3QucmVzdW1lZH0ga2V5c0V4Y2hhbmdlZD0ke251bGw9PXM/dm9pZCAwOnMuYXJlS2V5c0V4Y2hhbmdlZCgpfWApLCFpKXRocm93IFluLlNvY2tldFNlcnZpY2UoXCJbU29ja2V0U2VydmljZTogcmVzdW1lKCldIGNoYW5uZWxJZCBpcyBub3QgZGVmaW5lZFwiKSxuZXcgRXJyb3IoXCJDaGFubmVsSWQgaXMgbm90IGRlZmluZWRcIik7KG51bGw9PXI/dm9pZCAwOnIuY29ubmVjdGVkKT8oWW4uU29ja2V0U2VydmljZShcIltTb2NrZXRTZXJ2aWNlOiByZXN1bWUoKV0gYWxyZWFkeSBjb25uZWN0ZWQuXCIpLHIuZW1pdChleHBvcnRzLk1lc3NhZ2VUeXBlLlBJTkcse2lkOmksY2xpZW50VHlwZTpjP1wiZGFwcFwiOlwid2FsbGV0XCIsY29udGV4dDpcIm9uX2NoYW5uZWxfY29uZmlnXCIsbWVzc2FnZTpcIlwifSksbi5oYXNSZWxheVBlcnNpc3RlbmNlKCl8fChudWxsPT1zP3ZvaWQgMDpzLmFyZUtleXNFeGNoYW5nZWQoKSl8fChhP3lpZWxkIGUuc2VuZE1lc3NhZ2Uoe3R5cGU6ZXhwb3J0cy5NZXNzYWdlVHlwZS5SRUFEWX0pOm51bGw9PXN8fHMuc3RhcnQoe2lzT3JpZ2luYXRvcjohMX0pKSk6KG51bGw9PXJ8fHIuY29ubmVjdCgpLFluLlNvY2tldFNlcnZpY2UoYFtTb2NrZXRTZXJ2aWNlOiByZXN1bWUoKV0gYWZ0ZXIgY29ubmVjdGluZyBzb2NrZXQgLS1cXHgzZSBjb25uZWN0ZWQ9JHtudWxsPT1yP3ZvaWQgMDpyLmNvbm5lY3RlZH1gKSxudWxsPT1yfHxyLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuSk9JTl9DSEFOTkVMLHtjaGFubmVsSWQ6aSxjb250ZXh0OmAke299X3Jlc3VtZWAsY2xpZW50VHlwZTpjP1wiZGFwcFwiOlwid2FsbGV0XCJ9LCgodCxuKT0+bCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3RyeXt5aWVsZCBmcihlLHQsbil9Y2F0Y2goZSl7fX0pKSkpKSx0Lm1hbnVhbERpc2Nvbm5lY3Q9ITEsdC5yZXN1bWVkPSEwfSkpfSh0aGlzKX1nZXRSUENNZXRob2RUcmFja2VyKCl7cmV0dXJuIHRoaXMuc3RhdGUucnBjTWV0aG9kVHJhY2tlcn1kaXNjb25uZWN0KGUpe3JldHVybiBmdW5jdGlvbihlLHQpe3ZhciBuLHIsaSxvLHM7WW4uU29ja2V0U2VydmljZShgW1NvY2tldFNlcnZpY2U6IGRpc2Nvbm5lY3QoKV0gY29udGV4dD0ke2Uuc3RhdGUuY29udGV4dH1gLHQpLChudWxsPT10P3ZvaWQgMDp0LnRlcm1pbmF0ZSkmJihudWxsPT09KHI9KG49ZS5zdGF0ZSkucmVtb3ZlRm9jdXNMaXN0ZW5lcil8fHZvaWQgMD09PXJ8fHIuY2FsbChuKSxlLnN0YXRlLmNoYW5uZWxJZD10LmNoYW5uZWxJZCxudWxsPT09KGk9ZS5zdGF0ZS5zb2NrZXQpfHx2b2lkIDA9PT1pfHxpLnJlbW92ZUFsbExpc3RlbmVycygpLG51bGw9PT0obz1lLnN0YXRlLmtleUV4Y2hhbmdlKXx8dm9pZCAwPT09b3x8by5jbGVhbigpLGUucmVtb3RlLnN0YXRlLnJlYWR5PSExLGUuc3RhdGUuc29ja2V0PXZvaWQgMCxlLnN0YXRlLnJwY01ldGhvZFRyYWNrZXI9e30pLGUuc3RhdGUubWFudWFsRGlzY29ubmVjdD0hMCxudWxsPT09KHM9ZS5zdGF0ZS5zb2NrZXQpfHx2b2lkIDA9PT1zfHxzLmRpc2Nvbm5lY3QoKX0odGhpcyxlKX19dmFyIENyO2Z1bmN0aW9uIHhyKGUpe3JldHVybigpPT5sKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7dmFyIHQsbixyO2NvbnN0e3N0YXRlOml9PWU7aWYoaS5hdXRob3JpemVkKXJldHVybjt5aWVsZCgoKT0+bCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2Zvcig7IWkud2FsbGV0SW5mbzspeWllbGQgcHIoNTAwKX0pKSkoKTtjb25zdCBvPVwiNy4zXCIubG9jYWxlQ29tcGFyZSgobnVsbD09PSh0PWkud2FsbGV0SW5mbyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQudmVyc2lvbil8fFwiXCIpO2lmKFluLlJlbW90ZUNvbW11bmljYXRpb24oYFtSZW1vdGVDb21tdW5pY2F0aW9uOiBoYW5kbGVBdXRob3JpemVkRXZlbnQoKV0gSEFDSyAnYXV0aG9yaXplZCcgdmVyc2lvbj0ke251bGw9PT0obj1pLndhbGxldEluZm8pfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnZlcnNpb259IGNvbXBhcmVWYWx1ZT0ke299YCksMSE9PW8pcmV0dXJuO2NvbnN0IHM9aS5wbGF0Zm9ybVR5cGU9PT1leHBvcnRzLlBsYXRmb3JtVHlwZS5Nb2JpbGVXZWJ8fGkucGxhdGZvcm1UeXBlPT09ZXhwb3J0cy5QbGF0Zm9ybVR5cGUuUmVhY3ROYXRpdmV8fGkucGxhdGZvcm1UeXBlPT09ZXhwb3J0cy5QbGF0Zm9ybVR5cGUuTWV0YU1hc2tNb2JpbGVXZWJ2aWV3O1luLlJlbW90ZUNvbW11bmljYXRpb24oYFtSZW1vdGVDb21tdW5pY2F0aW9uOiBoYW5kbGVBdXRob3JpemVkRXZlbnQoKV0gSEFDSyAnYXV0aG9yaXplZCcgcGxhdGZvcm09JHtpLnBsYXRmb3JtVHlwZX0gc2VjdXJlPSR7c30gY2hhbm5lbD0ke2kuY2hhbm5lbElkfSB3YWxsZXRWZXJzaW9uPSR7bnVsbD09PShyPWkud2FsbGV0SW5mbyl8fHZvaWQgMD09PXI/dm9pZCAwOnIudmVyc2lvbn1gKSxzJiYoaS5hdXRob3JpemVkPSEwLGUuZW1pdChleHBvcnRzLkV2ZW50VHlwZS5BVVRIT1JJWkVEKSl9KSl9ZnVuY3Rpb24ga3IoZSl7cmV0dXJuIHQ9Pntjb25zdHtzdGF0ZTpufT1lO1luLlJlbW90ZUNvbW11bmljYXRpb24oYFtSZW1vdGVDb21tdW5pY2F0aW9uOiBoYW5kbGVDaGFubmVsQ3JlYXRlZEV2ZW50KCldIGNvbnRleHQ9JHtuLmNvbnRleHR9IG9uICdjaGFubmVsX2NyZWF0ZWQnIGNoYW5uZWxJZD0ke3R9YCksZS5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLkNIQU5ORUxfQ1JFQVRFRCx0KX19ZnVuY3Rpb24gTXIoZSx0KXtyZXR1cm4oKT0+e3ZhciBuLHIsaSxvO2NvbnN0e3N0YXRlOnN9PWU7WW4uUmVtb3RlQ29tbXVuaWNhdGlvbihgW1JlbW90ZUNvbW11bmljYXRpb246IGhhbmRsZUNsaWVudHNDb25uZWN0ZWRFdmVudCgpXSBvbiAnY2xpZW50c19jb25uZWN0ZWQnIGNoYW5uZWw9JHtzLmNoYW5uZWxJZH0ga2V5c0V4Y2hhbmdlZD0ke251bGw9PT0ocj1udWxsPT09KG49cy5jb21tdW5pY2F0aW9uTGF5ZXIpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmdldEtleUluZm8oKSl8fHZvaWQgMD09PXI/dm9pZCAwOnIua2V5c0V4Y2hhbmdlZH1gKSxzLmFuYWx5dGljcyYmWG4oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHtpZDpudWxsIT09KGk9cy5jaGFubmVsSWQpJiZ2b2lkIDAhPT1pP2k6XCJcIixldmVudDpzLnJlY29ubmVjdGlvbj9sci5SRUNPTk5FQ1Q6cy5pc09yaWdpbmF0b3I/bHIuUkVRVUVTVDpsci5SRVFVRVNUX01PQklMRX0scy5vcmlnaW5hdG9ySW5mbykse2NvbW1MYXllcjp0LHNka1ZlcnNpb246cy5zZGtWZXJzaW9uLHdhbGxldFZlcnNpb246bnVsbD09PShvPXMud2FsbGV0SW5mbyl8fHZvaWQgMD09PW8/dm9pZCAwOm8udmVyc2lvbixjb21tTGF5ZXJWZXJzaW9uOnRyLnZlcnNpb259KSxzLmNvbW11bmljYXRpb25TZXJ2ZXJVcmwpLmNhdGNoKChlPT57fSkpLHMuY2xpZW50c0Nvbm5lY3RlZD0hMCxzLm9yaWdpbmF0b3JJbmZvU2VudD0hMSxlLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuQ0xJRU5UU19DT05ORUNURUQpfX1mdW5jdGlvbiBBcihlKXtyZXR1cm4gdD0+e2NvbnN0e3N0YXRlOm59PWU7WW4uUmVtb3RlQ29tbXVuaWNhdGlvbihgW1JlbW90ZUNvbW11bmljYXRpb246IGhhbmRsZUNsaWVudHNEaXNjb25uZWN0ZWRFdmVudCgpXSBjb250ZXh0PSR7bi5jb250ZXh0fSBvbiAnY2xpZW50c19kaXNjb25uZWN0ZWQnIGNoYW5uZWxJZD0ke3R9YCksbi5yZWxheVBlcnNpc3RlbmNlfHwobi5jbGllbnRzQ29ubmVjdGVkPSExLG4ucmVhZHk9ITEsbi5hdXRob3JpemVkPSExKSxlLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuQ0xJRU5UU19ESVNDT05ORUNURUQsbi5jaGFubmVsSWQpLGUuc2V0Q29ubmVjdGlvblN0YXR1cyhleHBvcnRzLkNvbm5lY3Rpb25TdGF0dXMuRElTQ09OTkVDVEVEKX19ZnVuY3Rpb24gVHIoZSl7cmV0dXJuIHQ9Pnt2YXIgbjtjb25zdHtzdGF0ZTpyfT1lO2lmKFluLlJlbW90ZUNvbW11bmljYXRpb24oYFtSZW1vdGVDb21tdW5pY2F0aW9uOiBoYW5kbGVDbGllbnRzV2FpdGluZ0V2ZW50KCldIGNvbnRleHQ9JHtyLmNvbnRleHR9IG9uICdjbGllbnRzX3dhaXRpbmcnIG51bWJlclVzZXJzPSR7dH0gcmVhZHk9JHtyLnJlYWR5fSBhdXRvU3RhcnRlZD0ke3Iub3JpZ2luYXRvckNvbm5lY3RTdGFydGVkfWApLGUuc2V0Q29ubmVjdGlvblN0YXR1cyhleHBvcnRzLkNvbm5lY3Rpb25TdGF0dXMuV0FJVElORyksZS5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLkNMSUVOVFNfV0FJVElORyx0KSxyLm9yaWdpbmF0b3JDb25uZWN0U3RhcnRlZCl7WW4uUmVtb3RlQ29tbXVuaWNhdGlvbihgW1JlbW90ZUNvbW11bmljYXRpb246IGhhbmRsZUNsaWVudHNXYWl0aW5nRXZlbnQoKV0gb24gJ2NsaWVudHNfd2FpdGluZycgd2F0Y2ggYXV0b1N0YXJ0ZWQ9JHtyLm9yaWdpbmF0b3JDb25uZWN0U3RhcnRlZH0gdGltZW91dGAsci5hdXRvQ29ubmVjdE9wdGlvbnMpO2NvbnN0IHQ9KG51bGw9PT0obj1yLmF1dG9Db25uZWN0T3B0aW9ucyl8fHZvaWQgMD09PW4/dm9pZCAwOm4udGltZW91dCl8fDNlMyxpPXNldFRpbWVvdXQoKCgpPT57WW4uUmVtb3RlQ29tbXVuaWNhdGlvbihgW1JlbW90ZUNvbW11bmljYXRpb246IGhhbmRsZUNsaWVudHNXYWl0aW5nRXZlbnQoKV0gc2V0VGltZW91dCgke3R9KSB0ZXJtaW5hdGUgY2hhbm5lbENvbmZpZ2Asci5hdXRvQ29ubmVjdE9wdGlvbnMpLHIub3JpZ2luYXRvckNvbm5lY3RTdGFydGVkPSExLHIucmVhZHl8fGUuc2V0Q29ubmVjdGlvblN0YXR1cyhleHBvcnRzLkNvbm5lY3Rpb25TdGF0dXMuVElNRU9VVCksY2xlYXJUaW1lb3V0KGkpfSksdCl9fX1mdW5jdGlvbiBJcihlLHQpe3JldHVybiBuPT57dmFyIHIsaSxvLHMsYSxjLGQsbDtjb25zdHtzdGF0ZTp1fT1lO2lmKFluLlJlbW90ZUNvbW11bmljYXRpb24oYFtSZW1vdGVDb21tdW5pY2F0aW9uOiBoYW5kbGVLZXlzRXhjaGFuZ2VkRXZlbnQoKV0gY29udGV4dD0ke3UuY29udGV4dH0gb24gY29tbUxheWVyLidrZXlzX2V4Y2hhbmdlZCcgY2hhbm5lbD0ke3UuY2hhbm5lbElkfWAsbiksbnVsbD09PShpPW51bGw9PT0ocj11LmNvbW11bmljYXRpb25MYXllcil8fHZvaWQgMD09PXI/dm9pZCAwOnIuZ2V0S2V5SW5mbygpKXx8dm9pZCAwPT09aT92b2lkIDA6aS5rZXlzRXhjaGFuZ2VkKXtjb25zdCB0PU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx1LmNoYW5uZWxDb25maWcpLHtjaGFubmVsSWQ6bnVsbCE9PShvPXUuY2hhbm5lbElkKSYmdm9pZCAwIT09bz9vOlwiXCIsdmFsaWRVbnRpbDoobnVsbD09PShzPXUuY2hhbm5lbENvbmZpZyl8fHZvaWQgMD09PXM/dm9pZCAwOnMudmFsaWRVbnRpbCl8fGlyLGxvY2FsS2V5OnUuY29tbXVuaWNhdGlvbkxheWVyLmdldEtleUluZm8oKS5lY2llcy5wcml2YXRlLG90aGVyS2V5OnUuY29tbXVuaWNhdGlvbkxheWVyLmdldEtleUluZm8oKS5lY2llcy5vdGhlclB1YktleX0pO251bGw9PT0oYT11LnN0b3JhZ2VNYW5hZ2VyKXx8dm9pZCAwPT09YXx8YS5wZXJzaXN0Q2hhbm5lbENvbmZpZyh0KS5jYXRjaCgoZT0+e30pKSxlLnNldENvbm5lY3Rpb25TdGF0dXMoZXhwb3J0cy5Db25uZWN0aW9uU3RhdHVzLkxJTktFRCl9IWZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8scyxhLGMsZDtjb25zdHtzdGF0ZTpsfT1lO1luLlJlbW90ZUNvbW11bmljYXRpb24oYFtSZW1vdGVDb21tdW5pY2F0aW9uOiBzZXRMYXN0QWN0aXZlRGF0ZSgpXSBjaGFubmVsPSR7bC5jaGFubmVsSWR9YCx0KTtjb25zdCB1PU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxsLmNoYW5uZWxDb25maWcpLHtjaGFubmVsSWQ6bnVsbCE9PShuPWwuY2hhbm5lbElkKSYmdm9pZCAwIT09bj9uOlwiXCIsdmFsaWRVbnRpbDpudWxsIT09KGk9bnVsbD09PShyPWwuY2hhbm5lbENvbmZpZyl8fHZvaWQgMD09PXI/dm9pZCAwOnIudmFsaWRVbnRpbCkmJnZvaWQgMCE9PWk/aTowLHJlbGF5UGVyc2lzdGVuY2U6bC5yZWxheVBlcnNpc3RlbmNlLGxvY2FsS2V5Om51bGw9PT0ocz1udWxsPT09KG89bC5jb21tdW5pY2F0aW9uTGF5ZXIpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLnN0YXRlLmtleUV4Y2hhbmdlKXx8dm9pZCAwPT09cz92b2lkIDA6cy5nZXRLZXlJbmZvKCkuZWNpZXMucHJpdmF0ZSxvdGhlcktleTpudWxsPT09KGM9bnVsbD09PShhPWwuY29tbXVuaWNhdGlvbkxheWVyKXx8dm9pZCAwPT09YT92b2lkIDA6YS5zdGF0ZS5rZXlFeGNoYW5nZSl8fHZvaWQgMD09PWM/dm9pZCAwOmMuZ2V0S2V5SW5mbygpLmVjaWVzLm90aGVyUHViS2V5LGxhc3RBY3RpdmU6dC5nZXRUaW1lKCl9KTtudWxsPT09KGQ9bC5zdG9yYWdlTWFuYWdlcil8fHZvaWQgMD09PWR8fGQucGVyc2lzdENoYW5uZWxDb25maWcodSl9KGUsbmV3IERhdGUpLHUuYW5hbHl0aWNzJiZ1LmNoYW5uZWxJZCYmWG4oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHtpZDp1LmNoYW5uZWxJZCxldmVudDpuLmlzT3JpZ2luYXRvcj9sci5DT05ORUNURUQ6bHIuQ09OTkVDVEVEX01PQklMRX0sdS5vcmlnaW5hdG9ySW5mbykse3Nka1ZlcnNpb246dS5zZGtWZXJzaW9uLGNvbW1MYXllcjp0LGNvbW1MYXllclZlcnNpb246dHIudmVyc2lvbix3YWxsZXRWZXJzaW9uOm51bGw9PT0oYz11LndhbGxldEluZm8pfHx2b2lkIDA9PT1jP3ZvaWQgMDpjLnZlcnNpb259KSx1LmNvbW11bmljYXRpb25TZXJ2ZXJVcmwpLmNhdGNoKChlPT57fSkpLHUuaXNPcmlnaW5hdG9yPW4uaXNPcmlnaW5hdG9yLG4uaXNPcmlnaW5hdG9yfHwobnVsbD09PShkPXUuY29tbXVuaWNhdGlvbkxheWVyKXx8dm9pZCAwPT09ZHx8ZC5zZW5kTWVzc2FnZSh7dHlwZTpleHBvcnRzLk1lc3NhZ2VUeXBlLlJFQURZfSksdS5yZWFkeT0hMCx1LnBhdXNlZD0hMSksbi5pc09yaWdpbmF0b3ImJiF1Lm9yaWdpbmF0b3JJbmZvU2VudCYmKG51bGw9PT0obD11LmNvbW11bmljYXRpb25MYXllcil8fHZvaWQgMD09PWx8fGwuc2VuZE1lc3NhZ2Uoe3R5cGU6ZXhwb3J0cy5NZXNzYWdlVHlwZS5PUklHSU5BVE9SX0lORk8sb3JpZ2luYXRvckluZm86dS5vcmlnaW5hdG9ySW5mbyxvcmlnaW5hdG9yOnUub3JpZ2luYXRvckluZm99KSx1Lm9yaWdpbmF0b3JJbmZvU2VudD0hMCl9fWZ1bmN0aW9uIFByKGUpe3JldHVybiB0PT57bGV0IG49dDt0Lm1lc3NhZ2UmJihuPW4ubWVzc2FnZSksZnVuY3Rpb24oZSx0KXtjb25zdHtzdGF0ZTpufT10O2lmKFluLlJlbW90ZUNvbW11bmljYXRpb24oYFtSZW1vdGVDb21tdW5pY2F0aW9uOiBvbkNvbW11bmljYXRpb25MYXllck1lc3NhZ2UoKV0gY29udGV4dD0ke24uY29udGV4dH0gb24gJ21lc3NhZ2UnIHR5cGVvZj0ke3R5cGVvZiBlfWAsZSksdC5zdGF0ZS5yZWFkeT0hMCxuLmlzT3JpZ2luYXRvcnx8ZS50eXBlIT09ZXhwb3J0cy5NZXNzYWdlVHlwZS5PUklHSU5BVE9SX0lORk8paWYobi5pc09yaWdpbmF0b3ImJmUudHlwZT09PWV4cG9ydHMuTWVzc2FnZVR5cGUuV0FMTEVUX0lORk8pIWZ1bmN0aW9uKGUsdCl7Y29uc3R7c3RhdGU6bn09ZTtuLndhbGxldEluZm89dC53YWxsZXRJbmZvLG4ucGF1c2VkPSExfSh0LGUpO2Vsc2V7aWYobi5pc09yaWdpbmF0b3ImJmUudHlwZT09PWV4cG9ydHMuTWVzc2FnZVR5cGUuV0FMTEVUX0lOSVQpKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXt2YXIgbixyLGk7Y29uc3R7c3RhdGU6b309ZTtpZihvLmlzT3JpZ2luYXRvcil7Y29uc3Qgbz10LmRhdGF8fHt9O2lmKFwib2JqZWN0XCI9PXR5cGVvZiBvJiZcImFjY291bnRzXCJpbiBvJiZcImNoYWluSWRcImluIG8mJlwid2FsbGV0S2V5XCJpbiBvKXRyeXtjb25zdHtjaGFubmVsQ29uZmlnOnR9PWUuc3RhdGU7aWYoWW4uUmVtb3RlQ29tbXVuaWNhdGlvbihcIldBTExFVF9JTklUOiBjaGFubmVsQ29uZmlnXCIsSlNPTi5zdHJpbmdpZnkodCxudWxsLDIpKSx0KXtjb25zdCBzPW8uYWNjb3VudHMsYT1vLmNoYWluSWQsYz1vLndhbGxldEtleTtsZXQgZCxsPSExO1wiZGVlcGxpbmtQcm90b2NvbFwiaW4gbyYmKGw9Qm9vbGVhbihvLmRlZXBsaW5rUHJvdG9jb2wpLGUuc3RhdGUuZGVlcGxpbmtQcm90b2NvbEF2YWlsYWJsZT1sKSxcIndhbGxldFZlcnNpb25cImluIG8mJihkPW8ud2FsbGV0VmVyc2lvbikseWllbGQgbnVsbD09PShuPWUuc3RhdGUuc3RvcmFnZU1hbmFnZXIpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnBlcnNpc3RDaGFubmVsQ29uZmlnKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0KSx7b3RoZXJLZXk6Yyx3YWxsZXRWZXJzaW9uOmQsZGVlcGxpbmtQcm90b2NvbEF2YWlsYWJsZTpsLHJlbGF5UGVyc2lzdGVuY2U6ITB9KSkseWllbGQgbnVsbD09PShyPWUuc3RhdGUuc3RvcmFnZU1hbmFnZXIpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnBlcnNpc3RBY2NvdW50cyhzKSx5aWVsZCBudWxsPT09KGk9ZS5zdGF0ZS5zdG9yYWdlTWFuYWdlcil8fHZvaWQgMD09PWk/dm9pZCAwOmkucGVyc2lzdENoYWluSWQoYSl9ZS5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLldBTExFVF9JTklULHthY2NvdW50czpvLmFjY291bnRzLGNoYWluSWQ6by5jaGFpbklkfSl9Y2F0Y2gobil7fX19KSl9KSh0LGUpLmNhdGNoKChlPT57WW4uUmVtb3RlQ29tbXVuaWNhdGlvbihgW1JlbW90ZUNvbW11bmljYXRpb246IG9uQ29tbXVuaWNhdGlvbkxheWVyTWVzc2FnZSgpXSBlcnJvcj0ke2V9YCl9KSk7ZWxzZSBpZihlLnR5cGU9PT1leHBvcnRzLk1lc3NhZ2VUeXBlLlRFUk1JTkFURSkoZnVuY3Rpb24oZSl7cmV0dXJuIGwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtjb25zdHtzdGF0ZTp0fT1lO3QuaXNPcmlnaW5hdG9yJiYoeWllbGQgTHIoe29wdGlvbnM6e3Rlcm1pbmF0ZTohMCxzZW5kTWVzc2FnZTohMX0saW5zdGFuY2U6ZX0pLGUuZW1pdChleHBvcnRzLkV2ZW50VHlwZS5URVJNSU5BVEUpKX0pKX0pKHQpLmNhdGNoKChlPT57WW4uUmVtb3RlQ29tbXVuaWNhdGlvbihgW1JlbW90ZUNvbW11bmljYXRpb246IG9uQ29tbXVuaWNhdGlvbkxheWVyTWVzc2FnZSgpXSBlcnJvcj0ke2V9YCl9KSk7ZWxzZSBpZihlLnR5cGU9PT1leHBvcnRzLk1lc3NhZ2VUeXBlLlBBVVNFKSFmdW5jdGlvbihlKXtjb25zdHtzdGF0ZTp0fT1lO3QucGF1c2VkPSEwLGUuc2V0Q29ubmVjdGlvblN0YXR1cyhleHBvcnRzLkNvbm5lY3Rpb25TdGF0dXMuUEFVU0VEKX0odCk7ZWxzZSBpZihlLnR5cGU9PT1leHBvcnRzLk1lc3NhZ2VUeXBlLlJFQURZJiZuLmlzT3JpZ2luYXRvcikhZnVuY3Rpb24oZSl7Y29uc3R7c3RhdGU6dH09ZTtlLnNldENvbm5lY3Rpb25TdGF0dXMoZXhwb3J0cy5Db25uZWN0aW9uU3RhdHVzLkxJTktFRCk7Y29uc3Qgbj10LnBhdXNlZDt0LnBhdXNlZD0hMSxlLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuQ0xJRU5UU19SRUFEWSx7aXNPcmlnaW5hdG9yOnQuaXNPcmlnaW5hdG9yLHdhbGxldEluZm86dC53YWxsZXRJbmZvfSksbiYmKHQuYXV0aG9yaXplZD0hMCxlLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuQVVUSE9SSVpFRCkpfSh0KTtlbHNle2lmKGUudHlwZT09PWV4cG9ydHMuTWVzc2FnZVR5cGUuT1RQJiZuLmlzT3JpZ2luYXRvcilyZXR1cm4gdm9pZCBmdW5jdGlvbihlLHQpe3ZhciBuO2NvbnN0e3N0YXRlOnJ9PWU7ZS5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLk9UUCx0Lm90cEFuc3dlciksMT09PVwiNi42XCIubG9jYWxlQ29tcGFyZSgobnVsbD09PShuPXIud2FsbGV0SW5mbyl8fHZvaWQgMD09PW4/dm9pZCAwOm4udmVyc2lvbil8fFwiXCIpJiZlLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuU0RLX1JQQ19DQUxMLHttZXRob2Q6c3IuRVRIX1JFUVVFU1RBQ0NPVU5UUyxwYXJhbXM6W119KX0odCxlKTtlLnR5cGU9PT1leHBvcnRzLk1lc3NhZ2VUeXBlLkFVVEhPUklaRUQmJm4uaXNPcmlnaW5hdG9yJiZmdW5jdGlvbihlKXtjb25zdHtzdGF0ZTp0fT1lO3QuYXV0aG9yaXplZD0hMCxlLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuQVVUSE9SSVpFRCl9KHQpfXQuZW1pdChleHBvcnRzLkV2ZW50VHlwZS5NRVNTQUdFLGUpfWVsc2UhZnVuY3Rpb24oZSx0KXt2YXIgbjtjb25zdHtzdGF0ZTpyfT1lO251bGw9PT0obj1yLmNvbW11bmljYXRpb25MYXllcil8fHZvaWQgMD09PW58fG4uc2VuZE1lc3NhZ2Uoe3R5cGU6ZXhwb3J0cy5NZXNzYWdlVHlwZS5XQUxMRVRfSU5GTyx3YWxsZXRJbmZvOnIud2FsbGV0SW5mb30pLHIub3JpZ2luYXRvckluZm89dC5vcmlnaW5hdG9ySW5mb3x8dC5vcmlnaW5hdG9yLGUuZW1pdChleHBvcnRzLkV2ZW50VHlwZS5DTElFTlRTX1JFQURZLHtpc09yaWdpbmF0b3I6ci5pc09yaWdpbmF0b3Isb3JpZ2luYXRvckluZm86ci5vcmlnaW5hdG9ySW5mb30pLHIucGF1c2VkPSExfSh0LGUpfShuLGUpfX1mdW5jdGlvbiBScihlKXtyZXR1cm4oKT0+e2NvbnN0e3N0YXRlOnR9PWU7WW4uUmVtb3RlQ29tbXVuaWNhdGlvbihcIltSZW1vdGVDb21tdW5pY2F0aW9uOiBoYW5kbGVTb2NrZXRSZWNvbm5lY3RFdmVudCgpXSBvbiAnc29ja2V0X3JlY29ubmVjdCcgLS0gcmVzZXQga2V5IGV4Y2hhbmdlIHN0YXR1cyAvIHNldCByZWFkeSB0byBmYWxzZVwiKSx0LnJlYWR5PSExLHQuYXV0aG9yaXplZD0hMSxhcih0KSxlLmVtaXRTZXJ2aWNlU3RhdHVzRXZlbnQoe2NvbnRleHQ6XCJzb2NrZXRfcmVjb25uZWN0XCJ9KX19ZnVuY3Rpb24gT3IoZSl7cmV0dXJuKCk9Pntjb25zdHtzdGF0ZTp0fT1lO1luLlJlbW90ZUNvbW11bmljYXRpb24oXCJbUmVtb3RlQ29tbXVuaWNhdGlvbjogaGFuZGxlU29ja2V0RGlzY29ubmVjdGVkRXZlbnQoKV0gb24gJ3NvY2tldF9EaXNjb25uZWN0ZWQnIHNldCByZWFkeSB0byBmYWxzZVwiKSx0LnJlYWR5PSExfX1mdW5jdGlvbiBOcihlKXtyZXR1cm4oKT0+bCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3ZhciB0LG4scixpLG8scyxhO2NvbnN0e3N0YXRlOmN9PWU7WW4uUmVtb3RlQ29tbXVuaWNhdGlvbihgW1JlbW90ZUNvbW11bmljYXRpb246IGhhbmRsZUZ1bGxQZXJzaXN0ZW5jZUV2ZW50KCldIGNvbnRleHQ9JHtjLmNvbnRleHR9YCksZS5zdGF0ZS5yZWFkeT0hMCxlLnN0YXRlLmNsaWVudHNDb25uZWN0ZWQ9ITAsZS5zdGF0ZS5hdXRob3JpemVkPSEwLGUuc3RhdGUucmVsYXlQZXJzaXN0ZW5jZT0hMCxudWxsPT09KHQ9ZS5zdGF0ZS5jb21tdW5pY2F0aW9uTGF5ZXIpfHx2b2lkIDA9PT10fHx0LmdldEtleUV4Y2hhbmdlKCkuc2V0S2V5c0V4Y2hhbmdlZCghMCksZS5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLktFWVNfRVhDSEFOR0VELHtrZXlzRXhjaGFuZ2VkOiEwLGlzT3JpZ2luYXRvcjohMH0pLGUuZW1pdChleHBvcnRzLkV2ZW50VHlwZS5BVVRIT1JJWkVEKSxlLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuQ0xJRU5UU19SRUFEWSksZS5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLkNIQU5ORUxfUEVSU0lTVEVOQ0UpO3RyeXtjLmNoYW5uZWxDb25maWc9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGMuY2hhbm5lbENvbmZpZykse2xvY2FsS2V5Om51bGw9PT0obj1jLmNvbW11bmljYXRpb25MYXllcil8fHZvaWQgMD09PW4/dm9pZCAwOm4uZ2V0S2V5RXhjaGFuZ2UoKS5nZXRLZXlJbmZvKCkuZWNpZXMucHJpdmF0ZSxvdGhlcktleTpudWxsPT09KHI9Yy5jb21tdW5pY2F0aW9uTGF5ZXIpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmdldEtleUV4Y2hhbmdlKCkuZ2V0T3RoZXJQdWJsaWNLZXkoKSxjaGFubmVsSWQ6bnVsbCE9PShpPWMuY2hhbm5lbElkKSYmdm9pZCAwIT09aT9pOlwiXCIsdmFsaWRVbnRpbDpudWxsIT09KHM9bnVsbD09PShvPWMuY2hhbm5lbENvbmZpZyl8fHZvaWQgMD09PW8/dm9pZCAwOm8udmFsaWRVbnRpbCkmJnZvaWQgMCE9PXM/czppcixyZWxheVBlcnNpc3RlbmNlOiEwfSkseWllbGQgbnVsbD09PShhPWMuc3RvcmFnZU1hbmFnZXIpfHx2b2lkIDA9PT1hP3ZvaWQgMDphLnBlcnNpc3RDaGFubmVsQ29uZmlnKGMuY2hhbm5lbENvbmZpZyl9Y2F0Y2godCl7fX0pKX1mdW5jdGlvbiBEcih7Y29tbXVuaWNhdGlvbkxheWVyUHJlZmVyZW5jZTplLG90aGVyUHVibGljS2V5OnQscmVjb25uZWN0Om4sZWNpZXM6cixjb21tdW5pY2F0aW9uU2VydmVyVXJsOmk9bnIsaW5zdGFuY2U6b30pe3ZhciBzLGEsYyxkLGwsdSxoLGYscCxtLGc7Y29uc3R7c3RhdGU6dn09bztpZihZbi5SZW1vdGVDb21tdW5pY2F0aW9uKFwiW2luaXRDb21tdW5pY2F0aW9uTGF5ZXIoKV0gXCIsSlNPTi5zdHJpbmdpZnkodixudWxsLDIpKSxlIT09ZXhwb3J0cy5Db21tdW5pY2F0aW9uTGF5ZXJQcmVmZXJlbmNlLlNPQ0tFVCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNvbW11bmljYXRpb24gcHJvdG9jb2xcIik7di5jb21tdW5pY2F0aW9uTGF5ZXI9bmV3IF9yKHtjb21tdW5pY2F0aW9uTGF5ZXJQcmVmZXJlbmNlOmUsb3RoZXJQdWJsaWNLZXk6dCxyZWNvbm5lY3Q6bix0cmFuc3BvcnRzOnYudHJhbnNwb3J0cyxjb21tdW5pY2F0aW9uU2VydmVyVXJsOmksY29udGV4dDp2LmNvbnRleHQsZWNpZXM6cixsb2dnaW5nOnYubG9nZ2luZyxyZW1vdGU6b30pO2xldCB5PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudCYmZG9jdW1lbnQuVVJMfHxcIlwiLEU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50JiZkb2N1bWVudC50aXRsZXx8XCJcIjsobnVsbD09PShzPXYuZGFwcE1ldGFkYXRhKXx8dm9pZCAwPT09cz92b2lkIDA6cy51cmwpJiYoeT12LmRhcHBNZXRhZGF0YS51cmwpLChudWxsPT09KGE9di5kYXBwTWV0YWRhdGEpfHx2b2lkIDA9PT1hP3ZvaWQgMDphLm5hbWUpJiYoRT12LmRhcHBNZXRhZGF0YS5uYW1lKTtjb25zdCBiPW51bGwhPT0odT1udWxsIT09KGQ9bnVsbD09PShjPXYuZGFwcE1ldGFkYXRhKXx8dm9pZCAwPT09Yz92b2lkIDA6Yy5uYW1lKSYmdm9pZCAwIT09ZD9kOm51bGw9PT0obD12LmRhcHBNZXRhZGF0YSl8fHZvaWQgMD09PWw/dm9pZCAwOmwudXJsKSYmdm9pZCAwIT09dT91OlwiTi9BXCIsdz1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ2b2lkIDAhPT13aW5kb3cubG9jYXRpb24mJm51bGwhPT0oaD13aW5kb3cubG9jYXRpb24uaG9zdG5hbWUpJiZ2b2lkIDAhPT1oP2g6YixTPXt1cmw6eSx0aXRsZTpFLHNvdXJjZTpudWxsPT09KGY9di5kYXBwTWV0YWRhdGEpfHx2b2lkIDA9PT1mP3ZvaWQgMDpmLnNvdXJjZSxkYXBwSWQ6dyxpY29uOihudWxsPT09KHA9di5kYXBwTWV0YWRhdGEpfHx2b2lkIDA9PT1wP3ZvaWQgMDpwLmljb25VcmwpfHwobnVsbD09PShtPXYuZGFwcE1ldGFkYXRhKXx8dm9pZCAwPT09bT92b2lkIDA6bS5iYXNlNjRJY29uKSxwbGF0Zm9ybTp2LnBsYXRmb3JtVHlwZSxhcGlWZXJzaW9uOnRyLnZlcnNpb24sY29ubmVjdG9yOm51bGw9PT0oZz12LmRhcHBNZXRhZGF0YSl8fHZvaWQgMD09PWc/dm9pZCAwOmcuY29ubmVjdG9yfTt2Lm9yaWdpbmF0b3JJbmZvPVM7Y29uc3QgXz17W2V4cG9ydHMuRXZlbnRUeXBlLkFVVEhPUklaRURdOnhyKG8pLFtleHBvcnRzLkV2ZW50VHlwZS5NRVNTQUdFXTpQcihvKSxbZXhwb3J0cy5FdmVudFR5cGUuQ0hBTk5FTF9QRVJTSVNURU5DRV06TnIobyksW2V4cG9ydHMuRXZlbnRUeXBlLkNMSUVOVFNfQ09OTkVDVEVEXTpNcihvLGUpLFtleHBvcnRzLkV2ZW50VHlwZS5LRVlTX0VYQ0hBTkdFRF06SXIobyxlKSxbZXhwb3J0cy5FdmVudFR5cGUuU09DS0VUX0RJU0NPTk5FQ1RFRF06T3IobyksW2V4cG9ydHMuRXZlbnRUeXBlLlNPQ0tFVF9SRUNPTk5FQ1RdOlJyKG8pLFtleHBvcnRzLkV2ZW50VHlwZS5DTElFTlRTX0RJU0NPTk5FQ1RFRF06QXIobyksW2V4cG9ydHMuRXZlbnRUeXBlLktFWV9JTkZPXTooKT0+e30sW2V4cG9ydHMuRXZlbnRUeXBlLkNIQU5ORUxfQ1JFQVRFRF06a3IobyksW2V4cG9ydHMuRXZlbnRUeXBlLkNMSUVOVFNfV0FJVElOR106VHIobyksW2V4cG9ydHMuRXZlbnRUeXBlLlJQQ19VUERBVEVdOmU9PntvLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuUlBDX1VQREFURSxlKX19O2Zvcihjb25zdFt0LG5db2YgT2JqZWN0LmVudHJpZXMoXykpdHJ5e3YuY29tbXVuaWNhdGlvbkxheWVyLm9uKHQsbil9Y2F0Y2goZSl7fX1mdW5jdGlvbiBMcihlKXtyZXR1cm4gbCh0aGlzLGFyZ3VtZW50cyx2b2lkIDAsKGZ1bmN0aW9uKih7b3B0aW9uczplLGluc3RhbmNlOnR9KXtjb25zdHtzdGF0ZTpufT10O3JldHVybiBZbi5SZW1vdGVDb21tdW5pY2F0aW9uKGBbUmVtb3RlQ29tbXVuaWNhdGlvbjogZGlzY29ubmVjdCgpXSBjaGFubmVsPSR7bi5jaGFubmVsSWR9YCxlKSxuZXcgUHJvbWlzZSgoKHIsaSk9Pnt2YXIgcyxhLGMsZCxsLHU7KG51bGw9PWU/dm9pZCAwOmUudGVybWluYXRlKT8odC5zdGF0ZS5yZWFkeSYmWG4oe2lkOm51bGwhPT0ocz10LnN0YXRlLmNoYW5uZWxJZCkmJnZvaWQgMCE9PXM/czpcIlwiLGV2ZW50OmxyLlRFUk1JTkFURUR9LHQuc3RhdGUuY29tbXVuaWNhdGlvblNlcnZlclVybCkuY2F0Y2goKGU9Pnt9KSksbi5yZWFkeT0hMSxuLnBhdXNlZD0hMSxudWxsPT09KGE9bi5zdG9yYWdlTWFuYWdlcil8fHZvaWQgMD09PWF8fGEudGVybWluYXRlKG51bGwhPT0oYz1uLmNoYW5uZWxJZCkmJnZvaWQgMCE9PWM/YzpcIlwiKSx0LnN0YXRlLnRlcm1pbmF0ZWQ9ITAsZS5zZW5kTWVzc2FnZT8obnVsbD09PShkPW4uY29tbXVuaWNhdGlvbkxheWVyKXx8dm9pZCAwPT09ZD92b2lkIDA6ZC5nZXRLZXlJbmZvKCkua2V5c0V4Y2hhbmdlZCkmJnQuc3RhdGUuY29tbXVuaWNhdGlvbkxheWVyJiZ2cih0LnN0YXRlLmNvbW11bmljYXRpb25MYXllcix7dHlwZTpleHBvcnRzLk1lc3NhZ2VUeXBlLlRFUk1JTkFURX0pLnRoZW4oKCgpPT57cighMCl9KSkuY2F0Y2goKGU9PntpKGUpfSkpOnIoITApLG4uYXV0aG9yaXplZD0hMSxuLnJlbGF5UGVyc2lzdGVuY2U9ITEsbi5jaGFubmVsSWQ9by52NCgpLGUuY2hhbm5lbElkPW4uY2hhbm5lbElkLG4uY2hhbm5lbENvbmZpZz12b2lkIDAsbi5vcmlnaW5hdG9yQ29ubmVjdFN0YXJ0ZWQ9ITEsbnVsbD09PShsPW4uY29tbXVuaWNhdGlvbkxheWVyKXx8dm9pZCAwPT09bHx8bC5kaXNjb25uZWN0KGUpLHQuc2V0Q29ubmVjdGlvblN0YXR1cyhleHBvcnRzLkNvbm5lY3Rpb25TdGF0dXMuVEVSTUlOQVRFRCkpOihudWxsPT09KHU9bi5jb21tdW5pY2F0aW9uTGF5ZXIpfHx2b2lkIDA9PT11fHx1LmRpc2Nvbm5lY3QoZSksdC5zZXRDb25uZWN0aW9uU3RhdHVzKGV4cG9ydHMuQ29ubmVjdGlvblN0YXR1cy5ESVNDT05ORUNURUQpLHIoITApKX0pKX0pKX1leHBvcnRzLkNvbW11bmljYXRpb25MYXllclByZWZlcmVuY2U9dm9pZCAwLGV4cG9ydHMuUGxhdGZvcm1UeXBlPXZvaWQgMCwoZXhwb3J0cy5Db21tdW5pY2F0aW9uTGF5ZXJQcmVmZXJlbmNlfHwoZXhwb3J0cy5Db21tdW5pY2F0aW9uTGF5ZXJQcmVmZXJlbmNlPXt9KSkuU09DS0VUPVwic29ja2V0XCIsZnVuY3Rpb24oZSl7ZS5Ob25Ccm93c2VyPVwibm9kZWpzXCIsZS5NZXRhTWFza01vYmlsZVdlYnZpZXc9XCJpbi1hcHAtYnJvd3NlclwiLGUuRGVza3RvcFdlYj1cIndlYi1kZXNrdG9wXCIsZS5Nb2JpbGVXZWI9XCJ3ZWItbW9iaWxlXCIsZS5SZWFjdE5hdGl2ZT1cInJlYWN0LW5hdGl2ZVwifShleHBvcnRzLlBsYXRmb3JtVHlwZXx8KGV4cG9ydHMuUGxhdGZvcm1UeXBlPXt9KSk7Y2xhc3MgQnIgZXh0ZW5kcyBpLkV2ZW50RW1pdHRlcjJ7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLnN0YXRlPXtyZWFkeTohMSxhdXRob3JpemVkOiExLGlzT3JpZ2luYXRvcjohMSx0ZXJtaW5hdGVkOiExLHByb3RvY29sVmVyc2lvbjoxLHBhdXNlZDohMSxkZWVwbGlua1Byb3RvY29sQXZhaWxhYmxlOiExLHBsYXRmb3JtVHlwZTpcIm1ldGFtYXNrLW1vYmlsZVwiLGFuYWx5dGljczohMSxyZWNvbm5lY3Rpb246ITEsb3JpZ2luYXRvckluZm9TZW50OiExLGNvbW11bmljYXRpb25TZXJ2ZXJVcmw6bnIsY29udGV4dDpcIlwiLHBlcnNpc3Q6ITEsY2xpZW50c0Nvbm5lY3RlZDohMSxzZXNzaW9uRHVyYXRpb246aXIsb3JpZ2luYXRvckNvbm5lY3RTdGFydGVkOiExLGRlYnVnOiExLF9jb25uZWN0aW9uU3RhdHVzOmV4cG9ydHMuQ29ubmVjdGlvblN0YXR1cy5ESVNDT05ORUNURUR9LHRoaXMuX29wdGlvbnM9ZTtjb25zdHtwbGF0Zm9ybVR5cGU6bixjb21tdW5pY2F0aW9uTGF5ZXJQcmVmZXJlbmNlOnIsb3RoZXJQdWJsaWNLZXk6aSxyZWNvbm5lY3Q6byx3YWxsZXRJbmZvOnMsZGFwcE1ldGFkYXRhOmEscHJvdG9jb2xWZXJzaW9uOmMsdHJhbnNwb3J0czpkLGNvbnRleHQ6bCxyZWxheVBlcnNpc3RlbmNlOnUsZWNpZXM6aCxhbmFseXRpY3M6Zj0hMSxzdG9yYWdlOnAsc2RrVmVyc2lvbjptLGNvbW11bmljYXRpb25TZXJ2ZXJVcmw6Zz1ucixsb2dnaW5nOnYsYXV0b0Nvbm5lY3Q6eT17dGltZW91dDpvcn19PWU7dGhpcy5zdGF0ZS5vdGhlclB1YmxpY0tleT1pLHRoaXMuc3RhdGUuZGFwcE1ldGFkYXRhPWEsdGhpcy5zdGF0ZS53YWxsZXRJbmZvPXMsdGhpcy5zdGF0ZS50cmFuc3BvcnRzPWQsdGhpcy5zdGF0ZS5wbGF0Zm9ybVR5cGU9bix0aGlzLnN0YXRlLmFuYWx5dGljcz1mLHRoaXMuc3RhdGUucHJvdG9jb2xWZXJzaW9uPW51bGwhPWM/YzoxLHRoaXMuc3RhdGUuaXNPcmlnaW5hdG9yPSFpLHRoaXMuc3RhdGUucmVsYXlQZXJzaXN0ZW5jZT11LHRoaXMuc3RhdGUuY29tbXVuaWNhdGlvblNlcnZlclVybD1nLHRoaXMuc3RhdGUuY29udGV4dD1sLHRoaXMuc3RhdGUudGVybWluYXRlZD0hMSx0aGlzLnN0YXRlLnNka1ZlcnNpb249bSx0aGlzLnNldE1heExpc3RlbmVycyg1MCksdGhpcy5zZXRDb25uZWN0aW9uU3RhdHVzKGV4cG9ydHMuQ29ubmVjdGlvblN0YXR1cy5ESVNDT05ORUNURUQpLChudWxsPT1wP3ZvaWQgMDpwLmR1cmF0aW9uKSYmKHRoaXMuc3RhdGUuc2Vzc2lvbkR1cmF0aW9uPWlyKSx0aGlzLnN0YXRlLnN0b3JhZ2VPcHRpb25zPXAsdGhpcy5zdGF0ZS5hdXRvQ29ubmVjdE9wdGlvbnM9eSx0aGlzLnN0YXRlLmRlYnVnPSEwPT09KG51bGw9PXY/dm9pZCAwOnYucmVtb3RlTGF5ZXIpLCEwPT09KG51bGw9PXY/dm9pZCAwOnYucmVtb3RlTGF5ZXIpJiZ0LmVuYWJsZShcIlJlbW90ZUNvbW11bmljYXRpb246TGF5ZXJcIiksITA9PT0obnVsbD09dj92b2lkIDA6di5zZXJ2aWNlTGF5ZXIpJiZ0LmVuYWJsZShcIlNvY2tldFNlcnZpY2U6TGF5ZXJcIiksITA9PT0obnVsbD09dj92b2lkIDA6di5lY2llc0xheWVyKSYmdC5lbmFibGUoXCJFQ0lFUzpMYXllclwiKSwhMD09PShudWxsPT12P3ZvaWQgMDp2LmtleUV4Y2hhbmdlTGF5ZXIpJiZ0LmVuYWJsZShcIktleUV4Y2hhbmdlOkxheWVyXCIpLHRoaXMuc3RhdGUubG9nZ2luZz12LChudWxsPT1wP3ZvaWQgMDpwLnN0b3JhZ2VNYW5hZ2VyKSYmKHRoaXMuc3RhdGUuc3RvcmFnZU1hbmFnZXI9cC5zdG9yYWdlTWFuYWdlciksWW4uUmVtb3RlQ29tbXVuaWNhdGlvbihgW1JlbW90ZUNvbW11bmljYXRpb246IGNvbnN0cnVjdG9yKCldIHByb3RvY29sVmVyc2lvbj0ke2N9IHJlbGF5UGVyc2lzdGVuY2U9JHt1fSBpc09yaWdpbmF0b3I9JHt0aGlzLnN0YXRlLmlzT3JpZ2luYXRvcn0gY29tbXVuaWNhdGlvbkxheWVyUHJlZmVyZW5jZT0ke3J9IG90aGVyUHVibGljS2V5PSR7aX0gcmVjb25uZWN0PSR7b31gKSx0aGlzLnN0YXRlLmlzT3JpZ2luYXRvcnx8RHIoe2NvbW11bmljYXRpb25MYXllclByZWZlcmVuY2U6cixvdGhlclB1YmxpY0tleTppLHJlY29ubmVjdDpvLGVjaWVzOmgsY29tbXVuaWNhdGlvblNlcnZlclVybDpnLGluc3RhbmNlOnRoaXN9KSx0aGlzLmVtaXRTZXJ2aWNlU3RhdHVzRXZlbnQoe2NvbnRleHQ6XCJjb25zdHJ1Y3RvclwifSl9aW5pdEZyb21EYXBwU3RvcmFnZSgpe3JldHVybiBsKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7dmFyIGU7aWYodGhpcy5zdGF0ZS5zdG9yYWdlTWFuYWdlcil7Y29uc3QgdD15aWVsZCB0aGlzLnN0YXRlLnN0b3JhZ2VNYW5hZ2VyLmdldFBlcnNpc3RlZENoYW5uZWxDb25maWcoe30pO3QmJih0aGlzLnN0YXRlLmNoYW5uZWxDb25maWc9dCx0aGlzLnN0YXRlLmNoYW5uZWxJZD10LmNoYW5uZWxJZCx0aGlzLnN0YXRlLmRlZXBsaW5rUHJvdG9jb2xBdmFpbGFibGU9bnVsbCE9PShlPXQuZGVlcGxpbmtQcm90b2NvbEF2YWlsYWJsZSkmJnZvaWQgMCE9PWUmJmUsdC5yZWxheVBlcnNpc3RlbmNlJiYodGhpcy5zdGF0ZS5hdXRob3JpemVkPSEwLHRoaXMuc3RhdGUucmVhZHk9ITAsdGhpcy5zZXRDb25uZWN0aW9uU3RhdHVzKGV4cG9ydHMuQ29ubmVjdGlvblN0YXR1cy5MSU5LRUQpLHlpZWxkIHRoaXMuY29ubmVjdFRvQ2hhbm5lbCh7Y2hhbm5lbElkOnQuY2hhbm5lbElkfSkpKX1Ecih7Y29tbXVuaWNhdGlvbkxheWVyUHJlZmVyZW5jZTpleHBvcnRzLkNvbW11bmljYXRpb25MYXllclByZWZlcmVuY2UuU09DS0VULG90aGVyUHVibGljS2V5OnRoaXMuc3RhdGUub3RoZXJQdWJsaWNLZXkscmVjb25uZWN0OnRoaXMuX29wdGlvbnMucmVjb25uZWN0LGVjaWVzOnRoaXMuX29wdGlvbnMuZWNpZXMsY29tbXVuaWNhdGlvblNlcnZlclVybDp0aGlzLnN0YXRlLmNvbW11bmljYXRpb25TZXJ2ZXJVcmwsaW5zdGFuY2U6dGhpc30pfSkpfW9yaWdpbmF0b3JTZXNzaW9uQ29ubmVjdCgpe3JldHVybiBsKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7cmV0dXJuIHlpZWxkIGZ1bmN0aW9uKGUpe3JldHVybiBsKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7dmFyIHQ7Y29uc3R7c3RhdGU6bn09ZTtpZighbi5zdG9yYWdlTWFuYWdlcilyZXR1cm4gdm9pZCBZbi5SZW1vdGVDb21tdW5pY2F0aW9uKFwiW1JlbW90ZUNvbW11bmljYXRpb246IG9yaWdpbmF0b3JTZXNzaW9uQ29ubmVjdCgpXSBubyBzdG9yYWdlIG1hbmFnZXIgZGVmaW5lZCAtIHNraXBcIik7Y29uc3Qgcj15aWVsZCBuLnN0b3JhZ2VNYW5hZ2VyLmdldFBlcnNpc3RlZENoYW5uZWxDb25maWcoe30pO2lmKFluLlJlbW90ZUNvbW11bmljYXRpb24oYFtSZW1vdGVDb21tdW5pY2F0aW9uOiBvcmlnaW5hdG9yU2Vzc2lvbkNvbm5lY3QoKV0gYXV0b1N0YXJ0ZWQ9JHtuLm9yaWdpbmF0b3JDb25uZWN0U3RhcnRlZH0gY2hhbm5lbENvbmZpZ2AsciksbnVsbD09PSh0PW4uY29tbXVuaWNhdGlvbkxheWVyKXx8dm9pZCAwPT09dD92b2lkIDA6dC5pc0Nvbm5lY3RlZCgpKXJldHVybiBZbi5SZW1vdGVDb21tdW5pY2F0aW9uKFwiW1JlbW90ZUNvbW11bmljYXRpb246IG9yaWdpbmF0b3JTZXNzaW9uQ29ubmVjdCgpXSBzb2NrZXQgYWxyZWFkeSBjb25uZWN0ZWQgLSBza2lwXCIpLHI7aWYocil7aWYoci52YWxpZFVudGlsPkRhdGUubm93KCkpcmV0dXJuIG4uY2hhbm5lbENvbmZpZz1yLG4ub3JpZ2luYXRvckNvbm5lY3RTdGFydGVkPSEwLG4uY2hhbm5lbElkPW51bGw9PXI/dm9pZCAwOnIuY2hhbm5lbElkLG4ucmVjb25uZWN0aW9uPSEwLHI7WW4uUmVtb3RlQ29tbXVuaWNhdGlvbihcIltSZW1vdGVDb21tdW5pY2F0aW9uOiBhdXRvQ29ubmVjdCgpXSBTZXNzaW9uIGhhcyBleHBpcmVkXCIpfW4ub3JpZ2luYXRvckNvbm5lY3RTdGFydGVkPSExfSkpfSh0aGlzKX0pKX1nZW5lcmF0ZUNoYW5uZWxJZENvbm5lY3QoKXtyZXR1cm4gbCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3ZhciB0LG4scixpLG8scztpZighZS5jb21tdW5pY2F0aW9uTGF5ZXIpdGhyb3cgbmV3IEVycm9yKFwiY29tbXVuaWNhdGlvbiBsYXllciBub3QgaW5pdGlhbGl6ZWRcIik7aWYoZS5yZWFkeSl0aHJvdyBuZXcgRXJyb3IoXCJDaGFubmVsIGFscmVhZHkgY29ubmVjdGVkXCIpO2lmKGUuY2hhbm5lbElkJiYobnVsbD09PSh0PWUuY29tbXVuaWNhdGlvbkxheWVyKXx8dm9pZCAwPT09dD92b2lkIDA6dC5pc0Nvbm5lY3RlZCgpKSlyZXR1cm4gZS5jaGFubmVsQ29uZmlnPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlLmNoYW5uZWxDb25maWcpLHtjaGFubmVsSWQ6ZS5jaGFubmVsSWQsdmFsaWRVbnRpbDpEYXRlLm5vdygpK2Uuc2Vzc2lvbkR1cmF0aW9ufSksbnVsbD09PShuPWUuc3RvcmFnZU1hbmFnZXIpfHx2b2lkIDA9PT1ufHxuLnBlcnNpc3RDaGFubmVsQ29uZmlnKGUuY2hhbm5lbENvbmZpZykse2NoYW5uZWxJZDplLmNoYW5uZWxJZCxwcml2S2V5Om51bGw9PT0oaT1udWxsPT09KHI9ZS5jb21tdW5pY2F0aW9uTGF5ZXIpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmdldEtleUluZm8oKSl8fHZvaWQgMD09PWk/dm9pZCAwOmkuZWNpZXMucHJpdmF0ZSxwdWJLZXk6bnVsbD09PShzPW51bGw9PT0obz1lLmNvbW11bmljYXRpb25MYXllcil8fHZvaWQgMD09PW8/dm9pZCAwOm8uZ2V0S2V5SW5mbygpKXx8dm9pZCAwPT09cz92b2lkIDA6cy5lY2llcy5wdWJsaWN9O1luLlJlbW90ZUNvbW11bmljYXRpb24oXCJbUmVtb3RlQ29tbXVuaWNhdGlvbjogZ2VuZXJhdGVDaGFubmVsSWQoKV1cIik7Y29uc3QgYT15aWVsZCBlLmNvbW11bmljYXRpb25MYXllci5jcmVhdGVDaGFubmVsKCk7WW4uUmVtb3RlQ29tbXVuaWNhdGlvbihcIltSZW1vdGVDb21tdW5pY2F0aW9uOiBnZW5lcmF0ZUNoYW5uZWxJZCgpXSBjaGFubmVsIGNyZWF0ZWRcIixhKTtjb25zdCBjPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlLmNoYW5uZWxDb25maWcpLHtjaGFubmVsSWQ6YS5jaGFubmVsSWQsbG9jYWxLZXk6YS5wcml2S2V5LHZhbGlkVW50aWw6RGF0ZS5ub3coKStlLnNlc3Npb25EdXJhdGlvbn0pO3JldHVybiBlLmNoYW5uZWxJZD1hLmNoYW5uZWxJZCxlLmNoYW5uZWxDb25maWc9Yyx7Y2hhbm5lbElkOmUuY2hhbm5lbElkLHB1YktleTphLnB1YktleSxwcml2S2V5OmEucHJpdktleX19KSl9KHRoaXMuc3RhdGUpfSkpfWNsZWFuKCl7cmV0dXJuIGFyKHRoaXMuc3RhdGUpfWNvbm5lY3RUb0NoYW5uZWwoe2NoYW5uZWxJZDplLHdpdGhLZXlFeGNoYW5nZTp0LGF1dGhvcml6ZWQ6bn0pe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbCh0aGlzLGFyZ3VtZW50cyx2b2lkIDAsKGZ1bmN0aW9uKih7Y2hhbm5lbElkOmUsd2l0aEtleUV4Y2hhbmdlOnQsYXV0aG9yaXplZDpuLHN0YXRlOnJ9KXt2YXIgaSxzLGE7aWYoIW8udmFsaWRhdGUoZSkpdGhyb3cgWW4uUmVtb3RlQ29tbXVuaWNhdGlvbihgW1JlbW90ZUNvbW11bmljYXRpb246IGNvbm5lY3RUb0NoYW5uZWwoKV0gY29udGV4dD0ke3IuY29udGV4dH0gaW52YWxpZCBjaGFubmVsIGNoYW5uZWxJZD0ke2V9YCksbmV3IEVycm9yKGBJbnZhbGlkIGNoYW5uZWwgJHtlfWApO2lmKFluLlJlbW90ZUNvbW11bmljYXRpb24oYFtSZW1vdGVDb21tdW5pY2F0aW9uOiBjb25uZWN0VG9DaGFubmVsKCldIGNvbnRleHQ9JHtyLmNvbnRleHR9IGNoYW5uZWxJZD0ke2V9IHdpdGhLZXlFeGNoYW5nZT0ke3R9YCksbnVsbD09PShpPXIuY29tbXVuaWNhdGlvbkxheWVyKXx8dm9pZCAwPT09aT92b2lkIDA6aS5pc0Nvbm5lY3RlZCgpKXJldHVybiB2b2lkIFluLlJlbW90ZUNvbW11bmljYXRpb24oYFtSZW1vdGVDb21tdW5pY2F0aW9uOiBjb25uZWN0VG9DaGFubmVsKCldIGNvbnRleHQ9JHtyLmNvbnRleHR9IGFscmVhZHkgY29ubmVjdGVkIC0gaW50ZXJydXB0IGNvbm5lY3Rpb24uYCk7ci5jaGFubmVsSWQ9ZSx5aWVsZCBudWxsPT09KHM9ci5jb21tdW5pY2F0aW9uTGF5ZXIpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLmNvbm5lY3RUb0NoYW5uZWwoe2NoYW5uZWxJZDplLGF1dGhvcml6ZWQ6bix3aXRoS2V5RXhjaGFuZ2U6dH0pO2NvbnN0IGM9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHIuY2hhbm5lbENvbmZpZykse2NoYW5uZWxJZDplLHZhbGlkVW50aWw6RGF0ZS5ub3coKStyLnNlc3Npb25EdXJhdGlvbn0pO3IuY2hhbm5lbENvbmZpZz1jLG51bGw9PT0oYT1yLnN0b3JhZ2VNYW5hZ2VyKXx8dm9pZCAwPT09YXx8YS5wZXJzaXN0Q2hhbm5lbENvbmZpZyhjKX0pKX0oe2NoYW5uZWxJZDplLGF1dGhvcml6ZWQ6bix3aXRoS2V5RXhjaGFuZ2U6dCxzdGF0ZTp0aGlzLnN0YXRlfSl9c2VuZE1lc3NhZ2UoZSl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXt2YXIgbixyO2NvbnN0e3N0YXRlOml9PWU7WW4uUmVtb3RlQ29tbXVuaWNhdGlvbihgW1JlbW90ZUNvbW11bmljYXRpb246IHNlbmRNZXNzYWdlKCldIGNvbnRleHQ9JHtpLmNvbnRleHR9IHBhdXNlZD0ke2kucGF1c2VkfSByZWFkeT0ke2kucmVhZHl9IHJlbGF5UGVyc2lzdGVuY2U9JHtpLnJlbGF5UGVyc2lzdGVuY2V9IGF1dGhvcml6ZWQ9JHtpLmF1dGhvcml6ZWR9IHNvY2tldD0ke251bGw9PT0obj1pLmNvbW11bmljYXRpb25MYXllcil8fHZvaWQgMD09PW4/dm9pZCAwOm4uaXNDb25uZWN0ZWQoKX0gY2xpZW50c0Nvbm5lY3RlZD0ke2kuY2xpZW50c0Nvbm5lY3RlZH0gc3RhdHVzPSR7aS5fY29ubmVjdGlvblN0YXR1c31gLHQpLGkucmVsYXlQZXJzaXN0ZW5jZXx8aS5yZWFkeSYmKG51bGw9PT0ocj1pLmNvbW11bmljYXRpb25MYXllcil8fHZvaWQgMD09PXI/dm9pZCAwOnIuaXNDb25uZWN0ZWQoKSkmJmkuY2xpZW50c0Nvbm5lY3RlZHx8KFluLlJlbW90ZUNvbW11bmljYXRpb24oYFtSZW1vdGVDb21tdW5pY2F0aW9uOiBzZW5kTWVzc2FnZSgpXSBjb250ZXh0PSR7aS5jb250ZXh0fSAgU0tJUCBtZXNzYWdlIHdhaXRpbmcgZm9yIE1NIG1vYmlsZSByZWFkaW5lc3MuYCkseWllbGQgbmV3IFByb21pc2UoKHQ9PntlLm9uY2UoZXhwb3J0cy5FdmVudFR5cGUuQ0xJRU5UU19SRUFEWSx0KX0pKSxZbi5SZW1vdGVDb21tdW5pY2F0aW9uKGBbUmVtb3RlQ29tbXVuaWNhdGlvbjogc2VuZE1lc3NhZ2UoKV0gY29udGV4dD0ke2kuY29udGV4dH0gIEFGVEVSIFNLSVAgLyBSRUFEWSAtLSBzZW5kaW5nIHBlbmRpbmcgbWVzc2FnZWApKTt0cnl7Y29uc3Qgbj15aWVsZCBmdW5jdGlvbihlLHQpe3JldHVybiBsKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7cmV0dXJuIG5ldyBQcm9taXNlKChuPT57dmFyIHI7Y29uc3R7c3RhdGU6aX09ZTtZbi5SZW1vdGVDb21tdW5pY2F0aW9uKGBbUmVtb3RlQ29tbXVuaWNhdGlvbjogaGFuZGxlQXV0aG9yaXphdGlvbigpXSBjb250ZXh0PSR7aS5jb250ZXh0fSByZWFkeT0ke2kucmVhZHl9IGF1dGhvcml6ZWQ9JHtpLmF1dGhvcml6ZWR9IG1ldGhvZD0ke3QubWV0aG9kfWApLCFpLmlzT3JpZ2luYXRvcnx8aS5hdXRob3JpemVkfHxpLnJlbGF5UGVyc2lzdGVuY2U/bnVsbD09PShyPWkuY29tbXVuaWNhdGlvbkxheWVyKXx8dm9pZCAwPT09cnx8ci5zZW5kTWVzc2FnZSh0KS50aGVuKChlPT57bihlKX0pKS5jYXRjaCgoZT0+e24oITEpfSkpOmUub25jZShleHBvcnRzLkV2ZW50VHlwZS5BVVRIT1JJWkVELCgoKT0+e3ZhciBlO1luLlJlbW90ZUNvbW11bmljYXRpb24oYFtSZW1vdGVDb21tdW5pY2F0aW9uOiBoYW5kbGVBdXRob3JpemF0aW9uKCldIGNvbnRleHQ9JHtpLmNvbnRleHR9ICBBRlRFUiBTS0lQIC8gQVVUSE9SSVpFRCAtLSBzZW5kaW5nIHBlbmRpbmcgbWVzc2FnZWApLG51bGw9PT0oZT1pLmNvbW11bmljYXRpb25MYXllcil8fHZvaWQgMD09PWV8fGUuc2VuZE1lc3NhZ2UodCkudGhlbigoZT0+e24oZSl9KSkuY2F0Y2goKGU9PntuKCExKX0pKX0pKX0pKX0pKX0oZSx0KTtyZXR1cm4gbn1jYXRjaChlKXt0aHJvdyBlfX0pKX0odGhpcyxlKX10ZXN0U3RvcmFnZSgpe3JldHVybiBsKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBsKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7dmFyIHQ7Y29uc3Qgbj15aWVsZCBudWxsPT09KHQ9ZS5zdG9yYWdlTWFuYWdlcil8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZ2V0UGVyc2lzdGVkQ2hhbm5lbENvbmZpZygpO1luLlJlbW90ZUNvbW11bmljYXRpb24oXCJbUmVtb3RlQ29tbXVuaWNhdGlvbjogdGVzdFN0b3JhZ2UoKV0gcmVzXCIsbil9KSl9KHRoaXMuc3RhdGUpfSkpfWhhc0RlZXBsaW5rUHJvdG9jb2woKXtyZXR1cm4gdGhpcy5zdGF0ZS5kZWVwbGlua1Byb3RvY29sQXZhaWxhYmxlfWdldENoYW5uZWxDb25maWcoKXtyZXR1cm4gdGhpcy5zdGF0ZS5jaGFubmVsQ29uZmlnfWlzUmVhZHkoKXtyZXR1cm4gdGhpcy5zdGF0ZS5yZWFkeX1pc0Nvbm5lY3RlZCgpe3ZhciBlO3JldHVybiBudWxsPT09KGU9dGhpcy5zdGF0ZS5jb21tdW5pY2F0aW9uTGF5ZXIpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmlzQ29ubmVjdGVkKCl9aXNBdXRob3JpemVkKCl7cmV0dXJuIHRoaXMuc3RhdGUuYXV0aG9yaXplZH1pc1BhdXNlZCgpe3JldHVybiB0aGlzLnN0YXRlLnBhdXNlZH1nZXRDb21tdW5pY2F0aW9uTGF5ZXIoKXtyZXR1cm4gdGhpcy5zdGF0ZS5jb21tdW5pY2F0aW9uTGF5ZXJ9cGluZygpe3JldHVybiBsKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7dmFyIGU7WW4uUmVtb3RlQ29tbXVuaWNhdGlvbihgW1JlbW90ZUNvbW11bmljYXRpb246IHBpbmcoKV0gY2hhbm5lbD0ke3RoaXMuc3RhdGUuY2hhbm5lbElkfWApLHlpZWxkIG51bGw9PT0oZT10aGlzLnN0YXRlLmNvbW11bmljYXRpb25MYXllcil8fHZvaWQgMD09PWU/dm9pZCAwOmUucGluZygpfSkpfXRlc3RMb2dnZXIoKXtZbi5SZW1vdGVDb21tdW5pY2F0aW9uKGB0ZXN0TG9nZ2VyKCkgY2hhbm5lbD0ke3RoaXMuc3RhdGUuY2hhbm5lbElkfWApLFluLlNvY2tldFNlcnZpY2UoYHRlc3RMb2dnZXIoKSBjaGFubmVsPSR7dGhpcy5zdGF0ZS5jaGFubmVsSWR9YCksWW4uRWNpZXMoYHRlc3RMb2dnZXIoKSBjaGFubmVsPSR7dGhpcy5zdGF0ZS5jaGFubmVsSWR9YCksWW4uS2V5RXhjaGFuZ2UoYHRlc3RMb2dnZXIoKSBjaGFubmVsPSR7dGhpcy5zdGF0ZS5jaGFubmVsSWR9YCl9a2V5Q2hlY2soKXt2YXIgZTtZbi5SZW1vdGVDb21tdW5pY2F0aW9uKGBbUmVtb3RlQ29tbXVuaWNhdGlvbjoga2V5Q2hlY2soKV0gY2hhbm5lbD0ke3RoaXMuc3RhdGUuY2hhbm5lbElkfWApLG51bGw9PT0oZT10aGlzLnN0YXRlLmNvbW11bmljYXRpb25MYXllcil8fHZvaWQgMD09PWV8fGUua2V5Q2hlY2soKX1zZXRDb25uZWN0aW9uU3RhdHVzKGUpe3RoaXMuc3RhdGUuX2Nvbm5lY3Rpb25TdGF0dXMhPT1lJiYodGhpcy5zdGF0ZS5fY29ubmVjdGlvblN0YXR1cz1lLHRoaXMuZW1pdChleHBvcnRzLkV2ZW50VHlwZS5DT05ORUNUSU9OX1NUQVRVUyxlKSx0aGlzLmVtaXRTZXJ2aWNlU3RhdHVzRXZlbnQoe2NvbnRleHQ6XCJzZXRDb25uZWN0aW9uU3RhdHVzXCJ9KSl9ZW1pdFNlcnZpY2VTdGF0dXNFdmVudChlPXt9KXt0aGlzLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuU0VSVklDRV9TVEFUVVMsdGhpcy5nZXRTZXJ2aWNlU3RhdHVzKCkpfWdldENvbm5lY3Rpb25TdGF0dXMoKXtyZXR1cm4gdGhpcy5zdGF0ZS5fY29ubmVjdGlvblN0YXR1c31nZXRTZXJ2aWNlU3RhdHVzKCl7cmV0dXJue29yaWdpbmF0b3JJbmZvOnRoaXMuc3RhdGUub3JpZ2luYXRvckluZm8sa2V5SW5mbzp0aGlzLmdldEtleUluZm8oKSxjb25uZWN0aW9uU3RhdHVzOnRoaXMuc3RhdGUuX2Nvbm5lY3Rpb25TdGF0dXMsY2hhbm5lbENvbmZpZzp0aGlzLnN0YXRlLmNoYW5uZWxDb25maWcsY2hhbm5lbElkOnRoaXMuc3RhdGUuY2hhbm5lbElkfX1nZXRLZXlJbmZvKCl7dmFyIGU7cmV0dXJuIG51bGw9PT0oZT10aGlzLnN0YXRlLmNvbW11bmljYXRpb25MYXllcil8fHZvaWQgMD09PWU/dm9pZCAwOmUuZ2V0S2V5SW5mbygpfXJlc2V0S2V5cygpe3ZhciBlO251bGw9PT0oZT10aGlzLnN0YXRlLmNvbW11bmljYXRpb25MYXllcil8fHZvaWQgMD09PWV8fGUucmVzZXRLZXlzKCl9c2V0T3RoZXJQdWJsaWNLZXkoZSl7dmFyIHQ7Y29uc3Qgbj1udWxsPT09KHQ9dGhpcy5zdGF0ZS5jb21tdW5pY2F0aW9uTGF5ZXIpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmdldEtleUV4Y2hhbmdlKCk7aWYoIW4pdGhyb3cgbmV3IEVycm9yKFwiS2V5RXhjaGFuZ2UgaXMgbm90IGluaXRpYWxpemVkLlwiKTtuLmdldE90aGVyUHVibGljS2V5KCkhPT1lJiZuLnNldE90aGVyUHVibGljS2V5KGUpfXBhdXNlKCl7cmV0dXJuIGwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXt2YXIgZTtZbi5SZW1vdGVDb21tdW5pY2F0aW9uKGBbUmVtb3RlQ29tbXVuaWNhdGlvbjogcGF1c2UoKV0gY2hhbm5lbD0ke3RoaXMuc3RhdGUuY2hhbm5lbElkfWApLHlpZWxkIG51bGw9PT0oZT10aGlzLnN0YXRlLmNvbW11bmljYXRpb25MYXllcil8fHZvaWQgMD09PWU/dm9pZCAwOmUucGF1c2UoKSx0aGlzLnNldENvbm5lY3Rpb25TdGF0dXMoZXhwb3J0cy5Db25uZWN0aW9uU3RhdHVzLlBBVVNFRCl9KSl9Z2V0VmVyc2lvbigpe3JldHVybiB0ci52ZXJzaW9ufWhhc1JlbGF5UGVyc2lzdGVuY2UoKXt2YXIgZTtyZXR1cm4gbnVsbCE9PShlPXRoaXMuc3RhdGUucmVsYXlQZXJzaXN0ZW5jZSkmJnZvaWQgMCE9PWUmJmV9cmVzdW1lKCl7cmV0dXJuIGwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXt2YXIgdDtjb25zdHtzdGF0ZTpufT1lO1luLlJlbW90ZUNvbW11bmljYXRpb24oYFtSZW1vdGVDb21tdW5pY2F0aW9uOiByZXN1bWUoKV0gY2hhbm5lbD0ke24uY2hhbm5lbElkfWApLHlpZWxkIG51bGw9PT0odD1uLmNvbW11bmljYXRpb25MYXllcil8fHZvaWQgMD09PXQ/dm9pZCAwOnQucmVzdW1lKCksZS5zZXRDb25uZWN0aW9uU3RhdHVzKGV4cG9ydHMuQ29ubmVjdGlvblN0YXR1cy5MSU5LRUQpfSkpfSh0aGlzKX0pKX1lbmNyeXB0KGUpe3ZhciB0LG4scjtjb25zdCBpPW51bGw9PT0odD10aGlzLnN0YXRlLmNvbW11bmljYXRpb25MYXllcil8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZ2V0S2V5RXhjaGFuZ2UoKSxvPW51bGw9PWk/dm9pZCAwOmkuZ2V0T3RoZXJQdWJsaWNLZXkoKTtpZighbyl0aHJvdyBuZXcgRXJyb3IoXCJLZXlFeGNoYW5nZSBub3QgY29tcGxldGVkXCIpO3JldHVybiBudWxsPT09KHI9bnVsbD09PShuPXRoaXMuc3RhdGUuY29tbXVuaWNhdGlvbkxheWVyKXx8dm9pZCAwPT09bj92b2lkIDA6bi5zdGF0ZS5lY2llc0luc3RhbmNlKXx8dm9pZCAwPT09cj92b2lkIDA6ci5lbmNyeXB0KGUsbyl9ZGVjcnlwdChlKXt2YXIgdCxuLHI7aWYoIShudWxsPT09KHQ9dGhpcy5zdGF0ZS5jb21tdW5pY2F0aW9uTGF5ZXIpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnN0YXRlLmVjaWVzSW5zdGFuY2UpKXRocm93IG5ldyBFcnJvcihcIkVDSUVTIGluc3RhbmNlIGlzIG5vdCBpbml0aWFsaXplZFwiKTtyZXR1cm4gbnVsbD09PShyPW51bGw9PT0obj10aGlzLnN0YXRlLmNvbW11bmljYXRpb25MYXllcil8fHZvaWQgMD09PW4/dm9pZCAwOm4uc3RhdGUuZWNpZXNJbnN0YW5jZSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuZGVjcnlwdChlKX1nZXRDaGFubmVsSWQoKXtyZXR1cm4gdGhpcy5zdGF0ZS5jaGFubmVsSWR9Z2V0UlBDTWV0aG9kVHJhY2tlcigpe3ZhciBlO3JldHVybiBudWxsPT09KGU9dGhpcy5zdGF0ZS5jb21tdW5pY2F0aW9uTGF5ZXIpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmdldFJQQ01ldGhvZFRyYWNrZXIoKX1yZWplY3Qoe2NoYW5uZWxJZDplfSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBsKHRoaXMsYXJndW1lbnRzLHZvaWQgMCwoZnVuY3Rpb24qKHtjaGFubmVsSWQ6ZSxzdGF0ZTp0fSl7dmFyIG4scixpO2lmKCFvLnZhbGlkYXRlKGUpKXRocm93IFluLlJlbW90ZUNvbW11bmljYXRpb24oYFtSZW1vdGVDb21tdW5pY2F0aW9uOiBjb25uZWN0VG9DaGFubmVsKCldIGNvbnRleHQ9JHt0LmNvbnRleHR9IGludmFsaWQgY2hhbm5lbCBjaGFubmVsSWQ9JHtlfWApLG5ldyBFcnJvcihgSW52YWxpZCBjaGFubmVsICR7ZX1gKTtpZih0LmlzT3JpZ2luYXRvcilyZXR1cm4gdm9pZCBZbi5SZW1vdGVDb21tdW5pY2F0aW9uKGBbUmVtb3RlQ29tbXVuaWNhdGlvbjogcmVqZWN0KCldIGNvbnRleHQ9JHt0LmNvbnRleHR9IGlzT3JpZ2luYXRvcj0ke3QuaXNPcmlnaW5hdG9yfSBjaGFubmVsSWQ9JHtlfWApO2NvbnN0e3NvY2tldDpzfT1udWxsIT09KHI9bnVsbD09PShuPXQuY29tbXVuaWNhdGlvbkxheWVyKXx8dm9pZCAwPT09bj92b2lkIDA6bi5zdGF0ZSkmJnZvaWQgMCE9PXI/cjp7fTsobnVsbD09cz92b2lkIDA6cy5jb25uZWN0ZWQpfHwoWW4uUmVtb3RlQ29tbXVuaWNhdGlvbihgW1JlbW90ZUNvbW11bmljYXRpb246IHJlamVjdCgpXSBjb250ZXh0PSR7dC5jb250ZXh0fSBzb2NrZXQgYWxyZWFkeSBjb25uZWN0ZWRgKSxudWxsPT1zfHxzLmNvbm5lY3QoKSksWG4oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHtpZDplLGV2ZW50OmxyLlJFSkVDVEVEfSx0Lm9yaWdpbmF0b3JJbmZvKSx7c2RrVmVyc2lvbjp0LnNka1ZlcnNpb24sY29tbUxheWVyVmVyc2lvbjp0ci52ZXJzaW9uLHdhbGxldFZlcnNpb246bnVsbD09PShpPXQud2FsbGV0SW5mbyl8fHZvaWQgMD09PWk/dm9pZCAwOmkudmVyc2lvbn0pLHQuY29tbXVuaWNhdGlvblNlcnZlclVybCkuY2F0Y2goKGU9Pnt9KSkseWllbGQgbmV3IFByb21pc2UoKChuLHIpPT57bnVsbD09c3x8cy5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLlJFSkVDVEVELHtjaGFubmVsSWQ6ZX0sKChlLGkpPT57WW4uUmVtb3RlQ29tbXVuaWNhdGlvbihgW1JlbW90ZUNvbW11bmljYXRpb246IHJlamVjdCgpXSBjb250ZXh0PSR7dC5jb250ZXh0fSBzb2NrZXQ9JHtudWxsPT1zP3ZvaWQgMDpzLmlkfWAse2Vycm9yOmUscmVzcG9uc2U6aX0pLGU/cihlKTpuKGkpfSkpfSkpfSkpfSh7Y2hhbm5lbElkOmUsc3RhdGU6dGhpcy5zdGF0ZX0pfWRpc2Nvbm5lY3QoZSl7cmV0dXJuIGwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtyZXR1cm4gTHIoe29wdGlvbnM6ZSxpbnN0YW5jZTp0aGlzfSl9KSl9fSFmdW5jdGlvbihlKXtlLlJFTkVXPVwicmVuZXdcIixlLkxJTks9XCJsaW5rXCJ9KENyfHwoQ3I9e30pKTt2YXIgS3I9XCJFUkM3MjFcIixqcj1cIkVSQzExNTVcIiwkcj17ZXJyb3JzOntkaXNjb25uZWN0ZWQ6KCk9PlwiTWV0YU1hc2s6IERpc2Nvbm5lY3RlZCBmcm9tIGNoYWluLiBBdHRlbXB0aW5nIHRvIGNvbm5lY3QuXCIscGVybWFuZW50bHlEaXNjb25uZWN0ZWQ6KCk9PlwiTWV0YU1hc2s6IERpc2Nvbm5lY3RlZCBmcm9tIE1ldGFNYXNrIGJhY2tncm91bmQuIFBhZ2UgcmVsb2FkIHJlcXVpcmVkLlwiLHNlbmRTaXRlTWV0YWRhdGE6KCk9PlwiTWV0YU1hc2s6IEZhaWxlZCB0byBzZW5kIHNpdGUgbWV0YWRhdGEuIFRoaXMgaXMgYW4gaW50ZXJuYWwgZXJyb3IsIHBsZWFzZSByZXBvcnQgdGhpcyBidWcuXCIsdW5zdXBwb3J0ZWRTeW5jOmU9PmBNZXRhTWFzazogVGhlIE1ldGFNYXNrIEV0aGVyZXVtIHByb3ZpZGVyIGRvZXMgbm90IHN1cHBvcnQgc3luY2hyb25vdXMgbWV0aG9kcyBsaWtlICR7ZX0gd2l0aG91dCBhIGNhbGxiYWNrIHBhcmFtZXRlci5gLGludmFsaWREdXBsZXhTdHJlYW06KCk9PlwiTXVzdCBwcm92aWRlIGEgTm9kZS5qcy1zdHlsZSBkdXBsZXggc3RyZWFtLlwiLGludmFsaWROZXR3b3JrUGFyYW1zOigpPT5cIk1ldGFNYXNrOiBSZWNlaXZlZCBpbnZhbGlkIG5ldHdvcmsgcGFyYW1ldGVycy4gUGxlYXNlIHJlcG9ydCB0aGlzIGJ1Zy5cIixpbnZhbGlkUmVxdWVzdEFyZ3M6KCk9PlwiRXhwZWN0ZWQgYSBzaW5nbGUsIG5vbi1hcnJheSwgb2JqZWN0IGFyZ3VtZW50LlwiLGludmFsaWRSZXF1ZXN0TWV0aG9kOigpPT5cIidhcmdzLm1ldGhvZCcgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmcuXCIsaW52YWxpZFJlcXVlc3RQYXJhbXM6KCk9PlwiJ2FyZ3MucGFyYW1zJyBtdXN0IGJlIGFuIG9iamVjdCBvciBhcnJheSBpZiBwcm92aWRlZC5cIixpbnZhbGlkTG9nZ2VyT2JqZWN0OigpPT5cIidhcmdzLmxvZ2dlcicgbXVzdCBiZSBhbiBvYmplY3QgaWYgcHJvdmlkZWQuXCIsaW52YWxpZExvZ2dlck1ldGhvZDplPT5gJ2FyZ3MubG9nZ2VyJyBtdXN0IGluY2x1ZGUgcmVxdWlyZWQgbWV0aG9kICcke2V9Jy5gfSxpbmZvOntjb25uZWN0ZWQ6ZT0+YE1ldGFNYXNrOiBDb25uZWN0ZWQgdG8gY2hhaW4gd2l0aCBJRCBcIiR7ZX1cIi5gfSx3YXJuaW5nczp7Y2hhaW5JZERlcHJlY2F0aW9uOlwiTWV0YU1hc2s6ICdldGhlcmV1bS5jaGFpbklkJyBpcyBkZXByZWNhdGVkIGFuZCBtYXkgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLiBQbGVhc2UgdXNlIHRoZSAnZXRoX2NoYWluSWQnIFJQQyBtZXRob2QgaW5zdGVhZC5cXG5Gb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlOiBodHRwczovL2dpdGh1Yi5jb20vTWV0YU1hc2svbWV0YW1hc2staW1wcm92ZW1lbnQtcHJvcG9zYWxzL2Rpc2N1c3Npb25zLzIzXCIsbmV0d29ya1ZlcnNpb25EZXByZWNhdGlvbjpcIk1ldGFNYXNrOiAnZXRoZXJldW0ubmV0d29ya1ZlcnNpb24nIGlzIGRlcHJlY2F0ZWQgYW5kIG1heSBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUuIFBsZWFzZSB1c2UgdGhlICduZXRfdmVyc2lvbicgUlBDIG1ldGhvZCBpbnN0ZWFkLlxcbkZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9NZXRhTWFzay9tZXRhbWFzay1pbXByb3ZlbWVudC1wcm9wb3NhbHMvZGlzY3Vzc2lvbnMvMjNcIixzZWxlY3RlZEFkZHJlc3NEZXByZWNhdGlvbjpcIk1ldGFNYXNrOiAnZXRoZXJldW0uc2VsZWN0ZWRBZGRyZXNzJyBpcyBkZXByZWNhdGVkIGFuZCBtYXkgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLiBQbGVhc2UgdXNlIHRoZSAnZXRoX2FjY291bnRzJyBSUEMgbWV0aG9kIGluc3RlYWQuXFxuRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL01ldGFNYXNrL21ldGFtYXNrLWltcHJvdmVtZW50LXByb3Bvc2Fscy9kaXNjdXNzaW9ucy8yM1wiLGVuYWJsZURlcHJlY2F0aW9uOlwiTWV0YU1hc2s6ICdldGhlcmV1bS5lbmFibGUoKScgaXMgZGVwcmVjYXRlZCBhbmQgbWF5IGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZS4gUGxlYXNlIHVzZSB0aGUgJ2V0aF9yZXF1ZXN0QWNjb3VudHMnIFJQQyBtZXRob2QgaW5zdGVhZC5cXG5Gb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlOiBodHRwczovL2VpcHMuZXRoZXJldW0ub3JnL0VJUFMvZWlwLTExMDJcIixzZW5kRGVwcmVjYXRpb246XCJNZXRhTWFzazogJ2V0aGVyZXVtLnNlbmQoLi4uKScgaXMgZGVwcmVjYXRlZCBhbmQgbWF5IGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZS4gUGxlYXNlIHVzZSAnZXRoZXJldW0uc2VuZEFzeW5jKC4uLiknIG9yICdldGhlcmV1bS5yZXF1ZXN0KC4uLiknIGluc3RlYWQuXFxuRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZTogaHR0cHM6Ly9laXBzLmV0aGVyZXVtLm9yZy9FSVBTL2VpcC0xMTkzXCIsZXZlbnRzOntjbG9zZTpcIk1ldGFNYXNrOiBUaGUgZXZlbnQgJ2Nsb3NlJyBpcyBkZXByZWNhdGVkIGFuZCBtYXkgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLiBQbGVhc2UgdXNlICdkaXNjb25uZWN0JyBpbnN0ZWFkLlxcbkZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWU6IGh0dHBzOi8vZWlwcy5ldGhlcmV1bS5vcmcvRUlQUy9laXAtMTE5MyNkaXNjb25uZWN0XCIsZGF0YTpcIk1ldGFNYXNrOiBUaGUgZXZlbnQgJ2RhdGEnIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLiBVc2UgJ21lc3NhZ2UnIGluc3RlYWQuXFxuRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZTogaHR0cHM6Ly9laXBzLmV0aGVyZXVtLm9yZy9FSVBTL2VpcC0xMTkzI21lc3NhZ2VcIixuZXR3b3JrQ2hhbmdlZDpcIk1ldGFNYXNrOiBUaGUgZXZlbnQgJ25ldHdvcmtDaGFuZ2VkJyBpcyBkZXByZWNhdGVkIGFuZCBtYXkgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLiBVc2UgJ2NoYWluQ2hhbmdlZCcgaW5zdGVhZC5cXG5Gb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlOiBodHRwczovL2VpcHMuZXRoZXJldW0ub3JnL0VJUFMvZWlwLTExOTMjY2hhaW5jaGFuZ2VkXCIsbm90aWZpY2F0aW9uOlwiTWV0YU1hc2s6IFRoZSBldmVudCAnbm90aWZpY2F0aW9uJyBpcyBkZXByZWNhdGVkIGFuZCBtYXkgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLiBVc2UgJ21lc3NhZ2UnIGluc3RlYWQuXFxuRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZTogaHR0cHM6Ly9laXBzLmV0aGVyZXVtLm9yZy9FSVBTL2VpcC0xMTkzI21lc3NhZ2VcIn0scnBjOntldGhEZWNyeXB0RGVwcmVjYXRpb246XCJNZXRhTWFzazogVGhlIFJQQyBtZXRob2QgJ2V0aF9kZWNyeXB0JyBpcyBkZXByZWNhdGVkIGFuZCBtYXkgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLlxcbkZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWU6IGh0dHBzOi8vbWVkaXVtLmNvbS9tZXRhbWFzay9tZXRhbWFzay1hcGktbWV0aG9kLWRlcHJlY2F0aW9uLTJiMDU2NGE4NDY4NlwiLGV0aEdldEVuY3J5cHRpb25QdWJsaWNLZXlEZXByZWNhdGlvbjpcIk1ldGFNYXNrOiBUaGUgUlBDIG1ldGhvZCAnZXRoX2dldEVuY3J5cHRpb25QdWJsaWNLZXknIGlzIGRlcHJlY2F0ZWQgYW5kIG1heSBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUuXFxuRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZTogaHR0cHM6Ly9tZWRpdW0uY29tL21ldGFtYXNrL21ldGFtYXNrLWFwaS1tZXRob2QtZGVwcmVjYXRpb24tMmIwNTY0YTg0Njg2XCIsd2FsbGV0V2F0Y2hBc3NldE5GVEV4cGVyaW1lbnRhbDpcIk1ldGFNYXNrOiBUaGUgUlBDIG1ldGhvZCAnd2FsbGV0X3dhdGNoQXNzZXQnIGlzIGV4cGVyaW1lbnRhbCBmb3IgRVJDNzIxL0VSQzExNTUgYXNzZXRzIGFuZCBtYXkgY2hhbmdlIGluIHRoZSBmdXR1cmUuXFxuRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL01ldGFNYXNrL21ldGFtYXNrLWltcHJvdmVtZW50LXByb3Bvc2Fscy9ibG9iL21haW4vTUlQcy9taXAtMS5tZCBhbmQgaHR0cHM6Ly9naXRodWIuY29tL01ldGFNYXNrL21ldGFtYXNrLWltcHJvdmVtZW50LXByb3Bvc2Fscy9ibG9iL21haW4vUFJPQ0VTUy1HVUlERS5tZCNwcm9wb3NhbC1saWZlY3ljbGVcIn0sZXhwZXJpbWVudGFsTWV0aG9kczpcIk1ldGFNYXNrOiAnZXRoZXJldW0uX21ldGFtYXNrJyBleHBvc2VzIG5vbi1zdGFuZGFyZCwgZXhwZXJpbWVudGFsIG1ldGhvZHMuIFRoZXkgbWF5IGJlIHJlbW92ZWQgb3IgY2hhbmdlZCB3aXRob3V0IHdhcm5pbmcuXCJ9fTtmdW5jdGlvbiBIcihlKXtjb25zdCB0PXtldGhEZWNyeXB0RGVwcmVjYXRpb246ITEsZXRoR2V0RW5jcnlwdGlvblB1YmxpY0tleURlcHJlY2F0aW9uOiExLHdhbGxldFdhdGNoQXNzZXRORlRFeHBlcmltZW50YWw6ITF9O3JldHVybihuLHIsaSk9Pnt0LmV0aERlY3J5cHREZXByZWNhdGlvbnx8XCJldGhfZGVjcnlwdFwiIT09bi5tZXRob2Q/dC5ldGhHZXRFbmNyeXB0aW9uUHVibGljS2V5RGVwcmVjYXRpb258fFwiZXRoX2dldEVuY3J5cHRpb25QdWJsaWNLZXlcIiE9PW4ubWV0aG9kPyF0LndhbGxldFdhdGNoQXNzZXRORlRFeHBlcmltZW50YWwmJlwid2FsbGV0X3dhdGNoQXNzZXRcIj09PW4ubWV0aG9kJiZbS3IsanJdLmluY2x1ZGVzKG4ucGFyYW1zPy50eXBlfHxcIlwiKSYmKGUud2Fybigkci53YXJuaW5ncy5ycGMud2FsbGV0V2F0Y2hBc3NldE5GVEV4cGVyaW1lbnRhbCksdC53YWxsZXRXYXRjaEFzc2V0TkZURXhwZXJpbWVudGFsPSEwKTooZS53YXJuKCRyLndhcm5pbmdzLnJwYy5ldGhHZXRFbmNyeXB0aW9uUHVibGljS2V5RGVwcmVjYXRpb24pLHQuZXRoR2V0RW5jcnlwdGlvblB1YmxpY0tleURlcHJlY2F0aW9uPSEwKTooZS53YXJuKCRyLndhcm5pbmdzLnJwYy5ldGhEZWNyeXB0RGVwcmVjYXRpb24pLHQuZXRoRGVjcnlwdERlcHJlY2F0aW9uPSEwKSxpKCl9fXZhciBVcj00Mjk0OTY3Mjk1LEZyPU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpVcik7ZnVuY3Rpb24gcXIoKXtyZXR1cm4oZSx0LG4scik9Pntjb25zdCBpPWUuaWQsbz1Gcj0oRnIrMSklVXI7ZS5pZD1vLHQuaWQ9byxuKChuPT57ZS5pZD1pLHQuaWQ9aSxuKCl9KSl9fXZhciB6cj0oZSx0LG4pPT57aWYoIXQuaGFzKGUpKXRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBcIituKX0sV3I9KGUsdCxuKT0+KHpyKGUsdCxcInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkXCIpLG4/bi5jYWxsKGUpOnQuZ2V0KGUpKSxWcj0oZSx0LG4pPT57aWYodC5oYXMoZSkpdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IGFkZCB0aGUgc2FtZSBwcml2YXRlIG1lbWJlciBtb3JlIHRoYW4gb25jZVwiKTt0IGluc3RhbmNlb2YgV2Vha1NldD90LmFkZChlKTp0LnNldChlLG4pfSxHcj0oZSx0LG4scik9Pih6cihlLHQsXCJ3cml0ZSB0byBwcml2YXRlIGZpZWxkXCIpLHQuc2V0KGUsbiksbiksWXI9KGUsdCxuKT0+KHpyKGUsdCxcImFjY2VzcyBwcml2YXRlIG1ldGhvZFwiKSxuKSxacj17aW52YWxpZElucHV0Oi0zMmUzLHJlc291cmNlTm90Rm91bmQ6LTMyMDAxLHJlc291cmNlVW5hdmFpbGFibGU6LTMyMDAyLHRyYW5zYWN0aW9uUmVqZWN0ZWQ6LTMyMDAzLG1ldGhvZE5vdFN1cHBvcnRlZDotMzIwMDQsbGltaXRFeGNlZWRlZDotMzIwMDUscGFyc2U6LTMyNzAwLGludmFsaWRSZXF1ZXN0Oi0zMjYwMCxtZXRob2ROb3RGb3VuZDotMzI2MDEsaW52YWxpZFBhcmFtczotMzI2MDIsaW50ZXJuYWw6LTMyNjAzfSxKcj17XCItMzI3MDBcIjp7c3RhbmRhcmQ6XCJKU09OIFJQQyAyLjBcIixtZXNzYWdlOlwiSW52YWxpZCBKU09OIHdhcyByZWNlaXZlZCBieSB0aGUgc2VydmVyLiBBbiBlcnJvciBvY2N1cnJlZCBvbiB0aGUgc2VydmVyIHdoaWxlIHBhcnNpbmcgdGhlIEpTT04gdGV4dC5cIn0sXCItMzI2MDBcIjp7c3RhbmRhcmQ6XCJKU09OIFJQQyAyLjBcIixtZXNzYWdlOlwiVGhlIEpTT04gc2VudCBpcyBub3QgYSB2YWxpZCBSZXF1ZXN0IG9iamVjdC5cIn0sXCItMzI2MDFcIjp7c3RhbmRhcmQ6XCJKU09OIFJQQyAyLjBcIixtZXNzYWdlOlwiVGhlIG1ldGhvZCBkb2VzIG5vdCBleGlzdCAvIGlzIG5vdCBhdmFpbGFibGUuXCJ9LFwiLTMyNjAyXCI6e3N0YW5kYXJkOlwiSlNPTiBSUEMgMi4wXCIsbWVzc2FnZTpcIkludmFsaWQgbWV0aG9kIHBhcmFtZXRlcihzKS5cIn0sXCItMzI2MDNcIjp7c3RhbmRhcmQ6XCJKU09OIFJQQyAyLjBcIixtZXNzYWdlOlwiSW50ZXJuYWwgSlNPTi1SUEMgZXJyb3IuXCJ9LFwiLTMyMDAwXCI6e3N0YW5kYXJkOlwiRUlQLTE0NzRcIixtZXNzYWdlOlwiSW52YWxpZCBpbnB1dC5cIn0sXCItMzIwMDFcIjp7c3RhbmRhcmQ6XCJFSVAtMTQ3NFwiLG1lc3NhZ2U6XCJSZXNvdXJjZSBub3QgZm91bmQuXCJ9LFwiLTMyMDAyXCI6e3N0YW5kYXJkOlwiRUlQLTE0NzRcIixtZXNzYWdlOlwiUmVzb3VyY2UgdW5hdmFpbGFibGUuXCJ9LFwiLTMyMDAzXCI6e3N0YW5kYXJkOlwiRUlQLTE0NzRcIixtZXNzYWdlOlwiVHJhbnNhY3Rpb24gcmVqZWN0ZWQuXCJ9LFwiLTMyMDA0XCI6e3N0YW5kYXJkOlwiRUlQLTE0NzRcIixtZXNzYWdlOlwiTWV0aG9kIG5vdCBzdXBwb3J0ZWQuXCJ9LFwiLTMyMDA1XCI6e3N0YW5kYXJkOlwiRUlQLTE0NzRcIixtZXNzYWdlOlwiUmVxdWVzdCBsaW1pdCBleGNlZWRlZC5cIn0sNDAwMTp7c3RhbmRhcmQ6XCJFSVAtMTE5M1wiLG1lc3NhZ2U6XCJVc2VyIHJlamVjdGVkIHRoZSByZXF1ZXN0LlwifSw0MTAwOntzdGFuZGFyZDpcIkVJUC0xMTkzXCIsbWVzc2FnZTpcIlRoZSByZXF1ZXN0ZWQgYWNjb3VudCBhbmQvb3IgbWV0aG9kIGhhcyBub3QgYmVlbiBhdXRob3JpemVkIGJ5IHRoZSB1c2VyLlwifSw0MjAwOntzdGFuZGFyZDpcIkVJUC0xMTkzXCIsbWVzc2FnZTpcIlRoZSByZXF1ZXN0ZWQgbWV0aG9kIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBFdGhlcmV1bSBwcm92aWRlci5cIn0sNDkwMDp7c3RhbmRhcmQ6XCJFSVAtMTE5M1wiLG1lc3NhZ2U6XCJUaGUgcHJvdmlkZXIgaXMgZGlzY29ubmVjdGVkIGZyb20gYWxsIGNoYWlucy5cIn0sNDkwMTp7c3RhbmRhcmQ6XCJFSVAtMTE5M1wiLG1lc3NhZ2U6XCJUaGUgcHJvdmlkZXIgaXMgZGlzY29ubmVjdGVkIGZyb20gdGhlIHNwZWNpZmllZCBjaGFpbi5cIn19O2Z1bmN0aW9uIFFyKGUpe3JldHVybiBCb29sZWFuKGUpJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmIUFycmF5LmlzQXJyYXkoZSl9dmFyIFhyPShlLHQpPT5PYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpO2NsYXNzIGVpIGV4dGVuZHMgVHlwZUVycm9ye2NvbnN0cnVjdG9yKGUsdCl7bGV0IG47Y29uc3R7bWVzc2FnZTpyLGV4cGxhbmF0aW9uOmksLi4ub309ZSx7cGF0aDpzfT1lLGE9MD09PXMubGVuZ3RoP3I6YEF0IHBhdGg6ICR7cy5qb2luKFwiLlwiKX0gLS0gJHtyfWA7c3VwZXIoaT8/YSksbnVsbCE9aSYmKHRoaXMuY2F1c2U9YSksT2JqZWN0LmFzc2lnbih0aGlzLG8pLHRoaXMubmFtZT10aGlzLmNvbnN0cnVjdG9yLm5hbWUsdGhpcy5mYWlsdXJlcz0oKT0+bj8/KG49W2UsLi4udCgpXSl9fWZ1bmN0aW9uIHRpKGUpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiBlJiZudWxsIT1lfWZ1bmN0aW9uIG5pKGUpe3JldHVyblwic3ltYm9sXCI9PXR5cGVvZiBlP2UudG9TdHJpbmcoKTpcInN0cmluZ1wiPT10eXBlb2YgZT9KU09OLnN0cmluZ2lmeShlKTpgJHtlfWB9ZnVuY3Rpb24gcmkoZSx0LG4scil7aWYoITA9PT1lKXJldHVybjshMT09PWU/ZT17fTpcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9e21lc3NhZ2U6ZX0pO2NvbnN0e3BhdGg6aSxicmFuY2g6b309dCx7dHlwZTpzfT1uLHtyZWZpbmVtZW50OmEsbWVzc2FnZTpjPWBFeHBlY3RlZCBhIHZhbHVlIG9mIHR5cGUgXFxgJHtzfVxcYCR7YT9gIHdpdGggcmVmaW5lbWVudCBcXGAke2F9XFxgYDpcIlwifSwgYnV0IHJlY2VpdmVkOiBcXGAke25pKHIpfVxcYGB9PWU7cmV0dXJue3ZhbHVlOnIsdHlwZTpzLHJlZmluZW1lbnQ6YSxrZXk6aVtpLmxlbmd0aC0xXSxwYXRoOmksYnJhbmNoOm8sLi4uZSxtZXNzYWdlOmN9fWZ1bmN0aW9uKmlpKGUsdCxuLHIpeyhmdW5jdGlvbihlKXtyZXR1cm4gdGkoZSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGVbU3ltYm9sLml0ZXJhdG9yXX0pKGUpfHwoZT1bZV0pO2Zvcihjb25zdCBpIG9mIGUpe2NvbnN0IGU9cmkoaSx0LG4scik7ZSYmKHlpZWxkIGUpfX1mdW5jdGlvbipvaShlLHQsbj17fSl7Y29uc3R7cGF0aDpyPVtdLGJyYW5jaDppPVtlXSxjb2VyY2U6bz0hMSxtYXNrOnM9ITF9PW4sYT17cGF0aDpyLGJyYW5jaDppfTtpZihvJiYoZT10LmNvZXJjZXIoZSxhKSxzJiZcInR5cGVcIiE9PXQudHlwZSYmdGkodC5zY2hlbWEpJiZ0aShlKSYmIUFycmF5LmlzQXJyYXkoZSkpKWZvcihjb25zdCBuIGluIGUpdm9pZCAwPT09dC5zY2hlbWFbbl0mJmRlbGV0ZSBlW25dO2xldCBjPVwidmFsaWRcIjtmb3IoY29uc3QgciBvZiB0LnZhbGlkYXRvcihlLGEpKXIuZXhwbGFuYXRpb249bi5tZXNzYWdlLGM9XCJub3RfdmFsaWRcIix5aWVsZFtyLHZvaWQgMF07Zm9yKGxldFtkLGwsdV1vZiB0LmVudHJpZXMoZSxhKSl7Y29uc3QgdD1vaShsLHUse3BhdGg6dm9pZCAwPT09ZD9yOlsuLi5yLGRdLGJyYW5jaDp2b2lkIDA9PT1kP2k6Wy4uLmksbF0sY29lcmNlOm8sbWFzazpzLG1lc3NhZ2U6bi5tZXNzYWdlfSk7Zm9yKGNvbnN0IG4gb2YgdCluWzBdPyhjPW51bGwhPW5bMF0ucmVmaW5lbWVudD9cIm5vdF9yZWZpbmVkXCI6XCJub3RfdmFsaWRcIix5aWVsZFtuWzBdLHZvaWQgMF0pOm8mJihsPW5bMV0sdm9pZCAwPT09ZD9lPWw6ZSBpbnN0YW5jZW9mIE1hcD9lLnNldChkLGwpOmUgaW5zdGFuY2VvZiBTZXQ/ZS5hZGQobCk6dGkoZSkmJih2b2lkIDAhPT1sfHxkIGluIGUpJiYoZVtkXT1sKSl9aWYoXCJub3RfdmFsaWRcIiE9PWMpZm9yKGNvbnN0IHIgb2YgdC5yZWZpbmVyKGUsYSkpci5leHBsYW5hdGlvbj1uLm1lc3NhZ2UsYz1cIm5vdF9yZWZpbmVkXCIseWllbGRbcix2b2lkIDBdO1widmFsaWRcIj09PWMmJih5aWVsZFt2b2lkIDAsZV0pfWNsYXNzIHNpe2NvbnN0cnVjdG9yKGUpe2NvbnN0e3R5cGU6dCxzY2hlbWE6bix2YWxpZGF0b3I6cixyZWZpbmVyOmksY29lcmNlcjpvPShlPT5lKSxlbnRyaWVzOnM9ZnVuY3Rpb24qKCl7fX09ZTt0aGlzLnR5cGU9dCx0aGlzLnNjaGVtYT1uLHRoaXMuZW50cmllcz1zLHRoaXMuY29lcmNlcj1vLHRoaXMudmFsaWRhdG9yPXI/KGUsdCk9PmlpKHIoZSx0KSx0LHRoaXMsZSk6KCk9PltdLHRoaXMucmVmaW5lcj1pPyhlLHQpPT5paShpKGUsdCksdCx0aGlzLGUpOigpPT5bXX1hc3NlcnQoZSx0KXtyZXR1cm4gYWkoZSx0aGlzLHQpfWNyZWF0ZShlLHQpe3JldHVybiBjaShlLHRoaXMsdCl9aXMoZSl7cmV0dXJuIGRpKGUsdGhpcyl9bWFzayhlLHQpe3JldHVybiBmdW5jdGlvbihlLHQsbil7Y29uc3Qgcj1saShlLHQse2NvZXJjZTohMCxtYXNrOiEwLG1lc3NhZ2U6bn0pO2lmKHJbMF0pdGhyb3cgclswXTtyZXR1cm4gclsxXX0oZSx0aGlzLHQpfXZhbGlkYXRlKGUsdD17fSl7cmV0dXJuIGxpKGUsdGhpcyx0KX19ZnVuY3Rpb24gYWkoZSx0LG4pe2NvbnN0IHI9bGkoZSx0LHttZXNzYWdlOm59KTtpZihyWzBdKXRocm93IHJbMF19ZnVuY3Rpb24gY2koZSx0LG4pe2NvbnN0IHI9bGkoZSx0LHtjb2VyY2U6ITAsbWVzc2FnZTpufSk7aWYoclswXSl0aHJvdyByWzBdO3JldHVybiByWzFdfWZ1bmN0aW9uIGRpKGUsdCl7cmV0dXJuIWxpKGUsdClbMF19ZnVuY3Rpb24gbGkoZSx0LG49e30pe2NvbnN0IHI9b2koZSx0LG4pLGk9ZnVuY3Rpb24oZSl7Y29uc3R7ZG9uZTp0LHZhbHVlOm59PWUubmV4dCgpO3JldHVybiB0P3ZvaWQgMDpufShyKTtpZihpWzBdKXtjb25zdCBlPW5ldyBlaShpWzBdLChmdW5jdGlvbiooKXtmb3IoY29uc3QgZSBvZiByKWVbMF0mJih5aWVsZCBlWzBdKX0pKTtyZXR1cm5bZSx2b2lkIDBdfXJldHVyblt2b2lkIDAsaVsxXV19ZnVuY3Rpb24gdWkoZSx0KXtyZXR1cm4gbmV3IHNpKHt0eXBlOmUsc2NoZW1hOm51bGwsdmFsaWRhdG9yOnR9KX1mdW5jdGlvbiBoaShlKXtsZXQgdDtyZXR1cm4gbmV3IHNpKHt0eXBlOlwibGF6eVwiLHNjaGVtYTpudWxsLCplbnRyaWVzKG4scil7dD8/KHQ9ZSgpKSx5aWVsZCp0LmVudHJpZXMobixyKX0sdmFsaWRhdG9yOihuLHIpPT4odD8/KHQ9ZSgpKSx0LnZhbGlkYXRvcihuLHIpKSxjb2VyY2VyOihuLHIpPT4odD8/KHQ9ZSgpKSx0LmNvZXJjZXIobixyKSkscmVmaW5lcjoobixyKT0+KHQ/Pyh0PWUoKSksdC5yZWZpbmVyKG4scikpfSl9ZnVuY3Rpb24gZmkoZSl7cmV0dXJuIG5ldyBzaSh7dHlwZTpcImFycmF5XCIsc2NoZW1hOmUsKmVudHJpZXModCl7aWYoZSYmQXJyYXkuaXNBcnJheSh0KSlmb3IoY29uc3RbbixyXW9mIHQuZW50cmllcygpKXlpZWxkW24scixlXX0sY29lcmNlcjplPT5BcnJheS5pc0FycmF5KGUpP2Uuc2xpY2UoKTplLHZhbGlkYXRvcjplPT5BcnJheS5pc0FycmF5KGUpfHxgRXhwZWN0ZWQgYW4gYXJyYXkgdmFsdWUsIGJ1dCByZWNlaXZlZDogJHtuaShlKX1gfSl9ZnVuY3Rpb24gcGkoZSl7Y29uc3QgdD1uaShlKSxuPXR5cGVvZiBlO3JldHVybiBuZXcgc2koe3R5cGU6XCJsaXRlcmFsXCIsc2NoZW1hOlwic3RyaW5nXCI9PT1ufHxcIm51bWJlclwiPT09bnx8XCJib29sZWFuXCI9PT1uP2U6bnVsbCx2YWxpZGF0b3I6bj0+bj09PWV8fGBFeHBlY3RlZCB0aGUgbGl0ZXJhbCBcXGAke3R9XFxgLCBidXQgcmVjZWl2ZWQ6ICR7bmkobil9YH0pfWZ1bmN0aW9uIG1pKCl7cmV0dXJuIHVpKFwibnVtYmVyXCIsKGU9PlwibnVtYmVyXCI9PXR5cGVvZiBlJiYhaXNOYU4oZSl8fGBFeHBlY3RlZCBhIG51bWJlciwgYnV0IHJlY2VpdmVkOiAke25pKGUpfWApKX1mdW5jdGlvbiBnaShlKXtjb25zdCB0PWU/T2JqZWN0LmtleXMoZSk6W10sbj11aShcIm5ldmVyXCIsKCgpPT4hMSkpO3JldHVybiBuZXcgc2koe3R5cGU6XCJvYmplY3RcIixzY2hlbWE6ZXx8bnVsbCwqZW50cmllcyhyKXtpZihlJiZ0aShyKSl7Y29uc3QgaT1uZXcgU2V0KE9iamVjdC5rZXlzKHIpKTtmb3IoY29uc3QgbiBvZiB0KWkuZGVsZXRlKG4pLHlpZWxkW24scltuXSxlW25dXTtmb3IoY29uc3QgZSBvZiBpKXlpZWxkW2UscltlXSxuXX19LHZhbGlkYXRvcjplPT50aShlKXx8YEV4cGVjdGVkIGFuIG9iamVjdCwgYnV0IHJlY2VpdmVkOiAke25pKGUpfWAsY29lcmNlcjplPT50aShlKT97Li4uZX06ZX0pfWZ1bmN0aW9uIHZpKGUpe3JldHVybiBuZXcgc2koey4uLmUsdmFsaWRhdG9yOih0LG4pPT52b2lkIDA9PT10fHxlLnZhbGlkYXRvcih0LG4pLHJlZmluZXI6KHQsbik9PnZvaWQgMD09PXR8fGUucmVmaW5lcih0LG4pfSl9ZnVuY3Rpb24geWkoZSx0KXtyZXR1cm4gbmV3IHNpKHt0eXBlOlwicmVjb3JkXCIsc2NoZW1hOm51bGwsKmVudHJpZXMobil7aWYodGkobikpZm9yKGNvbnN0IHIgaW4gbil7Y29uc3QgaT1uW3JdO3lpZWxkW3IscixlXSx5aWVsZFtyLGksdF19fSx2YWxpZGF0b3I6ZT0+dGkoZSl8fGBFeHBlY3RlZCBhbiBvYmplY3QsIGJ1dCByZWNlaXZlZDogJHtuaShlKX1gfSl9ZnVuY3Rpb24gRWkoKXtyZXR1cm4gdWkoXCJzdHJpbmdcIiwoZT0+XCJzdHJpbmdcIj09dHlwZW9mIGV8fGBFeHBlY3RlZCBhIHN0cmluZywgYnV0IHJlY2VpdmVkOiAke25pKGUpfWApKX1mdW5jdGlvbiBiaShlKXtjb25zdCB0PWUubWFwKChlPT5lLnR5cGUpKS5qb2luKFwiIHwgXCIpO3JldHVybiBuZXcgc2koe3R5cGU6XCJ1bmlvblwiLHNjaGVtYTpudWxsLGNvZXJjZXIodCl7Zm9yKGNvbnN0IG4gb2YgZSl7Y29uc3RbZSxyXT1uLnZhbGlkYXRlKHQse2NvZXJjZTohMH0pO2lmKCFlKXJldHVybiByfXJldHVybiB0fSx2YWxpZGF0b3IobixyKXtjb25zdCBpPVtdO2Zvcihjb25zdCB0IG9mIGUpe2NvbnN0Wy4uLmVdPW9pKG4sdCxyKSxbb109ZTtpZighb1swXSlyZXR1cm5bXTtmb3IoY29uc3RbdF1vZiBlKXQmJmkucHVzaCh0KX1yZXR1cm5bYEV4cGVjdGVkIHRoZSB2YWx1ZSB0byBzYXRpc2Z5IGEgdW5pb24gb2YgXFxgJHt0fVxcYCwgYnV0IHJlY2VpdmVkOiAke25pKG4pfWAsLi4uaV19fSl9ZnVuY3Rpb24gd2koZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWUmJlwibWVzc2FnZVwiaW4gZX0oZSkmJlwic3RyaW5nXCI9PXR5cGVvZiBlLm1lc3NhZ2U/ZS5tZXNzYWdlOm51bGw9PWU/XCJcIjpTdHJpbmcoZSl9KGUpLnJlcGxhY2UoL1xcLiQvdSxcIlwiKX1mdW5jdGlvbiBTaShlLHQpe3JldHVybiBuPWUsQm9vbGVhbihcInN0cmluZ1wiPT10eXBlb2Ygbj8ucHJvdG90eXBlPy5jb25zdHJ1Y3Rvcj8ubmFtZSk/bmV3IGUoe21lc3NhZ2U6dH0pOmUoe21lc3NhZ2U6dH0pO3ZhciBufXZhciBfaT1jbGFzcyBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUubWVzc2FnZSksdGhpcy5jb2RlPVwiRVJSX0FTU0VSVElPTlwifX07dmFyIENpPWU9PmdpKGUpO2Z1bmN0aW9uIHhpKHtwYXRoOmUsYnJhbmNoOnR9KXtjb25zdCBuPWVbZS5sZW5ndGgtMV07cmV0dXJuIFhyKHRbdC5sZW5ndGgtMl0sbil9ZnVuY3Rpb24ga2koZSl7cmV0dXJuIG5ldyBzaSh7Li4uZSx0eXBlOmBvcHRpb25hbCAke2UudHlwZX1gLHZhbGlkYXRvcjoodCxuKT0+IXhpKG4pfHxlLnZhbGlkYXRvcih0LG4pLHJlZmluZXI6KHQsbik9PiF4aShuKXx8ZS5yZWZpbmVyKHQsbil9KX12YXIgTWksQWksVGksSWk9YmkoW3BpKG51bGwpLHVpKFwiYm9vbGVhblwiLChlPT5cImJvb2xlYW5cIj09dHlwZW9mIGUpKSx1aShcImZpbml0ZSBudW1iZXJcIiwoZT0+ZGkoZSxtaSgpKSYmTnVtYmVyLmlzRmluaXRlKGUpKSksRWkoKSxmaShoaSgoKCk9PklpKSkpLHlpKEVpKCksaGkoKCgpPT5JaSkpKV0pLFBpPShNaT1JaSxBaT11aShcImFueVwiLCgoKT0+ITApKSxUaT1lPT4oZnVuY3Rpb24oZSx0LG49XCJBc3NlcnRpb24gZmFpbGVkXCIscj1faSl7dHJ5e2FpKGUsdCl9Y2F0Y2goZSl7dGhyb3cgU2kocixgJHtufTogJHt3aShlKX0uYCl9fShlLElpKSxKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUsKChlLHQpPT57aWYoXCJfX3Byb3RvX19cIiE9PWUmJlwiY29uc3RydWN0b3JcIiE9PWUpcmV0dXJuIHR9KSkpKSxuZXcgc2koey4uLk1pLGNvZXJjZXI6KGUsdCk9PmRpKGUsQWkpP01pLmNvZXJjZXIoVGkoZSx0KSx0KTpNaS5jb2VyY2VyKGUsdCl9KSk7ZnVuY3Rpb24gUmkoZSl7dHJ5e3JldHVybiBmdW5jdGlvbihlKXtjaShlLFBpKX0oZSksITB9Y2F0Y2h7cmV0dXJuITF9fXZhciBPaT1waShcIjIuMFwiKSxOaT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHNpKHsuLi5lLHZhbGlkYXRvcjoodCxuKT0+bnVsbD09PXR8fGUudmFsaWRhdG9yKHQsbikscmVmaW5lcjoodCxuKT0+bnVsbD09PXR8fGUucmVmaW5lcih0LG4pfSl9KGJpKFttaSgpLEVpKCldKSksRGk9Q2koe2NvZGU6dWkoXCJpbnRlZ2VyXCIsKGU9PlwibnVtYmVyXCI9PXR5cGVvZiBlJiYhaXNOYU4oZSkmJk51bWJlci5pc0ludGVnZXIoZSl8fGBFeHBlY3RlZCBhbiBpbnRlZ2VyLCBidXQgcmVjZWl2ZWQ6ICR7bmkoZSl9YCkpLG1lc3NhZ2U6RWkoKSxkYXRhOmtpKFBpKSxzdGFjazpraShFaSgpKX0pLExpPWJpKFt5aShFaSgpLFBpKSxmaShQaSldKSxCaT1DaSh7aWQ6TmksanNvbnJwYzpPaSxtZXRob2Q6RWkoKSxwYXJhbXM6a2koTGkpfSksS2k9Q2koe2pzb25ycGM6T2ksbWV0aG9kOkVpKCkscGFyYW1zOmtpKExpKX0pO2Z1bmN0aW9uIGppKGUpe3JldHVybiBkaShlLEJpKX1mdW5jdGlvbiAkaShlKXtyZXR1cm4gZGkoZSxEaSl9Z2koe2lkOk5pLGpzb25ycGM6T2kscmVzdWx0OnZpKHVpKFwidW5rbm93blwiLCgoKT0+ITApKSksZXJyb3I6dmkoRGkpfSksYmkoW0NpKHtpZDpOaSxqc29ucnBjOk9pLHJlc3VsdDpQaX0pLENpKHtpZDpOaSxqc29ucnBjOk9pLGVycm9yOkRpfSldKTt2YXIgSGk9WnIuaW50ZXJuYWwsVWk9XCJVbnNwZWNpZmllZCBlcnJvciBtZXNzYWdlLiBUaGlzIGlzIGEgYnVnLCBwbGVhc2UgcmVwb3J0IGl0LlwiLEZpPXtjb2RlOkhpLG1lc3NhZ2U6emkoSGkpfSxxaT1cIlVuc3BlY2lmaWVkIHNlcnZlciBlcnJvci5cIjtmdW5jdGlvbiB6aShlLHQ9VWkpe2lmKGZ1bmN0aW9uKGUpe3JldHVybiBOdW1iZXIuaXNJbnRlZ2VyKGUpfShlKSl7Y29uc3QgdD1lLnRvU3RyaW5nKCk7aWYoWHIoSnIsdCkpcmV0dXJuIEpyW3RdLm1lc3NhZ2U7aWYoZnVuY3Rpb24oZSl7cmV0dXJuIGU+PS0zMjA5OSYmZTw9LTMyZTN9KGUpKXJldHVybiBxaX1yZXR1cm4gdH1mdW5jdGlvbiBXaShlLHtmYWxsYmFja0Vycm9yOnQ9Rmksc2hvdWxkSW5jbHVkZVN0YWNrOm49ITB9PXt9KXtpZighJGkodCkpdGhyb3cgbmV3IEVycm9yKFwiTXVzdCBwcm92aWRlIGZhbGxiYWNrIGVycm9yIHdpdGggaW50ZWdlciBudW1iZXIgY29kZSBhbmQgc3RyaW5nIG1lc3NhZ2UuXCIpO2NvbnN0IHI9ZnVuY3Rpb24oZSx0KXtpZihlJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmXCJzZXJpYWxpemVcImluIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuc2VyaWFsaXplKXJldHVybiBlLnNlcmlhbGl6ZSgpO2lmKCRpKGUpKXJldHVybiBlO2NvbnN0IG49VmkoZSkscj17Li4udCxkYXRhOntjYXVzZTpufX07cmV0dXJuIHJ9KGUsdCk7cmV0dXJuIG58fGRlbGV0ZSByLnN0YWNrLHJ9ZnVuY3Rpb24gVmkoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/ZS5tYXAoKGU9PlJpKGUpP2U6UXIoZSk/R2koZSk6bnVsbCkpOlFyKGUpP0dpKGUpOlJpKGUpP2U6bnVsbH1mdW5jdGlvbiBHaShlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSkucmVkdWNlKCgodCxuKT0+e2NvbnN0IHI9ZVtuXTtyZXR1cm4gUmkocikmJih0W25dPXIpLHR9KSx7fSl9dmFyIFlpPXRvO3RvLmRlZmF1bHQ9dG8sdG8uc3RhYmxlPW9vLHRvLnN0YWJsZVN0cmluZ2lmeT1vbzt2YXIgWmk9XCJbLi4uXVwiLEppPVwiW0NpcmN1bGFyXVwiLFFpPVtdLFhpPVtdO2Z1bmN0aW9uIGVvKCl7cmV0dXJue2RlcHRoTGltaXQ6TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsZWRnZXNMaW1pdDpOdW1iZXIuTUFYX1NBRkVfSU5URUdFUn19ZnVuY3Rpb24gdG8oZSx0LG4scil7dmFyIGk7dm9pZCAwPT09ciYmKHI9ZW8oKSkscm8oZSxcIlwiLDAsW10sdm9pZCAwLDAscik7dHJ5e2k9MD09PVhpLmxlbmd0aD9KU09OLnN0cmluZ2lmeShlLHQsbik6SlNPTi5zdHJpbmdpZnkoZSxhbyh0KSxuKX1jYXRjaChlKXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoXCJbdW5hYmxlIHRvIHNlcmlhbGl6ZSwgY2lyY3VsYXIgcmVmZXJlbmNlIGlzIHRvbyBjb21wbGV4IHRvIGFuYWx5emVdXCIpfWZpbmFsbHl7Zm9yKDswIT09UWkubGVuZ3RoOyl7dmFyIG89UWkucG9wKCk7ND09PW8ubGVuZ3RoP09iamVjdC5kZWZpbmVQcm9wZXJ0eShvWzBdLG9bMV0sb1szXSk6b1swXVtvWzFdXT1vWzJdfX1yZXR1cm4gaX1mdW5jdGlvbiBubyhlLHQsbixyKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsbik7dm9pZCAwIT09aS5nZXQ/aS5jb25maWd1cmFibGU/KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLG4se3ZhbHVlOmV9KSxRaS5wdXNoKFtyLG4sdCxpXSkpOlhpLnB1c2goW3QsbixlXSk6KHJbbl09ZSxRaS5wdXNoKFtyLG4sdF0pKX1mdW5jdGlvbiBybyhlLHQsbixyLGksbyxzKXt2YXIgYTtpZihvKz0xLFwib2JqZWN0XCI9PXR5cGVvZiBlJiZudWxsIT09ZSl7Zm9yKGE9MDthPHIubGVuZ3RoO2ErKylpZihyW2FdPT09ZSlyZXR1cm4gdm9pZCBubyhKaSxlLHQsaSk7aWYodm9pZCAwIT09cy5kZXB0aExpbWl0JiZvPnMuZGVwdGhMaW1pdClyZXR1cm4gdm9pZCBubyhaaSxlLHQsaSk7aWYodm9pZCAwIT09cy5lZGdlc0xpbWl0JiZuKzE+cy5lZGdlc0xpbWl0KXJldHVybiB2b2lkIG5vKFppLGUsdCxpKTtpZihyLnB1c2goZSksQXJyYXkuaXNBcnJheShlKSlmb3IoYT0wO2E8ZS5sZW5ndGg7YSsrKXJvKGVbYV0sYSxhLHIsZSxvLHMpO2Vsc2V7dmFyIGM9T2JqZWN0LmtleXMoZSk7Zm9yKGE9MDthPGMubGVuZ3RoO2ErKyl7dmFyIGQ9Y1thXTtybyhlW2RdLGQsYSxyLGUsbyxzKX19ci5wb3AoKX19ZnVuY3Rpb24gaW8oZSx0KXtyZXR1cm4gZTx0Py0xOmU+dD8xOjB9ZnVuY3Rpb24gb28oZSx0LG4scil7dm9pZCAwPT09ciYmKHI9ZW8oKSk7dmFyIGksbz1zbyhlLFwiXCIsMCxbXSx2b2lkIDAsMCxyKXx8ZTt0cnl7aT0wPT09WGkubGVuZ3RoP0pTT04uc3RyaW5naWZ5KG8sdCxuKTpKU09OLnN0cmluZ2lmeShvLGFvKHQpLG4pfWNhdGNoKGUpe3JldHVybiBKU09OLnN0cmluZ2lmeShcIlt1bmFibGUgdG8gc2VyaWFsaXplLCBjaXJjdWxhciByZWZlcmVuY2UgaXMgdG9vIGNvbXBsZXggdG8gYW5hbHl6ZV1cIil9ZmluYWxseXtmb3IoOzAhPT1RaS5sZW5ndGg7KXt2YXIgcz1RaS5wb3AoKTs0PT09cy5sZW5ndGg/T2JqZWN0LmRlZmluZVByb3BlcnR5KHNbMF0sc1sxXSxzWzNdKTpzWzBdW3NbMV1dPXNbMl19fXJldHVybiBpfWZ1bmN0aW9uIHNvKGUsdCxuLHIsaSxvLHMpe3ZhciBhO2lmKG8rPTEsXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lKXtmb3IoYT0wO2E8ci5sZW5ndGg7YSsrKWlmKHJbYV09PT1lKXJldHVybiB2b2lkIG5vKEppLGUsdCxpKTt0cnl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZS50b0pTT04pcmV0dXJufWNhdGNoKGUpe3JldHVybn1pZih2b2lkIDAhPT1zLmRlcHRoTGltaXQmJm8+cy5kZXB0aExpbWl0KXJldHVybiB2b2lkIG5vKFppLGUsdCxpKTtpZih2b2lkIDAhPT1zLmVkZ2VzTGltaXQmJm4rMT5zLmVkZ2VzTGltaXQpcmV0dXJuIHZvaWQgbm8oWmksZSx0LGkpO2lmKHIucHVzaChlKSxBcnJheS5pc0FycmF5KGUpKWZvcihhPTA7YTxlLmxlbmd0aDthKyspc28oZVthXSxhLGEscixlLG8scyk7ZWxzZXt2YXIgYz17fSxkPU9iamVjdC5rZXlzKGUpLnNvcnQoaW8pO2ZvcihhPTA7YTxkLmxlbmd0aDthKyspe3ZhciBsPWRbYV07c28oZVtsXSxsLGEscixlLG8scyksY1tsXT1lW2xdfWlmKHZvaWQgMD09PWkpcmV0dXJuIGM7UWkucHVzaChbaSx0LGVdKSxpW3RdPWN9ci5wb3AoKX19ZnVuY3Rpb24gYW8oZSl7cmV0dXJuIGU9dm9pZCAwIT09ZT9lOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR9LGZ1bmN0aW9uKHQsbil7aWYoWGkubGVuZ3RoPjApZm9yKHZhciByPTA7cjxYaS5sZW5ndGg7cisrKXt2YXIgaT1YaVtyXTtpZihpWzFdPT09dCYmaVswXT09PW4pe249aVsyXSxYaS5zcGxpY2UociwxKTticmVha319cmV0dXJuIGUuY2FsbCh0aGlzLHQsbil9fXZhciBjbz1oKFlpKSxsbz1jbGFzcyBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGUsdCxuKXtpZighTnVtYmVyLmlzSW50ZWdlcihlKSl0aHJvdyBuZXcgRXJyb3IoJ1wiY29kZVwiIG11c3QgYmUgYW4gaW50ZWdlci4nKTtpZighdHx8XCJzdHJpbmdcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IEVycm9yKCdcIm1lc3NhZ2VcIiBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZy4nKTtzdXBlcih0KSx0aGlzLmNvZGU9ZSx2b2lkIDAhPT1uJiYodGhpcy5kYXRhPW4pfXNlcmlhbGl6ZSgpe2NvbnN0IGU9e2NvZGU6dGhpcy5jb2RlLG1lc3NhZ2U6dGhpcy5tZXNzYWdlfTtyZXR1cm4gdm9pZCAwIT09dGhpcy5kYXRhJiYoZS5kYXRhPXRoaXMuZGF0YSxmdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuITE7dHJ5e2xldCB0PWU7Zm9yKDtudWxsIT09T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpOyl0PU9iamVjdC5nZXRQcm90b3R5cGVPZih0KTtyZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpPT09dH1jYXRjaChlKXtyZXR1cm4hMX19KHRoaXMuZGF0YSkmJihlLmRhdGEuY2F1c2U9VmkodGhpcy5kYXRhLmNhdXNlKSkpLHRoaXMuc3RhY2smJihlLnN0YWNrPXRoaXMuc3RhY2spLGV9dG9TdHJpbmcoKXtyZXR1cm4gY28odGhpcy5zZXJpYWxpemUoKSx1bywyKX19O2Z1bmN0aW9uIHVvKGUsdCl7aWYoXCJbQ2lyY3VsYXJdXCIhPT10KXJldHVybiB0fXZhciBobz1lPT5mbyhaci5pbnZhbGlkUmVxdWVzdCxlKTtmdW5jdGlvbiBmbyhlLHQpe2NvbnN0W24scl09ZnVuY3Rpb24oZSl7aWYoZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuW2VdO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBlJiYhQXJyYXkuaXNBcnJheShlKSl7Y29uc3R7bWVzc2FnZTp0LGRhdGE6bn09ZTtpZih0JiZcInN0cmluZ1wiIT10eXBlb2YgdCl0aHJvdyBuZXcgRXJyb3IoXCJNdXN0IHNwZWNpZnkgc3RyaW5nIG1lc3NhZ2UuXCIpO3JldHVyblt0Pz92b2lkIDAsbl19fXJldHVybltdfSh0KTtyZXR1cm4gbmV3IGxvKGUsbj8/emkoZSkscil9dmFyIHBvPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShwbyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBtbz1hO2Z1bmN0aW9uIGdvKGUsdCxuKXt0cnl7UmVmbGVjdC5hcHBseShlLHQsbil9Y2F0Y2goZSl7c2V0VGltZW91dCgoKCk9Pnt0aHJvdyBlfSkpfX1sZXQgdm89Y2xhc3MgZXh0ZW5kcyBtby5FdmVudEVtaXR0ZXJ7ZW1pdChlLC4uLnQpe2xldCBuPVwiZXJyb3JcIj09PWU7Y29uc3Qgcj10aGlzLl9ldmVudHM7aWYodm9pZCAwIT09ciluPW4mJnZvaWQgMD09PXIuZXJyb3I7ZWxzZSBpZighbilyZXR1cm4hMTtpZihuKXtsZXQgZTtpZih0Lmxlbmd0aD4wJiYoW2VdPXQpLGUgaW5zdGFuY2VvZiBFcnJvcil0aHJvdyBlO2NvbnN0IG49bmV3IEVycm9yKFwiVW5oYW5kbGVkIGVycm9yLlwiKyhlP2AgKCR7ZS5tZXNzYWdlfSlgOlwiXCIpKTt0aHJvdyBuLmNvbnRleHQ9ZSxufWNvbnN0IGk9cltlXTtpZih2b2lkIDA9PT1pKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGkpZ28oaSx0aGlzLHQpO2Vsc2V7Y29uc3QgZT1pLmxlbmd0aCxuPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZS5sZW5ndGgsbj1uZXcgQXJyYXkodCk7Zm9yKGxldCByPTA7cjx0O3IrPTEpbltyXT1lW3JdO3JldHVybiBufShpKTtmb3IobGV0IHI9MDtyPGU7cis9MSlnbyhuW3JdLHRoaXMsdCl9cmV0dXJuITB9fTt2YXIgeW8sRW8sYm8sd28sU28sX28sQ28seG8sa28sTW8sQW8sVG8sSW8sUG8sUm8sT28sTm8sRG8sTG8sQm89cG8uZGVmYXVsdD12byxLbz1jbGFzcyBlIGV4dGVuZHMgQm97Y29uc3RydWN0b3Ioe25vdGlmaWNhdGlvbkhhbmRsZXI6ZX09e30pe3N1cGVyKCksVnIodGhpcyx3byksVnIodGhpcyxfbyksVnIodGhpcyx4byksVnIodGhpcyx5bywhMSksVnIodGhpcyxFbyx2b2lkIDApLFZyKHRoaXMsYm8sdm9pZCAwKSxHcih0aGlzLEVvLFtdKSxHcih0aGlzLGJvLGUpfWRlc3Ryb3koKXtXcih0aGlzLEVvKS5mb3JFYWNoKChlPT57XCJkZXN0cm95XCJpbiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmRlc3Ryb3kmJmUuZGVzdHJveSgpfSkpLEdyKHRoaXMsRW8sW10pLEdyKHRoaXMseW8sITApfXB1c2goZSl7WXIodGhpcyx3byxTbykuY2FsbCh0aGlzKSxXcih0aGlzLEVvKS5wdXNoKGUpfWhhbmRsZShlLHQpe2lmKFlyKHRoaXMsd28sU28pLmNhbGwodGhpcyksdCYmXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgRXJyb3IoJ1wiY2FsbGJhY2tcIiBtdXN0IGJlIGEgZnVuY3Rpb24gaWYgcHJvdmlkZWQuJyk7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/dD9Zcih0aGlzLF9vLENvKS5jYWxsKHRoaXMsZSx0KTpZcih0aGlzLF9vLENvKS5jYWxsKHRoaXMsZSk6dD9Zcih0aGlzLHhvLGtvKS5jYWxsKHRoaXMsZSx0KTp0aGlzLl9wcm9taXNlSGFuZGxlKGUpfWFzTWlkZGxld2FyZSgpe3JldHVybiBZcih0aGlzLHdvLFNvKS5jYWxsKHRoaXMpLGFzeW5jKHQsbixyLGkpPT57dmFyIG8sczt0cnl7Y29uc3RbYSxjLGRdPWF3YWl0IFlyKG89ZSxUbyxJbykuY2FsbChvLHQsbixXcih0aGlzLEVvKSk7cmV0dXJuIGM/KGF3YWl0IFlyKHM9ZSxPbyxObykuY2FsbChzLGQpLGkoYSkpOnIoKGFzeW5jIHQ9Pnt2YXIgbjt0cnl7YXdhaXQgWXIobj1lLE9vLE5vKS5jYWxsKG4sZCl9Y2F0Y2goZSl7cmV0dXJuIHQoZSl9cmV0dXJuIHQoKX0pKX1jYXRjaChlKXtyZXR1cm4gaShlKX19fWFzeW5jIF9wcm9taXNlSGFuZGxlKGUpe3JldHVybiBuZXcgUHJvbWlzZSgoKHQsbik9PntZcih0aGlzLHhvLGtvKS5jYWxsKHRoaXMsZSwoKGUscik9PntlJiZ2b2lkIDA9PT1yP24oZSk6dChyKX0pKS5jYXRjaChuKX0pKX19O3lvPW5ldyBXZWFrTWFwLEVvPW5ldyBXZWFrTWFwLGJvPW5ldyBXZWFrTWFwLHdvPW5ldyBXZWFrU2V0LFNvPWZ1bmN0aW9uKCl7aWYoV3IodGhpcyx5bykpdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBlbmdpbmUgaXMgZGVzdHJveWVkIGFuZCBjYW4gbm8gbG9uZ2VyIGJlIHVzZWQuXCIpfSxfbz1uZXcgV2Vha1NldCxDbz1hc3luYyBmdW5jdGlvbihlLHQpe3RyeXtpZigwPT09ZS5sZW5ndGgpe2NvbnN0IGU9W3tpZDpudWxsLGpzb25ycGM6XCIyLjBcIixlcnJvcjpuZXcgbG8oWnIuaW52YWxpZFJlcXVlc3QsXCJSZXF1ZXN0IGJhdGNoIG11c3QgY29udGFpbiBwbGFpbiBvYmplY3RzLiBSZWNlaXZlZCBhbiBlbXB0eSBhcnJheVwiKX1dO3JldHVybiB0P3QobnVsbCxlKTplfWNvbnN0IG49KGF3YWl0IFByb21pc2UuYWxsKGUubWFwKHRoaXMuX3Byb21pc2VIYW5kbGUuYmluZCh0aGlzKSkpKS5maWx0ZXIoKGU9PnZvaWQgMCE9PWUpKTtyZXR1cm4gdD90KG51bGwsbik6bn1jYXRjaChlKXtpZih0KXJldHVybiB0KGUpO3Rocm93IGV9fSx4bz1uZXcgV2Vha1NldCxrbz1hc3luYyBmdW5jdGlvbihlLHQpe3ZhciBuO2lmKCFlfHxBcnJheS5pc0FycmF5KGUpfHxcIm9iamVjdFwiIT10eXBlb2YgZSl7Y29uc3Qgbj1uZXcgbG8oWnIuaW52YWxpZFJlcXVlc3QsXCJSZXF1ZXN0cyBtdXN0IGJlIHBsYWluIG9iamVjdHMuIFJlY2VpdmVkOiBcIit0eXBlb2YgZSx7cmVxdWVzdDplfSk7cmV0dXJuIHQobix7aWQ6bnVsbCxqc29ucnBjOlwiMi4wXCIsZXJyb3I6bn0pfWlmKFwic3RyaW5nXCIhPXR5cGVvZiBlLm1ldGhvZCl7Y29uc3Qgbj1uZXcgbG8oWnIuaW52YWxpZFJlcXVlc3QsXCJNdXN0IHNwZWNpZnkgYSBzdHJpbmcgbWV0aG9kLiBSZWNlaXZlZDogXCIrdHlwZW9mIGUubWV0aG9kLHtyZXF1ZXN0OmV9KTtyZXR1cm4gV3IodGhpcyxibykmJiFqaShlKT90KG51bGwpOnQobix7aWQ6ZS5pZD8/bnVsbCxqc29ucnBjOlwiMi4wXCIsZXJyb3I6bn0pfWlmKFdyKHRoaXMsYm8pJiZkaShlLEtpKSYmIWppKGUpKXt0cnl7YXdhaXQgV3IodGhpcyxibykuY2FsbCh0aGlzLGUpfWNhdGNoKGUpe3JldHVybiB0KGUpfXJldHVybiB0KG51bGwpfWxldCByPW51bGw7Y29uc3QgaT17Li4uZX0sbz17aWQ6aS5pZCxqc29ucnBjOmkuanNvbnJwY307dHJ5e2F3YWl0IFlyKG49S28sTW8sQW8pLmNhbGwobixpLG8sV3IodGhpcyxFbykpfWNhdGNoKGUpe3I9ZX1yZXR1cm4gciYmKGRlbGV0ZSBvLnJlc3VsdCxvLmVycm9yfHwoby5lcnJvcj1XaShyKSkpLHQocixvKX0sTW89bmV3IFdlYWtTZXQsQW89YXN5bmMgZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbztjb25zdFtzLGEsY109YXdhaXQgWXIocj1LbyxUbyxJbykuY2FsbChyLGUsdCxuKTtpZihZcihpPUtvLERvLExvKS5jYWxsKGksZSx0LGEpLGF3YWl0IFlyKG89S28sT28sTm8pLmNhbGwobyxjKSxzKXRocm93IHN9LFRvPW5ldyBXZWFrU2V0LElvPWFzeW5jIGZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtjb25zdCBpPVtdO2xldCBvPW51bGwscz0hMTtmb3IoY29uc3QgYSBvZiBuKWlmKFtvLHNdPWF3YWl0IFlyKHI9S28sUG8sUm8pLmNhbGwocixlLHQsYSxpKSxzKWJyZWFrO3JldHVybltvLHMsaS5yZXZlcnNlKCldfSxQbz1uZXcgV2Vha1NldCxSbz1hc3luYyBmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gbmV3IFByb21pc2UoKGk9Pntjb25zdCBvPWU9Pntjb25zdCBuPWV8fHQuZXJyb3I7biYmKHQuZXJyb3I9V2kobikpLGkoW24sITBdKX0scz1uPT57dC5lcnJvcj9vKHQuZXJyb3IpOihuJiYoXCJmdW5jdGlvblwiIT10eXBlb2YgbiYmbyhuZXcgbG8oWnIuaW50ZXJuYWwsYEpzb25ScGNFbmdpbmU6IFwibmV4dFwiIHJldHVybiBoYW5kbGVycyBtdXN0IGJlIGZ1bmN0aW9ucy4gUmVjZWl2ZWQgXCIke3R5cGVvZiBufVwiIGZvciByZXF1ZXN0OlxcbiR7JG8oZSl9YCx7cmVxdWVzdDplfSkpLHIucHVzaChuKSksaShbbnVsbCwhMV0pKX07dHJ5e24oZSx0LHMsbyl9Y2F0Y2goZSl7byhlKX19KSl9LE9vPW5ldyBXZWFrU2V0LE5vPWFzeW5jIGZ1bmN0aW9uKGUpe2Zvcihjb25zdCB0IG9mIGUpYXdhaXQgbmV3IFByb21pc2UoKChlLG4pPT57dCgodD0+dD9uKHQpOmUoKSkpfSkpfSxEbz1uZXcgV2Vha1NldCxMbz1mdW5jdGlvbihlLHQsbil7aWYoIVhyKHQsXCJyZXN1bHRcIikmJiFYcih0LFwiZXJyb3JcIikpdGhyb3cgbmV3IGxvKFpyLmludGVybmFsLGBKc29uUnBjRW5naW5lOiBSZXNwb25zZSBoYXMgbm8gZXJyb3Igb3IgcmVzdWx0IGZvciByZXF1ZXN0OlxcbiR7JG8oZSl9YCx7cmVxdWVzdDplfSk7aWYoIW4pdGhyb3cgbmV3IGxvKFpyLmludGVybmFsLGBKc29uUnBjRW5naW5lOiBOb3RoaW5nIGVuZGVkIHJlcXVlc3Q6XFxuJHskbyhlKX1gLHtyZXF1ZXN0OmV9KX0sVnIoS28sTW8pLFZyKEtvLFRvKSxWcihLbyxQbyksVnIoS28sT28pLFZyKEtvLERvKTt2YXIgam89S287ZnVuY3Rpb24gJG8oZSl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KGUsbnVsbCwyKX12YXIgSG89T2JqZWN0LmZyZWV6ZShbXCJldGhfc3Vic2NyaXB0aW9uXCJdKSxVbz0oZT1jb25zb2xlKT0+e3JldHVybltxcigpLCh0PWUsKGUsbixyKT0+e1wic3RyaW5nXCI9PXR5cGVvZiBlLm1ldGhvZCYmZS5tZXRob2R8fChuLmVycm9yPWhvKHttZXNzYWdlOlwiVGhlIHJlcXVlc3QgJ21ldGhvZCcgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmcuXCIsZGF0YTplfSkpLHIoKGU9Pntjb25zdHtlcnJvcjpyfT1uO3JldHVybiByPyh0LmVycm9yKGBNZXRhTWFzayAtIFJQQyBFcnJvcjogJHtyLm1lc3NhZ2V9YCxyKSxlKCkpOmUoKX0pKX0pLEhyKGUpXTt2YXIgdH07dmFyIEZvPShlLHQsbj0hMCk9PihyLGkpPT57cnx8aS5lcnJvcj90KHJ8fGkuZXJyb3IpOiFufHxBcnJheS5pc0FycmF5KGkpP2UoaSk6ZShpLnJlc3VsdCl9LHFvPWU9PkJvb2xlYW4oZSkmJlwic3RyaW5nXCI9PXR5cGVvZiBlJiZlLnN0YXJ0c1dpdGgoXCIweFwiKSx6bz0oKT0+e307YXN5bmMgZnVuY3Rpb24gV28oZSx0KXt0cnl7Y29uc3QgdD1hd2FpdCBhc3luYyBmdW5jdGlvbigpe3JldHVybntuYW1lOlZvKHdpbmRvdyksaWNvbjphd2FpdCBHbyh3aW5kb3cpfX0oKTtlLmhhbmRsZSh7anNvbnJwYzpcIjIuMFwiLGlkOjEsbWV0aG9kOlwibWV0YW1hc2tfc2VuZERvbWFpbk1ldGFkYXRhXCIscGFyYW1zOnR9LHpvKX1jYXRjaChlKXt0LmVycm9yKHttZXNzYWdlOiRyLmVycm9ycy5zZW5kU2l0ZU1ldGFkYXRhKCksb3JpZ2luYWxFcnJvcjplfSl9fWZ1bmN0aW9uIFZvKGUpe2NvbnN0e2RvY3VtZW50OnR9PWUsbj10LnF1ZXJ5U2VsZWN0b3IoJ2hlYWQgPiBtZXRhW3Byb3BlcnR5PVwib2c6c2l0ZV9uYW1lXCJdJyk7aWYobilyZXR1cm4gbi5jb250ZW50O2NvbnN0IHI9dC5xdWVyeVNlbGVjdG9yKCdoZWFkID4gbWV0YVtuYW1lPVwidGl0bGVcIl0nKTtyZXR1cm4gcj9yLmNvbnRlbnQ6dC50aXRsZSYmdC50aXRsZS5sZW5ndGg+MD90LnRpdGxlOndpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZX1hc3luYyBmdW5jdGlvbiBHbyhlKXtjb25zdHtkb2N1bWVudDp0fT1lLG49dC5xdWVyeVNlbGVjdG9yQWxsKCdoZWFkID4gbGlua1tyZWx+PVwiaWNvblwiXScpO2Zvcihjb25zdCBlIG9mIEFycmF5LmZyb20obikpaWYoZSYmYXdhaXQgWW8oZS5ocmVmKSlyZXR1cm4gZS5ocmVmO3JldHVybiBudWxsfWFzeW5jIGZ1bmN0aW9uIFlvKGUpe3JldHVybiBuZXcgUHJvbWlzZSgoKHQsbik9Pnt0cnl7Y29uc3Qgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO24ub25sb2FkPSgpPT50KCEwKSxuLm9uZXJyb3I9KCk9PnQoITEpLG4uc3JjPWV9Y2F0Y2goZSl7bihlKX19KSl9dmFyIFpvPShlLHQsbik9PntpZighdC5oYXMoZSkpdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IFwiK24pfSxKbz0oZSx0LG4pPT4oWm8oZSx0LFwicmVhZCBmcm9tIHByaXZhdGUgZmllbGRcIiksbj9uLmNhbGwoZSk6dC5nZXQoZSkpLFFvPShlLHQsbik9PntpZih0LmhhcyhlKSl0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgYWRkIHRoZSBzYW1lIHByaXZhdGUgbWVtYmVyIG1vcmUgdGhhbiBvbmNlXCIpO3QgaW5zdGFuY2VvZiBXZWFrU2V0P3QuYWRkKGUpOnQuc2V0KGUsbil9LFhvPShlLHQsbixyKT0+KFpvKGUsdCxcIndyaXRlIHRvIHByaXZhdGUgZmllbGRcIiksdC5zZXQoZSxuKSxuKTtmdW5jdGlvbiBlcyhlLHQsbil7dHJ5e1JlZmxlY3QuYXBwbHkoZSx0LG4pfWNhdGNoKGUpe3NldFRpbWVvdXQoKCgpPT57dGhyb3cgZX0pKX19Y2xhc3MgdHMgZXh0ZW5kcyBhLkV2ZW50RW1pdHRlcntlbWl0KGUsLi4udCl7bGV0IG49XCJlcnJvclwiPT09ZTtjb25zdCByPXRoaXMuX2V2ZW50cztpZih2b2lkIDAhPT1yKW49biYmdm9pZCAwPT09ci5lcnJvcjtlbHNlIGlmKCFuKXJldHVybiExO2lmKG4pe2xldCBlO2lmKHQubGVuZ3RoPjAmJihbZV09dCksZSBpbnN0YW5jZW9mIEVycm9yKXRocm93IGU7Y29uc3Qgbj1uZXcgRXJyb3IoXCJVbmhhbmRsZWQgZXJyb3IuXCIrKGU/YCAoJHtlLm1lc3NhZ2V9KWA6XCJcIikpO3Rocm93IG4uY29udGV4dD1lLG59Y29uc3QgaT1yW2VdO2lmKHZvaWQgMD09PWkpcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgaSllcyhpLHRoaXMsdCk7ZWxzZXtjb25zdCBlPWkubGVuZ3RoLG49ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLmxlbmd0aCxuPW5ldyBBcnJheSh0KTtmb3IobGV0IHI9MDtyPHQ7cis9MSluW3JdPWVbcl07cmV0dXJuIG59KGkpO2ZvcihsZXQgcj0wO3I8ZTtyKz0xKWVzKG5bcl0sdGhpcyx0KX1yZXR1cm4hMH19dmFyIG5zLHJzLGlzPWZ1bmN0aW9uIGUodCxuKXtpZih0PT09bilyZXR1cm4hMDtpZih0JiZuJiZcIm9iamVjdFwiPT10eXBlb2YgdCYmXCJvYmplY3RcIj09dHlwZW9mIG4pe2lmKHQuY29uc3RydWN0b3IhPT1uLmNvbnN0cnVjdG9yKXJldHVybiExO3ZhciByLGksbztpZihBcnJheS5pc0FycmF5KHQpKXtpZigocj10Lmxlbmd0aCkhPW4ubGVuZ3RoKXJldHVybiExO2ZvcihpPXI7MCE9aS0tOylpZighZSh0W2ldLG5baV0pKXJldHVybiExO3JldHVybiEwfWlmKHQuY29uc3RydWN0b3I9PT1SZWdFeHApcmV0dXJuIHQuc291cmNlPT09bi5zb3VyY2UmJnQuZmxhZ3M9PT1uLmZsYWdzO2lmKHQudmFsdWVPZiE9PU9iamVjdC5wcm90b3R5cGUudmFsdWVPZilyZXR1cm4gdC52YWx1ZU9mKCk9PT1uLnZhbHVlT2YoKTtpZih0LnRvU3RyaW5nIT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZylyZXR1cm4gdC50b1N0cmluZygpPT09bi50b1N0cmluZygpO2lmKChyPShvPU9iamVjdC5rZXlzKHQpKS5sZW5ndGgpIT09T2JqZWN0LmtleXMobikubGVuZ3RoKXJldHVybiExO2ZvcihpPXI7MCE9aS0tOylpZighT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sb1tpXSkpcmV0dXJuITE7Zm9yKGk9cjswIT1pLS07KXt2YXIgcz1vW2ldO2lmKCFlKHRbc10sbltzXSkpcmV0dXJuITF9cmV0dXJuITB9cmV0dXJuIHQhPXQmJm4hPW59LG9zPWgoaXMpLHNzPWNsYXNzIGUgZXh0ZW5kcyB0c3tjb25zdHJ1Y3Rvcih7bG9nZ2VyOnQ9Y29uc29sZSxtYXhFdmVudExpc3RlbmVyczpuPTEwMCxycGNNaWRkbGV3YXJlOnI9W119PXt9KXtzdXBlcigpLFFvKHRoaXMsbnMsdm9pZCAwKSxRbyh0aGlzLHJzLHZvaWQgMCksdGhpcy5fbG9nPXQsdGhpcy5zZXRNYXhMaXN0ZW5lcnMobiksdGhpcy5fc3RhdGU9ey4uLmUuX2RlZmF1bHRTdGF0ZX0sWG8odGhpcyxycyxudWxsKSxYbyh0aGlzLG5zLG51bGwpLHRoaXMuX2hhbmRsZUFjY291bnRzQ2hhbmdlZD10aGlzLl9oYW5kbGVBY2NvdW50c0NoYW5nZWQuYmluZCh0aGlzKSx0aGlzLl9oYW5kbGVDb25uZWN0PXRoaXMuX2hhbmRsZUNvbm5lY3QuYmluZCh0aGlzKSx0aGlzLl9oYW5kbGVDaGFpbkNoYW5nZWQ9dGhpcy5faGFuZGxlQ2hhaW5DaGFuZ2VkLmJpbmQodGhpcyksdGhpcy5faGFuZGxlRGlzY29ubmVjdD10aGlzLl9oYW5kbGVEaXNjb25uZWN0LmJpbmQodGhpcyksdGhpcy5faGFuZGxlVW5sb2NrU3RhdGVDaGFuZ2VkPXRoaXMuX2hhbmRsZVVubG9ja1N0YXRlQ2hhbmdlZC5iaW5kKHRoaXMpLHRoaXMuX3JwY1JlcXVlc3Q9dGhpcy5fcnBjUmVxdWVzdC5iaW5kKHRoaXMpLHRoaXMucmVxdWVzdD10aGlzLnJlcXVlc3QuYmluZCh0aGlzKTtjb25zdCBpPW5ldyBqbztyLmZvckVhY2goKGU9PmkucHVzaChlKSkpLHRoaXMuX3JwY0VuZ2luZT1pfWdldCBjaGFpbklkKCl7cmV0dXJuIEpvKHRoaXMsbnMpfWdldCBzZWxlY3RlZEFkZHJlc3MoKXtyZXR1cm4gSm8odGhpcyxycyl9aXNDb25uZWN0ZWQoKXtyZXR1cm4gdGhpcy5fc3RhdGUuaXNDb25uZWN0ZWR9YXN5bmMgcmVxdWVzdChlKXtpZighZXx8XCJvYmplY3RcIiE9dHlwZW9mIGV8fEFycmF5LmlzQXJyYXkoZSkpdGhyb3cgaG8oe21lc3NhZ2U6JHIuZXJyb3JzLmludmFsaWRSZXF1ZXN0QXJncygpLGRhdGE6ZX0pO2NvbnN0e21ldGhvZDp0LHBhcmFtczpufT1lO2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0fHwwPT09dC5sZW5ndGgpdGhyb3cgaG8oe21lc3NhZ2U6JHIuZXJyb3JzLmludmFsaWRSZXF1ZXN0TWV0aG9kKCksZGF0YTplfSk7aWYodm9pZCAwIT09biYmIUFycmF5LmlzQXJyYXkobikmJihcIm9iamVjdFwiIT10eXBlb2Ygbnx8bnVsbD09PW4pKXRocm93IGhvKHttZXNzYWdlOiRyLmVycm9ycy5pbnZhbGlkUmVxdWVzdFBhcmFtcygpLGRhdGE6ZX0pO2NvbnN0IHI9bnVsbD09bj97bWV0aG9kOnR9OnttZXRob2Q6dCxwYXJhbXM6bn07cmV0dXJuIG5ldyBQcm9taXNlKCgoZSx0KT0+e3RoaXMuX3JwY1JlcXVlc3QocixGbyhlLHQpKX0pKX1faW5pdGlhbGl6ZVN0YXRlKGUpe2lmKHRoaXMuX3N0YXRlLmluaXRpYWxpemVkKXRocm93IG5ldyBFcnJvcihcIlByb3ZpZGVyIGFscmVhZHkgaW5pdGlhbGl6ZWQuXCIpO2lmKGUpe2NvbnN0e2FjY291bnRzOnQsY2hhaW5JZDpuLGlzVW5sb2NrZWQ6cixuZXR3b3JrVmVyc2lvbjppfT1lO3RoaXMuX2hhbmRsZUNvbm5lY3QobiksdGhpcy5faGFuZGxlQ2hhaW5DaGFuZ2VkKHtjaGFpbklkOm4sbmV0d29ya1ZlcnNpb246aX0pLHRoaXMuX2hhbmRsZVVubG9ja1N0YXRlQ2hhbmdlZCh7YWNjb3VudHM6dCxpc1VubG9ja2VkOnJ9KSx0aGlzLl9oYW5kbGVBY2NvdW50c0NoYW5nZWQodCl9dGhpcy5fc3RhdGUuaW5pdGlhbGl6ZWQ9ITAsdGhpcy5lbWl0KFwiX2luaXRpYWxpemVkXCIpfV9ycGNSZXF1ZXN0KGUsdCl7bGV0IG49dDtyZXR1cm4gQXJyYXkuaXNBcnJheShlKXx8KGUuanNvbnJwY3x8KGUuanNvbnJwYz1cIjIuMFwiKSxcImV0aF9hY2NvdW50c1wiIT09ZS5tZXRob2QmJlwiZXRoX3JlcXVlc3RBY2NvdW50c1wiIT09ZS5tZXRob2R8fChuPShuLHIpPT57dGhpcy5faGFuZGxlQWNjb3VudHNDaGFuZ2VkKHIucmVzdWx0Pz9bXSxcImV0aF9hY2NvdW50c1wiPT09ZS5tZXRob2QpLHQobixyKX0pKSx0aGlzLl9ycGNFbmdpbmUuaGFuZGxlKGUsbil9X2hhbmRsZUNvbm5lY3QoZSl7dGhpcy5fc3RhdGUuaXNDb25uZWN0ZWR8fCh0aGlzLl9zdGF0ZS5pc0Nvbm5lY3RlZD0hMCx0aGlzLmVtaXQoXCJjb25uZWN0XCIse2NoYWluSWQ6ZX0pLHRoaXMuX2xvZy5kZWJ1Zygkci5pbmZvLmNvbm5lY3RlZChlKSkpfV9oYW5kbGVEaXNjb25uZWN0KGUsdCl7aWYodGhpcy5fc3RhdGUuaXNDb25uZWN0ZWR8fCF0aGlzLl9zdGF0ZS5pc1Blcm1hbmVudGx5RGlzY29ubmVjdGVkJiYhZSl7bGV0IG47dGhpcy5fc3RhdGUuaXNDb25uZWN0ZWQ9ITEsZT8obj1uZXcgbG8oMTAxMyx0Pz8kci5lcnJvcnMuZGlzY29ubmVjdGVkKCkpLHRoaXMuX2xvZy5kZWJ1ZyhuKSk6KG49bmV3IGxvKDEwMTEsdD8/JHIuZXJyb3JzLnBlcm1hbmVudGx5RGlzY29ubmVjdGVkKCkpLHRoaXMuX2xvZy5lcnJvcihuKSxYbyh0aGlzLG5zLG51bGwpLHRoaXMuX3N0YXRlLmFjY291bnRzPW51bGwsWG8odGhpcyxycyxudWxsKSx0aGlzLl9zdGF0ZS5pc1VubG9ja2VkPSExLHRoaXMuX3N0YXRlLmlzUGVybWFuZW50bHlEaXNjb25uZWN0ZWQ9ITApLHRoaXMuZW1pdChcImRpc2Nvbm5lY3RcIixuKX19X2hhbmRsZUNoYWluQ2hhbmdlZCh7Y2hhaW5JZDplfT17fSl7cW8oZSk/KHRoaXMuX2hhbmRsZUNvbm5lY3QoZSksZSE9PUpvKHRoaXMsbnMpJiYoWG8odGhpcyxucyxlKSx0aGlzLl9zdGF0ZS5pbml0aWFsaXplZCYmdGhpcy5lbWl0KFwiY2hhaW5DaGFuZ2VkXCIsSm8odGhpcyxucykpKSk6dGhpcy5fbG9nLmVycm9yKCRyLmVycm9ycy5pbnZhbGlkTmV0d29ya1BhcmFtcygpLHtjaGFpbklkOmV9KX1faGFuZGxlQWNjb3VudHNDaGFuZ2VkKGUsdD0hMSl7bGV0IG49ZTtBcnJheS5pc0FycmF5KGUpfHwodGhpcy5fbG9nLmVycm9yKFwiTWV0YU1hc2s6IFJlY2VpdmVkIGludmFsaWQgYWNjb3VudHMgcGFyYW1ldGVyLiBQbGVhc2UgcmVwb3J0IHRoaXMgYnVnLlwiLGUpLG49W10pO2Zvcihjb25zdCB0IG9mIGUpaWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQpe3RoaXMuX2xvZy5lcnJvcihcIk1ldGFNYXNrOiBSZWNlaXZlZCBub24tc3RyaW5nIGFjY291bnQuIFBsZWFzZSByZXBvcnQgdGhpcyBidWcuXCIsZSksbj1bXTticmVha31pZighb3ModGhpcy5fc3RhdGUuYWNjb3VudHMsbikmJih0JiZudWxsIT09dGhpcy5fc3RhdGUuYWNjb3VudHMmJnRoaXMuX2xvZy5lcnJvcihcIk1ldGFNYXNrOiAnZXRoX2FjY291bnRzJyB1bmV4cGVjdGVkbHkgdXBkYXRlZCBhY2NvdW50cy4gUGxlYXNlIHJlcG9ydCB0aGlzIGJ1Zy5cIixuKSx0aGlzLl9zdGF0ZS5hY2NvdW50cz1uLEpvKHRoaXMscnMpIT09blswXSYmWG8odGhpcyxycyxuWzBdfHxudWxsKSx0aGlzLl9zdGF0ZS5pbml0aWFsaXplZCkpe2NvbnN0IGU9Wy4uLm5dO3RoaXMuZW1pdChcImFjY291bnRzQ2hhbmdlZFwiLGUpfX1faGFuZGxlVW5sb2NrU3RhdGVDaGFuZ2VkKHthY2NvdW50czplLGlzVW5sb2NrZWQ6dH09e30pe1wiYm9vbGVhblwiPT10eXBlb2YgdD90IT09dGhpcy5fc3RhdGUuaXNVbmxvY2tlZCYmKHRoaXMuX3N0YXRlLmlzVW5sb2NrZWQ9dCx0aGlzLl9oYW5kbGVBY2NvdW50c0NoYW5nZWQoZT8/W10pKTp0aGlzLl9sb2cuZXJyb3IoXCJNZXRhTWFzazogUmVjZWl2ZWQgaW52YWxpZCBpc1VubG9ja2VkIHBhcmFtZXRlci4gUGxlYXNlIHJlcG9ydCB0aGlzIGJ1Zy5cIil9fTtucz1uZXcgV2Vha01hcCxycz1uZXcgV2Vha01hcCxzcy5fZGVmYXVsdFN0YXRlPXthY2NvdW50czpudWxsLGlzQ29ubmVjdGVkOiExLGlzVW5sb2NrZWQ6ITEsaW5pdGlhbGl6ZWQ6ITEsaXNQZXJtYW5lbnRseURpc2Nvbm5lY3RlZDohMX07dmFyIGFzLGNzLGRzLGxzLHVzLGhzLGZzPXNzLHBzPXtleHBvcnRzOnt9fTtmdW5jdGlvbiBtcygpe3JldHVybiBjcz9hczooY3M9MSxhcz1jKX1mdW5jdGlvbiBncygpe2lmKGxzKXJldHVybiBkcztmdW5jdGlvbiBlKGUsdCl7dmFyIG49T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYocj1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiB0KHQpe2Zvcih2YXIgbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1tuXT9hcmd1bWVudHNbbl06e307biUyP2UoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyKHQsZSxpW2VdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTplKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksZSkpfSkpfXJldHVybiB0fWZ1bmN0aW9uIHIoZSx0LG4pe3JldHVybih0PW8odCkpaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1uLGV9ZnVuY3Rpb24gaShlLHQsbil7cmV0dXJuIHQmJmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG8oci5rZXkpLHIpfX0oZS5wcm90b3R5cGUsdCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlfWZ1bmN0aW9uIG8oZSl7dmFyIHQ9ZnVuY3Rpb24oZSx0KXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuIGU7dmFyIG49ZVtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbChlLHR8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT10eXBlb2YgcilyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT10P1N0cmluZzpOdW1iZXIpKGUpfShlLFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PXR5cGVvZiB0P3Q6U3RyaW5nKHQpfWxzPTE7dmFyIHM9bi5CdWZmZXIsYT1kLmluc3BlY3QsYz1hJiZhLmN1c3RvbXx8XCJpbnNwZWN0XCI7cmV0dXJuIGRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpeyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksdGhpcy5oZWFkPW51bGwsdGhpcy50YWlsPW51bGwsdGhpcy5sZW5ndGg9MH1yZXR1cm4gaShlLFt7a2V5OlwicHVzaFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXtkYXRhOmUsbmV4dDpudWxsfTt0aGlzLmxlbmd0aD4wP3RoaXMudGFpbC5uZXh0PXQ6dGhpcy5oZWFkPXQsdGhpcy50YWlsPXQsKyt0aGlzLmxlbmd0aH19LHtrZXk6XCJ1bnNoaWZ0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9e2RhdGE6ZSxuZXh0OnRoaXMuaGVhZH07MD09PXRoaXMubGVuZ3RoJiYodGhpcy50YWlsPXQpLHRoaXMuaGVhZD10LCsrdGhpcy5sZW5ndGh9fSx7a2V5Olwic2hpZnRcIix2YWx1ZTpmdW5jdGlvbigpe2lmKDAhPT10aGlzLmxlbmd0aCl7dmFyIGU9dGhpcy5oZWFkLmRhdGE7cmV0dXJuIDE9PT10aGlzLmxlbmd0aD90aGlzLmhlYWQ9dGhpcy50YWlsPW51bGw6dGhpcy5oZWFkPXRoaXMuaGVhZC5uZXh0LC0tdGhpcy5sZW5ndGgsZX19fSx7a2V5OlwiY2xlYXJcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuaGVhZD10aGlzLnRhaWw9bnVsbCx0aGlzLmxlbmd0aD0wfX0se2tleTpcImpvaW5cIix2YWx1ZTpmdW5jdGlvbihlKXtpZigwPT09dGhpcy5sZW5ndGgpcmV0dXJuXCJcIjtmb3IodmFyIHQ9dGhpcy5oZWFkLG49XCJcIit0LmRhdGE7dD10Lm5leHQ7KW4rPWUrdC5kYXRhO3JldHVybiBufX0se2tleTpcImNvbmNhdFwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKDA9PT10aGlzLmxlbmd0aClyZXR1cm4gcy5hbGxvYygwKTtmb3IodmFyIHQsbixyLGk9cy5hbGxvY1Vuc2FmZShlPj4+MCksbz10aGlzLmhlYWQsYT0wO287KXQ9by5kYXRhLG49aSxyPWEscy5wcm90b3R5cGUuY29weS5jYWxsKHQsbixyKSxhKz1vLmRhdGEubGVuZ3RoLG89by5uZXh0O3JldHVybiBpfX0se2tleTpcImNvbnN1bWVcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuO3JldHVybiBlPHRoaXMuaGVhZC5kYXRhLmxlbmd0aD8obj10aGlzLmhlYWQuZGF0YS5zbGljZSgwLGUpLHRoaXMuaGVhZC5kYXRhPXRoaXMuaGVhZC5kYXRhLnNsaWNlKGUpKTpuPWU9PT10aGlzLmhlYWQuZGF0YS5sZW5ndGg/dGhpcy5zaGlmdCgpOnQ/dGhpcy5fZ2V0U3RyaW5nKGUpOnRoaXMuX2dldEJ1ZmZlcihlKSxufX0se2tleTpcImZpcnN0XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oZWFkLmRhdGF9fSx7a2V5OlwiX2dldFN0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuaGVhZCxuPTEscj10LmRhdGE7Zm9yKGUtPXIubGVuZ3RoO3Q9dC5uZXh0Oyl7dmFyIGk9dC5kYXRhLG89ZT5pLmxlbmd0aD9pLmxlbmd0aDplO2lmKG89PT1pLmxlbmd0aD9yKz1pOnIrPWkuc2xpY2UoMCxlKSwwPT09KGUtPW8pKXtvPT09aS5sZW5ndGg/KCsrbix0Lm5leHQ/dGhpcy5oZWFkPXQubmV4dDp0aGlzLmhlYWQ9dGhpcy50YWlsPW51bGwpOih0aGlzLmhlYWQ9dCx0LmRhdGE9aS5zbGljZShvKSk7YnJlYWt9KytufXJldHVybiB0aGlzLmxlbmd0aC09bixyfX0se2tleTpcIl9nZXRCdWZmZXJcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1zLmFsbG9jVW5zYWZlKGUpLG49dGhpcy5oZWFkLHI9MTtmb3Iobi5kYXRhLmNvcHkodCksZS09bi5kYXRhLmxlbmd0aDtuPW4ubmV4dDspe3ZhciBpPW4uZGF0YSxvPWU+aS5sZW5ndGg/aS5sZW5ndGg6ZTtpZihpLmNvcHkodCx0Lmxlbmd0aC1lLDAsbyksMD09PShlLT1vKSl7bz09PWkubGVuZ3RoPygrK3Isbi5uZXh0P3RoaXMuaGVhZD1uLm5leHQ6dGhpcy5oZWFkPXRoaXMudGFpbD1udWxsKToodGhpcy5oZWFkPW4sbi5kYXRhPWkuc2xpY2UobykpO2JyZWFrfSsrcn1yZXR1cm4gdGhpcy5sZW5ndGgtPXIsdH19LHtrZXk6Yyx2YWx1ZTpmdW5jdGlvbihlLG4pe3JldHVybiBhKHRoaXMsdCh0KHt9LG4pLHt9LHtkZXB0aDowLGN1c3RvbUluc3BlY3Q6ITF9KSl9fV0pLGV9KCksZHN9ZnVuY3Rpb24gdnMoKXtpZihocylyZXR1cm4gdXM7ZnVuY3Rpb24gZShlLHIpe24oZSxyKSx0KGUpfWZ1bmN0aW9uIHQoZSl7ZS5fd3JpdGFibGVTdGF0ZSYmIWUuX3dyaXRhYmxlU3RhdGUuZW1pdENsb3NlfHxlLl9yZWFkYWJsZVN0YXRlJiYhZS5fcmVhZGFibGVTdGF0ZS5lbWl0Q2xvc2V8fGUuZW1pdChcImNsb3NlXCIpfWZ1bmN0aW9uIG4oZSx0KXtlLmVtaXQoXCJlcnJvclwiLHQpfXJldHVybiBocz0xLHVzPXtkZXN0cm95OmZ1bmN0aW9uKHIsaSl7dmFyIG89dGhpcyxzPXRoaXMuX3JlYWRhYmxlU3RhdGUmJnRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkLGE9dGhpcy5fd3JpdGFibGVTdGF0ZSYmdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQ7cmV0dXJuIHN8fGE/KGk/aShyKTpyJiYodGhpcy5fd3JpdGFibGVTdGF0ZT90aGlzLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZHx8KHRoaXMuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkPSEwLHByb2Nlc3MubmV4dFRpY2sobix0aGlzLHIpKTpwcm9jZXNzLm5leHRUaWNrKG4sdGhpcyxyKSksdGhpcyk6KHRoaXMuX3JlYWRhYmxlU3RhdGUmJih0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZD0hMCksdGhpcy5fd3JpdGFibGVTdGF0ZSYmKHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkPSEwKSx0aGlzLl9kZXN0cm95KHJ8fG51bGwsKGZ1bmN0aW9uKG4peyFpJiZuP28uX3dyaXRhYmxlU3RhdGU/by5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQ/cHJvY2Vzcy5uZXh0VGljayh0LG8pOihvLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZD0hMCxwcm9jZXNzLm5leHRUaWNrKGUsbyxuKSk6cHJvY2Vzcy5uZXh0VGljayhlLG8sbik6aT8ocHJvY2Vzcy5uZXh0VGljayh0LG8pLGkobikpOnByb2Nlc3MubmV4dFRpY2sodCxvKX0pKSx0aGlzKX0sdW5kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fcmVhZGFibGVTdGF0ZSYmKHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkPSExLHRoaXMuX3JlYWRhYmxlU3RhdGUucmVhZGluZz0hMSx0aGlzLl9yZWFkYWJsZVN0YXRlLmVuZGVkPSExLHRoaXMuX3JlYWRhYmxlU3RhdGUuZW5kRW1pdHRlZD0hMSksdGhpcy5fd3JpdGFibGVTdGF0ZSYmKHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkPSExLHRoaXMuX3dyaXRhYmxlU3RhdGUuZW5kZWQ9ITEsdGhpcy5fd3JpdGFibGVTdGF0ZS5lbmRpbmc9ITEsdGhpcy5fd3JpdGFibGVTdGF0ZS5maW5hbENhbGxlZD0hMSx0aGlzLl93cml0YWJsZVN0YXRlLnByZWZpbmlzaGVkPSExLHRoaXMuX3dyaXRhYmxlU3RhdGUuZmluaXNoZWQ9ITEsdGhpcy5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQ9ITEpfSxlcnJvck9yRGVzdHJveTpmdW5jdGlvbihlLHQpe3ZhciBuPWUuX3JlYWRhYmxlU3RhdGUscj1lLl93cml0YWJsZVN0YXRlO24mJm4uYXV0b0Rlc3Ryb3l8fHImJnIuYXV0b0Rlc3Ryb3k/ZS5kZXN0cm95KHQpOmUuZW1pdChcImVycm9yXCIsdCl9fSx1c312YXIgeXMsRXMsYnMsd3M9e307ZnVuY3Rpb24gU3MoKXtpZih5cylyZXR1cm4gd3M7eXM9MTtjb25zdCBlPXt9O2Z1bmN0aW9uIHQodCxuLHIpe3J8fChyPUVycm9yKTtjbGFzcyBpIGV4dGVuZHMgcntjb25zdHJ1Y3RvcihlLHQscil7c3VwZXIoZnVuY3Rpb24oZSx0LHIpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBuP246bihlLHQscil9KGUsdCxyKSl9fWkucHJvdG90eXBlLm5hbWU9ci5uYW1lLGkucHJvdG90eXBlLmNvZGU9dCxlW3RdPWl9ZnVuY3Rpb24gbihlLHQpe2lmKEFycmF5LmlzQXJyYXkoZSkpe2NvbnN0IG49ZS5sZW5ndGg7cmV0dXJuIGU9ZS5tYXAoKGU9PlN0cmluZyhlKSkpLG4+Mj9gb25lIG9mICR7dH0gJHtlLnNsaWNlKDAsbi0xKS5qb2luKFwiLCBcIil9LCBvciBgK2Vbbi0xXToyPT09bj9gb25lIG9mICR7dH0gJHtlWzBdfSBvciAke2VbMV19YDpgb2YgJHt0fSAke2VbMF19YH1yZXR1cm5gb2YgJHt0fSAke1N0cmluZyhlKX1gfXJldHVybiB0KFwiRVJSX0lOVkFMSURfT1BUX1ZBTFVFXCIsKGZ1bmN0aW9uKGUsdCl7cmV0dXJuJ1RoZSB2YWx1ZSBcIicrdCsnXCIgaXMgaW52YWxpZCBmb3Igb3B0aW9uIFwiJytlKydcIid9KSxUeXBlRXJyb3IpLHQoXCJFUlJfSU5WQUxJRF9BUkdfVFlQRVwiLChmdW5jdGlvbihlLHQscil7bGV0IGk7dmFyIG87bGV0IHM7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQmJihvPVwibm90IFwiLHQuc3Vic3RyKDAsby5sZW5ndGgpPT09byk/KGk9XCJtdXN0IG5vdCBiZVwiLHQ9dC5yZXBsYWNlKC9ebm90IC8sXCJcIikpOmk9XCJtdXN0IGJlXCIsZnVuY3Rpb24oZSx0LG4pe3JldHVybih2b2lkIDA9PT1ufHxuPmUubGVuZ3RoKSYmKG49ZS5sZW5ndGgpLGUuc3Vic3RyaW5nKG4tdC5sZW5ndGgsbik9PT10fShlLFwiIGFyZ3VtZW50XCIpKXM9YFRoZSAke2V9ICR7aX0gJHtuKHQsXCJ0eXBlXCIpfWA7ZWxzZXtjb25zdCByPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm5cIm51bWJlclwiIT10eXBlb2YgbiYmKG49MCksIShuK3QubGVuZ3RoPmUubGVuZ3RoKSYmLTEhPT1lLmluZGV4T2YodCxuKX0oZSxcIi5cIik/XCJwcm9wZXJ0eVwiOlwiYXJndW1lbnRcIjtzPWBUaGUgXCIke2V9XCIgJHtyfSAke2l9ICR7bih0LFwidHlwZVwiKX1gfXJldHVybiBzKz1cIi4gUmVjZWl2ZWQgdHlwZSBcIit0eXBlb2YgcixzfSksVHlwZUVycm9yKSx0KFwiRVJSX1NUUkVBTV9QVVNIX0FGVEVSX0VPRlwiLFwic3RyZWFtLnB1c2goKSBhZnRlciBFT0ZcIiksdChcIkVSUl9NRVRIT0RfTk9UX0lNUExFTUVOVEVEXCIsKGZ1bmN0aW9uKGUpe3JldHVyblwiVGhlIFwiK2UrXCIgbWV0aG9kIGlzIG5vdCBpbXBsZW1lbnRlZFwifSkpLHQoXCJFUlJfU1RSRUFNX1BSRU1BVFVSRV9DTE9TRVwiLFwiUHJlbWF0dXJlIGNsb3NlXCIpLHQoXCJFUlJfU1RSRUFNX0RFU1RST1lFRFwiLChmdW5jdGlvbihlKXtyZXR1cm5cIkNhbm5vdCBjYWxsIFwiK2UrXCIgYWZ0ZXIgYSBzdHJlYW0gd2FzIGRlc3Ryb3llZFwifSkpLHQoXCJFUlJfTVVMVElQTEVfQ0FMTEJBQ0tcIixcIkNhbGxiYWNrIGNhbGxlZCBtdWx0aXBsZSB0aW1lc1wiKSx0KFwiRVJSX1NUUkVBTV9DQU5OT1RfUElQRVwiLFwiQ2Fubm90IHBpcGUsIG5vdCByZWFkYWJsZVwiKSx0KFwiRVJSX1NUUkVBTV9XUklURV9BRlRFUl9FTkRcIixcIndyaXRlIGFmdGVyIGVuZFwiKSx0KFwiRVJSX1NUUkVBTV9OVUxMX1ZBTFVFU1wiLFwiTWF5IG5vdCB3cml0ZSBudWxsIHZhbHVlcyB0byBzdHJlYW1cIixUeXBlRXJyb3IpLHQoXCJFUlJfVU5LTk9XTl9FTkNPRElOR1wiLChmdW5jdGlvbihlKXtyZXR1cm5cIlVua25vd24gZW5jb2Rpbmc6IFwiK2V9KSxUeXBlRXJyb3IpLHQoXCJFUlJfU1RSRUFNX1VOU0hJRlRfQUZURVJfRU5EX0VWRU5UXCIsXCJzdHJlYW0udW5zaGlmdCgpIGFmdGVyIGVuZCBldmVudFwiKSx3cy5jb2Rlcz1lLHdzfWZ1bmN0aW9uIF9zKCl7aWYoYnMpcmV0dXJuIEVzO2JzPTE7dmFyIGU9U3MoKS5jb2Rlcy5FUlJfSU5WQUxJRF9PUFRfVkFMVUU7cmV0dXJuIEVzPXtnZXRIaWdoV2F0ZXJNYXJrOmZ1bmN0aW9uKHQsbixyLGkpe3ZhciBvPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbnVsbCE9ZS5oaWdoV2F0ZXJNYXJrP2UuaGlnaFdhdGVyTWFyazp0P2Vbbl06bnVsbH0obixpLHIpO2lmKG51bGwhPW8pe2lmKCFpc0Zpbml0ZShvKXx8TWF0aC5mbG9vcihvKSE9PW98fG88MCl0aHJvdyBuZXcgZShpP3I6XCJoaWdoV2F0ZXJNYXJrXCIsbyk7cmV0dXJuIE1hdGguZmxvb3Iobyl9cmV0dXJuIHQub2JqZWN0TW9kZT8xNjoxNjM4NH19fXZhciBDcyx4cyxrcyxNcyxBcyxUcyxJcyxQcyxScz17ZXhwb3J0czp7fX0sT3M9e2V4cG9ydHM6e319O2Z1bmN0aW9uIE5zKCl7aWYoeHMpcmV0dXJuIFJzLmV4cG9ydHM7eHM9MTt0cnl7dmFyIGU9cmVxdWlyZShcInV0aWxcIik7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZS5pbmhlcml0cyl0aHJvd1wiXCI7UnMuZXhwb3J0cz1lLmluaGVyaXRzfWNhdGNoKGUpe1JzLmV4cG9ydHM9KENzfHwoQ3M9MSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuY3JlYXRlP09zLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt0JiYoZS5zdXBlcl89dCxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSl9Ok9zLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZih0KXtlLnN1cGVyXz10O3ZhciBuPWZ1bmN0aW9uKCl7fTtuLnByb3RvdHlwZT10LnByb3RvdHlwZSxlLnByb3RvdHlwZT1uZXcgbixlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lfX0pLE9zLmV4cG9ydHMpfXJldHVybiBScy5leHBvcnRzfWZ1bmN0aW9uIERzKCl7aWYoVHMpcmV0dXJuIEFzO2Z1bmN0aW9uIGUoZSl7dmFyIHQ9dGhpczt0aGlzLm5leHQ9bnVsbCx0aGlzLmVudHJ5PW51bGwsdGhpcy5maW5pc2g9ZnVuY3Rpb24oKXshZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUuZW50cnk7ZS5lbnRyeT1udWxsO2Zvcig7cjspe3ZhciBpPXIuY2FsbGJhY2s7dC5wZW5kaW5nY2ItLSxpKG4pLHI9ci5uZXh0fXQuY29ya2VkUmVxdWVzdHNGcmVlLm5leHQ9ZX0odCxlKX19dmFyIHQ7VHM9MSxBcz1DLEMuV3JpdGFibGVTdGF0ZT1fO3ZhciByPXtkZXByZWNhdGU6TXM/a3M6KE1zPTEsa3M9ZC5kZXByZWNhdGUpfSxpPW1zKCksbz1uLkJ1ZmZlcixzPSh2b2lkIDAhPT11P3U6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjp7fSkuVWludDhBcnJheXx8ZnVuY3Rpb24oKXt9O3ZhciBhLGM9dnMoKSxsPV9zKCkuZ2V0SGlnaFdhdGVyTWFyayxoPVNzKCkuY29kZXMsZj1oLkVSUl9JTlZBTElEX0FSR19UWVBFLHA9aC5FUlJfTUVUSE9EX05PVF9JTVBMRU1FTlRFRCxtPWguRVJSX01VTFRJUExFX0NBTExCQUNLLGc9aC5FUlJfU1RSRUFNX0NBTk5PVF9QSVBFLHY9aC5FUlJfU1RSRUFNX0RFU1RST1lFRCx5PWguRVJSX1NUUkVBTV9OVUxMX1ZBTFVFUyxFPWguRVJSX1NUUkVBTV9XUklURV9BRlRFUl9FTkQsYj1oLkVSUl9VTktOT1dOX0VOQ09ESU5HLHc9Yy5lcnJvck9yRGVzdHJveTtmdW5jdGlvbiBTKCl7fWZ1bmN0aW9uIF8obixyLGkpe3Q9dHx8THMoKSxuPW58fHt9LFwiYm9vbGVhblwiIT10eXBlb2YgaSYmKGk9ciBpbnN0YW5jZW9mIHQpLHRoaXMub2JqZWN0TW9kZT0hIW4ub2JqZWN0TW9kZSxpJiYodGhpcy5vYmplY3RNb2RlPXRoaXMub2JqZWN0TW9kZXx8ISFuLndyaXRhYmxlT2JqZWN0TW9kZSksdGhpcy5oaWdoV2F0ZXJNYXJrPWwodGhpcyxuLFwid3JpdGFibGVIaWdoV2F0ZXJNYXJrXCIsaSksdGhpcy5maW5hbENhbGxlZD0hMSx0aGlzLm5lZWREcmFpbj0hMSx0aGlzLmVuZGluZz0hMSx0aGlzLmVuZGVkPSExLHRoaXMuZmluaXNoZWQ9ITEsdGhpcy5kZXN0cm95ZWQ9ITE7dmFyIG89ITE9PT1uLmRlY29kZVN0cmluZ3M7dGhpcy5kZWNvZGVTdHJpbmdzPSFvLHRoaXMuZGVmYXVsdEVuY29kaW5nPW4uZGVmYXVsdEVuY29kaW5nfHxcInV0ZjhcIix0aGlzLmxlbmd0aD0wLHRoaXMud3JpdGluZz0hMSx0aGlzLmNvcmtlZD0wLHRoaXMuc3luYz0hMCx0aGlzLmJ1ZmZlclByb2Nlc3Npbmc9ITEsdGhpcy5vbndyaXRlPWZ1bmN0aW9uKGUpeyFmdW5jdGlvbihlLHQpe3ZhciBuPWUuX3dyaXRhYmxlU3RhdGUscj1uLnN5bmMsaT1uLndyaXRlY2I7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgaSl0aHJvdyBuZXcgbTtpZihmdW5jdGlvbihlKXtlLndyaXRpbmc9ITEsZS53cml0ZWNiPW51bGwsZS5sZW5ndGgtPWUud3JpdGVsZW4sZS53cml0ZWxlbj0wfShuKSx0KSFmdW5jdGlvbihlLHQsbixyLGkpey0tdC5wZW5kaW5nY2Isbj8ocHJvY2Vzcy5uZXh0VGljayhpLHIpLHByb2Nlc3MubmV4dFRpY2soSSxlLHQpLGUuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkPSEwLHcoZSxyKSk6KGkociksZS5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQ9ITAsdyhlLHIpLEkoZSx0KSl9KGUsbixyLHQsaSk7ZWxzZXt2YXIgbz1BKG4pfHxlLmRlc3Ryb3llZDtvfHxuLmNvcmtlZHx8bi5idWZmZXJQcm9jZXNzaW5nfHwhbi5idWZmZXJlZFJlcXVlc3R8fE0oZSxuKSxyP3Byb2Nlc3MubmV4dFRpY2soayxlLG4sbyxpKTprKGUsbixvLGkpfX0ocixlKX0sdGhpcy53cml0ZWNiPW51bGwsdGhpcy53cml0ZWxlbj0wLHRoaXMuYnVmZmVyZWRSZXF1ZXN0PW51bGwsdGhpcy5sYXN0QnVmZmVyZWRSZXF1ZXN0PW51bGwsdGhpcy5wZW5kaW5nY2I9MCx0aGlzLnByZWZpbmlzaGVkPSExLHRoaXMuZXJyb3JFbWl0dGVkPSExLHRoaXMuZW1pdENsb3NlPSExIT09bi5lbWl0Q2xvc2UsdGhpcy5hdXRvRGVzdHJveT0hIW4uYXV0b0Rlc3Ryb3ksdGhpcy5idWZmZXJlZFJlcXVlc3RDb3VudD0wLHRoaXMuY29ya2VkUmVxdWVzdHNGcmVlPW5ldyBlKHRoaXMpfWZ1bmN0aW9uIEMoZSl7dmFyIG49dGhpcyBpbnN0YW5jZW9mKHQ9dHx8THMoKSk7aWYoIW4mJiFhLmNhbGwoQyx0aGlzKSlyZXR1cm4gbmV3IEMoZSk7dGhpcy5fd3JpdGFibGVTdGF0ZT1uZXcgXyhlLHRoaXMsbiksdGhpcy53cml0YWJsZT0hMCxlJiYoXCJmdW5jdGlvblwiPT10eXBlb2YgZS53cml0ZSYmKHRoaXMuX3dyaXRlPWUud3JpdGUpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGUud3JpdGV2JiYodGhpcy5fd3JpdGV2PWUud3JpdGV2KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmRlc3Ryb3kmJih0aGlzLl9kZXN0cm95PWUuZGVzdHJveSksXCJmdW5jdGlvblwiPT10eXBlb2YgZS5maW5hbCYmKHRoaXMuX2ZpbmFsPWUuZmluYWwpKSxpLmNhbGwodGhpcyl9ZnVuY3Rpb24geChlLHQsbixyLGksbyxzKXt0LndyaXRlbGVuPXIsdC53cml0ZWNiPXMsdC53cml0aW5nPSEwLHQuc3luYz0hMCx0LmRlc3Ryb3llZD90Lm9ud3JpdGUobmV3IHYoXCJ3cml0ZVwiKSk6bj9lLl93cml0ZXYoaSx0Lm9ud3JpdGUpOmUuX3dyaXRlKGksbyx0Lm9ud3JpdGUpLHQuc3luYz0hMX1mdW5jdGlvbiBrKGUsdCxuLHIpe258fGZ1bmN0aW9uKGUsdCl7MD09PXQubGVuZ3RoJiZ0Lm5lZWREcmFpbiYmKHQubmVlZERyYWluPSExLGUuZW1pdChcImRyYWluXCIpKX0oZSx0KSx0LnBlbmRpbmdjYi0tLHIoKSxJKGUsdCl9ZnVuY3Rpb24gTSh0LG4pe24uYnVmZmVyUHJvY2Vzc2luZz0hMDt2YXIgcj1uLmJ1ZmZlcmVkUmVxdWVzdDtpZih0Ll93cml0ZXYmJnImJnIubmV4dCl7dmFyIGk9bi5idWZmZXJlZFJlcXVlc3RDb3VudCxvPW5ldyBBcnJheShpKSxzPW4uY29ya2VkUmVxdWVzdHNGcmVlO3MuZW50cnk9cjtmb3IodmFyIGE9MCxjPSEwO3I7KW9bYV09cixyLmlzQnVmfHwoYz0hMSkscj1yLm5leHQsYSs9MTtvLmFsbEJ1ZmZlcnM9Yyx4KHQsbiwhMCxuLmxlbmd0aCxvLFwiXCIscy5maW5pc2gpLG4ucGVuZGluZ2NiKyssbi5sYXN0QnVmZmVyZWRSZXF1ZXN0PW51bGwscy5uZXh0PyhuLmNvcmtlZFJlcXVlc3RzRnJlZT1zLm5leHQscy5uZXh0PW51bGwpOm4uY29ya2VkUmVxdWVzdHNGcmVlPW5ldyBlKG4pLG4uYnVmZmVyZWRSZXF1ZXN0Q291bnQ9MH1lbHNle2Zvcig7cjspe3ZhciBkPXIuY2h1bmssbD1yLmVuY29kaW5nLHU9ci5jYWxsYmFjaztpZih4KHQsbiwhMSxuLm9iamVjdE1vZGU/MTpkLmxlbmd0aCxkLGwsdSkscj1yLm5leHQsbi5idWZmZXJlZFJlcXVlc3RDb3VudC0tLG4ud3JpdGluZylicmVha31udWxsPT09ciYmKG4ubGFzdEJ1ZmZlcmVkUmVxdWVzdD1udWxsKX1uLmJ1ZmZlcmVkUmVxdWVzdD1yLG4uYnVmZmVyUHJvY2Vzc2luZz0hMX1mdW5jdGlvbiBBKGUpe3JldHVybiBlLmVuZGluZyYmMD09PWUubGVuZ3RoJiZudWxsPT09ZS5idWZmZXJlZFJlcXVlc3QmJiFlLmZpbmlzaGVkJiYhZS53cml0aW5nfWZ1bmN0aW9uIFQoZSx0KXtlLl9maW5hbCgoZnVuY3Rpb24obil7dC5wZW5kaW5nY2ItLSxuJiZ3KGUsbiksdC5wcmVmaW5pc2hlZD0hMCxlLmVtaXQoXCJwcmVmaW5pc2hcIiksSShlLHQpfSkpfWZ1bmN0aW9uIEkoZSx0KXt2YXIgbj1BKHQpO2lmKG4mJihmdW5jdGlvbihlLHQpe3QucHJlZmluaXNoZWR8fHQuZmluYWxDYWxsZWR8fChcImZ1bmN0aW9uXCIhPXR5cGVvZiBlLl9maW5hbHx8dC5kZXN0cm95ZWQ/KHQucHJlZmluaXNoZWQ9ITAsZS5lbWl0KFwicHJlZmluaXNoXCIpKToodC5wZW5kaW5nY2IrKyx0LmZpbmFsQ2FsbGVkPSEwLHByb2Nlc3MubmV4dFRpY2soVCxlLHQpKSl9KGUsdCksMD09PXQucGVuZGluZ2NiJiYodC5maW5pc2hlZD0hMCxlLmVtaXQoXCJmaW5pc2hcIiksdC5hdXRvRGVzdHJveSkpKXt2YXIgcj1lLl9yZWFkYWJsZVN0YXRlOyghcnx8ci5hdXRvRGVzdHJveSYmci5lbmRFbWl0dGVkKSYmZS5kZXN0cm95KCl9cmV0dXJuIG59cmV0dXJuIE5zKCkoQyxpKSxfLnByb3RvdHlwZS5nZXRCdWZmZXI9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5idWZmZXJlZFJlcXVlc3QsdD1bXTtlOyl0LnB1c2goZSksZT1lLm5leHQ7cmV0dXJuIHR9LGZ1bmN0aW9uKCl7dHJ5e09iamVjdC5kZWZpbmVQcm9wZXJ0eShfLnByb3RvdHlwZSxcImJ1ZmZlclwiLHtnZXQ6ci5kZXByZWNhdGUoKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0QnVmZmVyKCl9KSxcIl93cml0YWJsZVN0YXRlLmJ1ZmZlciBpcyBkZXByZWNhdGVkLiBVc2UgX3dyaXRhYmxlU3RhdGUuZ2V0QnVmZmVyIGluc3RlYWQuXCIsXCJERVAwMDAzXCIpfSl9Y2F0Y2goZSl7fX0oKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5oYXNJbnN0YW5jZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgRnVuY3Rpb24ucHJvdG90eXBlW1N5bWJvbC5oYXNJbnN0YW5jZV0/KGE9RnVuY3Rpb24ucHJvdG90eXBlW1N5bWJvbC5oYXNJbnN0YW5jZV0sT2JqZWN0LmRlZmluZVByb3BlcnR5KEMsU3ltYm9sLmhhc0luc3RhbmNlLHt2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4hIWEuY2FsbCh0aGlzLGUpfHx0aGlzPT09QyYmKGUmJmUuX3dyaXRhYmxlU3RhdGUgaW5zdGFuY2VvZiBfKX19KSk6YT1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHRoaXN9LEMucHJvdG90eXBlLnBpcGU9ZnVuY3Rpb24oKXt3KHRoaXMsbmV3IGcpfSxDLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlLHQsbil7dmFyIHIsaT10aGlzLl93cml0YWJsZVN0YXRlLGE9ITEsYz0haS5vYmplY3RNb2RlJiYocj1lLG8uaXNCdWZmZXIocil8fHIgaW5zdGFuY2VvZiBzKTtyZXR1cm4gYyYmIW8uaXNCdWZmZXIoZSkmJihlPWZ1bmN0aW9uKGUpe3JldHVybiBvLmZyb20oZSl9KGUpKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYobj10LHQ9bnVsbCksYz90PVwiYnVmZmVyXCI6dHx8KHQ9aS5kZWZhdWx0RW5jb2RpbmcpLFwiZnVuY3Rpb25cIiE9dHlwZW9mIG4mJihuPVMpLGkuZW5kaW5nP2Z1bmN0aW9uKGUsdCl7dmFyIG49bmV3IEU7dyhlLG4pLHByb2Nlc3MubmV4dFRpY2sodCxuKX0odGhpcyxuKTooY3x8ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk7cmV0dXJuIG51bGw9PT1uP2k9bmV3IHk6XCJzdHJpbmdcIj09dHlwZW9mIG58fHQub2JqZWN0TW9kZXx8KGk9bmV3IGYoXCJjaHVua1wiLFtcInN0cmluZ1wiLFwiQnVmZmVyXCJdLG4pKSwhaXx8KHcoZSxpKSxwcm9jZXNzLm5leHRUaWNrKHIsaSksITEpfSh0aGlzLGksZSxuKSkmJihpLnBlbmRpbmdjYisrLGE9ZnVuY3Rpb24oZSx0LG4scixpLHMpe2lmKCFuKXt2YXIgYT1mdW5jdGlvbihlLHQsbil7ZS5vYmplY3RNb2RlfHwhMT09PWUuZGVjb2RlU3RyaW5nc3x8XCJzdHJpbmdcIiE9dHlwZW9mIHR8fCh0PW8uZnJvbSh0LG4pKTtyZXR1cm4gdH0odCxyLGkpO3IhPT1hJiYobj0hMCxpPVwiYnVmZmVyXCIscj1hKX12YXIgYz10Lm9iamVjdE1vZGU/MTpyLmxlbmd0aDt0Lmxlbmd0aCs9Yzt2YXIgZD10Lmxlbmd0aDx0LmhpZ2hXYXRlck1hcms7ZHx8KHQubmVlZERyYWluPSEwKTtpZih0LndyaXRpbmd8fHQuY29ya2VkKXt2YXIgbD10Lmxhc3RCdWZmZXJlZFJlcXVlc3Q7dC5sYXN0QnVmZmVyZWRSZXF1ZXN0PXtjaHVuazpyLGVuY29kaW5nOmksaXNCdWY6bixjYWxsYmFjazpzLG5leHQ6bnVsbH0sbD9sLm5leHQ9dC5sYXN0QnVmZmVyZWRSZXF1ZXN0OnQuYnVmZmVyZWRSZXF1ZXN0PXQubGFzdEJ1ZmZlcmVkUmVxdWVzdCx0LmJ1ZmZlcmVkUmVxdWVzdENvdW50Kz0xfWVsc2UgeChlLHQsITEsYyxyLGkscyk7cmV0dXJuIGR9KHRoaXMsaSxjLGUsdCxuKSksYX0sQy5wcm90b3R5cGUuY29yaz1mdW5jdGlvbigpe3RoaXMuX3dyaXRhYmxlU3RhdGUuY29ya2VkKyt9LEMucHJvdG90eXBlLnVuY29yaz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX3dyaXRhYmxlU3RhdGU7ZS5jb3JrZWQmJihlLmNvcmtlZC0tLGUud3JpdGluZ3x8ZS5jb3JrZWR8fGUuYnVmZmVyUHJvY2Vzc2luZ3x8IWUuYnVmZmVyZWRSZXF1ZXN0fHxNKHRoaXMsZSkpfSxDLnByb3RvdHlwZS5zZXREZWZhdWx0RW5jb2Rpbmc9ZnVuY3Rpb24oZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPWUudG9Mb3dlckNhc2UoKSksIShbXCJoZXhcIixcInV0ZjhcIixcInV0Zi04XCIsXCJhc2NpaVwiLFwiYmluYXJ5XCIsXCJiYXNlNjRcIixcInVjczJcIixcInVjcy0yXCIsXCJ1dGYxNmxlXCIsXCJ1dGYtMTZsZVwiLFwicmF3XCJdLmluZGV4T2YoKGUrXCJcIikudG9Mb3dlckNhc2UoKSk+LTEpKXRocm93IG5ldyBiKGUpO3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlLmRlZmF1bHRFbmNvZGluZz1lLHRoaXN9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDLnByb3RvdHlwZSxcIndyaXRhYmxlQnVmZmVyXCIse2VudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUmJnRoaXMuX3dyaXRhYmxlU3RhdGUuZ2V0QnVmZmVyKCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KEMucHJvdG90eXBlLFwid3JpdGFibGVIaWdoV2F0ZXJNYXJrXCIse2VudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUuaGlnaFdhdGVyTWFya319KSxDLnByb3RvdHlwZS5fd3JpdGU9ZnVuY3Rpb24oZSx0LG4pe24obmV3IHAoXCJfd3JpdGUoKVwiKSl9LEMucHJvdG90eXBlLl93cml0ZXY9bnVsbCxDLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMuX3dyaXRhYmxlU3RhdGU7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZT8obj1lLGU9bnVsbCx0PW51bGwpOlwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJihuPXQsdD1udWxsKSxudWxsIT1lJiZ0aGlzLndyaXRlKGUsdCksci5jb3JrZWQmJihyLmNvcmtlZD0xLHRoaXMudW5jb3JrKCkpLHIuZW5kaW5nfHxmdW5jdGlvbihlLHQsbil7dC5lbmRpbmc9ITAsSShlLHQpLG4mJih0LmZpbmlzaGVkP3Byb2Nlc3MubmV4dFRpY2sobik6ZS5vbmNlKFwiZmluaXNoXCIsbikpO3QuZW5kZWQ9ITAsZS53cml0YWJsZT0hMX0odGhpcyxyLG4pLHRoaXN9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDLnByb3RvdHlwZSxcIndyaXRhYmxlTGVuZ3RoXCIse2VudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUubGVuZ3RofX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDLnByb3RvdHlwZSxcImRlc3Ryb3llZFwiLHtlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB2b2lkIDAhPT10aGlzLl93cml0YWJsZVN0YXRlJiZ0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3dyaXRhYmxlU3RhdGUmJih0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZD1lKX19KSxDLnByb3RvdHlwZS5kZXN0cm95PWMuZGVzdHJveSxDLnByb3RvdHlwZS5fdW5kZXN0cm95PWMudW5kZXN0cm95LEMucHJvdG90eXBlLl9kZXN0cm95PWZ1bmN0aW9uKGUsdCl7dChlKX0sQXN9ZnVuY3Rpb24gTHMoKXtpZihQcylyZXR1cm4gSXM7UHM9MTt2YXIgZT1PYmplY3Qua2V5c3x8ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciBuIGluIGUpdC5wdXNoKG4pO3JldHVybiB0fTtJcz1zO3ZhciB0PW9hKCksbj1EcygpO05zKCkocyx0KTtmb3IodmFyIHI9ZShuLnByb3RvdHlwZSksaT0wO2k8ci5sZW5ndGg7aSsrKXt2YXIgbz1yW2ldO3MucHJvdG90eXBlW29dfHwocy5wcm90b3R5cGVbb109bi5wcm90b3R5cGVbb10pfWZ1bmN0aW9uIHMoZSl7aWYoISh0aGlzIGluc3RhbmNlb2YgcykpcmV0dXJuIG5ldyBzKGUpO3QuY2FsbCh0aGlzLGUpLG4uY2FsbCh0aGlzLGUpLHRoaXMuYWxsb3dIYWxmT3Blbj0hMCxlJiYoITE9PT1lLnJlYWRhYmxlJiYodGhpcy5yZWFkYWJsZT0hMSksITE9PT1lLndyaXRhYmxlJiYodGhpcy53cml0YWJsZT0hMSksITE9PT1lLmFsbG93SGFsZk9wZW4mJih0aGlzLmFsbG93SGFsZk9wZW49ITEsdGhpcy5vbmNlKFwiZW5kXCIsYSkpKX1mdW5jdGlvbiBhKCl7dGhpcy5fd3JpdGFibGVTdGF0ZS5lbmRlZHx8cHJvY2Vzcy5uZXh0VGljayhjLHRoaXMpfWZ1bmN0aW9uIGMoZSl7ZS5lbmQoKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHMucHJvdG90eXBlLFwid3JpdGFibGVIaWdoV2F0ZXJNYXJrXCIse2VudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUuaGlnaFdhdGVyTWFya319KSxPYmplY3QuZGVmaW5lUHJvcGVydHkocy5wcm90b3R5cGUsXCJ3cml0YWJsZUJ1ZmZlclwiLHtlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlJiZ0aGlzLl93cml0YWJsZVN0YXRlLmdldEJ1ZmZlcigpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzLnByb3RvdHlwZSxcIndyaXRhYmxlTGVuZ3RoXCIse2VudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUubGVuZ3RofX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzLnByb3RvdHlwZSxcImRlc3Ryb3llZFwiLHtlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB2b2lkIDAhPT10aGlzLl9yZWFkYWJsZVN0YXRlJiZ2b2lkIDAhPT10aGlzLl93cml0YWJsZVN0YXRlJiYodGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQmJnRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkKX0sc2V0OmZ1bmN0aW9uKGUpe3ZvaWQgMCE9PXRoaXMuX3JlYWRhYmxlU3RhdGUmJnZvaWQgMCE9PXRoaXMuX3dyaXRhYmxlU3RhdGUmJih0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZD1lLHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkPWUpfX0pLElzfXZhciBCcyxLcyxqcywkcyxIcyxVcyxGcyxxcyx6cyxXcyxWcyxHcyxZcyxacyxKcyxRcyxYcz17fSxlYT17ZXhwb3J0czp7fX07ZnVuY3Rpb24gdGEoKXtpZihLcylyZXR1cm4gWHM7S3M9MTt2YXIgZT0oQnN8fChCcz0xLGZ1bmN0aW9uKGUsdCl7dmFyIHI9bixpPXIuQnVmZmVyO2Z1bmN0aW9uIG8oZSx0KXtmb3IodmFyIG4gaW4gZSl0W25dPWVbbl19ZnVuY3Rpb24gcyhlLHQsbil7cmV0dXJuIGkoZSx0LG4pfWkuZnJvbSYmaS5hbGxvYyYmaS5hbGxvY1Vuc2FmZSYmaS5hbGxvY1Vuc2FmZVNsb3c/ZS5leHBvcnRzPXI6KG8ocix0KSx0LkJ1ZmZlcj1zKSxzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGkucHJvdG90eXBlKSxvKGkscykscy5mcm9tPWZ1bmN0aW9uKGUsdCxuKXtpZihcIm51bWJlclwiPT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgbXVzdCBub3QgYmUgYSBudW1iZXJcIik7cmV0dXJuIGkoZSx0LG4pfSxzLmFsbG9jPWZ1bmN0aW9uKGUsdCxuKXtpZihcIm51bWJlclwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgbXVzdCBiZSBhIG51bWJlclwiKTt2YXIgcj1pKGUpO3JldHVybiB2b2lkIDAhPT10P1wic3RyaW5nXCI9PXR5cGVvZiBuP3IuZmlsbCh0LG4pOnIuZmlsbCh0KTpyLmZpbGwoMCkscn0scy5hbGxvY1Vuc2FmZT1mdW5jdGlvbihlKXtpZihcIm51bWJlclwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgbXVzdCBiZSBhIG51bWJlclwiKTtyZXR1cm4gaShlKX0scy5hbGxvY1Vuc2FmZVNsb3c9ZnVuY3Rpb24oZSl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50IG11c3QgYmUgYSBudW1iZXJcIik7cmV0dXJuIHIuU2xvd0J1ZmZlcihlKX19KGVhLGVhLmV4cG9ydHMpKSxlYS5leHBvcnRzKS5CdWZmZXIsdD1lLmlzRW5jb2Rpbmd8fGZ1bmN0aW9uKGUpe3N3aXRjaCgoZT1cIlwiK2UpJiZlLnRvTG93ZXJDYXNlKCkpe2Nhc2VcImhleFwiOmNhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOmNhc2VcImFzY2lpXCI6Y2FzZVwiYmluYXJ5XCI6Y2FzZVwiYmFzZTY0XCI6Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6Y2FzZVwicmF3XCI6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19O2Z1bmN0aW9uIHIobil7dmFyIHI7c3dpdGNoKHRoaXMuZW5jb2Rpbmc9ZnVuY3Rpb24obil7dmFyIHI9ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuXCJ1dGY4XCI7Zm9yKHZhciB0Ozspc3dpdGNoKGUpe2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOnJldHVyblwidXRmOFwiO2Nhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOnJldHVyblwidXRmMTZsZVwiO2Nhc2VcImxhdGluMVwiOmNhc2VcImJpbmFyeVwiOnJldHVyblwibGF0aW4xXCI7Y2FzZVwiYmFzZTY0XCI6Y2FzZVwiYXNjaWlcIjpjYXNlXCJoZXhcIjpyZXR1cm4gZTtkZWZhdWx0OmlmKHQpcmV0dXJuO2U9KFwiXCIrZSkudG9Mb3dlckNhc2UoKSx0PSEwfX0obik7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHImJihlLmlzRW5jb2Rpbmc9PT10fHwhdChuKSkpdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBlbmNvZGluZzogXCIrbik7cmV0dXJuIHJ8fG59KG4pLHRoaXMuZW5jb2Rpbmcpe2Nhc2VcInV0ZjE2bGVcIjp0aGlzLnRleHQ9cyx0aGlzLmVuZD1hLHI9NDticmVhaztjYXNlXCJ1dGY4XCI6dGhpcy5maWxsTGFzdD1vLHI9NDticmVhaztjYXNlXCJiYXNlNjRcIjp0aGlzLnRleHQ9Yyx0aGlzLmVuZD1kLHI9MzticmVhaztkZWZhdWx0OnJldHVybiB0aGlzLndyaXRlPWwsdm9pZCh0aGlzLmVuZD11KX10aGlzLmxhc3ROZWVkPTAsdGhpcy5sYXN0VG90YWw9MCx0aGlzLmxhc3RDaGFyPWUuYWxsb2NVbnNhZmUocil9ZnVuY3Rpb24gaShlKXtyZXR1cm4gZTw9MTI3PzA6ZT4+NT09Nj8yOmU+PjQ9PTE0PzM6ZT4+Mz09MzA/NDplPj42PT0yPy0xOi0yfWZ1bmN0aW9uIG8oZSl7dmFyIHQ9dGhpcy5sYXN0VG90YWwtdGhpcy5sYXN0TmVlZCxuPWZ1bmN0aW9uKGUsdCxuKXtpZigxMjghPSgxOTImdFswXSkpcmV0dXJuIGUubGFzdE5lZWQ9MCxcIu+/vVwiO2lmKGUubGFzdE5lZWQ+MSYmdC5sZW5ndGg+MSl7aWYoMTI4IT0oMTkyJnRbMV0pKXJldHVybiBlLmxhc3ROZWVkPTEsXCLvv71cIjtpZihlLmxhc3ROZWVkPjImJnQubGVuZ3RoPjImJjEyOCE9KDE5MiZ0WzJdKSlyZXR1cm4gZS5sYXN0TmVlZD0yLFwi77+9XCJ9fSh0aGlzLGUpO3JldHVybiB2b2lkIDAhPT1uP246dGhpcy5sYXN0TmVlZDw9ZS5sZW5ndGg/KGUuY29weSh0aGlzLmxhc3RDaGFyLHQsMCx0aGlzLmxhc3ROZWVkKSx0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcsMCx0aGlzLmxhc3RUb3RhbCkpOihlLmNvcHkodGhpcy5sYXN0Q2hhcix0LDAsZS5sZW5ndGgpLHZvaWQodGhpcy5sYXN0TmVlZC09ZS5sZW5ndGgpKX1mdW5jdGlvbiBzKGUsdCl7aWYoKGUubGVuZ3RoLXQpJTI9PTApe3ZhciBuPWUudG9TdHJpbmcoXCJ1dGYxNmxlXCIsdCk7aWYobil7dmFyIHI9bi5jaGFyQ29kZUF0KG4ubGVuZ3RoLTEpO2lmKHI+PTU1Mjk2JiZyPD01NjMxOSlyZXR1cm4gdGhpcy5sYXN0TmVlZD0yLHRoaXMubGFzdFRvdGFsPTQsdGhpcy5sYXN0Q2hhclswXT1lW2UubGVuZ3RoLTJdLHRoaXMubGFzdENoYXJbMV09ZVtlLmxlbmd0aC0xXSxuLnNsaWNlKDAsLTEpfXJldHVybiBufXJldHVybiB0aGlzLmxhc3ROZWVkPTEsdGhpcy5sYXN0VG90YWw9Mix0aGlzLmxhc3RDaGFyWzBdPWVbZS5sZW5ndGgtMV0sZS50b1N0cmluZyhcInV0ZjE2bGVcIix0LGUubGVuZ3RoLTEpfWZ1bmN0aW9uIGEoZSl7dmFyIHQ9ZSYmZS5sZW5ndGg/dGhpcy53cml0ZShlKTpcIlwiO2lmKHRoaXMubGFzdE5lZWQpe3ZhciBuPXRoaXMubGFzdFRvdGFsLXRoaXMubGFzdE5lZWQ7cmV0dXJuIHQrdGhpcy5sYXN0Q2hhci50b1N0cmluZyhcInV0ZjE2bGVcIiwwLG4pfXJldHVybiB0fWZ1bmN0aW9uIGMoZSx0KXt2YXIgbj0oZS5sZW5ndGgtdCklMztyZXR1cm4gMD09PW4/ZS50b1N0cmluZyhcImJhc2U2NFwiLHQpOih0aGlzLmxhc3ROZWVkPTMtbix0aGlzLmxhc3RUb3RhbD0zLDE9PT1uP3RoaXMubGFzdENoYXJbMF09ZVtlLmxlbmd0aC0xXToodGhpcy5sYXN0Q2hhclswXT1lW2UubGVuZ3RoLTJdLHRoaXMubGFzdENoYXJbMV09ZVtlLmxlbmd0aC0xXSksZS50b1N0cmluZyhcImJhc2U2NFwiLHQsZS5sZW5ndGgtbikpfWZ1bmN0aW9uIGQoZSl7dmFyIHQ9ZSYmZS5sZW5ndGg/dGhpcy53cml0ZShlKTpcIlwiO3JldHVybiB0aGlzLmxhc3ROZWVkP3QrdGhpcy5sYXN0Q2hhci50b1N0cmluZyhcImJhc2U2NFwiLDAsMy10aGlzLmxhc3ROZWVkKTp0fWZ1bmN0aW9uIGwoZSl7cmV0dXJuIGUudG9TdHJpbmcodGhpcy5lbmNvZGluZyl9ZnVuY3Rpb24gdShlKXtyZXR1cm4gZSYmZS5sZW5ndGg/dGhpcy53cml0ZShlKTpcIlwifXJldHVybiBYcy5TdHJpbmdEZWNvZGVyPXIsci5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7aWYoMD09PWUubGVuZ3RoKXJldHVyblwiXCI7dmFyIHQsbjtpZih0aGlzLmxhc3ROZWVkKXtpZih2b2lkIDA9PT0odD10aGlzLmZpbGxMYXN0KGUpKSlyZXR1cm5cIlwiO249dGhpcy5sYXN0TmVlZCx0aGlzLmxhc3ROZWVkPTB9ZWxzZSBuPTA7cmV0dXJuIG48ZS5sZW5ndGg/dD90K3RoaXMudGV4dChlLG4pOnRoaXMudGV4dChlLG4pOnR8fFwiXCJ9LHIucHJvdG90eXBlLmVuZD1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLmxlbmd0aD90aGlzLndyaXRlKGUpOlwiXCI7cmV0dXJuIHRoaXMubGFzdE5lZWQ/dCtcIu+/vVwiOnR9LHIucHJvdG90eXBlLnRleHQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dC5sZW5ndGgtMTtpZihyPG4pcmV0dXJuIDA7dmFyIG89aSh0W3JdKTtpZihvPj0wKXJldHVybiBvPjAmJihlLmxhc3ROZWVkPW8tMSksbztpZigtLXI8bnx8LTI9PT1vKXJldHVybiAwO2lmKG89aSh0W3JdKSxvPj0wKXJldHVybiBvPjAmJihlLmxhc3ROZWVkPW8tMiksbztpZigtLXI8bnx8LTI9PT1vKXJldHVybiAwO2lmKG89aSh0W3JdKSxvPj0wKXJldHVybiBvPjAmJigyPT09bz9vPTA6ZS5sYXN0TmVlZD1vLTMpLG87cmV0dXJuIDB9KHRoaXMsZSx0KTtpZighdGhpcy5sYXN0TmVlZClyZXR1cm4gZS50b1N0cmluZyhcInV0ZjhcIix0KTt0aGlzLmxhc3RUb3RhbD1uO3ZhciByPWUubGVuZ3RoLShuLXRoaXMubGFzdE5lZWQpO3JldHVybiBlLmNvcHkodGhpcy5sYXN0Q2hhciwwLHIpLGUudG9TdHJpbmcoXCJ1dGY4XCIsdCxyKX0sci5wcm90b3R5cGUuZmlsbExhc3Q9ZnVuY3Rpb24oZSl7aWYodGhpcy5sYXN0TmVlZDw9ZS5sZW5ndGgpcmV0dXJuIGUuY29weSh0aGlzLmxhc3RDaGFyLHRoaXMubGFzdFRvdGFsLXRoaXMubGFzdE5lZWQsMCx0aGlzLmxhc3ROZWVkKSx0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcsMCx0aGlzLmxhc3RUb3RhbCk7ZS5jb3B5KHRoaXMubGFzdENoYXIsdGhpcy5sYXN0VG90YWwtdGhpcy5sYXN0TmVlZCwwLGUubGVuZ3RoKSx0aGlzLmxhc3ROZWVkLT1lLmxlbmd0aH0sWHN9ZnVuY3Rpb24gbmEoKXtpZigkcylyZXR1cm4ganM7JHM9MTt2YXIgZT1TcygpLmNvZGVzLkVSUl9TVFJFQU1fUFJFTUFUVVJFX0NMT1NFO2Z1bmN0aW9uIHQoKXt9cmV0dXJuIGpzPWZ1bmN0aW9uIG4ocixpLG8pe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGkpcmV0dXJuIG4ocixudWxsLGkpO2l8fChpPXt9KSxvPWZ1bmN0aW9uKGUpe3ZhciB0PSExO3JldHVybiBmdW5jdGlvbigpe2lmKCF0KXt0PSEwO2Zvcih2YXIgbj1hcmd1bWVudHMubGVuZ3RoLHI9bmV3IEFycmF5KG4pLGk9MDtpPG47aSsrKXJbaV09YXJndW1lbnRzW2ldO2UuYXBwbHkodGhpcyxyKX19fShvfHx0KTt2YXIgcz1pLnJlYWRhYmxlfHwhMSE9PWkucmVhZGFibGUmJnIucmVhZGFibGUsYT1pLndyaXRhYmxlfHwhMSE9PWkud3JpdGFibGUmJnIud3JpdGFibGUsYz1mdW5jdGlvbigpe3Iud3JpdGFibGV8fGwoKX0sZD1yLl93cml0YWJsZVN0YXRlJiZyLl93cml0YWJsZVN0YXRlLmZpbmlzaGVkLGw9ZnVuY3Rpb24oKXthPSExLGQ9ITAsc3x8by5jYWxsKHIpfSx1PXIuX3JlYWRhYmxlU3RhdGUmJnIuX3JlYWRhYmxlU3RhdGUuZW5kRW1pdHRlZCxoPWZ1bmN0aW9uKCl7cz0hMSx1PSEwLGF8fG8uY2FsbChyKX0sZj1mdW5jdGlvbihlKXtvLmNhbGwocixlKX0scD1mdW5jdGlvbigpe3ZhciB0O3JldHVybiBzJiYhdT8oci5fcmVhZGFibGVTdGF0ZSYmci5fcmVhZGFibGVTdGF0ZS5lbmRlZHx8KHQ9bmV3IGUpLG8uY2FsbChyLHQpKTphJiYhZD8oci5fd3JpdGFibGVTdGF0ZSYmci5fd3JpdGFibGVTdGF0ZS5lbmRlZHx8KHQ9bmV3IGUpLG8uY2FsbChyLHQpKTp2b2lkIDB9LG09ZnVuY3Rpb24oKXtyLnJlcS5vbihcImZpbmlzaFwiLGwpfTtyZXR1cm4hZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2V0SGVhZGVyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmFib3J0fShyKT9hJiYhci5fd3JpdGFibGVTdGF0ZSYmKHIub24oXCJlbmRcIixjKSxyLm9uKFwiY2xvc2VcIixjKSk6KHIub24oXCJjb21wbGV0ZVwiLGwpLHIub24oXCJhYm9ydFwiLHApLHIucmVxP20oKTpyLm9uKFwicmVxdWVzdFwiLG0pKSxyLm9uKFwiZW5kXCIsaCksci5vbihcImZpbmlzaFwiLGwpLCExIT09aS5lcnJvciYmci5vbihcImVycm9yXCIsZiksci5vbihcImNsb3NlXCIscCksZnVuY3Rpb24oKXtyLnJlbW92ZUxpc3RlbmVyKFwiY29tcGxldGVcIixsKSxyLnJlbW92ZUxpc3RlbmVyKFwiYWJvcnRcIixwKSxyLnJlbW92ZUxpc3RlbmVyKFwicmVxdWVzdFwiLG0pLHIucmVxJiZyLnJlcS5yZW1vdmVMaXN0ZW5lcihcImZpbmlzaFwiLGwpLHIucmVtb3ZlTGlzdGVuZXIoXCJlbmRcIixjKSxyLnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIixjKSxyLnJlbW92ZUxpc3RlbmVyKFwiZmluaXNoXCIsbCksci5yZW1vdmVMaXN0ZW5lcihcImVuZFwiLGgpLHIucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLGYpLHIucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLHApfX0sanN9ZnVuY3Rpb24gcmEoKXtpZihVcylyZXR1cm4gSHM7dmFyIGU7ZnVuY3Rpb24gdChlLHQsbil7cmV0dXJuKHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSx0KXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuIGU7dmFyIG49ZVtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbChlLHR8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT10eXBlb2YgcilyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT10P1N0cmluZzpOdW1iZXIpKGUpfShlLFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PXR5cGVvZiB0P3Q6U3RyaW5nKHQpfSh0KSlpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPW4sZX1Vcz0xO3ZhciBuPW5hKCkscj1TeW1ib2woXCJsYXN0UmVzb2x2ZVwiKSxpPVN5bWJvbChcImxhc3RSZWplY3RcIiksbz1TeW1ib2woXCJlcnJvclwiKSxzPVN5bWJvbChcImVuZGVkXCIpLGE9U3ltYm9sKFwibGFzdFByb21pc2VcIiksYz1TeW1ib2woXCJoYW5kbGVQcm9taXNlXCIpLGQ9U3ltYm9sKFwic3RyZWFtXCIpO2Z1bmN0aW9uIGwoZSx0KXtyZXR1cm57dmFsdWU6ZSxkb25lOnR9fWZ1bmN0aW9uIHUoZSl7dmFyIHQ9ZVtyXTtpZihudWxsIT09dCl7dmFyIG49ZVtkXS5yZWFkKCk7bnVsbCE9PW4mJihlW2FdPW51bGwsZVtyXT1udWxsLGVbaV09bnVsbCx0KGwobiwhMSkpKX19ZnVuY3Rpb24gaChlKXtwcm9jZXNzLm5leHRUaWNrKHUsZSl9dmFyIGY9T2JqZWN0LmdldFByb3RvdHlwZU9mKChmdW5jdGlvbigpe30pKSxwPU9iamVjdC5zZXRQcm90b3R5cGVPZigodChlPXtnZXQgc3RyZWFtKCl7cmV0dXJuIHRoaXNbZF19LG5leHQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpc1tvXTtpZihudWxsIT09dClyZXR1cm4gUHJvbWlzZS5yZWplY3QodCk7aWYodGhpc1tzXSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGwodm9pZCAwLCEwKSk7aWYodGhpc1tkXS5kZXN0cm95ZWQpcmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih0LG4pe3Byb2Nlc3MubmV4dFRpY2soKGZ1bmN0aW9uKCl7ZVtvXT9uKGVbb10pOnQobCh2b2lkIDAsITApKX0pKX0pKTt2YXIgbixyPXRoaXNbYV07aWYociluPW5ldyBQcm9taXNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKG4scil7ZS50aGVuKChmdW5jdGlvbigpe3Rbc10/bihsKHZvaWQgMCwhMCkpOnRbY10obixyKX0pLHIpfX0ocix0aGlzKSk7ZWxzZXt2YXIgaT10aGlzW2RdLnJlYWQoKTtpZihudWxsIT09aSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGwoaSwhMSkpO249bmV3IFByb21pc2UodGhpc1tjXSl9cmV0dXJuIHRoaXNbYV09bixufX0sU3ltYm9sLmFzeW5jSXRlcmF0b3IsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSksdChlLFwicmV0dXJuXCIsKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsbil7ZVtkXS5kZXN0cm95KG51bGwsKGZ1bmN0aW9uKGUpe2U/bihlKTp0KGwodm9pZCAwLCEwKSl9KSl9KSl9KSksZSksZik7cmV0dXJuIEhzPWZ1bmN0aW9uKGUpe3ZhciB1LGY9T2JqZWN0LmNyZWF0ZShwLCh0KHU9e30sZCx7dmFsdWU6ZSx3cml0YWJsZTohMH0pLHQodSxyLHt2YWx1ZTpudWxsLHdyaXRhYmxlOiEwfSksdCh1LGkse3ZhbHVlOm51bGwsd3JpdGFibGU6ITB9KSx0KHUsbyx7dmFsdWU6bnVsbCx3cml0YWJsZTohMH0pLHQodSxzLHt2YWx1ZTplLl9yZWFkYWJsZVN0YXRlLmVuZEVtaXR0ZWQsd3JpdGFibGU6ITB9KSx0KHUsYyx7dmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj1mW2RdLnJlYWQoKTtuPyhmW2FdPW51bGwsZltyXT1udWxsLGZbaV09bnVsbCxlKGwobiwhMSkpKTooZltyXT1lLGZbaV09dCl9LHdyaXRhYmxlOiEwfSksdSkpO3JldHVybiBmW2FdPW51bGwsbihlLChmdW5jdGlvbihlKXtpZihlJiZcIkVSUl9TVFJFQU1fUFJFTUFUVVJFX0NMT1NFXCIhPT1lLmNvZGUpe3ZhciB0PWZbaV07cmV0dXJuIG51bGwhPT10JiYoZlthXT1udWxsLGZbcl09bnVsbCxmW2ldPW51bGwsdChlKSksdm9pZChmW29dPWUpfXZhciBuPWZbcl07bnVsbCE9PW4mJihmW2FdPW51bGwsZltyXT1udWxsLGZbaV09bnVsbCxuKGwodm9pZCAwLCEwKSkpLGZbc109ITB9KSksZS5vbihcInJlYWRhYmxlXCIsaC5iaW5kKG51bGwsZikpLGZ9LEhzfWZ1bmN0aW9uIGlhKCl7aWYocXMpcmV0dXJuIEZzO2Z1bmN0aW9uIGUoZSx0LG4scixpLG8scyl7dHJ5e3ZhciBhPWVbb10ocyksYz1hLnZhbHVlfWNhdGNoKGUpe3JldHVybiB2b2lkIG4oZSl9YS5kb25lP3QoYyk6UHJvbWlzZS5yZXNvbHZlKGMpLnRoZW4ocixpKX1mdW5jdGlvbiB0KGUsdCl7dmFyIG49T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYocj1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBuKGUsdCxuKXtyZXR1cm4odD1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlLHQpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm4gZTt2YXIgbj1lW1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKGUsdHx8XCJkZWZhdWx0XCIpO2lmKFwib2JqZWN0XCIhPXR5cGVvZiByKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PXQ/U3RyaW5nOk51bWJlcikoZSl9KGUsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09dHlwZW9mIHQ/dDpTdHJpbmcodCl9KHQpKWluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09bixlfXFzPTE7dmFyIHI9U3MoKS5jb2Rlcy5FUlJfSU5WQUxJRF9BUkdfVFlQRTtyZXR1cm4gRnM9ZnVuY3Rpb24oaSxvLHMpe3ZhciBhO2lmKG8mJlwiZnVuY3Rpb25cIj09dHlwZW9mIG8ubmV4dClhPW87ZWxzZSBpZihvJiZvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSlhPW9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk7ZWxzZXtpZighb3x8IW9bU3ltYm9sLml0ZXJhdG9yXSl0aHJvdyBuZXcgcihcIml0ZXJhYmxlXCIsW1wiSXRlcmFibGVcIl0sbyk7YT1vW1N5bWJvbC5pdGVyYXRvcl0oKX12YXIgYz1uZXcgaShmdW5jdGlvbihlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbcl0/YXJndW1lbnRzW3JdOnt9O3IlMj90KE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7bihlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6dChPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX0oe29iamVjdE1vZGU6ITB9LHMpKSxkPSExO2Z1bmN0aW9uIGwoKXtyZXR1cm4gdS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gdSgpe3ZhciB0O3JldHVybiB0PWZ1bmN0aW9uKigpe3RyeXt2YXIgZT15aWVsZCBhLm5leHQoKSx0PWUudmFsdWU7ZS5kb25lP2MucHVzaChudWxsKTpjLnB1c2goeWllbGQgdCk/bCgpOmQ9ITF9Y2F0Y2goZSl7Yy5kZXN0cm95KGUpfX0sdT1mdW5jdGlvbigpe3ZhciBuPXRoaXMscj1hcmd1bWVudHM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihpLG8pe3ZhciBzPXQuYXBwbHkobixyKTtmdW5jdGlvbiBhKHQpe2UocyxpLG8sYSxjLFwibmV4dFwiLHQpfWZ1bmN0aW9uIGModCl7ZShzLGksbyxhLGMsXCJ0aHJvd1wiLHQpfWEodm9pZCAwKX0pKX0sdS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIGMuX3JlYWQ9ZnVuY3Rpb24oKXtkfHwoZD0hMCxsKCkpfSxjfSxGc31mdW5jdGlvbiBvYSgpe2lmKFdzKXJldHVybiB6czt2YXIgZTtXcz0xLHpzPXgseC5SZWFkYWJsZVN0YXRlPUMsYS5FdmVudEVtaXR0ZXI7dmFyIHQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5saXN0ZW5lcnModCkubGVuZ3RofSxyPW1zKCksaT1uLkJ1ZmZlcixvPSh2b2lkIDAhPT11P3U6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjp7fSkuVWludDhBcnJheXx8ZnVuY3Rpb24oKXt9O3ZhciBzLGM9ZDtzPWMmJmMuZGVidWdsb2c/Yy5kZWJ1Z2xvZyhcInN0cmVhbVwiKTpmdW5jdGlvbigpe307dmFyIGwsaCxmLHA9Z3MoKSxtPXZzKCksZz1fcygpLmdldEhpZ2hXYXRlck1hcmssdj1TcygpLmNvZGVzLHk9di5FUlJfSU5WQUxJRF9BUkdfVFlQRSxFPXYuRVJSX1NUUkVBTV9QVVNIX0FGVEVSX0VPRixiPXYuRVJSX01FVEhPRF9OT1RfSU1QTEVNRU5URUQsdz12LkVSUl9TVFJFQU1fVU5TSElGVF9BRlRFUl9FTkRfRVZFTlQ7TnMoKSh4LHIpO3ZhciBTPW0uZXJyb3JPckRlc3Ryb3ksXz1bXCJlcnJvclwiLFwiY2xvc2VcIixcImRlc3Ryb3lcIixcInBhdXNlXCIsXCJyZXN1bWVcIl07ZnVuY3Rpb24gQyh0LG4scil7ZT1lfHxMcygpLHQ9dHx8e30sXCJib29sZWFuXCIhPXR5cGVvZiByJiYocj1uIGluc3RhbmNlb2YgZSksdGhpcy5vYmplY3RNb2RlPSEhdC5vYmplY3RNb2RlLHImJih0aGlzLm9iamVjdE1vZGU9dGhpcy5vYmplY3RNb2RlfHwhIXQucmVhZGFibGVPYmplY3RNb2RlKSx0aGlzLmhpZ2hXYXRlck1hcms9Zyh0aGlzLHQsXCJyZWFkYWJsZUhpZ2hXYXRlck1hcmtcIixyKSx0aGlzLmJ1ZmZlcj1uZXcgcCx0aGlzLmxlbmd0aD0wLHRoaXMucGlwZXM9bnVsbCx0aGlzLnBpcGVzQ291bnQ9MCx0aGlzLmZsb3dpbmc9bnVsbCx0aGlzLmVuZGVkPSExLHRoaXMuZW5kRW1pdHRlZD0hMSx0aGlzLnJlYWRpbmc9ITEsdGhpcy5zeW5jPSEwLHRoaXMubmVlZFJlYWRhYmxlPSExLHRoaXMuZW1pdHRlZFJlYWRhYmxlPSExLHRoaXMucmVhZGFibGVMaXN0ZW5pbmc9ITEsdGhpcy5yZXN1bWVTY2hlZHVsZWQ9ITEsdGhpcy5wYXVzZWQ9ITAsdGhpcy5lbWl0Q2xvc2U9ITEhPT10LmVtaXRDbG9zZSx0aGlzLmF1dG9EZXN0cm95PSEhdC5hdXRvRGVzdHJveSx0aGlzLmRlc3Ryb3llZD0hMSx0aGlzLmRlZmF1bHRFbmNvZGluZz10LmRlZmF1bHRFbmNvZGluZ3x8XCJ1dGY4XCIsdGhpcy5hd2FpdERyYWluPTAsdGhpcy5yZWFkaW5nTW9yZT0hMSx0aGlzLmRlY29kZXI9bnVsbCx0aGlzLmVuY29kaW5nPW51bGwsdC5lbmNvZGluZyYmKGx8fChsPXRhKCkuU3RyaW5nRGVjb2RlciksdGhpcy5kZWNvZGVyPW5ldyBsKHQuZW5jb2RpbmcpLHRoaXMuZW5jb2Rpbmc9dC5lbmNvZGluZyl9ZnVuY3Rpb24geCh0KXtpZihlPWV8fExzKCksISh0aGlzIGluc3RhbmNlb2YgeCkpcmV0dXJuIG5ldyB4KHQpO3ZhciBuPXRoaXMgaW5zdGFuY2VvZiBlO3RoaXMuX3JlYWRhYmxlU3RhdGU9bmV3IEModCx0aGlzLG4pLHRoaXMucmVhZGFibGU9ITAsdCYmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQucmVhZCYmKHRoaXMuX3JlYWQ9dC5yZWFkKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmRlc3Ryb3kmJih0aGlzLl9kZXN0cm95PXQuZGVzdHJveSkpLHIuY2FsbCh0aGlzKX1mdW5jdGlvbiBrKGUsdCxuLHIsYSl7cyhcInJlYWRhYmxlQWRkQ2h1bmtcIix0KTt2YXIgYyxkPWUuX3JlYWRhYmxlU3RhdGU7aWYobnVsbD09PXQpZC5yZWFkaW5nPSExLGZ1bmN0aW9uKGUsdCl7aWYocyhcIm9uRW9mQ2h1bmtcIiksdC5lbmRlZClyZXR1cm47aWYodC5kZWNvZGVyKXt2YXIgbj10LmRlY29kZXIuZW5kKCk7biYmbi5sZW5ndGgmJih0LmJ1ZmZlci5wdXNoKG4pLHQubGVuZ3RoKz10Lm9iamVjdE1vZGU/MTpuLmxlbmd0aCl9dC5lbmRlZD0hMCx0LnN5bmM/SShlKToodC5uZWVkUmVhZGFibGU9ITEsdC5lbWl0dGVkUmVhZGFibGV8fCh0LmVtaXR0ZWRSZWFkYWJsZT0hMCxQKGUpKSl9KGUsZCk7ZWxzZSBpZihhfHwoYz1mdW5jdGlvbihlLHQpe3ZhciBuO3I9dCxpLmlzQnVmZmVyKHIpfHxyIGluc3RhbmNlb2Ygb3x8XCJzdHJpbmdcIj09dHlwZW9mIHR8fHZvaWQgMD09PXR8fGUub2JqZWN0TW9kZXx8KG49bmV3IHkoXCJjaHVua1wiLFtcInN0cmluZ1wiLFwiQnVmZmVyXCIsXCJVaW50OEFycmF5XCJdLHQpKTt2YXIgcjtyZXR1cm4gbn0oZCx0KSksYylTKGUsYyk7ZWxzZSBpZihkLm9iamVjdE1vZGV8fHQmJnQubGVuZ3RoPjApaWYoXCJzdHJpbmdcIj09dHlwZW9mIHR8fGQub2JqZWN0TW9kZXx8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpPT09aS5wcm90b3R5cGV8fCh0PWZ1bmN0aW9uKGUpe3JldHVybiBpLmZyb20oZSl9KHQpKSxyKWQuZW5kRW1pdHRlZD9TKGUsbmV3IHcpOk0oZSxkLHQsITApO2Vsc2UgaWYoZC5lbmRlZClTKGUsbmV3IEUpO2Vsc2V7aWYoZC5kZXN0cm95ZWQpcmV0dXJuITE7ZC5yZWFkaW5nPSExLGQuZGVjb2RlciYmIW4/KHQ9ZC5kZWNvZGVyLndyaXRlKHQpLGQub2JqZWN0TW9kZXx8MCE9PXQubGVuZ3RoP00oZSxkLHQsITEpOlIoZSxkKSk6TShlLGQsdCwhMSl9ZWxzZSByfHwoZC5yZWFkaW5nPSExLFIoZSxkKSk7cmV0dXJuIWQuZW5kZWQmJihkLmxlbmd0aDxkLmhpZ2hXYXRlck1hcmt8fDA9PT1kLmxlbmd0aCl9ZnVuY3Rpb24gTShlLHQsbixyKXt0LmZsb3dpbmcmJjA9PT10Lmxlbmd0aCYmIXQuc3luYz8odC5hd2FpdERyYWluPTAsZS5lbWl0KFwiZGF0YVwiLG4pKToodC5sZW5ndGgrPXQub2JqZWN0TW9kZT8xOm4ubGVuZ3RoLHI/dC5idWZmZXIudW5zaGlmdChuKTp0LmJ1ZmZlci5wdXNoKG4pLHQubmVlZFJlYWRhYmxlJiZJKGUpKSxSKGUsdCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHgucHJvdG90eXBlLFwiZGVzdHJveWVkXCIse2VudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuX3JlYWRhYmxlU3RhdGUmJnRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fcmVhZGFibGVTdGF0ZSYmKHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkPWUpfX0pLHgucHJvdG90eXBlLmRlc3Ryb3k9bS5kZXN0cm95LHgucHJvdG90eXBlLl91bmRlc3Ryb3k9bS51bmRlc3Ryb3kseC5wcm90b3R5cGUuX2Rlc3Ryb3k9ZnVuY3Rpb24oZSx0KXt0KGUpfSx4LnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj10aGlzLl9yZWFkYWJsZVN0YXRlO3JldHVybiByLm9iamVjdE1vZGU/bj0hMDpcInN0cmluZ1wiPT10eXBlb2YgZSYmKCh0PXR8fHIuZGVmYXVsdEVuY29kaW5nKSE9PXIuZW5jb2RpbmcmJihlPWkuZnJvbShlLHQpLHQ9XCJcIiksbj0hMCksayh0aGlzLGUsdCwhMSxuKX0seC5wcm90b3R5cGUudW5zaGlmdD1mdW5jdGlvbihlKXtyZXR1cm4gayh0aGlzLGUsbnVsbCwhMCwhMSl9LHgucHJvdG90eXBlLmlzUGF1c2VkPWZ1bmN0aW9uKCl7cmV0dXJuITE9PT10aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmd9LHgucHJvdG90eXBlLnNldEVuY29kaW5nPWZ1bmN0aW9uKGUpe2x8fChsPXRhKCkuU3RyaW5nRGVjb2Rlcik7dmFyIHQ9bmV3IGwoZSk7dGhpcy5fcmVhZGFibGVTdGF0ZS5kZWNvZGVyPXQsdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmNvZGluZz10aGlzLl9yZWFkYWJsZVN0YXRlLmRlY29kZXIuZW5jb2Rpbmc7Zm9yKHZhciBuPXRoaXMuX3JlYWRhYmxlU3RhdGUuYnVmZmVyLmhlYWQscj1cIlwiO251bGwhPT1uOylyKz10LndyaXRlKG4uZGF0YSksbj1uLm5leHQ7cmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUuYnVmZmVyLmNsZWFyKCksXCJcIiE9PXImJnRoaXMuX3JlYWRhYmxlU3RhdGUuYnVmZmVyLnB1c2gociksdGhpcy5fcmVhZGFibGVTdGF0ZS5sZW5ndGg9ci5sZW5ndGgsdGhpc307dmFyIEE9MTA3Mzc0MTgyNDtmdW5jdGlvbiBUKGUsdCl7cmV0dXJuIGU8PTB8fDA9PT10Lmxlbmd0aCYmdC5lbmRlZD8wOnQub2JqZWN0TW9kZT8xOmUhPWU/dC5mbG93aW5nJiZ0Lmxlbmd0aD90LmJ1ZmZlci5oZWFkLmRhdGEubGVuZ3RoOnQubGVuZ3RoOihlPnQuaGlnaFdhdGVyTWFyayYmKHQuaGlnaFdhdGVyTWFyaz1mdW5jdGlvbihlKXtyZXR1cm4gZT49QT9lPUE6KGUtLSxlfD1lPj4+MSxlfD1lPj4+MixlfD1lPj4+NCxlfD1lPj4+OCxlfD1lPj4+MTYsZSsrKSxlfShlKSksZTw9dC5sZW5ndGg/ZTp0LmVuZGVkP3QubGVuZ3RoOih0Lm5lZWRSZWFkYWJsZT0hMCwwKSl9ZnVuY3Rpb24gSShlKXt2YXIgdD1lLl9yZWFkYWJsZVN0YXRlO3MoXCJlbWl0UmVhZGFibGVcIix0Lm5lZWRSZWFkYWJsZSx0LmVtaXR0ZWRSZWFkYWJsZSksdC5uZWVkUmVhZGFibGU9ITEsdC5lbWl0dGVkUmVhZGFibGV8fChzKFwiZW1pdFJlYWRhYmxlXCIsdC5mbG93aW5nKSx0LmVtaXR0ZWRSZWFkYWJsZT0hMCxwcm9jZXNzLm5leHRUaWNrKFAsZSkpfWZ1bmN0aW9uIFAoZSl7dmFyIHQ9ZS5fcmVhZGFibGVTdGF0ZTtzKFwiZW1pdFJlYWRhYmxlX1wiLHQuZGVzdHJveWVkLHQubGVuZ3RoLHQuZW5kZWQpLHQuZGVzdHJveWVkfHwhdC5sZW5ndGgmJiF0LmVuZGVkfHwoZS5lbWl0KFwicmVhZGFibGVcIiksdC5lbWl0dGVkUmVhZGFibGU9ITEpLHQubmVlZFJlYWRhYmxlPSF0LmZsb3dpbmcmJiF0LmVuZGVkJiZ0Lmxlbmd0aDw9dC5oaWdoV2F0ZXJNYXJrLEIoZSl9ZnVuY3Rpb24gUihlLHQpe3QucmVhZGluZ01vcmV8fCh0LnJlYWRpbmdNb3JlPSEwLHByb2Nlc3MubmV4dFRpY2soTyxlLHQpKX1mdW5jdGlvbiBPKGUsdCl7Zm9yKDshdC5yZWFkaW5nJiYhdC5lbmRlZCYmKHQubGVuZ3RoPHQuaGlnaFdhdGVyTWFya3x8dC5mbG93aW5nJiYwPT09dC5sZW5ndGgpOyl7dmFyIG49dC5sZW5ndGg7aWYocyhcIm1heWJlUmVhZE1vcmUgcmVhZCAwXCIpLGUucmVhZCgwKSxuPT09dC5sZW5ndGgpYnJlYWt9dC5yZWFkaW5nTW9yZT0hMX1mdW5jdGlvbiBOKGUpe3ZhciB0PWUuX3JlYWRhYmxlU3RhdGU7dC5yZWFkYWJsZUxpc3RlbmluZz1lLmxpc3RlbmVyQ291bnQoXCJyZWFkYWJsZVwiKT4wLHQucmVzdW1lU2NoZWR1bGVkJiYhdC5wYXVzZWQ/dC5mbG93aW5nPSEwOmUubGlzdGVuZXJDb3VudChcImRhdGFcIik+MCYmZS5yZXN1bWUoKX1mdW5jdGlvbiBEKGUpe3MoXCJyZWFkYWJsZSBuZXh0dGljayByZWFkIDBcIiksZS5yZWFkKDApfWZ1bmN0aW9uIEwoZSx0KXtzKFwicmVzdW1lXCIsdC5yZWFkaW5nKSx0LnJlYWRpbmd8fGUucmVhZCgwKSx0LnJlc3VtZVNjaGVkdWxlZD0hMSxlLmVtaXQoXCJyZXN1bWVcIiksQihlKSx0LmZsb3dpbmcmJiF0LnJlYWRpbmcmJmUucmVhZCgwKX1mdW5jdGlvbiBCKGUpe3ZhciB0PWUuX3JlYWRhYmxlU3RhdGU7Zm9yKHMoXCJmbG93XCIsdC5mbG93aW5nKTt0LmZsb3dpbmcmJm51bGwhPT1lLnJlYWQoKTspO31mdW5jdGlvbiBLKGUsdCl7cmV0dXJuIDA9PT10Lmxlbmd0aD9udWxsOih0Lm9iamVjdE1vZGU/bj10LmJ1ZmZlci5zaGlmdCgpOiFlfHxlPj10Lmxlbmd0aD8obj10LmRlY29kZXI/dC5idWZmZXIuam9pbihcIlwiKToxPT09dC5idWZmZXIubGVuZ3RoP3QuYnVmZmVyLmZpcnN0KCk6dC5idWZmZXIuY29uY2F0KHQubGVuZ3RoKSx0LmJ1ZmZlci5jbGVhcigpKTpuPXQuYnVmZmVyLmNvbnN1bWUoZSx0LmRlY29kZXIpLG4pO3ZhciBufWZ1bmN0aW9uIGooZSl7dmFyIHQ9ZS5fcmVhZGFibGVTdGF0ZTtzKFwiZW5kUmVhZGFibGVcIix0LmVuZEVtaXR0ZWQpLHQuZW5kRW1pdHRlZHx8KHQuZW5kZWQ9ITAscHJvY2Vzcy5uZXh0VGljaygkLHQsZSkpfWZ1bmN0aW9uICQoZSx0KXtpZihzKFwiZW5kUmVhZGFibGVOVFwiLGUuZW5kRW1pdHRlZCxlLmxlbmd0aCksIWUuZW5kRW1pdHRlZCYmMD09PWUubGVuZ3RoJiYoZS5lbmRFbWl0dGVkPSEwLHQucmVhZGFibGU9ITEsdC5lbWl0KFwiZW5kXCIpLGUuYXV0b0Rlc3Ryb3kpKXt2YXIgbj10Ll93cml0YWJsZVN0YXRlOyghbnx8bi5hdXRvRGVzdHJveSYmbi5maW5pc2hlZCkmJnQuZGVzdHJveSgpfX1mdW5jdGlvbiBIKGUsdCl7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtuPHI7bisrKWlmKGVbbl09PT10KXJldHVybiBuO3JldHVybi0xfXJldHVybiB4LnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe3MoXCJyZWFkXCIsZSksZT1wYXJzZUludChlLDEwKTt2YXIgdD10aGlzLl9yZWFkYWJsZVN0YXRlLG49ZTtpZigwIT09ZSYmKHQuZW1pdHRlZFJlYWRhYmxlPSExKSwwPT09ZSYmdC5uZWVkUmVhZGFibGUmJigoMCE9PXQuaGlnaFdhdGVyTWFyaz90Lmxlbmd0aD49dC5oaWdoV2F0ZXJNYXJrOnQubGVuZ3RoPjApfHx0LmVuZGVkKSlyZXR1cm4gcyhcInJlYWQ6IGVtaXRSZWFkYWJsZVwiLHQubGVuZ3RoLHQuZW5kZWQpLDA9PT10Lmxlbmd0aCYmdC5lbmRlZD9qKHRoaXMpOkkodGhpcyksbnVsbDtpZigwPT09KGU9VChlLHQpKSYmdC5lbmRlZClyZXR1cm4gMD09PXQubGVuZ3RoJiZqKHRoaXMpLG51bGw7dmFyIHIsaT10Lm5lZWRSZWFkYWJsZTtyZXR1cm4gcyhcIm5lZWQgcmVhZGFibGVcIixpKSwoMD09PXQubGVuZ3RofHx0Lmxlbmd0aC1lPHQuaGlnaFdhdGVyTWFyaykmJnMoXCJsZW5ndGggbGVzcyB0aGFuIHdhdGVybWFya1wiLGk9ITApLHQuZW5kZWR8fHQucmVhZGluZz9zKFwicmVhZGluZyBvciBlbmRlZFwiLGk9ITEpOmkmJihzKFwiZG8gcmVhZFwiKSx0LnJlYWRpbmc9ITAsdC5zeW5jPSEwLDA9PT10Lmxlbmd0aCYmKHQubmVlZFJlYWRhYmxlPSEwKSx0aGlzLl9yZWFkKHQuaGlnaFdhdGVyTWFyayksdC5zeW5jPSExLHQucmVhZGluZ3x8KGU9VChuLHQpKSksbnVsbD09PShyPWU+MD9LKGUsdCk6bnVsbCk/KHQubmVlZFJlYWRhYmxlPXQubGVuZ3RoPD10LmhpZ2hXYXRlck1hcmssZT0wKToodC5sZW5ndGgtPWUsdC5hd2FpdERyYWluPTApLDA9PT10Lmxlbmd0aCYmKHQuZW5kZWR8fCh0Lm5lZWRSZWFkYWJsZT0hMCksbiE9PWUmJnQuZW5kZWQmJmoodGhpcykpLG51bGwhPT1yJiZ0aGlzLmVtaXQoXCJkYXRhXCIscikscn0seC5wcm90b3R5cGUuX3JlYWQ9ZnVuY3Rpb24oZSl7Uyh0aGlzLG5ldyBiKFwiX3JlYWQoKVwiKSl9LHgucHJvdG90eXBlLnBpcGU9ZnVuY3Rpb24oZSxuKXt2YXIgcj10aGlzLGk9dGhpcy5fcmVhZGFibGVTdGF0ZTtzd2l0Y2goaS5waXBlc0NvdW50KXtjYXNlIDA6aS5waXBlcz1lO2JyZWFrO2Nhc2UgMTppLnBpcGVzPVtpLnBpcGVzLGVdO2JyZWFrO2RlZmF1bHQ6aS5waXBlcy5wdXNoKGUpfWkucGlwZXNDb3VudCs9MSxzKFwicGlwZSBjb3VudD0lZCBvcHRzPSVqXCIsaS5waXBlc0NvdW50LG4pO3ZhciBvPSghbnx8ITEhPT1uLmVuZCkmJmUhPT1wcm9jZXNzLnN0ZG91dCYmZSE9PXByb2Nlc3Muc3RkZXJyP2M6bTtmdW5jdGlvbiBhKHQsbil7cyhcIm9udW5waXBlXCIpLHQ9PT1yJiZuJiYhMT09PW4uaGFzVW5waXBlZCYmKG4uaGFzVW5waXBlZD0hMCxzKFwiY2xlYW51cFwiKSxlLnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIixmKSxlLnJlbW92ZUxpc3RlbmVyKFwiZmluaXNoXCIscCksZS5yZW1vdmVMaXN0ZW5lcihcImRyYWluXCIsZCksZS5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsaCksZS5yZW1vdmVMaXN0ZW5lcihcInVucGlwZVwiLGEpLHIucmVtb3ZlTGlzdGVuZXIoXCJlbmRcIixjKSxyLnJlbW92ZUxpc3RlbmVyKFwiZW5kXCIsbSksci5yZW1vdmVMaXN0ZW5lcihcImRhdGFcIix1KSxsPSEwLCFpLmF3YWl0RHJhaW58fGUuX3dyaXRhYmxlU3RhdGUmJiFlLl93cml0YWJsZVN0YXRlLm5lZWREcmFpbnx8ZCgpKX1mdW5jdGlvbiBjKCl7cyhcIm9uZW5kXCIpLGUuZW5kKCl9aS5lbmRFbWl0dGVkP3Byb2Nlc3MubmV4dFRpY2sobyk6ci5vbmNlKFwiZW5kXCIsbyksZS5vbihcInVucGlwZVwiLGEpO3ZhciBkPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3ZhciBuPWUuX3JlYWRhYmxlU3RhdGU7cyhcInBpcGVPbkRyYWluXCIsbi5hd2FpdERyYWluKSxuLmF3YWl0RHJhaW4mJm4uYXdhaXREcmFpbi0tLDA9PT1uLmF3YWl0RHJhaW4mJnQoZSxcImRhdGFcIikmJihuLmZsb3dpbmc9ITAsQihlKSl9fShyKTtlLm9uKFwiZHJhaW5cIixkKTt2YXIgbD0hMTtmdW5jdGlvbiB1KHQpe3MoXCJvbmRhdGFcIik7dmFyIG49ZS53cml0ZSh0KTtzKFwiZGVzdC53cml0ZVwiLG4pLCExPT09biYmKCgxPT09aS5waXBlc0NvdW50JiZpLnBpcGVzPT09ZXx8aS5waXBlc0NvdW50PjEmJi0xIT09SChpLnBpcGVzLGUpKSYmIWwmJihzKFwiZmFsc2Ugd3JpdGUgcmVzcG9uc2UsIHBhdXNlXCIsaS5hd2FpdERyYWluKSxpLmF3YWl0RHJhaW4rKyksci5wYXVzZSgpKX1mdW5jdGlvbiBoKG4pe3MoXCJvbmVycm9yXCIsbiksbSgpLGUucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLGgpLDA9PT10KGUsXCJlcnJvclwiKSYmUyhlLG4pfWZ1bmN0aW9uIGYoKXtlLnJlbW92ZUxpc3RlbmVyKFwiZmluaXNoXCIscCksbSgpfWZ1bmN0aW9uIHAoKXtzKFwib25maW5pc2hcIiksZS5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsZiksbSgpfWZ1bmN0aW9uIG0oKXtzKFwidW5waXBlXCIpLHIudW5waXBlKGUpfXJldHVybiByLm9uKFwiZGF0YVwiLHUpLGZ1bmN0aW9uKGUsdCxuKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnByZXBlbmRMaXN0ZW5lcilyZXR1cm4gZS5wcmVwZW5kTGlzdGVuZXIodCxuKTtlLl9ldmVudHMmJmUuX2V2ZW50c1t0XT9BcnJheS5pc0FycmF5KGUuX2V2ZW50c1t0XSk/ZS5fZXZlbnRzW3RdLnVuc2hpZnQobik6ZS5fZXZlbnRzW3RdPVtuLGUuX2V2ZW50c1t0XV06ZS5vbih0LG4pfShlLFwiZXJyb3JcIixoKSxlLm9uY2UoXCJjbG9zZVwiLGYpLGUub25jZShcImZpbmlzaFwiLHApLGUuZW1pdChcInBpcGVcIixyKSxpLmZsb3dpbmd8fChzKFwicGlwZSByZXN1bWVcIiksci5yZXN1bWUoKSksZX0seC5wcm90b3R5cGUudW5waXBlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3JlYWRhYmxlU3RhdGUsbj17aGFzVW5waXBlZDohMX07aWYoMD09PXQucGlwZXNDb3VudClyZXR1cm4gdGhpcztpZigxPT09dC5waXBlc0NvdW50KXJldHVybiBlJiZlIT09dC5waXBlc3x8KGV8fChlPXQucGlwZXMpLHQucGlwZXM9bnVsbCx0LnBpcGVzQ291bnQ9MCx0LmZsb3dpbmc9ITEsZSYmZS5lbWl0KFwidW5waXBlXCIsdGhpcyxuKSksdGhpcztpZighZSl7dmFyIHI9dC5waXBlcyxpPXQucGlwZXNDb3VudDt0LnBpcGVzPW51bGwsdC5waXBlc0NvdW50PTAsdC5mbG93aW5nPSExO2Zvcih2YXIgbz0wO288aTtvKyspcltvXS5lbWl0KFwidW5waXBlXCIsdGhpcyx7aGFzVW5waXBlZDohMX0pO3JldHVybiB0aGlzfXZhciBzPUgodC5waXBlcyxlKTtyZXR1cm4tMT09PXN8fCh0LnBpcGVzLnNwbGljZShzLDEpLHQucGlwZXNDb3VudC09MSwxPT09dC5waXBlc0NvdW50JiYodC5waXBlcz10LnBpcGVzWzBdKSxlLmVtaXQoXCJ1bnBpcGVcIix0aGlzLG4pKSx0aGlzfSx4LnByb3RvdHlwZS5vbj1mdW5jdGlvbihlLHQpe3ZhciBuPXIucHJvdG90eXBlLm9uLmNhbGwodGhpcyxlLHQpLGk9dGhpcy5fcmVhZGFibGVTdGF0ZTtyZXR1cm5cImRhdGFcIj09PWU/KGkucmVhZGFibGVMaXN0ZW5pbmc9dGhpcy5saXN0ZW5lckNvdW50KFwicmVhZGFibGVcIik+MCwhMSE9PWkuZmxvd2luZyYmdGhpcy5yZXN1bWUoKSk6XCJyZWFkYWJsZVwiPT09ZSYmKGkuZW5kRW1pdHRlZHx8aS5yZWFkYWJsZUxpc3RlbmluZ3x8KGkucmVhZGFibGVMaXN0ZW5pbmc9aS5uZWVkUmVhZGFibGU9ITAsaS5mbG93aW5nPSExLGkuZW1pdHRlZFJlYWRhYmxlPSExLHMoXCJvbiByZWFkYWJsZVwiLGkubGVuZ3RoLGkucmVhZGluZyksaS5sZW5ndGg/SSh0aGlzKTppLnJlYWRpbmd8fHByb2Nlc3MubmV4dFRpY2soRCx0aGlzKSkpLG59LHgucHJvdG90eXBlLmFkZExpc3RlbmVyPXgucHJvdG90eXBlLm9uLHgucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7dmFyIG49ci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIuY2FsbCh0aGlzLGUsdCk7cmV0dXJuXCJyZWFkYWJsZVwiPT09ZSYmcHJvY2Vzcy5uZXh0VGljayhOLHRoaXMpLG59LHgucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1mdW5jdGlvbihlKXt2YXIgdD1yLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVyblwicmVhZGFibGVcIiE9PWUmJnZvaWQgMCE9PWV8fHByb2Nlc3MubmV4dFRpY2soTix0aGlzKSx0fSx4LnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9yZWFkYWJsZVN0YXRlO3JldHVybiBlLmZsb3dpbmd8fChzKFwicmVzdW1lXCIpLGUuZmxvd2luZz0hZS5yZWFkYWJsZUxpc3RlbmluZyxmdW5jdGlvbihlLHQpe3QucmVzdW1lU2NoZWR1bGVkfHwodC5yZXN1bWVTY2hlZHVsZWQ9ITAscHJvY2Vzcy5uZXh0VGljayhMLGUsdCkpfSh0aGlzLGUpKSxlLnBhdXNlZD0hMSx0aGlzfSx4LnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbigpe3JldHVybiBzKFwiY2FsbCBwYXVzZSBmbG93aW5nPSVqXCIsdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nKSwhMSE9PXRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyYmKHMoXCJwYXVzZVwiKSx0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmc9ITEsdGhpcy5lbWl0KFwicGF1c2VcIikpLHRoaXMuX3JlYWRhYmxlU3RhdGUucGF1c2VkPSEwLHRoaXN9LHgucHJvdG90eXBlLndyYXA9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPXRoaXMuX3JlYWRhYmxlU3RhdGUscj0hMTtmb3IodmFyIGkgaW4gZS5vbihcImVuZFwiLChmdW5jdGlvbigpe2lmKHMoXCJ3cmFwcGVkIGVuZFwiKSxuLmRlY29kZXImJiFuLmVuZGVkKXt2YXIgZT1uLmRlY29kZXIuZW5kKCk7ZSYmZS5sZW5ndGgmJnQucHVzaChlKX10LnB1c2gobnVsbCl9KSksZS5vbihcImRhdGFcIiwoZnVuY3Rpb24oaSl7KHMoXCJ3cmFwcGVkIGRhdGFcIiksbi5kZWNvZGVyJiYoaT1uLmRlY29kZXIud3JpdGUoaSkpLG4ub2JqZWN0TW9kZSYmbnVsbD09aSl8fChuLm9iamVjdE1vZGV8fGkmJmkubGVuZ3RoKSYmKHQucHVzaChpKXx8KHI9ITAsZS5wYXVzZSgpKSl9KSksZSl2b2lkIDA9PT10aGlzW2ldJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlW2ldJiYodGhpc1tpXT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZVt0XS5hcHBseShlLGFyZ3VtZW50cyl9fShpKSk7Zm9yKHZhciBvPTA7bzxfLmxlbmd0aDtvKyspZS5vbihfW29dLHRoaXMuZW1pdC5iaW5kKHRoaXMsX1tvXSkpO3JldHVybiB0aGlzLl9yZWFkPWZ1bmN0aW9uKHQpe3MoXCJ3cmFwcGVkIF9yZWFkXCIsdCksciYmKHI9ITEsZS5yZXN1bWUoKSl9LHRoaXN9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKHgucHJvdG90eXBlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT1oJiYoaD1yYSgpKSxoKHRoaXMpfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHgucHJvdG90eXBlLFwicmVhZGFibGVIaWdoV2F0ZXJNYXJrXCIse2VudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUuaGlnaFdhdGVyTWFya319KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoeC5wcm90b3R5cGUsXCJyZWFkYWJsZUJ1ZmZlclwiLHtlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlJiZ0aGlzLl9yZWFkYWJsZVN0YXRlLmJ1ZmZlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoeC5wcm90b3R5cGUsXCJyZWFkYWJsZUZsb3dpbmdcIix7ZW51bWVyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fcmVhZGFibGVTdGF0ZSYmKHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZz1lKX19KSx4Ll9mcm9tTGlzdD1LLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh4LnByb3RvdHlwZSxcInJlYWRhYmxlTGVuZ3RoXCIse2VudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUubGVuZ3RofX0pLFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKHguZnJvbT1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT1mJiYoZj1pYSgpKSxmKHgsZSx0KX0pLHpzfWZ1bmN0aW9uIHNhKCl7aWYoR3MpcmV0dXJuIFZzO0dzPTEsVnM9YTt2YXIgZT1TcygpLmNvZGVzLHQ9ZS5FUlJfTUVUSE9EX05PVF9JTVBMRU1FTlRFRCxuPWUuRVJSX01VTFRJUExFX0NBTExCQUNLLHI9ZS5FUlJfVFJBTlNGT1JNX0FMUkVBRFlfVFJBTlNGT1JNSU5HLGk9ZS5FUlJfVFJBTlNGT1JNX1dJVEhfTEVOR1RIXzAsbz1McygpO2Z1bmN0aW9uIHMoZSx0KXt2YXIgcj10aGlzLl90cmFuc2Zvcm1TdGF0ZTtyLnRyYW5zZm9ybWluZz0hMTt2YXIgaT1yLndyaXRlY2I7aWYobnVsbD09PWkpcmV0dXJuIHRoaXMuZW1pdChcImVycm9yXCIsbmV3IG4pO3Iud3JpdGVjaHVuaz1udWxsLHIud3JpdGVjYj1udWxsLG51bGwhPXQmJnRoaXMucHVzaCh0KSxpKGUpO3ZhciBvPXRoaXMuX3JlYWRhYmxlU3RhdGU7by5yZWFkaW5nPSExLChvLm5lZWRSZWFkYWJsZXx8by5sZW5ndGg8by5oaWdoV2F0ZXJNYXJrKSYmdGhpcy5fcmVhZChvLmhpZ2hXYXRlck1hcmspfWZ1bmN0aW9uIGEoZSl7aWYoISh0aGlzIGluc3RhbmNlb2YgYSkpcmV0dXJuIG5ldyBhKGUpO28uY2FsbCh0aGlzLGUpLHRoaXMuX3RyYW5zZm9ybVN0YXRlPXthZnRlclRyYW5zZm9ybTpzLmJpbmQodGhpcyksbmVlZFRyYW5zZm9ybTohMSx0cmFuc2Zvcm1pbmc6ITEsd3JpdGVjYjpudWxsLHdyaXRlY2h1bms6bnVsbCx3cml0ZWVuY29kaW5nOm51bGx9LHRoaXMuX3JlYWRhYmxlU3RhdGUubmVlZFJlYWRhYmxlPSEwLHRoaXMuX3JlYWRhYmxlU3RhdGUuc3luYz0hMSxlJiYoXCJmdW5jdGlvblwiPT10eXBlb2YgZS50cmFuc2Zvcm0mJih0aGlzLl90cmFuc2Zvcm09ZS50cmFuc2Zvcm0pLFwiZnVuY3Rpb25cIj09dHlwZW9mIGUuZmx1c2gmJih0aGlzLl9mbHVzaD1lLmZsdXNoKSksdGhpcy5vbihcInByZWZpbmlzaFwiLGMpfWZ1bmN0aW9uIGMoKXt2YXIgZT10aGlzO1wiZnVuY3Rpb25cIiE9dHlwZW9mIHRoaXMuX2ZsdXNofHx0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZD9kKHRoaXMsbnVsbCxudWxsKTp0aGlzLl9mbHVzaCgoZnVuY3Rpb24odCxuKXtkKGUsdCxuKX0pKX1mdW5jdGlvbiBkKGUsdCxuKXtpZih0KXJldHVybiBlLmVtaXQoXCJlcnJvclwiLHQpO2lmKG51bGwhPW4mJmUucHVzaChuKSxlLl93cml0YWJsZVN0YXRlLmxlbmd0aCl0aHJvdyBuZXcgaTtpZihlLl90cmFuc2Zvcm1TdGF0ZS50cmFuc2Zvcm1pbmcpdGhyb3cgbmV3IHI7cmV0dXJuIGUucHVzaChudWxsKX1yZXR1cm4gTnMoKShhLG8pLGEucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fdHJhbnNmb3JtU3RhdGUubmVlZFRyYW5zZm9ybT0hMSxvLnByb3RvdHlwZS5wdXNoLmNhbGwodGhpcyxlLHQpfSxhLnByb3RvdHlwZS5fdHJhbnNmb3JtPWZ1bmN0aW9uKGUsbixyKXtyKG5ldyB0KFwiX3RyYW5zZm9ybSgpXCIpKX0sYS5wcm90b3R5cGUuX3dyaXRlPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzLl90cmFuc2Zvcm1TdGF0ZTtpZihyLndyaXRlY2I9bixyLndyaXRlY2h1bms9ZSxyLndyaXRlZW5jb2Rpbmc9dCwhci50cmFuc2Zvcm1pbmcpe3ZhciBpPXRoaXMuX3JlYWRhYmxlU3RhdGU7KHIubmVlZFRyYW5zZm9ybXx8aS5uZWVkUmVhZGFibGV8fGkubGVuZ3RoPGkuaGlnaFdhdGVyTWFyaykmJnRoaXMuX3JlYWQoaS5oaWdoV2F0ZXJNYXJrKX19LGEucHJvdG90eXBlLl9yZWFkPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3RyYW5zZm9ybVN0YXRlO251bGw9PT10LndyaXRlY2h1bmt8fHQudHJhbnNmb3JtaW5nP3QubmVlZFRyYW5zZm9ybT0hMDoodC50cmFuc2Zvcm1pbmc9ITAsdGhpcy5fdHJhbnNmb3JtKHQud3JpdGVjaHVuayx0LndyaXRlZW5jb2RpbmcsdC5hZnRlclRyYW5zZm9ybSkpfSxhLnByb3RvdHlwZS5fZGVzdHJveT1mdW5jdGlvbihlLHQpe28ucHJvdG90eXBlLl9kZXN0cm95LmNhbGwodGhpcyxlLChmdW5jdGlvbihlKXt0KGUpfSkpfSxWc31mdW5jdGlvbiBhYSgpe2lmKFFzKXJldHVybiBKczt2YXIgZTtRcz0xO3ZhciB0PVNzKCkuY29kZXMsbj10LkVSUl9NSVNTSU5HX0FSR1Mscj10LkVSUl9TVFJFQU1fREVTVFJPWUVEO2Z1bmN0aW9uIGkoZSl7aWYoZSl0aHJvdyBlfWZ1bmN0aW9uIG8oZSl7ZSgpfWZ1bmN0aW9uIHMoZSx0KXtyZXR1cm4gZS5waXBlKHQpfXJldHVybiBKcz1mdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGE9bmV3IEFycmF5KHQpLGM9MDtjPHQ7YysrKWFbY109YXJndW1lbnRzW2NdO3ZhciBkLGw9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubGVuZ3RoP1wiZnVuY3Rpb25cIiE9dHlwZW9mIGVbZS5sZW5ndGgtMV0/aTplLnBvcCgpOml9KGEpO2lmKEFycmF5LmlzQXJyYXkoYVswXSkmJihhPWFbMF0pLGEubGVuZ3RoPDIpdGhyb3cgbmV3IG4oXCJzdHJlYW1zXCIpO3ZhciB1PWEubWFwKChmdW5jdGlvbih0LG4pe3ZhciBpPW48YS5sZW5ndGgtMTtyZXR1cm4gZnVuY3Rpb24odCxuLGksbyl7bz1mdW5jdGlvbihlKXt2YXIgdD0hMTtyZXR1cm4gZnVuY3Rpb24oKXt0fHwodD0hMCxlLmFwcGx5KHZvaWQgMCxhcmd1bWVudHMpKX19KG8pO3ZhciBzPSExO3Qub24oXCJjbG9zZVwiLChmdW5jdGlvbigpe3M9ITB9KSksdm9pZCAwPT09ZSYmKGU9bmEoKSksZSh0LHtyZWFkYWJsZTpuLHdyaXRhYmxlOml9LChmdW5jdGlvbihlKXtpZihlKXJldHVybiBvKGUpO3M9ITAsbygpfSkpO3ZhciBhPSExO3JldHVybiBmdW5jdGlvbihlKXtpZighcyYmIWEpcmV0dXJuIGE9ITAsZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2V0SGVhZGVyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmFib3J0fSh0KT90LmFib3J0KCk6XCJmdW5jdGlvblwiPT10eXBlb2YgdC5kZXN0cm95P3QuZGVzdHJveSgpOnZvaWQgbyhlfHxuZXcgcihcInBpcGVcIikpfX0odCxpLG4+MCwoZnVuY3Rpb24oZSl7ZHx8KGQ9ZSksZSYmdS5mb3JFYWNoKG8pLGl8fCh1LmZvckVhY2gobyksbChkKSl9KSl9KSk7cmV0dXJuIGEucmVkdWNlKHMpfSxKc30hZnVuY3Rpb24oZSx0KXt2YXIgbj1jO1wiZGlzYWJsZVwiPT09cHJvY2Vzcy5lbnYuUkVBREFCTEVfU1RSRUFNJiZuPyhlLmV4cG9ydHM9bi5SZWFkYWJsZSxPYmplY3QuYXNzaWduKGUuZXhwb3J0cyxuKSxlLmV4cG9ydHMuU3RyZWFtPW4pOigodD1lLmV4cG9ydHM9b2EoKSkuU3RyZWFtPW58fHQsdC5SZWFkYWJsZT10LHQuV3JpdGFibGU9RHMoKSx0LkR1cGxleD1McygpLHQuVHJhbnNmb3JtPXNhKCksdC5QYXNzVGhyb3VnaD1mdW5jdGlvbigpe2lmKFpzKXJldHVybiBZcztacz0xLFlzPXQ7dmFyIGU9c2EoKTtmdW5jdGlvbiB0KG4pe2lmKCEodGhpcyBpbnN0YW5jZW9mIHQpKXJldHVybiBuZXcgdChuKTtlLmNhbGwodGhpcyxuKX1yZXR1cm4gTnMoKSh0LGUpLHQucHJvdG90eXBlLl90cmFuc2Zvcm09ZnVuY3Rpb24oZSx0LG4pe24obnVsbCxlKX0sWXN9KCksdC5maW5pc2hlZD1uYSgpLHQucGlwZWxpbmU9YWEoKSl9KHBzLHBzLmV4cG9ydHMpO3ZhciBjYT1wcy5leHBvcnRzO2Z1bmN0aW9uIGRhKGU9e30pe2NvbnN0IHQ9e30sbj1uZXcgY2EuRHVwbGV4KHtvYmplY3RNb2RlOiEwLHJlYWQ6KCk9Pnt9LHdyaXRlOmZ1bmN0aW9uKG4sbyxzKXtsZXQgYT1udWxsO3RyeXshbi5pZD9mdW5jdGlvbihuKXtlPy5yZXRyeU9uTWVzc2FnZSYmbi5tZXRob2Q9PT1lLnJldHJ5T25NZXNzYWdlJiZPYmplY3QudmFsdWVzKHQpLmZvckVhY2goKCh7cmVxOmUscmV0cnlDb3VudDpuPTB9KT0+e2lmKCFlLmlkKXJldHVybjtpZihuPj0zKXRocm93IG5ldyBFcnJvcihgU3RyZWFtTWlkZGxld2FyZSAtIFJldHJ5IGxpbWl0IGV4Y2VlZGVkIGZvciByZXF1ZXN0IGlkIFwiJHtlLmlkfVwiYCk7Y29uc3Qgcj10W2UuaWRdO3ImJihyLnJldHJ5Q291bnQ9bisxKSxpKGUpfSkpO3IuZW1pdChcIm5vdGlmaWNhdGlvblwiLG4pfShuKTpmdW5jdGlvbihlKXtjb25zdHtpZDpufT1lO2lmKG51bGw9PT1uKXJldHVybjtjb25zdCByPXRbbl07aWYoIXIpcmV0dXJuIHZvaWQgY29uc29sZS53YXJuKGBTdHJlYW1NaWRkbGV3YXJlIC0gVW5rbm93biByZXNwb25zZSBpZCBcIiR7bn1cImApO2RlbGV0ZSB0W25dLE9iamVjdC5hc3NpZ24oci5yZXMsZSksc2V0VGltZW91dChyLmVuZCl9KG4pfWNhdGNoKGUpe2E9ZX1zKGEpfX0pLHI9bmV3IEJvO3JldHVybntldmVudHM6cixtaWRkbGV3YXJlOihlLG4scixvKT0+e3RbZS5pZF09e3JlcTplLHJlczpuLG5leHQ6cixlbmQ6b30saShlKX0sc3RyZWFtOm59O2Z1bmN0aW9uIGkoZSl7bi5wdXNoKGUpfX12YXIgbGE9e30sdWE9e2V4cG9ydHM6e319LGhhPWZ1bmN0aW9uIGUodCxuKXtpZih0JiZuKXJldHVybiBlKHQpKG4pO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIm5lZWQgd3JhcHBlciBmdW5jdGlvblwiKTtyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cltlXT10W2VdfSkpLHI7ZnVuY3Rpb24gcigpe2Zvcih2YXIgZT1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCksbj0wO248ZS5sZW5ndGg7bisrKWVbbl09YXJndW1lbnRzW25dO3ZhciByPXQuYXBwbHkodGhpcyxlKSxpPWVbZS5sZW5ndGgtMV07cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgciYmciE9PWkmJk9iamVjdC5rZXlzKGkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JbZV09aVtlXX0pKSxyfX07dmFyIGZhPWhhO2Z1bmN0aW9uIHBhKGUpe3ZhciB0PWZ1bmN0aW9uKCl7cmV0dXJuIHQuY2FsbGVkP3QudmFsdWU6KHQuY2FsbGVkPSEwLHQudmFsdWU9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfTtyZXR1cm4gdC5jYWxsZWQ9ITEsdH1mdW5jdGlvbiBtYShlKXt2YXIgdD1mdW5jdGlvbigpe2lmKHQuY2FsbGVkKXRocm93IG5ldyBFcnJvcih0Lm9uY2VFcnJvcik7cmV0dXJuIHQuY2FsbGVkPSEwLHQudmFsdWU9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LG49ZS5uYW1lfHxcIkZ1bmN0aW9uIHdyYXBwZWQgd2l0aCBgb25jZWBcIjtyZXR1cm4gdC5vbmNlRXJyb3I9bitcIiBzaG91bGRuJ3QgYmUgY2FsbGVkIG1vcmUgdGhhbiBvbmNlXCIsdC5jYWxsZWQ9ITEsdH11YS5leHBvcnRzPWZhKHBhKSx1YS5leHBvcnRzLnN0cmljdD1mYShtYSkscGEucHJvdG89cGEoKGZ1bmN0aW9uKCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KEZ1bmN0aW9uLnByb3RvdHlwZSxcIm9uY2VcIix7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gcGEodGhpcyl9LGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGdW5jdGlvbi5wcm90b3R5cGUsXCJvbmNlU3RyaWN0XCIse3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG1hKHRoaXMpfSxjb25maWd1cmFibGU6ITB9KX0pKTt2YXIgZ2E9dWEuZXhwb3J0cyx2YT17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodmEsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdmEuU3Vic3RyZWFtPXZvaWQgMDtjb25zdCB5YT1jYTtjbGFzcyBFYSBleHRlbmRzIHlhLkR1cGxleHtjb25zdHJ1Y3Rvcih7cGFyZW50OmUsbmFtZTp0fSl7c3VwZXIoe29iamVjdE1vZGU6ITB9KSx0aGlzLl9wYXJlbnQ9ZSx0aGlzLl9uYW1lPXR9X3JlYWQoKXt9X3dyaXRlKGUsdCxuKXt0aGlzLl9wYXJlbnQucHVzaCh7bmFtZTp0aGlzLl9uYW1lLGRhdGE6ZX0pLG4oKX19dmEuU3Vic3RyZWFtPUVhO3ZhciBiYT11JiZ1Ll9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkobGEsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksbGEuT2JqZWN0TXVsdGlwbGV4PXZvaWQgMDtjb25zdCB3YT1jYSxTYT1iYShnYSksX2E9dmEsQ2E9U3ltYm9sKFwiSUdOT1JFX1NVQlNUUkVBTVwiKTtsZXQgeGE9Y2xhc3MgZXh0ZW5kcyB3YS5EdXBsZXh7Y29uc3RydWN0b3IoZT17fSl7c3VwZXIoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUpLHtvYmplY3RNb2RlOiEwfSkpLHRoaXMuX3N1YnN0cmVhbXM9e319Y3JlYXRlU3RyZWFtKGUpe2lmKHRoaXMuZGVzdHJveWVkKXRocm93IG5ldyBFcnJvcihgT2JqZWN0TXVsdGlwbGV4IC0gcGFyZW50IHN0cmVhbSBmb3IgbmFtZSBcIiR7ZX1cIiBhbHJlYWR5IGRlc3Ryb3llZGApO2lmKHRoaXMuX3JlYWRhYmxlU3RhdGUuZW5kZWR8fHRoaXMuX3dyaXRhYmxlU3RhdGUuZW5kZWQpdGhyb3cgbmV3IEVycm9yKGBPYmplY3RNdWx0aXBsZXggLSBwYXJlbnQgc3RyZWFtIGZvciBuYW1lIFwiJHtlfVwiIGFscmVhZHkgZW5kZWRgKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJPYmplY3RNdWx0aXBsZXggLSBuYW1lIG11c3Qgbm90IGJlIGVtcHR5XCIpO2lmKHRoaXMuX3N1YnN0cmVhbXNbZV0pdGhyb3cgbmV3IEVycm9yKGBPYmplY3RNdWx0aXBsZXggLSBTdWJzdHJlYW0gZm9yIG5hbWUgXCIke2V9XCIgYWxyZWFkeSBleGlzdHNgKTtjb25zdCB0PW5ldyBfYS5TdWJzdHJlYW0oe3BhcmVudDp0aGlzLG5hbWU6ZX0pO3JldHVybiB0aGlzLl9zdWJzdHJlYW1zW2VdPXQsZnVuY3Rpb24oZSx0KXtjb25zdCBuPSgwLFNhLmRlZmF1bHQpKHQpOygwLHdhLmZpbmlzaGVkKShlLHtyZWFkYWJsZTohMX0sbiksKDAsd2EuZmluaXNoZWQpKGUse3dyaXRhYmxlOiExfSxuKX0odGhpcywoZT0+dC5kZXN0cm95KGV8fHZvaWQgMCkpKSx0fWlnbm9yZVN0cmVhbShlKXtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJPYmplY3RNdWx0aXBsZXggLSBuYW1lIG11c3Qgbm90IGJlIGVtcHR5XCIpO2lmKHRoaXMuX3N1YnN0cmVhbXNbZV0pdGhyb3cgbmV3IEVycm9yKGBPYmplY3RNdWx0aXBsZXggLSBTdWJzdHJlYW0gZm9yIG5hbWUgXCIke2V9XCIgYWxyZWFkeSBleGlzdHNgKTt0aGlzLl9zdWJzdHJlYW1zW2VdPUNhfV9yZWFkKCl7fV93cml0ZShlLHQsbil7Y29uc3R7bmFtZTpyLGRhdGE6aX09ZTtpZighcilyZXR1cm4gY29uc29sZS53YXJuKGBPYmplY3RNdWx0aXBsZXggLSBtYWxmb3JtZWQgY2h1bmsgd2l0aG91dCBuYW1lIFwiJHtlfVwiYCksbigpO2NvbnN0IG89dGhpcy5fc3Vic3RyZWFtc1tyXTtyZXR1cm4gbz8obyE9PUNhJiZvLnB1c2goaSksbigpKTooY29uc29sZS53YXJuKGBPYmplY3RNdWx0aXBsZXggLSBvcnBoYW5lZCBkYXRhIGZvciBzdHJlYW0gXCIke3J9XCJgKSxuKCkpfX07bGEuT2JqZWN0TXVsdGlwbGV4PXhhO3ZhciBrYT1oKGxhLk9iamVjdE11bHRpcGxleCk7Y29uc3QgTWE9ZT0+bnVsbCE9PWUmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnBpcGU7TWEud3JpdGFibGU9ZT0+TWEoZSkmJiExIT09ZS53cml0YWJsZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5fd3JpdGUmJlwib2JqZWN0XCI9PXR5cGVvZiBlLl93cml0YWJsZVN0YXRlLE1hLnJlYWRhYmxlPWU9Pk1hKGUpJiYhMSE9PWUucmVhZGFibGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuX3JlYWQmJlwib2JqZWN0XCI9PXR5cGVvZiBlLl9yZWFkYWJsZVN0YXRlLE1hLmR1cGxleD1lPT5NYS53cml0YWJsZShlKSYmTWEucmVhZGFibGUoZSksTWEudHJhbnNmb3JtPWU9Pk1hLmR1cGxleChlKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5fdHJhbnNmb3JtO3ZhciBBYSxUYT1NYSxJYT1jbGFzcyBleHRlbmRzIGZze2NvbnN0cnVjdG9yKGUse2pzb25ScGNTdHJlYW1OYW1lOnQsbG9nZ2VyOm49Y29uc29sZSxtYXhFdmVudExpc3RlbmVyczpyPTEwMCxycGNNaWRkbGV3YXJlOmk9W119KXtpZihzdXBlcih7bG9nZ2VyOm4sbWF4RXZlbnRMaXN0ZW5lcnM6cixycGNNaWRkbGV3YXJlOml9KSwhVGEuZHVwbGV4KGUpKXRocm93IG5ldyBFcnJvcigkci5lcnJvcnMuaW52YWxpZER1cGxleFN0cmVhbSgpKTt0aGlzLl9oYW5kbGVTdHJlYW1EaXNjb25uZWN0PXRoaXMuX2hhbmRsZVN0cmVhbURpc2Nvbm5lY3QuYmluZCh0aGlzKTtjb25zdCBvPW5ldyBrYTtjYS5waXBlbGluZShlLG8sZSx0aGlzLl9oYW5kbGVTdHJlYW1EaXNjb25uZWN0LmJpbmQodGhpcyxcIk1ldGFNYXNrXCIpKSx0aGlzLl9qc29uUnBjQ29ubmVjdGlvbj1kYSh7cmV0cnlPbk1lc3NhZ2U6XCJNRVRBTUFTS19FWFRFTlNJT05fQ09OTkVDVF9DQU5fUkVUUllcIn0pLGNhLnBpcGVsaW5lKHRoaXMuX2pzb25ScGNDb25uZWN0aW9uLnN0cmVhbSxvLmNyZWF0ZVN0cmVhbSh0KSx0aGlzLl9qc29uUnBjQ29ubmVjdGlvbi5zdHJlYW0sdGhpcy5faGFuZGxlU3RyZWFtRGlzY29ubmVjdC5iaW5kKHRoaXMsXCJNZXRhTWFzayBScGNQcm92aWRlclwiKSksdGhpcy5fcnBjRW5naW5lLnB1c2godGhpcy5fanNvblJwY0Nvbm5lY3Rpb24ubWlkZGxld2FyZSksdGhpcy5fanNvblJwY0Nvbm5lY3Rpb24uZXZlbnRzLm9uKFwibm90aWZpY2F0aW9uXCIsKHQ9Pntjb25zdHttZXRob2Q6bixwYXJhbXM6cn09dDtcIm1ldGFtYXNrX2FjY291bnRzQ2hhbmdlZFwiPT09bj90aGlzLl9oYW5kbGVBY2NvdW50c0NoYW5nZWQocik6XCJtZXRhbWFza191bmxvY2tTdGF0ZUNoYW5nZWRcIj09PW4/dGhpcy5faGFuZGxlVW5sb2NrU3RhdGVDaGFuZ2VkKHIpOlwibWV0YW1hc2tfY2hhaW5DaGFuZ2VkXCI9PT1uP3RoaXMuX2hhbmRsZUNoYWluQ2hhbmdlZChyKTpIby5pbmNsdWRlcyhuKT90aGlzLmVtaXQoXCJtZXNzYWdlXCIse3R5cGU6bixkYXRhOnJ9KTpcIk1FVEFNQVNLX1NUUkVBTV9GQUlMVVJFXCI9PT1uJiZlLmRlc3Ryb3kobmV3IEVycm9yKCRyLmVycm9ycy5wZXJtYW5lbnRseURpc2Nvbm5lY3RlZCgpKSl9KSl9YXN5bmMgX2luaXRpYWxpemVTdGF0ZUFzeW5jKCl7bGV0IGU7dHJ5e2U9YXdhaXQgdGhpcy5yZXF1ZXN0KHttZXRob2Q6XCJtZXRhbWFza19nZXRQcm92aWRlclN0YXRlXCJ9KX1jYXRjaChlKXt0aGlzLl9sb2cuZXJyb3IoXCJNZXRhTWFzazogRmFpbGVkIHRvIGdldCBpbml0aWFsIHN0YXRlLiBQbGVhc2UgcmVwb3J0IHRoaXMgYnVnLlwiLGUpfXRoaXMuX2luaXRpYWxpemVTdGF0ZShlKX1faGFuZGxlU3RyZWFtRGlzY29ubmVjdChlLHQpe2xldCBuPWBNZXRhTWFzazogTG9zdCBjb25uZWN0aW9uIHRvIFwiJHtlfVwiLmA7dD8uc3RhY2smJihuKz1gXFxuJHt0LnN0YWNrfWApLHRoaXMuX2xvZy53YXJuKG4pLHRoaXMubGlzdGVuZXJDb3VudChcImVycm9yXCIpPjAmJnRoaXMuZW1pdChcImVycm9yXCIsbiksdGhpcy5faGFuZGxlRGlzY29ubmVjdCghMSx0P3QubWVzc2FnZTp2b2lkIDApfV9oYW5kbGVDaGFpbkNoYW5nZWQoe2NoYWluSWQ6ZSxuZXR3b3JrVmVyc2lvbjp0fT17fSl7cW8oZSkmJihlPT5Cb29sZWFuKGUpJiZcInN0cmluZ1wiPT10eXBlb2YgZSkodCk/XCJsb2FkaW5nXCI9PT10P3RoaXMuX2hhbmRsZURpc2Nvbm5lY3QoITApOnN1cGVyLl9oYW5kbGVDaGFpbkNoYW5nZWQoe2NoYWluSWQ6ZX0pOnRoaXMuX2xvZy5lcnJvcigkci5lcnJvcnMuaW52YWxpZE5ldHdvcmtQYXJhbXMoKSx7Y2hhaW5JZDplLG5ldHdvcmtWZXJzaW9uOnR9KX19LFBhPWNsYXNzIGV4dGVuZHMgSWF7Y29uc3RydWN0b3IoZSx7anNvblJwY1N0cmVhbU5hbWU6dD1cIm1ldGFtYXNrLXByb3ZpZGVyXCIsbG9nZ2VyOm49Y29uc29sZSxtYXhFdmVudExpc3RlbmVyczpyPTEwMCxzaG91bGRTZW5kTWV0YWRhdGE6aX09e30pe2lmKHN1cGVyKGUse2pzb25ScGNTdHJlYW1OYW1lOnQsbG9nZ2VyOm4sbWF4RXZlbnRMaXN0ZW5lcnM6cixycGNNaWRkbGV3YXJlOlVvKG4pfSksdGhpcy5fc2VudFdhcm5pbmdzPXtjaGFpbklkOiExLG5ldHdvcmtWZXJzaW9uOiExLHNlbGVjdGVkQWRkcmVzczohMSxlbmFibGU6ITEsZXhwZXJpbWVudGFsTWV0aG9kczohMSxzZW5kOiExLGV2ZW50czp7Y2xvc2U6ITEsZGF0YTohMSxuZXR3b3JrQ2hhbmdlZDohMSxub3RpZmljYXRpb246ITF9fSxRbyh0aGlzLEFhLHZvaWQgMCksdGhpcy5faW5pdGlhbGl6ZVN0YXRlQXN5bmMoKSxYbyh0aGlzLEFhLG51bGwpLHRoaXMuaXNNZXRhTWFzaz0hMCx0aGlzLl9zZW5kU3luYz10aGlzLl9zZW5kU3luYy5iaW5kKHRoaXMpLHRoaXMuZW5hYmxlPXRoaXMuZW5hYmxlLmJpbmQodGhpcyksdGhpcy5zZW5kPXRoaXMuc2VuZC5iaW5kKHRoaXMpLHRoaXMuc2VuZEFzeW5jPXRoaXMuc2VuZEFzeW5jLmJpbmQodGhpcyksdGhpcy5fd2Fybk9mRGVwcmVjYXRpb249dGhpcy5fd2Fybk9mRGVwcmVjYXRpb24uYmluZCh0aGlzKSx0aGlzLl9tZXRhbWFzaz10aGlzLl9nZXRFeHBlcmltZW50YWxBcGkoKSx0aGlzLl9qc29uUnBjQ29ubmVjdGlvbi5ldmVudHMub24oXCJub3RpZmljYXRpb25cIiwoZT0+e2NvbnN0e21ldGhvZDp0fT1lO0hvLmluY2x1ZGVzKHQpJiYodGhpcy5lbWl0KFwiZGF0YVwiLGUpLHRoaXMuZW1pdChcIm5vdGlmaWNhdGlvblwiLGUucGFyYW1zLnJlc3VsdCkpfSkpLGkpaWYoXCJjb21wbGV0ZVwiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZSlXbyh0aGlzLl9ycGNFbmdpbmUsdGhpcy5fbG9nKTtlbHNle2NvbnN0IGU9KCk9PntXbyh0aGlzLl9ycGNFbmdpbmUsdGhpcy5fbG9nKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixlKX07d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsZSl9fWdldCBjaGFpbklkKCl7cmV0dXJuIHRoaXMuX3NlbnRXYXJuaW5ncy5jaGFpbklkfHwodGhpcy5fbG9nLndhcm4oJHIud2FybmluZ3MuY2hhaW5JZERlcHJlY2F0aW9uKSx0aGlzLl9zZW50V2FybmluZ3MuY2hhaW5JZD0hMCksc3VwZXIuY2hhaW5JZH1nZXQgbmV0d29ya1ZlcnNpb24oKXtyZXR1cm4gdGhpcy5fc2VudFdhcm5pbmdzLm5ldHdvcmtWZXJzaW9ufHwodGhpcy5fbG9nLndhcm4oJHIud2FybmluZ3MubmV0d29ya1ZlcnNpb25EZXByZWNhdGlvbiksdGhpcy5fc2VudFdhcm5pbmdzLm5ldHdvcmtWZXJzaW9uPSEwKSxKbyh0aGlzLEFhKX1nZXQgc2VsZWN0ZWRBZGRyZXNzKCl7cmV0dXJuIHRoaXMuX3NlbnRXYXJuaW5ncy5zZWxlY3RlZEFkZHJlc3N8fCh0aGlzLl9sb2cud2Fybigkci53YXJuaW5ncy5zZWxlY3RlZEFkZHJlc3NEZXByZWNhdGlvbiksdGhpcy5fc2VudFdhcm5pbmdzLnNlbGVjdGVkQWRkcmVzcz0hMCksc3VwZXIuc2VsZWN0ZWRBZGRyZXNzfXNlbmRBc3luYyhlLHQpe3RoaXMuX3JwY1JlcXVlc3QoZSx0KX1hZGRMaXN0ZW5lcihlLHQpe3JldHVybiB0aGlzLl93YXJuT2ZEZXByZWNhdGlvbihlKSxzdXBlci5hZGRMaXN0ZW5lcihlLHQpfW9uKGUsdCl7cmV0dXJuIHRoaXMuX3dhcm5PZkRlcHJlY2F0aW9uKGUpLHN1cGVyLm9uKGUsdCl9b25jZShlLHQpe3JldHVybiB0aGlzLl93YXJuT2ZEZXByZWNhdGlvbihlKSxzdXBlci5vbmNlKGUsdCl9cHJlcGVuZExpc3RlbmVyKGUsdCl7cmV0dXJuIHRoaXMuX3dhcm5PZkRlcHJlY2F0aW9uKGUpLHN1cGVyLnByZXBlbmRMaXN0ZW5lcihlLHQpfXByZXBlbmRPbmNlTGlzdGVuZXIoZSx0KXtyZXR1cm4gdGhpcy5fd2Fybk9mRGVwcmVjYXRpb24oZSksc3VwZXIucHJlcGVuZE9uY2VMaXN0ZW5lcihlLHQpfV9oYW5kbGVEaXNjb25uZWN0KGUsdCl7c3VwZXIuX2hhbmRsZURpc2Nvbm5lY3QoZSx0KSxKbyh0aGlzLEFhKSYmIWUmJlhvKHRoaXMsQWEsbnVsbCl9X3dhcm5PZkRlcHJlY2F0aW9uKGUpeyExPT09dGhpcy5fc2VudFdhcm5pbmdzPy5ldmVudHNbZV0mJih0aGlzLl9sb2cud2Fybigkci53YXJuaW5ncy5ldmVudHNbZV0pLHRoaXMuX3NlbnRXYXJuaW5ncy5ldmVudHNbZV09ITApfWFzeW5jIGVuYWJsZSgpe3JldHVybiB0aGlzLl9zZW50V2FybmluZ3MuZW5hYmxlfHwodGhpcy5fbG9nLndhcm4oJHIud2FybmluZ3MuZW5hYmxlRGVwcmVjYXRpb24pLHRoaXMuX3NlbnRXYXJuaW5ncy5lbmFibGU9ITApLG5ldyBQcm9taXNlKCgoZSx0KT0+e3RyeXt0aGlzLl9ycGNSZXF1ZXN0KHttZXRob2Q6XCJldGhfcmVxdWVzdEFjY291bnRzXCIscGFyYW1zOltdfSxGbyhlLHQpKX1jYXRjaChlKXt0KGUpfX0pKX1zZW5kKGUsdCl7cmV0dXJuIHRoaXMuX3NlbnRXYXJuaW5ncy5zZW5kfHwodGhpcy5fbG9nLndhcm4oJHIud2FybmluZ3Muc2VuZERlcHJlY2F0aW9uKSx0aGlzLl9zZW50V2FybmluZ3Muc2VuZD0hMCksXCJzdHJpbmdcIiE9dHlwZW9mIGV8fHQmJiFBcnJheS5pc0FycmF5KHQpP2UmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3RoaXMuX3JwY1JlcXVlc3QoZSx0KTp0aGlzLl9zZW5kU3luYyhlKTpuZXcgUHJvbWlzZSgoKG4scik9Pnt0cnl7dGhpcy5fcnBjUmVxdWVzdCh7bWV0aG9kOmUscGFyYW1zOnR9LEZvKG4sciwhMSkpfWNhdGNoKGUpe3IoZSl9fSkpfV9zZW5kU3luYyhlKXtsZXQgdDtzd2l0Y2goZS5tZXRob2Qpe2Nhc2VcImV0aF9hY2NvdW50c1wiOnQ9dGhpcy5zZWxlY3RlZEFkZHJlc3M/W3RoaXMuc2VsZWN0ZWRBZGRyZXNzXTpbXTticmVhaztjYXNlXCJldGhfY29pbmJhc2VcIjp0PXRoaXMuc2VsZWN0ZWRBZGRyZXNzPz9udWxsO2JyZWFrO2Nhc2VcImV0aF91bmluc3RhbGxGaWx0ZXJcIjp0aGlzLl9ycGNSZXF1ZXN0KGUsem8pLHQ9ITA7YnJlYWs7Y2FzZVwibmV0X3ZlcnNpb25cIjp0PUpvKHRoaXMsQWEpPz9udWxsO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCRyLmVycm9ycy51bnN1cHBvcnRlZFN5bmMoZS5tZXRob2QpKX1yZXR1cm57aWQ6ZS5pZCxqc29ucnBjOmUuanNvbnJwYyxyZXN1bHQ6dH19X2dldEV4cGVyaW1lbnRhbEFwaSgpe3JldHVybiBuZXcgUHJveHkoe2lzVW5sb2NrZWQ6YXN5bmMoKT0+KHRoaXMuX3N0YXRlLmluaXRpYWxpemVkfHxhd2FpdCBuZXcgUHJvbWlzZSgoZT0+e3RoaXMub24oXCJfaW5pdGlhbGl6ZWRcIiwoKCk9PmUoKSkpfSkpLHRoaXMuX3N0YXRlLmlzVW5sb2NrZWQpLHJlcXVlc3RCYXRjaDphc3luYyBlPT57aWYoIUFycmF5LmlzQXJyYXkoZSkpdGhyb3cgaG8oe21lc3NhZ2U6XCJCYXRjaCByZXF1ZXN0cyBtdXN0IGJlIG1hZGUgd2l0aCBhbiBhcnJheSBvZiByZXF1ZXN0IG9iamVjdHMuXCIsZGF0YTplfSk7cmV0dXJuIG5ldyBQcm9taXNlKCgodCxuKT0+e3RoaXMuX3JwY1JlcXVlc3QoZSxGbyh0LG4pKX0pKX19LHtnZXQ6KGUsdCwuLi5uKT0+KHRoaXMuX3NlbnRXYXJuaW5ncy5leHBlcmltZW50YWxNZXRob2RzfHwodGhpcy5fbG9nLndhcm4oJHIud2FybmluZ3MuZXhwZXJpbWVudGFsTWV0aG9kcyksdGhpcy5fc2VudFdhcm5pbmdzLmV4cGVyaW1lbnRhbE1ldGhvZHM9ITApLFJlZmxlY3QuZ2V0KGUsdCwuLi5uKSl9KX1faGFuZGxlQ2hhaW5DaGFuZ2VkKHtjaGFpbklkOmUsbmV0d29ya1ZlcnNpb246dH09e30pe3N1cGVyLl9oYW5kbGVDaGFpbkNoYW5nZWQoe2NoYWluSWQ6ZSxuZXR3b3JrVmVyc2lvbjp0fSksdGhpcy5fc3RhdGUuaXNDb25uZWN0ZWQmJnQhPT1Kbyh0aGlzLEFhKSYmKFhvKHRoaXMsQWEsdCksdGhpcy5fc3RhdGUuaW5pdGlhbGl6ZWQmJnRoaXMuZW1pdChcIm5ldHdvcmtDaGFuZ2VkXCIsSm8odGhpcyxBYSkpKX19O0FhPW5ldyBXZWFrTWFwO2NvbnN0IFJhPXQoXCJNTV9TREtcIik7UmEuY29sb3I9XCIjRkZBQzFDXCI7dmFyIE9hPXt9LE5hPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShOYSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxOYS5FdGhlcmV1bVByb3ZpZGVyRXJyb3I9TmEuRXRoZXJldW1ScGNFcnJvcj12b2lkIDA7Y29uc3QgRGE9WWk7Y2xhc3MgTGEgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihlLHQsbil7aWYoIU51bWJlci5pc0ludGVnZXIoZSkpdGhyb3cgbmV3IEVycm9yKCdcImNvZGVcIiBtdXN0IGJlIGFuIGludGVnZXIuJyk7aWYoIXR8fFwic3RyaW5nXCIhPXR5cGVvZiB0KXRocm93IG5ldyBFcnJvcignXCJtZXNzYWdlXCIgbXVzdCBiZSBhIG5vbmVtcHR5IHN0cmluZy4nKTtzdXBlcih0KSx0aGlzLmNvZGU9ZSx2b2lkIDAhPT1uJiYodGhpcy5kYXRhPW4pfXNlcmlhbGl6ZSgpe2NvbnN0IGU9e2NvZGU6dGhpcy5jb2RlLG1lc3NhZ2U6dGhpcy5tZXNzYWdlfTtyZXR1cm4gdm9pZCAwIT09dGhpcy5kYXRhJiYoZS5kYXRhPXRoaXMuZGF0YSksdGhpcy5zdGFjayYmKGUuc3RhY2s9dGhpcy5zdGFjayksZX10b1N0cmluZygpe3JldHVybiBEYS5kZWZhdWx0KHRoaXMuc2VyaWFsaXplKCksQmEsMil9fU5hLkV0aGVyZXVtUnBjRXJyb3I9TGE7ZnVuY3Rpb24gQmEoZSx0KXtpZihcIltDaXJjdWxhcl1cIiE9PXQpcmV0dXJuIHR9TmEuRXRoZXJldW1Qcm92aWRlckVycm9yPWNsYXNzIGV4dGVuZHMgTGF7Y29uc3RydWN0b3IoZSx0LG4pe2lmKCFmdW5jdGlvbihlKXtyZXR1cm4gTnVtYmVyLmlzSW50ZWdlcihlKSYmZT49MWUzJiZlPD00OTk5fShlKSl0aHJvdyBuZXcgRXJyb3IoJ1wiY29kZVwiIG11c3QgYmUgYW4gaW50ZWdlciBzdWNoIHRoYXQ6IDEwMDAgPD0gY29kZSA8PSA0OTk5Jyk7c3VwZXIoZSx0LG4pfX07dmFyIEthPXt9LGphPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShqYSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxqYS5lcnJvclZhbHVlcz1qYS5lcnJvckNvZGVzPXZvaWQgMCxqYS5lcnJvckNvZGVzPXtycGM6e2ludmFsaWRJbnB1dDotMzJlMyxyZXNvdXJjZU5vdEZvdW5kOi0zMjAwMSxyZXNvdXJjZVVuYXZhaWxhYmxlOi0zMjAwMix0cmFuc2FjdGlvblJlamVjdGVkOi0zMjAwMyxtZXRob2ROb3RTdXBwb3J0ZWQ6LTMyMDA0LGxpbWl0RXhjZWVkZWQ6LTMyMDA1LHBhcnNlOi0zMjcwMCxpbnZhbGlkUmVxdWVzdDotMzI2MDAsbWV0aG9kTm90Rm91bmQ6LTMyNjAxLGludmFsaWRQYXJhbXM6LTMyNjAyLGludGVybmFsOi0zMjYwM30scHJvdmlkZXI6e3VzZXJSZWplY3RlZFJlcXVlc3Q6NDAwMSx1bmF1dGhvcml6ZWQ6NDEwMCx1bnN1cHBvcnRlZE1ldGhvZDo0MjAwLGRpc2Nvbm5lY3RlZDo0OTAwLGNoYWluRGlzY29ubmVjdGVkOjQ5MDF9fSxqYS5lcnJvclZhbHVlcz17XCItMzI3MDBcIjp7c3RhbmRhcmQ6XCJKU09OIFJQQyAyLjBcIixtZXNzYWdlOlwiSW52YWxpZCBKU09OIHdhcyByZWNlaXZlZCBieSB0aGUgc2VydmVyLiBBbiBlcnJvciBvY2N1cnJlZCBvbiB0aGUgc2VydmVyIHdoaWxlIHBhcnNpbmcgdGhlIEpTT04gdGV4dC5cIn0sXCItMzI2MDBcIjp7c3RhbmRhcmQ6XCJKU09OIFJQQyAyLjBcIixtZXNzYWdlOlwiVGhlIEpTT04gc2VudCBpcyBub3QgYSB2YWxpZCBSZXF1ZXN0IG9iamVjdC5cIn0sXCItMzI2MDFcIjp7c3RhbmRhcmQ6XCJKU09OIFJQQyAyLjBcIixtZXNzYWdlOlwiVGhlIG1ldGhvZCBkb2VzIG5vdCBleGlzdCAvIGlzIG5vdCBhdmFpbGFibGUuXCJ9LFwiLTMyNjAyXCI6e3N0YW5kYXJkOlwiSlNPTiBSUEMgMi4wXCIsbWVzc2FnZTpcIkludmFsaWQgbWV0aG9kIHBhcmFtZXRlcihzKS5cIn0sXCItMzI2MDNcIjp7c3RhbmRhcmQ6XCJKU09OIFJQQyAyLjBcIixtZXNzYWdlOlwiSW50ZXJuYWwgSlNPTi1SUEMgZXJyb3IuXCJ9LFwiLTMyMDAwXCI6e3N0YW5kYXJkOlwiRUlQLTE0NzRcIixtZXNzYWdlOlwiSW52YWxpZCBpbnB1dC5cIn0sXCItMzIwMDFcIjp7c3RhbmRhcmQ6XCJFSVAtMTQ3NFwiLG1lc3NhZ2U6XCJSZXNvdXJjZSBub3QgZm91bmQuXCJ9LFwiLTMyMDAyXCI6e3N0YW5kYXJkOlwiRUlQLTE0NzRcIixtZXNzYWdlOlwiUmVzb3VyY2UgdW5hdmFpbGFibGUuXCJ9LFwiLTMyMDAzXCI6e3N0YW5kYXJkOlwiRUlQLTE0NzRcIixtZXNzYWdlOlwiVHJhbnNhY3Rpb24gcmVqZWN0ZWQuXCJ9LFwiLTMyMDA0XCI6e3N0YW5kYXJkOlwiRUlQLTE0NzRcIixtZXNzYWdlOlwiTWV0aG9kIG5vdCBzdXBwb3J0ZWQuXCJ9LFwiLTMyMDA1XCI6e3N0YW5kYXJkOlwiRUlQLTE0NzRcIixtZXNzYWdlOlwiUmVxdWVzdCBsaW1pdCBleGNlZWRlZC5cIn0sNDAwMTp7c3RhbmRhcmQ6XCJFSVAtMTE5M1wiLG1lc3NhZ2U6XCJVc2VyIHJlamVjdGVkIHRoZSByZXF1ZXN0LlwifSw0MTAwOntzdGFuZGFyZDpcIkVJUC0xMTkzXCIsbWVzc2FnZTpcIlRoZSByZXF1ZXN0ZWQgYWNjb3VudCBhbmQvb3IgbWV0aG9kIGhhcyBub3QgYmVlbiBhdXRob3JpemVkIGJ5IHRoZSB1c2VyLlwifSw0MjAwOntzdGFuZGFyZDpcIkVJUC0xMTkzXCIsbWVzc2FnZTpcIlRoZSByZXF1ZXN0ZWQgbWV0aG9kIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBFdGhlcmV1bSBwcm92aWRlci5cIn0sNDkwMDp7c3RhbmRhcmQ6XCJFSVAtMTE5M1wiLG1lc3NhZ2U6XCJUaGUgcHJvdmlkZXIgaXMgZGlzY29ubmVjdGVkIGZyb20gYWxsIGNoYWlucy5cIn0sNDkwMTp7c3RhbmRhcmQ6XCJFSVAtMTE5M1wiLG1lc3NhZ2U6XCJUaGUgcHJvdmlkZXIgaXMgZGlzY29ubmVjdGVkIGZyb20gdGhlIHNwZWNpZmllZCBjaGFpbi5cIn19LGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuc2VyaWFsaXplRXJyb3I9ZS5pc1ZhbGlkQ29kZT1lLmdldE1lc3NhZ2VGcm9tQ29kZT1lLkpTT05fUlBDX1NFUlZFUl9FUlJPUl9NRVNTQUdFPXZvaWQgMDtjb25zdCB0PWphLG49TmEscj10LmVycm9yQ29kZXMucnBjLmludGVybmFsLGk9XCJVbnNwZWNpZmllZCBlcnJvciBtZXNzYWdlLiBUaGlzIGlzIGEgYnVnLCBwbGVhc2UgcmVwb3J0IGl0LlwiLG89e2NvZGU6cixtZXNzYWdlOnMocil9O2Z1bmN0aW9uIHMobixyPWkpe2lmKE51bWJlci5pc0ludGVnZXIobikpe2NvbnN0IHI9bi50b1N0cmluZygpO2lmKGwodC5lcnJvclZhbHVlcyxyKSlyZXR1cm4gdC5lcnJvclZhbHVlc1tyXS5tZXNzYWdlO2lmKGMobikpcmV0dXJuIGUuSlNPTl9SUENfU0VSVkVSX0VSUk9SX01FU1NBR0V9cmV0dXJuIHJ9ZnVuY3Rpb24gYShlKXtpZighTnVtYmVyLmlzSW50ZWdlcihlKSlyZXR1cm4hMTtjb25zdCBuPWUudG9TdHJpbmcoKTtyZXR1cm4hIXQuZXJyb3JWYWx1ZXNbbl18fCEhYyhlKX1mdW5jdGlvbiBjKGUpe3JldHVybiBlPj0tMzIwOTkmJmU8PS0zMmUzfWZ1bmN0aW9uIGQoZSl7cmV0dXJuIGUmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiYhQXJyYXkuaXNBcnJheShlKT9PYmplY3QuYXNzaWduKHt9LGUpOmV9ZnVuY3Rpb24gbChlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX1lLkpTT05fUlBDX1NFUlZFUl9FUlJPUl9NRVNTQUdFPVwiVW5zcGVjaWZpZWQgc2VydmVyIGVycm9yLlwiLGUuZ2V0TWVzc2FnZUZyb21Db2RlPXMsZS5pc1ZhbGlkQ29kZT1hLGUuc2VyaWFsaXplRXJyb3I9ZnVuY3Rpb24oZSx7ZmFsbGJhY2tFcnJvcjp0PW8sc2hvdWxkSW5jbHVkZVN0YWNrOnI9ITF9PXt9KXt2YXIgaSxjO2lmKCF0fHwhTnVtYmVyLmlzSW50ZWdlcih0LmNvZGUpfHxcInN0cmluZ1wiIT10eXBlb2YgdC5tZXNzYWdlKXRocm93IG5ldyBFcnJvcihcIk11c3QgcHJvdmlkZSBmYWxsYmFjayBlcnJvciB3aXRoIGludGVnZXIgbnVtYmVyIGNvZGUgYW5kIHN0cmluZyBtZXNzYWdlLlwiKTtpZihlIGluc3RhbmNlb2Ygbi5FdGhlcmV1bVJwY0Vycm9yKXJldHVybiBlLnNlcmlhbGl6ZSgpO2NvbnN0IHU9e307aWYoZSYmXCJvYmplY3RcIj09dHlwZW9mIGUmJiFBcnJheS5pc0FycmF5KGUpJiZsKGUsXCJjb2RlXCIpJiZhKGUuY29kZSkpe2NvbnN0IHQ9ZTt1LmNvZGU9dC5jb2RlLHQubWVzc2FnZSYmXCJzdHJpbmdcIj09dHlwZW9mIHQubWVzc2FnZT8odS5tZXNzYWdlPXQubWVzc2FnZSxsKHQsXCJkYXRhXCIpJiYodS5kYXRhPXQuZGF0YSkpOih1Lm1lc3NhZ2U9cyh1LmNvZGUpLHUuZGF0YT17b3JpZ2luYWxFcnJvcjpkKGUpfSl9ZWxzZXt1LmNvZGU9dC5jb2RlO2NvbnN0IG49bnVsbD09PShpPWUpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLm1lc3NhZ2U7dS5tZXNzYWdlPW4mJlwic3RyaW5nXCI9PXR5cGVvZiBuP246dC5tZXNzYWdlLHUuZGF0YT17b3JpZ2luYWxFcnJvcjpkKGUpfX1jb25zdCBoPW51bGw9PT0oYz1lKXx8dm9pZCAwPT09Yz92b2lkIDA6Yy5zdGFjaztyZXR1cm4gciYmZSYmaCYmXCJzdHJpbmdcIj09dHlwZW9mIGgmJih1LnN0YWNrPWgpLHV9fShLYSk7dmFyICRhPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSgkYSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSwkYS5ldGhFcnJvcnM9dm9pZCAwO2NvbnN0IEhhPU5hLFVhPUthLEZhPWphO2Z1bmN0aW9uIHFhKGUsdCl7Y29uc3RbbixyXT1XYSh0KTtyZXR1cm4gbmV3IEhhLkV0aGVyZXVtUnBjRXJyb3IoZSxufHxVYS5nZXRNZXNzYWdlRnJvbUNvZGUoZSkscil9ZnVuY3Rpb24gemEoZSx0KXtjb25zdFtuLHJdPVdhKHQpO3JldHVybiBuZXcgSGEuRXRoZXJldW1Qcm92aWRlckVycm9yKGUsbnx8VWEuZ2V0TWVzc2FnZUZyb21Db2RlKGUpLHIpfWZ1bmN0aW9uIFdhKGUpe2lmKGUpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybltlXTtpZihcIm9iamVjdFwiPT10eXBlb2YgZSYmIUFycmF5LmlzQXJyYXkoZSkpe2NvbnN0e21lc3NhZ2U6dCxkYXRhOm59PWU7aWYodCYmXCJzdHJpbmdcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IEVycm9yKFwiTXVzdCBzcGVjaWZ5IHN0cmluZyBtZXNzYWdlLlwiKTtyZXR1cm5bdHx8dm9pZCAwLG5dfX1yZXR1cm5bXX0kYS5ldGhFcnJvcnM9e3JwYzp7cGFyc2U6ZT0+cWEoRmEuZXJyb3JDb2Rlcy5ycGMucGFyc2UsZSksaW52YWxpZFJlcXVlc3Q6ZT0+cWEoRmEuZXJyb3JDb2Rlcy5ycGMuaW52YWxpZFJlcXVlc3QsZSksaW52YWxpZFBhcmFtczplPT5xYShGYS5lcnJvckNvZGVzLnJwYy5pbnZhbGlkUGFyYW1zLGUpLG1ldGhvZE5vdEZvdW5kOmU9PnFhKEZhLmVycm9yQ29kZXMucnBjLm1ldGhvZE5vdEZvdW5kLGUpLGludGVybmFsOmU9PnFhKEZhLmVycm9yQ29kZXMucnBjLmludGVybmFsLGUpLHNlcnZlcjplPT57aWYoIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlfHxBcnJheS5pc0FycmF5KGUpKXRocm93IG5ldyBFcnJvcihcIkV0aGVyZXVtIFJQQyBTZXJ2ZXIgZXJyb3JzIG11c3QgcHJvdmlkZSBzaW5nbGUgb2JqZWN0IGFyZ3VtZW50LlwiKTtjb25zdHtjb2RlOnR9PWU7aWYoIU51bWJlci5pc0ludGVnZXIodCl8fHQ+LTMyMDA1fHx0PC0zMjA5OSl0aHJvdyBuZXcgRXJyb3IoJ1wiY29kZVwiIG11c3QgYmUgYW4gaW50ZWdlciBzdWNoIHRoYXQ6IC0zMjA5OSA8PSBjb2RlIDw9IC0zMjAwNScpO3JldHVybiBxYSh0LGUpfSxpbnZhbGlkSW5wdXQ6ZT0+cWEoRmEuZXJyb3JDb2Rlcy5ycGMuaW52YWxpZElucHV0LGUpLHJlc291cmNlTm90Rm91bmQ6ZT0+cWEoRmEuZXJyb3JDb2Rlcy5ycGMucmVzb3VyY2VOb3RGb3VuZCxlKSxyZXNvdXJjZVVuYXZhaWxhYmxlOmU9PnFhKEZhLmVycm9yQ29kZXMucnBjLnJlc291cmNlVW5hdmFpbGFibGUsZSksdHJhbnNhY3Rpb25SZWplY3RlZDplPT5xYShGYS5lcnJvckNvZGVzLnJwYy50cmFuc2FjdGlvblJlamVjdGVkLGUpLG1ldGhvZE5vdFN1cHBvcnRlZDplPT5xYShGYS5lcnJvckNvZGVzLnJwYy5tZXRob2ROb3RTdXBwb3J0ZWQsZSksbGltaXRFeGNlZWRlZDplPT5xYShGYS5lcnJvckNvZGVzLnJwYy5saW1pdEV4Y2VlZGVkLGUpfSxwcm92aWRlcjp7dXNlclJlamVjdGVkUmVxdWVzdDplPT56YShGYS5lcnJvckNvZGVzLnByb3ZpZGVyLnVzZXJSZWplY3RlZFJlcXVlc3QsZSksdW5hdXRob3JpemVkOmU9PnphKEZhLmVycm9yQ29kZXMucHJvdmlkZXIudW5hdXRob3JpemVkLGUpLHVuc3VwcG9ydGVkTWV0aG9kOmU9PnphKEZhLmVycm9yQ29kZXMucHJvdmlkZXIudW5zdXBwb3J0ZWRNZXRob2QsZSksZGlzY29ubmVjdGVkOmU9PnphKEZhLmVycm9yQ29kZXMucHJvdmlkZXIuZGlzY29ubmVjdGVkLGUpLGNoYWluRGlzY29ubmVjdGVkOmU9PnphKEZhLmVycm9yQ29kZXMucHJvdmlkZXIuY2hhaW5EaXNjb25uZWN0ZWQsZSksY3VzdG9tOmU9PntpZighZXx8XCJvYmplY3RcIiE9dHlwZW9mIGV8fEFycmF5LmlzQXJyYXkoZSkpdGhyb3cgbmV3IEVycm9yKFwiRXRoZXJldW0gUHJvdmlkZXIgY3VzdG9tIGVycm9ycyBtdXN0IHByb3ZpZGUgc2luZ2xlIG9iamVjdCBhcmd1bWVudC5cIik7Y29uc3R7Y29kZTp0LG1lc3NhZ2U6bixkYXRhOnJ9PWU7aWYoIW58fFwic3RyaW5nXCIhPXR5cGVvZiBuKXRocm93IG5ldyBFcnJvcignXCJtZXNzYWdlXCIgbXVzdCBiZSBhIG5vbmVtcHR5IHN0cmluZycpO3JldHVybiBuZXcgSGEuRXRoZXJldW1Qcm92aWRlckVycm9yKHQsbixyKX19fSxmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLmdldE1lc3NhZ2VGcm9tQ29kZT1lLnNlcmlhbGl6ZUVycm9yPWUuRXRoZXJldW1Qcm92aWRlckVycm9yPWUuRXRoZXJldW1ScGNFcnJvcj1lLmV0aEVycm9ycz1lLmVycm9yQ29kZXM9dm9pZCAwO2NvbnN0IHQ9TmE7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJFdGhlcmV1bVJwY0Vycm9yXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuRXRoZXJldW1ScGNFcnJvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIkV0aGVyZXVtUHJvdmlkZXJFcnJvclwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0LkV0aGVyZXVtUHJvdmlkZXJFcnJvcn19KTtjb25zdCBuPUthO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwic2VyaWFsaXplRXJyb3JcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbi5zZXJpYWxpemVFcnJvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcImdldE1lc3NhZ2VGcm9tQ29kZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuLmdldE1lc3NhZ2VGcm9tQ29kZX19KTtjb25zdCByPSRhO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiZXRoRXJyb3JzXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHIuZXRoRXJyb3JzfX0pO2NvbnN0IGk9amE7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJlcnJvckNvZGVzXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkuZXJyb3JDb2Rlc319KX0oT2EpO2NvbnN0IFZhPXtcIkFtYXpvbiBTaWxrXCI6XCJhbWF6b25fc2lsa1wiLFwiQW5kcm9pZCBCcm93c2VyXCI6XCJhbmRyb2lkXCIsQmFkYTpcImJhZGFcIixCbGFja0JlcnJ5OlwiYmxhY2tiZXJyeVwiLENocm9tZTpcImNocm9tZVwiLENocm9taXVtOlwiY2hyb21pdW1cIixFbGVjdHJvbjpcImVsZWN0cm9uXCIsRXBpcGhhbnk6XCJlcGlwaGFueVwiLEZpcmVmb3g6XCJmaXJlZm94XCIsRm9jdXM6XCJmb2N1c1wiLEdlbmVyaWM6XCJnZW5lcmljXCIsXCJHb29nbGUgU2VhcmNoXCI6XCJnb29nbGVfc2VhcmNoXCIsR29vZ2xlYm90OlwiZ29vZ2xlYm90XCIsXCJJbnRlcm5ldCBFeHBsb3JlclwiOlwiaWVcIixcIkstTWVsZW9uXCI6XCJrX21lbGVvblwiLE1heHRob246XCJtYXh0aG9uXCIsXCJNaWNyb3NvZnQgRWRnZVwiOlwiZWRnZVwiLFwiTVogQnJvd3NlclwiOlwibXpcIixcIk5BVkVSIFdoYWxlIEJyb3dzZXJcIjpcIm5hdmVyXCIsT3BlcmE6XCJvcGVyYVwiLFwiT3BlcmEgQ29hc3RcIjpcIm9wZXJhX2NvYXN0XCIsUGhhbnRvbUpTOlwicGhhbnRvbWpzXCIsUHVmZmluOlwicHVmZmluXCIsUXVwWmlsbGE6XCJxdXB6aWxsYVwiLFFROlwicXFcIixRUUxpdGU6XCJxcWxpdGVcIixTYWZhcmk6XCJzYWZhcmlcIixTYWlsZmlzaDpcInNhaWxmaXNoXCIsXCJTYW1zdW5nIEludGVybmV0IGZvciBBbmRyb2lkXCI6XCJzYW1zdW5nX2ludGVybmV0XCIsU2VhTW9ua2V5Olwic2VhbW9ua2V5XCIsU2xlaXBuaXI6XCJzbGVpcG5pclwiLFN3aW5nOlwic3dpbmdcIixUaXplbjpcInRpemVuXCIsXCJVQyBCcm93c2VyXCI6XCJ1Y1wiLFZpdmFsZGk6XCJ2aXZhbGRpXCIsXCJXZWJPUyBCcm93c2VyXCI6XCJ3ZWJvc1wiLFdlQ2hhdDpcIndlY2hhdFwiLFwiWWFuZGV4IEJyb3dzZXJcIjpcInlhbmRleFwiLFJva3U6XCJyb2t1XCJ9LEdhPXthbWF6b25fc2lsazpcIkFtYXpvbiBTaWxrXCIsYW5kcm9pZDpcIkFuZHJvaWQgQnJvd3NlclwiLGJhZGE6XCJCYWRhXCIsYmxhY2tiZXJyeTpcIkJsYWNrQmVycnlcIixjaHJvbWU6XCJDaHJvbWVcIixjaHJvbWl1bTpcIkNocm9taXVtXCIsZWxlY3Ryb246XCJFbGVjdHJvblwiLGVwaXBoYW55OlwiRXBpcGhhbnlcIixmaXJlZm94OlwiRmlyZWZveFwiLGZvY3VzOlwiRm9jdXNcIixnZW5lcmljOlwiR2VuZXJpY1wiLGdvb2dsZWJvdDpcIkdvb2dsZWJvdFwiLGdvb2dsZV9zZWFyY2g6XCJHb29nbGUgU2VhcmNoXCIsaWU6XCJJbnRlcm5ldCBFeHBsb3JlclwiLGtfbWVsZW9uOlwiSy1NZWxlb25cIixtYXh0aG9uOlwiTWF4dGhvblwiLGVkZ2U6XCJNaWNyb3NvZnQgRWRnZVwiLG16OlwiTVogQnJvd3NlclwiLG5hdmVyOlwiTkFWRVIgV2hhbGUgQnJvd3NlclwiLG9wZXJhOlwiT3BlcmFcIixvcGVyYV9jb2FzdDpcIk9wZXJhIENvYXN0XCIscGhhbnRvbWpzOlwiUGhhbnRvbUpTXCIscHVmZmluOlwiUHVmZmluXCIscXVwemlsbGE6XCJRdXBaaWxsYVwiLHFxOlwiUVEgQnJvd3NlclwiLHFxbGl0ZTpcIlFRIEJyb3dzZXIgTGl0ZVwiLHNhZmFyaTpcIlNhZmFyaVwiLHNhaWxmaXNoOlwiU2FpbGZpc2hcIixzYW1zdW5nX2ludGVybmV0OlwiU2Ftc3VuZyBJbnRlcm5ldCBmb3IgQW5kcm9pZFwiLHNlYW1vbmtleTpcIlNlYU1vbmtleVwiLHNsZWlwbmlyOlwiU2xlaXBuaXJcIixzd2luZzpcIlN3aW5nXCIsdGl6ZW46XCJUaXplblwiLHVjOlwiVUMgQnJvd3NlclwiLHZpdmFsZGk6XCJWaXZhbGRpXCIsd2Vib3M6XCJXZWJPUyBCcm93c2VyXCIsd2VjaGF0OlwiV2VDaGF0XCIseWFuZGV4OlwiWWFuZGV4IEJyb3dzZXJcIn0sWWE9e3RhYmxldDpcInRhYmxldFwiLG1vYmlsZTpcIm1vYmlsZVwiLGRlc2t0b3A6XCJkZXNrdG9wXCIsdHY6XCJ0dlwifSxaYT17V2luZG93c1Bob25lOlwiV2luZG93cyBQaG9uZVwiLFdpbmRvd3M6XCJXaW5kb3dzXCIsTWFjT1M6XCJtYWNPU1wiLGlPUzpcImlPU1wiLEFuZHJvaWQ6XCJBbmRyb2lkXCIsV2ViT1M6XCJXZWJPU1wiLEJsYWNrQmVycnk6XCJCbGFja0JlcnJ5XCIsQmFkYTpcIkJhZGFcIixUaXplbjpcIlRpemVuXCIsTGludXg6XCJMaW51eFwiLENocm9tZU9TOlwiQ2hyb21lIE9TXCIsUGxheVN0YXRpb240OlwiUGxheVN0YXRpb24gNFwiLFJva3U6XCJSb2t1XCJ9LEphPXtFZGdlSFRNTDpcIkVkZ2VIVE1MXCIsQmxpbms6XCJCbGlua1wiLFRyaWRlbnQ6XCJUcmlkZW50XCIsUHJlc3RvOlwiUHJlc3RvXCIsR2Vja286XCJHZWNrb1wiLFdlYktpdDpcIldlYktpdFwifTtjbGFzcyBRYXtzdGF0aWMgZ2V0Rmlyc3RNYXRjaChlLHQpe2NvbnN0IG49dC5tYXRjaChlKTtyZXR1cm4gbiYmbi5sZW5ndGg+MCYmblsxXXx8XCJcIn1zdGF0aWMgZ2V0U2Vjb25kTWF0Y2goZSx0KXtjb25zdCBuPXQubWF0Y2goZSk7cmV0dXJuIG4mJm4ubGVuZ3RoPjEmJm5bMl18fFwiXCJ9c3RhdGljIG1hdGNoQW5kUmV0dXJuQ29uc3QoZSx0LG4pe2lmKGUudGVzdCh0KSlyZXR1cm4gbn1zdGF0aWMgZ2V0V2luZG93c1ZlcnNpb25OYW1lKGUpe3N3aXRjaChlKXtjYXNlXCJOVFwiOnJldHVyblwiTlRcIjtjYXNlXCJYUFwiOmNhc2VcIk5UIDUuMVwiOnJldHVyblwiWFBcIjtjYXNlXCJOVCA1LjBcIjpyZXR1cm5cIjIwMDBcIjtjYXNlXCJOVCA1LjJcIjpyZXR1cm5cIjIwMDNcIjtjYXNlXCJOVCA2LjBcIjpyZXR1cm5cIlZpc3RhXCI7Y2FzZVwiTlQgNi4xXCI6cmV0dXJuXCI3XCI7Y2FzZVwiTlQgNi4yXCI6cmV0dXJuXCI4XCI7Y2FzZVwiTlQgNi4zXCI6cmV0dXJuXCI4LjFcIjtjYXNlXCJOVCAxMC4wXCI6cmV0dXJuXCIxMFwiO2RlZmF1bHQ6cmV0dXJufX1zdGF0aWMgZ2V0TWFjT1NWZXJzaW9uTmFtZShlKXtjb25zdCB0PWUuc3BsaXQoXCIuXCIpLnNwbGljZSgwLDIpLm1hcCgoZT0+cGFyc2VJbnQoZSwxMCl8fDApKTtpZih0LnB1c2goMCksMTA9PT10WzBdKXN3aXRjaCh0WzFdKXtjYXNlIDU6cmV0dXJuXCJMZW9wYXJkXCI7Y2FzZSA2OnJldHVyblwiU25vdyBMZW9wYXJkXCI7Y2FzZSA3OnJldHVyblwiTGlvblwiO2Nhc2UgODpyZXR1cm5cIk1vdW50YWluIExpb25cIjtjYXNlIDk6cmV0dXJuXCJNYXZlcmlja3NcIjtjYXNlIDEwOnJldHVyblwiWW9zZW1pdGVcIjtjYXNlIDExOnJldHVyblwiRWwgQ2FwaXRhblwiO2Nhc2UgMTI6cmV0dXJuXCJTaWVycmFcIjtjYXNlIDEzOnJldHVyblwiSGlnaCBTaWVycmFcIjtjYXNlIDE0OnJldHVyblwiTW9qYXZlXCI7Y2FzZSAxNTpyZXR1cm5cIkNhdGFsaW5hXCI7ZGVmYXVsdDpyZXR1cm59fXN0YXRpYyBnZXRBbmRyb2lkVmVyc2lvbk5hbWUoZSl7Y29uc3QgdD1lLnNwbGl0KFwiLlwiKS5zcGxpY2UoMCwyKS5tYXAoKGU9PnBhcnNlSW50KGUsMTApfHwwKSk7aWYodC5wdXNoKDApLCEoMT09PXRbMF0mJnRbMV08NSkpcmV0dXJuIDE9PT10WzBdJiZ0WzFdPDY/XCJDdXBjYWtlXCI6MT09PXRbMF0mJnRbMV0+PTY/XCJEb251dFwiOjI9PT10WzBdJiZ0WzFdPDI/XCJFY2xhaXJcIjoyPT09dFswXSYmMj09PXRbMV0/XCJGcm95b1wiOjI9PT10WzBdJiZ0WzFdPjI/XCJHaW5nZXJicmVhZFwiOjM9PT10WzBdP1wiSG9uZXljb21iXCI6ND09PXRbMF0mJnRbMV08MT9cIkljZSBDcmVhbSBTYW5kd2ljaFwiOjQ9PT10WzBdJiZ0WzFdPDQ/XCJKZWxseSBCZWFuXCI6ND09PXRbMF0mJnRbMV0+PTQ/XCJLaXRLYXRcIjo1PT09dFswXT9cIkxvbGxpcG9wXCI6Nj09PXRbMF0/XCJNYXJzaG1hbGxvd1wiOjc9PT10WzBdP1wiTm91Z2F0XCI6OD09PXRbMF0/XCJPcmVvXCI6OT09PXRbMF0/XCJQaWVcIjp2b2lkIDB9c3RhdGljIGdldFZlcnNpb25QcmVjaXNpb24oZSl7cmV0dXJuIGUuc3BsaXQoXCIuXCIpLmxlbmd0aH1zdGF0aWMgY29tcGFyZVZlcnNpb25zKGUsdCxuPSExKXtjb25zdCByPVFhLmdldFZlcnNpb25QcmVjaXNpb24oZSksaT1RYS5nZXRWZXJzaW9uUHJlY2lzaW9uKHQpO2xldCBvPU1hdGgubWF4KHIsaSkscz0wO2NvbnN0IGE9UWEubWFwKFtlLHRdLChlPT57Y29uc3QgdD1vLVFhLmdldFZlcnNpb25QcmVjaXNpb24oZSksbj1lK25ldyBBcnJheSh0KzEpLmpvaW4oXCIuMFwiKTtyZXR1cm4gUWEubWFwKG4uc3BsaXQoXCIuXCIpLChlPT5uZXcgQXJyYXkoMjAtZS5sZW5ndGgpLmpvaW4oXCIwXCIpK2UpKS5yZXZlcnNlKCl9KSk7Zm9yKG4mJihzPW8tTWF0aC5taW4ocixpKSksby09MTtvPj1zOyl7aWYoYVswXVtvXT5hWzFdW29dKXJldHVybiAxO2lmKGFbMF1bb109PT1hWzFdW29dKXtpZihvPT09cylyZXR1cm4gMDtvLT0xfWVsc2UgaWYoYVswXVtvXTxhWzFdW29dKXJldHVybi0xfX1zdGF0aWMgbWFwKGUsdCl7Y29uc3Qgbj1bXTtsZXQgcjtpZihBcnJheS5wcm90b3R5cGUubWFwKXJldHVybiBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwoZSx0KTtmb3Iocj0wO3I8ZS5sZW5ndGg7cis9MSluLnB1c2godChlW3JdKSk7cmV0dXJuIG59c3RhdGljIGZpbmQoZSx0KXtsZXQgbixyO2lmKEFycmF5LnByb3RvdHlwZS5maW5kKXJldHVybiBBcnJheS5wcm90b3R5cGUuZmluZC5jYWxsKGUsdCk7Zm9yKG49MCxyPWUubGVuZ3RoO248cjtuKz0xKXtjb25zdCByPWVbbl07aWYodChyLG4pKXJldHVybiByfX1zdGF0aWMgYXNzaWduKGUsLi4udCl7Y29uc3Qgbj1lO2xldCByLGk7aWYoT2JqZWN0LmFzc2lnbilyZXR1cm4gT2JqZWN0LmFzc2lnbihlLC4uLnQpO2ZvcihyPTAsaT10Lmxlbmd0aDtyPGk7cis9MSl7Y29uc3QgZT10W3JdO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBlJiZudWxsIT09ZSl7T2JqZWN0LmtleXMoZSkuZm9yRWFjaCgodD0+e25bdF09ZVt0XX0pKX19cmV0dXJuIGV9c3RhdGljIGdldEJyb3dzZXJBbGlhcyhlKXtyZXR1cm4gVmFbZV19c3RhdGljIGdldEJyb3dzZXJUeXBlQnlBbGlhcyhlKXtyZXR1cm4gR2FbZV18fFwiXCJ9fWNvbnN0IFhhPS92ZXJzaW9uXFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGVjPVt7dGVzdDpbL2dvb2dsZWJvdC9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiR29vZ2xlYm90XCJ9LG49UWEuZ2V0Rmlyc3RNYXRjaCgvZ29vZ2xlYm90XFwvKFxcZCsoXFwuXFxkKykpL2ksZSl8fFFhLmdldEZpcnN0TWF0Y2goWGEsZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0Olsvb3BlcmEvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIk9wZXJhXCJ9LG49UWEuZ2V0Rmlyc3RNYXRjaChYYSxlKXx8UWEuZ2V0Rmlyc3RNYXRjaCgvKD86b3BlcmEpW1xccy9dKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL29wclxcL3xvcGlvcy9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiT3BlcmFcIn0sbj1RYS5nZXRGaXJzdE1hdGNoKC8oPzpvcHJ8b3Bpb3MpW1xccy9dKFxcUyspL2ksZSl8fFFhLmdldEZpcnN0TWF0Y2goWGEsZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvU2Ftc3VuZ0Jyb3dzZXIvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIlNhbXN1bmcgSW50ZXJuZXQgZm9yIEFuZHJvaWRcIn0sbj1RYS5nZXRGaXJzdE1hdGNoKFhhLGUpfHxRYS5nZXRGaXJzdE1hdGNoKC8oPzpTYW1zdW5nQnJvd3NlcilbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvV2hhbGUvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIk5BVkVSIFdoYWxlIEJyb3dzZXJcIn0sbj1RYS5nZXRGaXJzdE1hdGNoKFhhLGUpfHxRYS5nZXRGaXJzdE1hdGNoKC8oPzp3aGFsZSlbXFxzL10oXFxkKyg/OlxcLlxcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9NWkJyb3dzZXIvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIk1aIEJyb3dzZXJcIn0sbj1RYS5nZXRGaXJzdE1hdGNoKC8oPzpNWkJyb3dzZXIpW1xccy9dKFxcZCsoPzpcXC5cXGQrKSspL2ksZSl8fFFhLmdldEZpcnN0TWF0Y2goWGEsZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvZm9jdXMvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIkZvY3VzXCJ9LG49UWEuZ2V0Rmlyc3RNYXRjaCgvKD86Zm9jdXMpW1xccy9dKFxcZCsoPzpcXC5cXGQrKSspL2ksZSl8fFFhLmdldEZpcnN0TWF0Y2goWGEsZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0Olsvc3dpbmcvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIlN3aW5nXCJ9LG49UWEuZ2V0Rmlyc3RNYXRjaCgvKD86c3dpbmcpW1xccy9dKFxcZCsoPzpcXC5cXGQrKSspL2ksZSl8fFFhLmdldEZpcnN0TWF0Y2goWGEsZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvY29hc3QvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIk9wZXJhIENvYXN0XCJ9LG49UWEuZ2V0Rmlyc3RNYXRjaChYYSxlKXx8UWEuZ2V0Rmlyc3RNYXRjaCgvKD86Y29hc3QpW1xccy9dKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL29wdFxcL1xcZCsoPzouP18/XFxkKykrL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJPcGVyYSBUb3VjaFwifSxuPVFhLmdldEZpcnN0TWF0Y2goLyg/Om9wdClbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSl8fFFhLmdldEZpcnN0TWF0Y2goWGEsZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsveWFicm93c2VyL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJZYW5kZXggQnJvd3NlclwifSxuPVFhLmdldEZpcnN0TWF0Y2goLyg/OnlhYnJvd3NlcilbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSl8fFFhLmdldEZpcnN0TWF0Y2goWGEsZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvdWNicm93c2VyL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJVQyBCcm93c2VyXCJ9LG49UWEuZ2V0Rmlyc3RNYXRjaChYYSxlKXx8UWEuZ2V0Rmlyc3RNYXRjaCgvKD86dWNicm93c2VyKVtcXHMvXShcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9NYXh0aG9ufG14aW9zL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJNYXh0aG9uXCJ9LG49UWEuZ2V0Rmlyc3RNYXRjaChYYSxlKXx8UWEuZ2V0Rmlyc3RNYXRjaCgvKD86TWF4dGhvbnxteGlvcylbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvZXBpcGhhbnkvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIkVwaXBoYW55XCJ9LG49UWEuZ2V0Rmlyc3RNYXRjaChYYSxlKXx8UWEuZ2V0Rmlyc3RNYXRjaCgvKD86ZXBpcGhhbnkpW1xccy9dKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL3B1ZmZpbi9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiUHVmZmluXCJ9LG49UWEuZ2V0Rmlyc3RNYXRjaChYYSxlKXx8UWEuZ2V0Rmlyc3RNYXRjaCgvKD86cHVmZmluKVtcXHMvXShcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9zbGVpcG5pci9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiU2xlaXBuaXJcIn0sbj1RYS5nZXRGaXJzdE1hdGNoKFhhLGUpfHxRYS5nZXRGaXJzdE1hdGNoKC8oPzpzbGVpcG5pcilbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0Olsvay1tZWxlb24vaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIkstTWVsZW9uXCJ9LG49UWEuZ2V0Rmlyc3RNYXRjaChYYSxlKXx8UWEuZ2V0Rmlyc3RNYXRjaCgvKD86ay1tZWxlb24pW1xccy9dKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL21pY3JvbWVzc2VuZ2VyL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJXZUNoYXRcIn0sbj1RYS5nZXRGaXJzdE1hdGNoKC8oPzptaWNyb21lc3NlbmdlcilbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSl8fFFhLmdldEZpcnN0TWF0Y2goWGEsZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvcXFicm93c2VyL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6L3FxYnJvd3NlcmxpdGUvaS50ZXN0KGUpP1wiUVEgQnJvd3NlciBMaXRlXCI6XCJRUSBCcm93c2VyXCJ9LG49UWEuZ2V0Rmlyc3RNYXRjaCgvKD86cXFicm93c2VybGl0ZXxxcWJyb3dzZXIpWy9dKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpfHxRYS5nZXRGaXJzdE1hdGNoKFhhLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL21zaWV8dHJpZGVudC9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiSW50ZXJuZXQgRXhwbG9yZXJcIn0sbj1RYS5nZXRGaXJzdE1hdGNoKC8oPzptc2llIHxydjopKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL1xcc2VkZ1xcLy9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiTWljcm9zb2Z0IEVkZ2VcIn0sbj1RYS5nZXRGaXJzdE1hdGNoKC9cXHNlZGdcXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvZWRnKFtlYV18aW9zKS9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiTWljcm9zb2Z0IEVkZ2VcIn0sbj1RYS5nZXRTZWNvbmRNYXRjaCgvZWRnKFtlYV18aW9zKVxcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy92aXZhbGRpL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJWaXZhbGRpXCJ9LG49UWEuZ2V0Rmlyc3RNYXRjaCgvdml2YWxkaVxcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9zZWFtb25rZXkvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIlNlYU1vbmtleVwifSxuPVFhLmdldEZpcnN0TWF0Y2goL3NlYW1vbmtleVxcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9zYWlsZmlzaC9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiU2FpbGZpc2hcIn0sbj1RYS5nZXRGaXJzdE1hdGNoKC9zYWlsZmlzaFxccz9icm93c2VyXFwvKFxcZCsoXFwuXFxkKyk/KS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL3NpbGsvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIkFtYXpvbiBTaWxrXCJ9LG49UWEuZ2V0Rmlyc3RNYXRjaCgvc2lsa1xcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9waGFudG9tL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJQaGFudG9tSlNcIn0sbj1RYS5nZXRGaXJzdE1hdGNoKC9waGFudG9tanNcXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0Olsvc2xpbWVyanMvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIlNsaW1lckpTXCJ9LG49UWEuZ2V0Rmlyc3RNYXRjaCgvc2xpbWVyanNcXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvYmxhY2tiZXJyeXxcXGJiYlxcZCsvaSwvcmltXFxzdGFibGV0L2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJCbGFja0JlcnJ5XCJ9LG49UWEuZ2V0Rmlyc3RNYXRjaChYYSxlKXx8UWEuZ2V0Rmlyc3RNYXRjaCgvYmxhY2tiZXJyeVtcXGRdK1xcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy8od2VifGhwdylbbzBdcy9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiV2ViT1MgQnJvd3NlclwifSxuPVFhLmdldEZpcnN0TWF0Y2goWGEsZSl8fFFhLmdldEZpcnN0TWF0Y2goL3coPzplYik/W28wXXNicm93c2VyXFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL2JhZGEvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIkJhZGFcIn0sbj1RYS5nZXRGaXJzdE1hdGNoKC9kb2xmaW5cXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvdGl6ZW4vaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIlRpemVuXCJ9LG49UWEuZ2V0Rmlyc3RNYXRjaCgvKD86dGl6ZW5cXHM/KT9icm93c2VyXFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpfHxRYS5nZXRGaXJzdE1hdGNoKFhhLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL3F1cHppbGxhL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJRdXBaaWxsYVwifSxuPVFhLmdldEZpcnN0TWF0Y2goLyg/OnF1cHppbGxhKVtcXHMvXShcXGQrKFxcLj9fP1xcZCspKykvaSxlKXx8UWEuZ2V0Rmlyc3RNYXRjaChYYSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9maXJlZm94fGljZXdlYXNlbHxmeGlvcy9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiRmlyZWZveFwifSxuPVFhLmdldEZpcnN0TWF0Y2goLyg/OmZpcmVmb3h8aWNld2Vhc2VsfGZ4aW9zKVtcXHMvXShcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9lbGVjdHJvbi9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiRWxlY3Ryb25cIn0sbj1RYS5nZXRGaXJzdE1hdGNoKC8oPzplbGVjdHJvbilcXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvTWl1aUJyb3dzZXIvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIk1pdWlcIn0sbj1RYS5nZXRGaXJzdE1hdGNoKC8oPzpNaXVpQnJvd3NlcilbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvY2hyb21pdW0vaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIkNocm9taXVtXCJ9LG49UWEuZ2V0Rmlyc3RNYXRjaCgvKD86Y2hyb21pdW0pW1xccy9dKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpfHxRYS5nZXRGaXJzdE1hdGNoKFhhLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL2Nocm9tZXxjcmlvc3xjcm1vL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJDaHJvbWVcIn0sbj1RYS5nZXRGaXJzdE1hdGNoKC8oPzpjaHJvbWV8Y3Jpb3N8Y3JtbylcXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvR1NBL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJHb29nbGUgU2VhcmNoXCJ9LG49UWEuZ2V0Rmlyc3RNYXRjaCgvKD86R1NBKVxcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3QoZSl7Y29uc3QgdD0hZS50ZXN0KC9saWtlIGFuZHJvaWQvaSksbj1lLnRlc3QoL2FuZHJvaWQvaSk7cmV0dXJuIHQmJm59LGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJBbmRyb2lkIEJyb3dzZXJcIn0sbj1RYS5nZXRGaXJzdE1hdGNoKFhhLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL3BsYXlzdGF0aW9uIDQvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIlBsYXlTdGF0aW9uIDRcIn0sbj1RYS5nZXRGaXJzdE1hdGNoKFhhLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL3NhZmFyaXxhcHBsZXdlYmtpdC9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiU2FmYXJpXCJ9LG49UWEuZ2V0Rmlyc3RNYXRjaChYYSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy8uKi9pXSxkZXNjcmliZShlKXtjb25zdCB0PS0xIT09ZS5zZWFyY2goXCJcXFxcKFwiKT8vXiguKilcXC8oLiopWyBcXHRdXFwoKC4qKS86L14oLiopXFwvKC4qKSAvO3JldHVybntuYW1lOlFhLmdldEZpcnN0TWF0Y2godCxlKSx2ZXJzaW9uOlFhLmdldFNlY29uZE1hdGNoKHQsZSl9fX1dO3ZhciB0Yz1be3Rlc3Q6Wy9Sb2t1XFwvRFZQL10sZGVzY3JpYmUoZSl7Y29uc3QgdD1RYS5nZXRGaXJzdE1hdGNoKC9Sb2t1XFwvRFZQLShcXGQrXFwuXFxkKykvaSxlKTtyZXR1cm57bmFtZTpaYS5Sb2t1LHZlcnNpb246dH19fSx7dGVzdDpbL3dpbmRvd3MgcGhvbmUvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD1RYS5nZXRGaXJzdE1hdGNoKC93aW5kb3dzIHBob25lICg/Om9zKT9cXHM/KFxcZCsoXFwuXFxkKykqKS9pLGUpO3JldHVybntuYW1lOlphLldpbmRvd3NQaG9uZSx2ZXJzaW9uOnR9fX0se3Rlc3Q6Wy93aW5kb3dzIC9pXSxkZXNjcmliZShlKXtjb25zdCB0PVFhLmdldEZpcnN0TWF0Y2goL1dpbmRvd3MgKChOVHxYUCkoIFxcZFxcZD8uXFxkKT8pL2ksZSksbj1RYS5nZXRXaW5kb3dzVmVyc2lvbk5hbWUodCk7cmV0dXJue25hbWU6WmEuV2luZG93cyx2ZXJzaW9uOnQsdmVyc2lvbk5hbWU6bn19fSx7dGVzdDpbL01hY2ludG9zaCguKj8pIEZ4aU9TKC4qPylcXC8vXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlphLmlPU30sbj1RYS5nZXRTZWNvbmRNYXRjaCgvKFZlcnNpb25cXC8pKFxcZFtcXGQuXSspLyxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9tYWNpbnRvc2gvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD1RYS5nZXRGaXJzdE1hdGNoKC9tYWMgb3MgeCAoXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSkucmVwbGFjZSgvW19cXHNdL2csXCIuXCIpLG49UWEuZ2V0TWFjT1NWZXJzaW9uTmFtZSh0KSxyPXtuYW1lOlphLk1hY09TLHZlcnNpb246dH07cmV0dXJuIG4mJihyLnZlcnNpb25OYW1lPW4pLHJ9fSx7dGVzdDpbLyhpcG9kfGlwaG9uZXxpcGFkKS9pXSxkZXNjcmliZShlKXtjb25zdCB0PVFhLmdldEZpcnN0TWF0Y2goL29zIChcXGQrKFtfXFxzXVxcZCspKikgbGlrZSBtYWMgb3MgeC9pLGUpLnJlcGxhY2UoL1tfXFxzXS9nLFwiLlwiKTtyZXR1cm57bmFtZTpaYS5pT1MsdmVyc2lvbjp0fX19LHt0ZXN0KGUpe2NvbnN0IHQ9IWUudGVzdCgvbGlrZSBhbmRyb2lkL2kpLG49ZS50ZXN0KC9hbmRyb2lkL2kpO3JldHVybiB0JiZufSxkZXNjcmliZShlKXtjb25zdCB0PVFhLmdldEZpcnN0TWF0Y2goL2FuZHJvaWRbXFxzLy1dKFxcZCsoXFwuXFxkKykqKS9pLGUpLG49UWEuZ2V0QW5kcm9pZFZlcnNpb25OYW1lKHQpLHI9e25hbWU6WmEuQW5kcm9pZCx2ZXJzaW9uOnR9O3JldHVybiBuJiYoci52ZXJzaW9uTmFtZT1uKSxyfX0se3Rlc3Q6Wy8od2VifGhwdylbbzBdcy9pXSxkZXNjcmliZShlKXtjb25zdCB0PVFhLmdldEZpcnN0TWF0Y2goLyg/OndlYnxocHcpW28wXXNcXC8oXFxkKyhcXC5cXGQrKSopL2ksZSksbj17bmFtZTpaYS5XZWJPU307cmV0dXJuIHQmJnQubGVuZ3RoJiYobi52ZXJzaW9uPXQpLG59fSx7dGVzdDpbL2JsYWNrYmVycnl8XFxiYmJcXGQrL2ksL3JpbVxcc3RhYmxldC9pXSxkZXNjcmliZShlKXtjb25zdCB0PVFhLmdldEZpcnN0TWF0Y2goL3JpbVxcc3RhYmxldFxcc29zXFxzKFxcZCsoXFwuXFxkKykqKS9pLGUpfHxRYS5nZXRGaXJzdE1hdGNoKC9ibGFja2JlcnJ5XFxkK1xcLyhcXGQrKFtfXFxzXVxcZCspKikvaSxlKXx8UWEuZ2V0Rmlyc3RNYXRjaCgvXFxiYmIoXFxkKykvaSxlKTtyZXR1cm57bmFtZTpaYS5CbGFja0JlcnJ5LHZlcnNpb246dH19fSx7dGVzdDpbL2JhZGEvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD1RYS5nZXRGaXJzdE1hdGNoKC9iYWRhXFwvKFxcZCsoXFwuXFxkKykqKS9pLGUpO3JldHVybntuYW1lOlphLkJhZGEsdmVyc2lvbjp0fX19LHt0ZXN0OlsvdGl6ZW4vaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD1RYS5nZXRGaXJzdE1hdGNoKC90aXplblsvXFxzXShcXGQrKFxcLlxcZCspKikvaSxlKTtyZXR1cm57bmFtZTpaYS5UaXplbix2ZXJzaW9uOnR9fX0se3Rlc3Q6Wy9saW51eC9pXSxkZXNjcmliZTooKT0+KHtuYW1lOlphLkxpbnV4fSl9LHt0ZXN0OlsvQ3JPUy9dLGRlc2NyaWJlOigpPT4oe25hbWU6WmEuQ2hyb21lT1N9KX0se3Rlc3Q6Wy9QbGF5U3RhdGlvbiA0L10sZGVzY3JpYmUoZSl7Y29uc3QgdD1RYS5nZXRGaXJzdE1hdGNoKC9QbGF5U3RhdGlvbiA0Wy9cXHNdKFxcZCsoXFwuXFxkKykqKS9pLGUpO3JldHVybntuYW1lOlphLlBsYXlTdGF0aW9uNCx2ZXJzaW9uOnR9fX1dLG5jPVt7dGVzdDpbL2dvb2dsZWJvdC9pXSxkZXNjcmliZTooKT0+KHt0eXBlOlwiYm90XCIsdmVuZG9yOlwiR29vZ2xlXCJ9KX0se3Rlc3Q6Wy9odWF3ZWkvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD1RYS5nZXRGaXJzdE1hdGNoKC8oY2FuLWwwMSkvaSxlKSYmXCJOb3ZhXCIsbj17dHlwZTpZYS5tb2JpbGUsdmVuZG9yOlwiSHVhd2VpXCJ9O3JldHVybiB0JiYobi5tb2RlbD10KSxufX0se3Rlc3Q6Wy9uZXh1c1xccyooPzo3fDh8OXwxMCkuKi9pXSxkZXNjcmliZTooKT0+KHt0eXBlOllhLnRhYmxldCx2ZW5kb3I6XCJOZXh1c1wifSl9LHt0ZXN0OlsvaXBhZC9pXSxkZXNjcmliZTooKT0+KHt0eXBlOllhLnRhYmxldCx2ZW5kb3I6XCJBcHBsZVwiLG1vZGVsOlwiaVBhZFwifSl9LHt0ZXN0OlsvTWFjaW50b3NoKC4qPykgRnhpT1MoLio/KVxcLy9dLGRlc2NyaWJlOigpPT4oe3R5cGU6WWEudGFibGV0LHZlbmRvcjpcIkFwcGxlXCIsbW9kZWw6XCJpUGFkXCJ9KX0se3Rlc3Q6Wy9rZnR0IGJ1aWxkL2ldLGRlc2NyaWJlOigpPT4oe3R5cGU6WWEudGFibGV0LHZlbmRvcjpcIkFtYXpvblwiLG1vZGVsOlwiS2luZGxlIEZpcmUgSEQgN1wifSl9LHt0ZXN0Olsvc2lsay9pXSxkZXNjcmliZTooKT0+KHt0eXBlOllhLnRhYmxldCx2ZW5kb3I6XCJBbWF6b25cIn0pfSx7dGVzdDpbL3RhYmxldCg/ISBwYykvaV0sZGVzY3JpYmU6KCk9Pih7dHlwZTpZYS50YWJsZXR9KX0se3Rlc3QoZSl7Y29uc3QgdD1lLnRlc3QoL2lwb2R8aXBob25lL2kpLG49ZS50ZXN0KC9saWtlIChpcG9kfGlwaG9uZSkvaSk7cmV0dXJuIHQmJiFufSxkZXNjcmliZShlKXtjb25zdCB0PVFhLmdldEZpcnN0TWF0Y2goLyhpcG9kfGlwaG9uZSkvaSxlKTtyZXR1cm57dHlwZTpZYS5tb2JpbGUsdmVuZG9yOlwiQXBwbGVcIixtb2RlbDp0fX19LHt0ZXN0OlsvbmV4dXNcXHMqWzAtNl0uKi9pLC9nYWxheHkgbmV4dXMvaV0sZGVzY3JpYmU6KCk9Pih7dHlwZTpZYS5tb2JpbGUsdmVuZG9yOlwiTmV4dXNcIn0pfSx7dGVzdDpbL1teLV1tb2JpL2ldLGRlc2NyaWJlOigpPT4oe3R5cGU6WWEubW9iaWxlfSl9LHt0ZXN0OmU9PlwiYmxhY2tiZXJyeVwiPT09ZS5nZXRCcm93c2VyTmFtZSghMCksZGVzY3JpYmU6KCk9Pih7dHlwZTpZYS5tb2JpbGUsdmVuZG9yOlwiQmxhY2tCZXJyeVwifSl9LHt0ZXN0OmU9PlwiYmFkYVwiPT09ZS5nZXRCcm93c2VyTmFtZSghMCksZGVzY3JpYmU6KCk9Pih7dHlwZTpZYS5tb2JpbGV9KX0se3Rlc3Q6ZT0+XCJ3aW5kb3dzIHBob25lXCI9PT1lLmdldEJyb3dzZXJOYW1lKCksZGVzY3JpYmU6KCk9Pih7dHlwZTpZYS5tb2JpbGUsdmVuZG9yOlwiTWljcm9zb2Z0XCJ9KX0se3Rlc3QoZSl7Y29uc3QgdD1OdW1iZXIoU3RyaW5nKGUuZ2V0T1NWZXJzaW9uKCkpLnNwbGl0KFwiLlwiKVswXSk7cmV0dXJuXCJhbmRyb2lkXCI9PT1lLmdldE9TTmFtZSghMCkmJnQ+PTN9LGRlc2NyaWJlOigpPT4oe3R5cGU6WWEudGFibGV0fSl9LHt0ZXN0OmU9PlwiYW5kcm9pZFwiPT09ZS5nZXRPU05hbWUoITApLGRlc2NyaWJlOigpPT4oe3R5cGU6WWEubW9iaWxlfSl9LHt0ZXN0OmU9PlwibWFjb3NcIj09PWUuZ2V0T1NOYW1lKCEwKSxkZXNjcmliZTooKT0+KHt0eXBlOllhLmRlc2t0b3AsdmVuZG9yOlwiQXBwbGVcIn0pfSx7dGVzdDplPT5cIndpbmRvd3NcIj09PWUuZ2V0T1NOYW1lKCEwKSxkZXNjcmliZTooKT0+KHt0eXBlOllhLmRlc2t0b3B9KX0se3Rlc3Q6ZT0+XCJsaW51eFwiPT09ZS5nZXRPU05hbWUoITApLGRlc2NyaWJlOigpPT4oe3R5cGU6WWEuZGVza3RvcH0pfSx7dGVzdDplPT5cInBsYXlzdGF0aW9uIDRcIj09PWUuZ2V0T1NOYW1lKCEwKSxkZXNjcmliZTooKT0+KHt0eXBlOllhLnR2fSl9LHt0ZXN0OmU9Plwicm9rdVwiPT09ZS5nZXRPU05hbWUoITApLGRlc2NyaWJlOigpPT4oe3R5cGU6WWEudHZ9KX1dLHJjPVt7dGVzdDplPT5cIm1pY3Jvc29mdCBlZGdlXCI9PT1lLmdldEJyb3dzZXJOYW1lKCEwKSxkZXNjcmliZShlKXtpZigvXFxzZWRnXFwvL2kudGVzdChlKSlyZXR1cm57bmFtZTpKYS5CbGlua307Y29uc3QgdD1RYS5nZXRGaXJzdE1hdGNoKC9lZGdlXFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybntuYW1lOkphLkVkZ2VIVE1MLHZlcnNpb246dH19fSx7dGVzdDpbL3RyaWRlbnQvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpKYS5UcmlkZW50fSxuPVFhLmdldEZpcnN0TWF0Y2goL3RyaWRlbnRcXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OmU9PmUudGVzdCgvcHJlc3RvL2kpLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6SmEuUHJlc3RvfSxuPVFhLmdldEZpcnN0TWF0Y2goL3ByZXN0b1xcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3QoZSl7Y29uc3QgdD1lLnRlc3QoL2dlY2tvL2kpLG49ZS50ZXN0KC9saWtlIGdlY2tvL2kpO3JldHVybiB0JiYhbn0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpKYS5HZWNrb30sbj1RYS5nZXRGaXJzdE1hdGNoKC9nZWNrb1xcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy8oYXBwbGUpP3dlYmtpdFxcLzUzN1xcLjM2L2ldLGRlc2NyaWJlOigpPT4oe25hbWU6SmEuQmxpbmt9KX0se3Rlc3Q6Wy8oYXBwbGUpP3dlYmtpdC9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOkphLldlYktpdH0sbj1RYS5nZXRGaXJzdE1hdGNoKC93ZWJraXRcXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19XTtjbGFzcyBpY3tjb25zdHJ1Y3RvcihlLHQ9ITEpe2lmKG51bGw9PWV8fFwiXCI9PT1lKXRocm93IG5ldyBFcnJvcihcIlVzZXJBZ2VudCBwYXJhbWV0ZXIgY2FuJ3QgYmUgZW1wdHlcIik7dGhpcy5fdWE9ZSx0aGlzLnBhcnNlZFJlc3VsdD17fSwhMCE9PXQmJnRoaXMucGFyc2UoKX1nZXRVQSgpe3JldHVybiB0aGlzLl91YX10ZXN0KGUpe3JldHVybiBlLnRlc3QodGhpcy5fdWEpfXBhcnNlQnJvd3Nlcigpe3RoaXMucGFyc2VkUmVzdWx0LmJyb3dzZXI9e307Y29uc3QgZT1RYS5maW5kKGVjLChlPT57aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZS50ZXN0KXJldHVybiBlLnRlc3QodGhpcyk7aWYoZS50ZXN0IGluc3RhbmNlb2YgQXJyYXkpcmV0dXJuIGUudGVzdC5zb21lKChlPT50aGlzLnRlc3QoZSkpKTt0aHJvdyBuZXcgRXJyb3IoXCJCcm93c2VyJ3MgdGVzdCBmdW5jdGlvbiBpcyBub3QgdmFsaWRcIil9KSk7cmV0dXJuIGUmJih0aGlzLnBhcnNlZFJlc3VsdC5icm93c2VyPWUuZGVzY3JpYmUodGhpcy5nZXRVQSgpKSksdGhpcy5wYXJzZWRSZXN1bHQuYnJvd3Nlcn1nZXRCcm93c2VyKCl7cmV0dXJuIHRoaXMucGFyc2VkUmVzdWx0LmJyb3dzZXI/dGhpcy5wYXJzZWRSZXN1bHQuYnJvd3Nlcjp0aGlzLnBhcnNlQnJvd3NlcigpfWdldEJyb3dzZXJOYW1lKGUpe3JldHVybiBlP1N0cmluZyh0aGlzLmdldEJyb3dzZXIoKS5uYW1lKS50b0xvd2VyQ2FzZSgpfHxcIlwiOnRoaXMuZ2V0QnJvd3NlcigpLm5hbWV8fFwiXCJ9Z2V0QnJvd3NlclZlcnNpb24oKXtyZXR1cm4gdGhpcy5nZXRCcm93c2VyKCkudmVyc2lvbn1nZXRPUygpe3JldHVybiB0aGlzLnBhcnNlZFJlc3VsdC5vcz90aGlzLnBhcnNlZFJlc3VsdC5vczp0aGlzLnBhcnNlT1MoKX1wYXJzZU9TKCl7dGhpcy5wYXJzZWRSZXN1bHQub3M9e307Y29uc3QgZT1RYS5maW5kKHRjLChlPT57aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZS50ZXN0KXJldHVybiBlLnRlc3QodGhpcyk7aWYoZS50ZXN0IGluc3RhbmNlb2YgQXJyYXkpcmV0dXJuIGUudGVzdC5zb21lKChlPT50aGlzLnRlc3QoZSkpKTt0aHJvdyBuZXcgRXJyb3IoXCJCcm93c2VyJ3MgdGVzdCBmdW5jdGlvbiBpcyBub3QgdmFsaWRcIil9KSk7cmV0dXJuIGUmJih0aGlzLnBhcnNlZFJlc3VsdC5vcz1lLmRlc2NyaWJlKHRoaXMuZ2V0VUEoKSkpLHRoaXMucGFyc2VkUmVzdWx0Lm9zfWdldE9TTmFtZShlKXtjb25zdHtuYW1lOnR9PXRoaXMuZ2V0T1MoKTtyZXR1cm4gZT9TdHJpbmcodCkudG9Mb3dlckNhc2UoKXx8XCJcIjp0fHxcIlwifWdldE9TVmVyc2lvbigpe3JldHVybiB0aGlzLmdldE9TKCkudmVyc2lvbn1nZXRQbGF0Zm9ybSgpe3JldHVybiB0aGlzLnBhcnNlZFJlc3VsdC5wbGF0Zm9ybT90aGlzLnBhcnNlZFJlc3VsdC5wbGF0Zm9ybTp0aGlzLnBhcnNlUGxhdGZvcm0oKX1nZXRQbGF0Zm9ybVR5cGUoZT0hMSl7Y29uc3R7dHlwZTp0fT10aGlzLmdldFBsYXRmb3JtKCk7cmV0dXJuIGU/U3RyaW5nKHQpLnRvTG93ZXJDYXNlKCl8fFwiXCI6dHx8XCJcIn1wYXJzZVBsYXRmb3JtKCl7dGhpcy5wYXJzZWRSZXN1bHQucGxhdGZvcm09e307Y29uc3QgZT1RYS5maW5kKG5jLChlPT57aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZS50ZXN0KXJldHVybiBlLnRlc3QodGhpcyk7aWYoZS50ZXN0IGluc3RhbmNlb2YgQXJyYXkpcmV0dXJuIGUudGVzdC5zb21lKChlPT50aGlzLnRlc3QoZSkpKTt0aHJvdyBuZXcgRXJyb3IoXCJCcm93c2VyJ3MgdGVzdCBmdW5jdGlvbiBpcyBub3QgdmFsaWRcIil9KSk7cmV0dXJuIGUmJih0aGlzLnBhcnNlZFJlc3VsdC5wbGF0Zm9ybT1lLmRlc2NyaWJlKHRoaXMuZ2V0VUEoKSkpLHRoaXMucGFyc2VkUmVzdWx0LnBsYXRmb3JtfWdldEVuZ2luZSgpe3JldHVybiB0aGlzLnBhcnNlZFJlc3VsdC5lbmdpbmU/dGhpcy5wYXJzZWRSZXN1bHQuZW5naW5lOnRoaXMucGFyc2VFbmdpbmUoKX1nZXRFbmdpbmVOYW1lKGUpe3JldHVybiBlP1N0cmluZyh0aGlzLmdldEVuZ2luZSgpLm5hbWUpLnRvTG93ZXJDYXNlKCl8fFwiXCI6dGhpcy5nZXRFbmdpbmUoKS5uYW1lfHxcIlwifXBhcnNlRW5naW5lKCl7dGhpcy5wYXJzZWRSZXN1bHQuZW5naW5lPXt9O2NvbnN0IGU9UWEuZmluZChyYywoZT0+e2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUudGVzdClyZXR1cm4gZS50ZXN0KHRoaXMpO2lmKGUudGVzdCBpbnN0YW5jZW9mIEFycmF5KXJldHVybiBlLnRlc3Quc29tZSgoZT0+dGhpcy50ZXN0KGUpKSk7dGhyb3cgbmV3IEVycm9yKFwiQnJvd3NlcidzIHRlc3QgZnVuY3Rpb24gaXMgbm90IHZhbGlkXCIpfSkpO3JldHVybiBlJiYodGhpcy5wYXJzZWRSZXN1bHQuZW5naW5lPWUuZGVzY3JpYmUodGhpcy5nZXRVQSgpKSksdGhpcy5wYXJzZWRSZXN1bHQuZW5naW5lfXBhcnNlKCl7cmV0dXJuIHRoaXMucGFyc2VCcm93c2VyKCksdGhpcy5wYXJzZU9TKCksdGhpcy5wYXJzZVBsYXRmb3JtKCksdGhpcy5wYXJzZUVuZ2luZSgpLHRoaXN9Z2V0UmVzdWx0KCl7cmV0dXJuIFFhLmFzc2lnbih7fSx0aGlzLnBhcnNlZFJlc3VsdCl9c2F0aXNmaWVzKGUpe2NvbnN0IHQ9e307bGV0IG49MDtjb25zdCByPXt9O2xldCBpPTA7aWYoT2JqZWN0LmtleXMoZSkuZm9yRWFjaCgobz0+e2NvbnN0IHM9ZVtvXTtcInN0cmluZ1wiPT10eXBlb2Ygcz8ocltvXT1zLGkrPTEpOlwib2JqZWN0XCI9PXR5cGVvZiBzJiYodFtvXT1zLG4rPTEpfSkpLG4+MCl7Y29uc3QgZT1PYmplY3Qua2V5cyh0KSxuPVFhLmZpbmQoZSwoZT0+dGhpcy5pc09TKGUpKSk7aWYobil7Y29uc3QgZT10aGlzLnNhdGlzZmllcyh0W25dKTtpZih2b2lkIDAhPT1lKXJldHVybiBlfWNvbnN0IHI9UWEuZmluZChlLChlPT50aGlzLmlzUGxhdGZvcm0oZSkpKTtpZihyKXtjb25zdCBlPXRoaXMuc2F0aXNmaWVzKHRbcl0pO2lmKHZvaWQgMCE9PWUpcmV0dXJuIGV9fWlmKGk+MCl7Y29uc3QgZT1PYmplY3Qua2V5cyhyKSx0PVFhLmZpbmQoZSwoZT0+dGhpcy5pc0Jyb3dzZXIoZSwhMCkpKTtpZih2b2lkIDAhPT10KXJldHVybiB0aGlzLmNvbXBhcmVWZXJzaW9uKHJbdF0pfX1pc0Jyb3dzZXIoZSx0PSExKXtjb25zdCBuPXRoaXMuZ2V0QnJvd3Nlck5hbWUoKS50b0xvd2VyQ2FzZSgpO2xldCByPWUudG9Mb3dlckNhc2UoKTtjb25zdCBpPVFhLmdldEJyb3dzZXJUeXBlQnlBbGlhcyhyKTtyZXR1cm4gdCYmaSYmKHI9aS50b0xvd2VyQ2FzZSgpKSxyPT09bn1jb21wYXJlVmVyc2lvbihlKXtsZXQgdD1bMF0sbj1lLHI9ITE7Y29uc3QgaT10aGlzLmdldEJyb3dzZXJWZXJzaW9uKCk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGkpcmV0dXJuXCI+XCI9PT1lWzBdfHxcIjxcIj09PWVbMF0/KG49ZS5zdWJzdHIoMSksXCI9XCI9PT1lWzFdPyhyPSEwLG49ZS5zdWJzdHIoMikpOnQ9W10sXCI+XCI9PT1lWzBdP3QucHVzaCgxKTp0LnB1c2goLTEpKTpcIj1cIj09PWVbMF0/bj1lLnN1YnN0cigxKTpcIn5cIj09PWVbMF0mJihyPSEwLG49ZS5zdWJzdHIoMSkpLHQuaW5kZXhPZihRYS5jb21wYXJlVmVyc2lvbnMoaSxuLHIpKT4tMX1pc09TKGUpe3JldHVybiB0aGlzLmdldE9TTmFtZSghMCk9PT1TdHJpbmcoZSkudG9Mb3dlckNhc2UoKX1pc1BsYXRmb3JtKGUpe3JldHVybiB0aGlzLmdldFBsYXRmb3JtVHlwZSghMCk9PT1TdHJpbmcoZSkudG9Mb3dlckNhc2UoKX1pc0VuZ2luZShlKXtyZXR1cm4gdGhpcy5nZXRFbmdpbmVOYW1lKCEwKT09PVN0cmluZyhlKS50b0xvd2VyQ2FzZSgpfWlzKGUsdD0hMSl7cmV0dXJuIHRoaXMuaXNCcm93c2VyKGUsdCl8fHRoaXMuaXNPUyhlKXx8dGhpcy5pc1BsYXRmb3JtKGUpfXNvbWUoZT1bXSl7cmV0dXJuIGUuc29tZSgoZT0+dGhpcy5pcyhlKSkpfX1jbGFzcyBvY3tzdGF0aWMgZ2V0UGFyc2VyKGUsdD0hMSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKFwiVXNlckFnZW50IHNob3VsZCBiZSBhIHN0cmluZ1wiKTtyZXR1cm4gbmV3IGljKGUsdCl9c3RhdGljIHBhcnNlKGUpe3JldHVybiBuZXcgaWMoZSkuZ2V0UmVzdWx0KCl9c3RhdGljIGdldCBCUk9XU0VSX01BUCgpe3JldHVybiBHYX1zdGF0aWMgZ2V0IEVOR0lORV9NQVAoKXtyZXR1cm4gSmF9c3RhdGljIGdldCBPU19NQVAoKXtyZXR1cm4gWmF9c3RhdGljIGdldCBQTEFURk9STVNfTUFQKCl7cmV0dXJuIFlhfX1jb25zdCBzYz17SW5pdGlhbGl6ZWQ6XCJpbml0aWFsaXplZFwiLERpc3BsYXlVUkk6XCJkaXNwbGF5X3VyaVwiLFByb3ZpZGVyVXBkYXRlOlwicHJvdmlkZXJfdXBkYXRlXCIsQ29ubmVjdFdpdGhSZXNwb25zZTpcImNvbm5lY3RXaXRoUmVzcG9uc2VcIixDb25uZWN0aW9uU3RhdHVzOlwiY29ubmVjdGlvbl9zdGF0dXNcIixTZXJ2aWNlU3RhdHVzOlwic2VydmljZV9zdGF0dXNcIn07Y2xhc3MgYWN7Y29uc3RydWN0b3Ioe3Nob3VsZFNldE9uV2luZG93OmUsY29ubmVjdGlvblN0cmVhbTp0LHNob3VsZFNlbmRNZXRhZGF0YTpuPSExLHNob3VsZFNoaW1XZWIzOnIsc2RrSW5zdGFuY2U6aX0pe2NvbnN0IG89bmV3IGxjKHtjb25uZWN0aW9uU3RyZWFtOnQsc2hvdWxkU2VuZE1ldGFkYXRhOm4sc2hvdWxkU2V0T25XaW5kb3c6ZSxzaG91bGRTaGltV2ViMzpyLGF1dG9SZXF1ZXN0QWNjb3VudHM6ITF9KSxzPW5ldyBQcm94eShvLHtkZWxldGVQcm9wZXJ0eTooKT0+ITB9KTtpZih0aGlzLnByb3ZpZGVyPXMsdGhpcy5zZGtJbnN0YW5jZT1pLGUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cpdHJ5e2E9byx3aW5kb3cuZXRoZXJldW09YSx3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJldGhlcmV1bSNpbml0aWFsaXplZFwiKSl9Y2F0Y2goZSl7UmEoXCJbRXRoZXJldW1dIFVuYWJsZSB0byBzZXQgZ2xvYmFsIHByb3ZpZGVyIC0gd2luZG93LmV0aGVyZXVtIG1heSBiZSByZWFkLW9ubHlcIixlKX12YXIgYTtpZihyJiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93KXRyeXshZnVuY3Rpb24oZSx0PWNvbnNvbGUpe2xldCBuPSExLHI9ITE7aWYoIXdpbmRvdy53ZWIzKXtjb25zdCBpPVwiX19pc01ldGFNYXNrU2hpbV9fXCI7bGV0IG89e2N1cnJlbnRQcm92aWRlcjplfTtPYmplY3QuZGVmaW5lUHJvcGVydHkobyxpLHt2YWx1ZTohMCxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMSx3cml0YWJsZTohMX0pLG89bmV3IFByb3h5KG8se2dldDoobyxzLC4uLmEpPT4oXCJjdXJyZW50UHJvdmlkZXJcIiE9PXN8fG4/XCJjdXJyZW50UHJvdmlkZXJcIj09PXN8fHM9PT1pfHxyfHwocj0hMCx0LmVycm9yKFwiTWV0YU1hc2sgbm8gbG9uZ2VyIGluamVjdHMgd2ViMy4gRm9yIGRldGFpbHMsIHNlZTogaHR0cHM6Ly9kb2NzLm1ldGFtYXNrLmlvL2d1aWRlL3Byb3ZpZGVyLW1pZ3JhdGlvbi5odG1sI3JlcGxhY2luZy13aW5kb3ctd2ViM1wiKSxlLnJlcXVlc3Qoe21ldGhvZDpcIm1ldGFtYXNrX2xvZ1dlYjNTaGltVXNhZ2VcIn0pLmNhdGNoKChlPT57dC5kZWJ1ZyhcIk1ldGFNYXNrOiBGYWlsZWQgdG8gbG9nIHdlYjMgc2hpbSB1c2FnZS5cIixlKX0pKSk6KG49ITAsdC53YXJuKFwiWW91IGFyZSBhY2Nlc3NpbmcgdGhlIE1ldGFNYXNrIHdpbmRvdy53ZWIzLmN1cnJlbnRQcm92aWRlciBzaGltLiBUaGlzIHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQ7IHVzZSB3aW5kb3cuZXRoZXJldW0gaW5zdGVhZC4gRm9yIGRldGFpbHMsIHNlZTogaHR0cHM6Ly9kb2NzLm1ldGFtYXNrLmlvL2d1aWRlL3Byb3ZpZGVyLW1pZ3JhdGlvbi5odG1sI3JlcGxhY2luZy13aW5kb3ctd2ViM1wiKSksUmVmbGVjdC5nZXQobyxzLC4uLmEpKSxzZXQ6KC4uLmUpPT4odC53YXJuKFwiWW91IGFyZSBhY2Nlc3NpbmcgdGhlIE1ldGFNYXNrIHdpbmRvdy53ZWIzIHNoaW0uIFRoaXMgb2JqZWN0IGlzIGRlcHJlY2F0ZWQ7IHVzZSB3aW5kb3cuZXRoZXJldW0gaW5zdGVhZC4gRm9yIGRldGFpbHMsIHNlZTogaHR0cHM6Ly9kb2NzLm1ldGFtYXNrLmlvL2d1aWRlL3Byb3ZpZGVyLW1pZ3JhdGlvbi5odG1sI3JlcGxhY2luZy13aW5kb3ctd2ViM1wiKSxSZWZsZWN0LnNldCguLi5lKSl9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LFwid2ViM1wiLHt2YWx1ZTpvLGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSl9fSh0aGlzLnByb3ZpZGVyKX1jYXRjaChlKXtSYShcIltFdGhlcmV1bV0gVW5hYmxlIHRvIHNoaW0gd2ViMyAtIHdpbmRvdy53ZWIzIG1heSBiZSByZWFkLW9ubHlcIixlKX10aGlzLnByb3ZpZGVyLm9uKFwiZGlzcGxheV91cmlcIiwoZT0+e3RoaXMuc2RrSW5zdGFuY2UuZW1pdChzYy5EaXNwbGF5VVJJLGUpfSkpLHRoaXMucHJvdmlkZXIub24oXCJfaW5pdGlhbGl6ZWRcIiwoKCk9Pntjb25zdCBlPXtjaGFpbklkOnRoaXMucHJvdmlkZXIuZ2V0Q2hhaW5JZCgpLGlzQ29ubmVjdGVkOnRoaXMucHJvdmlkZXIuaXNDb25uZWN0ZWQoKSxpc01ldGFNYXNrOnRoaXMucHJvdmlkZXIuaXNNZXRhTWFzayxzZWxlY3RlZEFkZHJlc3M6dGhpcy5wcm92aWRlci5nZXRTZWxlY3RlZEFkZHJlc3MoKSxuZXR3b3JrVmVyc2lvbjp0aGlzLnByb3ZpZGVyLmdldE5ldHdvcmtWZXJzaW9uKCl9O3RoaXMuc2RrSW5zdGFuY2UuZW1pdChzYy5Jbml0aWFsaXplZCxlKSxSYShcIltFdGhlcmV1bTogY29uc3RydWN0b3IoKV0gcHJvdmlkZXIgaW5pdGlhbGl6ZWRcIixlKX0pKX1zdGF0aWMgaW5pdChlKXt2YXIgdDtyZXR1cm4gUmEoXCJbRXRoZXJldW06IGluaXQoKV0gSW5pdGlhbGl6aW5nIEV0aGVyZXVtIHNlcnZpY2VcIiksdGhpcy5pbnN0YW5jZT1uZXcgYWMoZSksbnVsbD09PSh0PXRoaXMuaW5zdGFuY2UpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnByb3ZpZGVyfXN0YXRpYyBkZXN0cm95KCl7fXN0YXRpYyBnZXRJbnN0YW5jZSgpe3ZhciBlO2lmKCEobnVsbD09PShlPXRoaXMuaW5zdGFuY2UpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnByb3ZpZGVyKSl0aHJvdyBuZXcgRXJyb3IoXCJFdGhlcmV1bSBpbnN0YW5jZSBub3QgaW50aWlhbGl6ZWQgLSBjYWxsIEV0aGVyZXVtLmZhY3RvcnkgZmlyc3QuXCIpO3JldHVybiB0aGlzLmluc3RhbmNlfXN0YXRpYyBnZXRQcm92aWRlcigpe3ZhciBlO2lmKCEobnVsbD09PShlPXRoaXMuaW5zdGFuY2UpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnByb3ZpZGVyKSl0aHJvdyBuZXcgRXJyb3IoXCJFdGhlcmV1bSBpbnN0YW5jZSBub3QgaW50aWlhbGl6ZWQgLSBjYWxsIEV0aGVyZXVtLmZhY3RvcnkgZmlyc3QuXCIpO3JldHVybiB0aGlzLmluc3RhbmNlLnByb3ZpZGVyfX1jbGFzcyBjY3tjb25zdHJ1Y3Rvcih7dXNlRGVlcExpbms6ZSxwcmVmZXJyZWRPcGVuTGluazp0LGRlYnVnOm49ITF9KXt0aGlzLnN0YXRlPXtwbGF0Zm9ybVR5cGU6dm9pZCAwLHVzZURlZXBsaW5rOiExLHByZWZlcnJlZE9wZW5MaW5rOnZvaWQgMCxkZWJ1ZzohMX0sdGhpcy5zdGF0ZS5wbGF0Zm9ybVR5cGU9dGhpcy5nZXRQbGF0Zm9ybVR5cGUoKSx0aGlzLnN0YXRlLnVzZURlZXBsaW5rPWUsdGhpcy5zdGF0ZS5wcmVmZXJyZWRPcGVuTGluaz10LHRoaXMuc3RhdGUuZGVidWc9bn1vcGVuRGVlcGxpbmsoZSx0LG4pe3JldHVybiBmdW5jdGlvbihlLHQsbixyKXtjb25zdHtzdGF0ZTppfT1lO1JhKGBbUGxhdGZmb3JtTWFuYWdlcjogb3BlbkRlZXBsaW5rKCldIHVuaXZlcnNhbExpbmsgLS1cXHgzZSAke3R9YCksUmEoYFtQbGF0ZmZvcm1NYW5hZ2VyOiBvcGVuRGVlcGxpbmsoKV0gZGVlcExpbmsgLS1cXHgzZSAke259YCk7dHJ5e2lmKGkucHJlZmVycmVkT3BlbkxpbmspcmV0dXJuIHZvaWQgaS5wcmVmZXJyZWRPcGVuTGluayhpLnVzZURlZXBsaW5rP246dCxyKTtpZihSYShgW1BsYXRmZm9ybU1hbmFnZXI6IG9wZW5EZWVwbGluaygpXSBvcGVuIGxpbmsgbm93IHVzZURlZXBMaW5rPSR7aS51c2VEZWVwbGlua30gbGluaz0ke2kudXNlRGVlcGxpbms/bjp0fWApLGkudXNlRGVlcGxpbmspXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmKHdpbmRvdy5sb2NhdGlvbi5ocmVmPW4pO2Vsc2UgaWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50KXtjb25zdCBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO2UuaHJlZj10LGUudGFyZ2V0PVwiX3NlbGZcIixlLnJlbD1cIm5vcmVmZXJyZXIgbm9vcGVuZXJcIixlLmNsaWNrKCl9fWNhdGNoKGUpe2NvbnNvbGUubG9nKFwiW1BsYXRmZm9ybU1hbmFnZXI6IG9wZW5EZWVwbGluaygpXSBjYW4ndCBvcGVuIGxpbmtcIixlKX19KHRoaXMsZSx0LG4pfWlzUmVhY3ROYXRpdmUoKXt2YXIgZTtyZXR1cm4gdGhpcy5pc05vdEJyb3dzZXIoKSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmKG51bGw9PT13aW5kb3d8fHZvaWQgMD09PXdpbmRvdz92b2lkIDA6d2luZG93Lm5hdmlnYXRvcikmJlwiUmVhY3ROYXRpdmVcIj09PShudWxsPT09KGU9d2luZG93Lm5hdmlnYXRvcil8fHZvaWQgMD09PWU/dm9pZCAwOmUucHJvZHVjdCl9aXNNZXRhTWFza0luc3RhbGxlZCgpe3JldHVybiBmdW5jdGlvbigpe2NvbnN0IGU9YWMuZ2V0UHJvdmlkZXIoKXx8KG51bGw9PT13aW5kb3d8fHZvaWQgMD09PXdpbmRvdz92b2lkIDA6d2luZG93LmV0aGVyZXVtKTtyZXR1cm4gUmEoYFtQbGF0ZmZvcm1NYW5hZ2VyOiBpc01ldGFNYXNrSW5zdGFsbGVkKCldIGlzTWV0YU1hc2s9JHtudWxsPT1lP3ZvaWQgMDplLmlzTWV0YU1hc2t9IGlzQ29ubmVjdGVkPSR7bnVsbD09ZT92b2lkIDA6ZS5pc0Nvbm5lY3RlZCgpfWApLChudWxsPT1lP3ZvaWQgMDplLmlzTWV0YU1hc2spJiYobnVsbD09ZT92b2lkIDA6ZS5pc0Nvbm5lY3RlZCgpKX0oKX1pc0Rlc2t0b3BXZWIoKXtyZXR1cm4gdGhpcy5pc0Jyb3dzZXIoKSYmIXRoaXMuaXNNb2JpbGVXZWIoKX1pc01vYmlsZSgpe3ZhciBlLHQ7Y29uc3Qgbj1vYy5wYXJzZSh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCk7cmV0dXJuXCJtb2JpbGVcIj09PShudWxsPT09KGU9bnVsbD09bj92b2lkIDA6bi5wbGF0Zm9ybSl8fHZvaWQgMD09PWU/dm9pZCAwOmUudHlwZSl8fFwidGFibGV0XCI9PT0obnVsbD09PSh0PW51bGw9PW4/dm9pZCAwOm4ucGxhdGZvcm0pfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnR5cGUpfWlzU2VjdXJlKCl7cmV0dXJuIHRoaXMuaXNSZWFjdE5hdGl2ZSgpfHx0aGlzLmlzTW9iaWxlV2ViKCl9aXNNZXRhTWFza01vYmlsZVdlYlZpZXcoKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiYoQm9vbGVhbih3aW5kb3cuUmVhY3ROYXRpdmVXZWJWaWV3KSYmQm9vbGVhbihuYXZpZ2F0b3IudXNlckFnZW50LmVuZHNXaXRoKFwiTWV0YU1hc2tNb2JpbGVcIikpKX1pc01vYmlsZVdlYigpe3JldHVybiB0aGlzLnN0YXRlLnBsYXRmb3JtVHlwZT09PWV4cG9ydHMuUGxhdGZvcm1UeXBlLk1vYmlsZVdlYn1zdGF0aWMgaXNOb3RCcm93c2VyKCl7dmFyIGU7cmV0dXJuXCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvd3x8IShudWxsPT09d2luZG93fHx2b2lkIDA9PT13aW5kb3c/dm9pZCAwOndpbmRvdy5uYXZpZ2F0b3IpfHxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsJiZcIlJlYWN0TmF0aXZlXCI9PT0obnVsbD09PShlPW51bGw9PT1nbG9iYWx8fHZvaWQgMD09PWdsb2JhbD92b2lkIDA6Z2xvYmFsLm5hdmlnYXRvcil8fHZvaWQgMD09PWU/dm9pZCAwOmUucHJvZHVjdCl8fFwiUmVhY3ROYXRpdmVcIj09PShudWxsPT09bmF2aWdhdG9yfHx2b2lkIDA9PT1uYXZpZ2F0b3I/dm9pZCAwOm5hdmlnYXRvci5wcm9kdWN0KX1pc05vdEJyb3dzZXIoKXtyZXR1cm4gY2MuaXNOb3RCcm93c2VyKCl9c3RhdGljIGlzQnJvd3Nlcigpe3JldHVybiF0aGlzLmlzTm90QnJvd3NlcigpfWlzQnJvd3Nlcigpe3JldHVybiBjYy5pc0Jyb3dzZXIoKX1pc05vZGVKUygpe3JldHVybiB0aGlzLmlzTm90QnJvd3NlcigpJiYhdGhpcy5pc1JlYWN0TmF0aXZlKCl9aXNVc2VEZWVwTGluaygpe3JldHVybiB0aGlzLnN0YXRlLnVzZURlZXBsaW5rfWdldFBsYXRmb3JtVHlwZSgpe3JldHVybiBmdW5jdGlvbihlKXtjb25zdHtzdGF0ZTp0fT1lO3JldHVybiB0LnBsYXRmb3JtVHlwZT90LnBsYXRmb3JtVHlwZTplLmlzUmVhY3ROYXRpdmUoKT9leHBvcnRzLlBsYXRmb3JtVHlwZS5SZWFjdE5hdGl2ZTplLmlzTm90QnJvd3NlcigpP2V4cG9ydHMuUGxhdGZvcm1UeXBlLk5vbkJyb3dzZXI6ZS5pc01ldGFNYXNrTW9iaWxlV2ViVmlldygpP2V4cG9ydHMuUGxhdGZvcm1UeXBlLk1ldGFNYXNrTW9iaWxlV2VidmlldzplLmlzTW9iaWxlKCk/ZXhwb3J0cy5QbGF0Zm9ybVR5cGUuTW9iaWxlV2ViOmV4cG9ydHMuUGxhdGZvcm1UeXBlLkRlc2t0b3BXZWJ9KHRoaXMpfX1jb25zdCBkYz1lPT5sKHZvaWQgMCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtpZihjYy5pc0Jyb3dzZXIoKSl7Y29uc3R7U3RvcmFnZU1hbmFnZXJXZWI6dH09eWllbGQgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gS2R9KSk7cmV0dXJuIG5ldyB0KGUpfWNvbnN0IHQ9e3BlcnNpc3RDaGFubmVsQ29uZmlnOigpPT5sKHZvaWQgMCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXt9KSksZ2V0UGVyc2lzdGVkQ2hhbm5lbENvbmZpZzooKT0+bCh2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7fSkpLHBlcnNpc3RBY2NvdW50czooKT0+bCh2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7fSkpLGdldENhY2hlZEFjY291bnRzOigpPT5sKHZvaWQgMCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtyZXR1cm5bXX0pKSxwZXJzaXN0Q2hhaW5JZDooKT0+bCh2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7fSkpLGdldENhY2hlZENoYWluSWQ6KCk9Pmwodm9pZCAwLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe30pKSx0ZXJtaW5hdGU6KCk9Pmwodm9pZCAwLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe30pKX07cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0KX0pKTtjbGFzcyBsYyBleHRlbmRzIFBhe2NvbnN0cnVjdG9yKHtjb25uZWN0aW9uU3RyZWFtOmUsc2hvdWxkU2VuZE1ldGFkYXRhOnQsYXV0b1JlcXVlc3RBY2NvdW50czpuPSExfSl7c3VwZXIoZSx7bG9nZ2VyOmNvbnNvbGUsbWF4RXZlbnRMaXN0ZW5lcnM6MTAwLHNob3VsZFNlbmRNZXRhZGF0YTp0fSksdGhpcy5zdGF0ZT17YWNjb3VudHM6bnVsbCxhdXRvUmVxdWVzdEFjY291bnRzOiExLHByb3ZpZGVyU3RhdGVSZXF1ZXN0ZWQ6ITEsY2hhaW5JZDpcIlwiLG5ldHdvcmtWZXJzaW9uOlwiXCJ9LFJhKGBbU0RLUHJvdmlkZXI6IGNvbnN0cnVjdG9yKCldIGF1dG9SZXF1ZXN0QWNjb3VudHM9JHtufWApLHRoaXMuc3RhdGUuYXV0b1JlcXVlc3RBY2NvdW50cz1ufWZvcmNlSW5pdGlhbGl6ZVN0YXRlKCl7cmV0dXJuIGwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtyZXR1cm4gUmEoYFtTREtQcm92aWRlcjogZm9yY2VJbml0aWFsaXplU3RhdGUoKV0gYXV0b1JlcXVlc3RBY2NvdW50cz0ke3RoaXMuc3RhdGUuYXV0b1JlcXVlc3RBY2NvdW50c31gKSx0aGlzLl9pbml0aWFsaXplU3RhdGVBc3luYygpfSkpfV9zZXRDb25uZWN0ZWQoKXtSYShcIltTREtQcm92aWRlcjogX3NldENvbm5lY3RlZCgpXSBTZXR0aW5nIGNvbm5lY3RlZCBzdGF0ZVwiKSx0aGlzLl9zdGF0ZS5pc0Nvbm5lY3RlZD0hMH1nZXRTdGF0ZSgpe3JldHVybiB0aGlzLl9zdGF0ZX1nZXRTREtQcm92aWRlclN0YXRlKCl7cmV0dXJuIHRoaXMuc3RhdGV9Z2V0U2VsZWN0ZWRBZGRyZXNzKCl7dmFyIGU7Y29uc3R7YWNjb3VudHM6dH09dGhpcy5fc3RhdGU7cmV0dXJuIHQmJjAhPT10Lmxlbmd0aD8obnVsbD09PShlPXRbMF0pfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnRvTG93ZXJDYXNlKCkpfHxcIlwiOihSYShcIltTREtQcm92aWRlcjogZ2V0U2VsZWN0ZWRBZGRyZXNzXSBObyBhY2NvdW50cyBmb3VuZFwiKSxudWxsKX1nZXRDaGFpbklkKCl7cmV0dXJuIHRoaXMuc3RhdGUuY2hhaW5JZH1nZXROZXR3b3JrVmVyc2lvbigpe3JldHVybiB0aGlzLnN0YXRlLm5ldHdvcmtWZXJzaW9ufXNldFNES1Byb3ZpZGVyU3RhdGUoZSl7dGhpcy5zdGF0ZT1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdGhpcy5zdGF0ZSksZSl9aGFuZGxlQWNjb3VudHNDaGFuZ2VkKGUsdCl7cmV0dXJuIHRoaXMuX2hhbmRsZUFjY291bnRzQ2hhbmdlZChlLHQpfWhhbmRsZURpc2Nvbm5lY3Qoe3Rlcm1pbmF0ZTplPSExfSl7IWZ1bmN0aW9uKHt0ZXJtaW5hdGU6ZT0hMSxpbnN0YW5jZTp0fSl7Y29uc3R7c3RhdGU6bn09dDtSYShgW1NES1Byb3ZpZGVyOiBoYW5kbGVEaXNjb25uZWN0KCldIGNsZWFuaW5nIHVwIHByb3ZpZGVyIHN0YXRlIHRlcm1pbmF0ZT0ke2V9YCx0KSxlJiYodC5fc3RhdGUuYWNjb3VudHM9bnVsbCx0Ll9zdGF0ZS5pc1VubG9ja2VkPSExLHQuX3N0YXRlLmlzUGVybWFuZW50bHlEaXNjb25uZWN0ZWQ9ITAsdC5fc3RhdGUuaW5pdGlhbGl6ZWQ9ITEpLHQuX2hhbmRsZUFjY291bnRzQ2hhbmdlZChbXSksdC5fc3RhdGUuaXNDb25uZWN0ZWQ9ITEsdC5lbWl0KFwiZGlzY29ubmVjdFwiLE9hLmV0aEVycm9ycy5wcm92aWRlci5kaXNjb25uZWN0ZWQoKSksbi5wcm92aWRlclN0YXRlUmVxdWVzdGVkPSExfSh7dGVybWluYXRlOmUsaW5zdGFuY2U6dGhpc30pfV9pbml0aWFsaXplU3RhdGVBc3luYygpe3JldHVybiBsKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0LG47cmV0dXJuIGwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXt2b2lkIDA9PT1lLnN0YXRlJiYoZS5zdGF0ZT17YWNjb3VudHM6bnVsbCxhdXRvUmVxdWVzdEFjY291bnRzOiExLHByb3ZpZGVyU3RhdGVSZXF1ZXN0ZWQ6ITEsY2hhaW5JZDpcIlwifSk7Y29uc3R7c3RhdGU6cn09ZTtsZXQgaTtpZihyLnByb3ZpZGVyU3RhdGVSZXF1ZXN0ZWQpUmEoXCJbU0RLUHJvdmlkZXI6IGluaXRpYWxpemVTdGF0ZUFzeW5jKCldIGluaXRpYWxpemF0aW9uIGFscmVhZHkgaW4gcHJvZ3Jlc3NcIik7ZWxzZXtsZXQgbztyLnByb3ZpZGVyU3RhdGVSZXF1ZXN0ZWQ9ITA7bGV0IHM9bnVsbCxhPSExLGM9ITE7Y29uc3QgZD15aWVsZCBkYyh7ZW5hYmxlZDohMH0pO2lmKGQpe2NvbnN0IGU9eWllbGQgZC5nZXRQZXJzaXN0ZWRDaGFubmVsQ29uZmlnKHt9KTthPW51bGwhPT0odD1udWxsPT1lP3ZvaWQgMDplLnJlbGF5UGVyc2lzdGVuY2UpJiZ2b2lkIDAhPT10JiZ0LG89eWllbGQgZC5nZXRDYWNoZWRDaGFpbklkKCk7Y29uc3Qgbj15aWVsZCBkLmdldENhY2hlZEFjY291bnRzKCk7bi5sZW5ndGg+MCYmKHM9blswXSl9aWYoUmEoYFtTREtQcm92aWRlcjogaW5pdGlhbGl6ZVN0YXRlQXN5bmMoKV0gcmVsYXlQZXJzaXN0ZW5jZT0ke2F9YCx7cmVsYXlQZXJzaXN0ZW5jZTphLGNhY2hlZENoYWluSWQ6byxjYWNoZWRTZWxlY3RlZEFkZHJlc3M6c30pLGEpaWYobyYmcylpPXthY2NvdW50czpbc10sY2hhaW5JZDpvLGlzVW5sb2NrZWQ6ITF9LGM9ITA7ZWxzZSB0cnl7aT15aWVsZCBlLnJlcXVlc3Qoe21ldGhvZDpcIm1ldGFtYXNrX2dldFByb3ZpZGVyU3RhdGVcIn0pfWNhdGNoKHQpe3JldHVybiBlLl9sb2cuZXJyb3IoXCJNZXRhTWFzazogRmFpbGVkIHRvIGdldCBpbml0aWFsIHN0YXRlLiBQbGVhc2UgcmVwb3J0IHRoaXMgYnVnLlwiLHQpLHZvaWQoci5wcm92aWRlclN0YXRlUmVxdWVzdGVkPSExKX1pZigwPT09KG51bGw9PT0obj1udWxsPT1pP3ZvaWQgMDppLmFjY291bnRzKXx8dm9pZCAwPT09bj92b2lkIDA6bi5sZW5ndGgpKWlmKGUuZ2V0U2VsZWN0ZWRBZGRyZXNzKCkpaS5hY2NvdW50cz1bZS5nZXRTZWxlY3RlZEFkZHJlc3MoKV07ZWxzZXtSYShcIltTREtQcm92aWRlcjogaW5pdGlhbGl6ZVN0YXRlQXN5bmMoKV0gRmV0Y2ggYWNjb3VudHMgcmVtb3RlbHkuXCIpO2NvbnN0IHQ9eWllbGQgZS5yZXF1ZXN0KHttZXRob2Q6XCJldGhfcmVxdWVzdEFjY291bnRzXCIscGFyYW1zOltdfSk7aS5hY2NvdW50cz10fWUuX2luaXRpYWxpemVTdGF0ZShpKSxyLnByb3ZpZGVyU3RhdGVSZXF1ZXN0ZWQ9ITEsYyYmKGUuX3N0YXRlLmlzQ29ubmVjdGVkPSEwLGUuZW1pdChcImNvbm5lY3RcIix7Y2hhaW5JZDpudWxsPT1pP3ZvaWQgMDppLmNoYWluSWR9KSl9fSkpfSh0aGlzKX0pKX1faW5pdGlhbGl6ZVN0YXRlKGUpe3JldHVybiBSYShcIltTREtQcm92aWRlcjogX2luaXRpYWxpemVTdGF0ZSgpXVwiLGUpLGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gUmEoXCJbU0RLUHJvdmlkZXI6IGluaXRpYWxpemVTdGF0ZSgpXSBzZXQgc3RhdGUuX2luaXRpYWxpemVkIHRvIGZhbHNlXCIpLGUuX3N0YXRlLmluaXRpYWxpemVkPSExLHQobil9KHRoaXMsc3VwZXIuX2luaXRpYWxpemVTdGF0ZS5iaW5kKHRoaXMpLGUpfV9oYW5kbGVDaGFpbkNoYW5nZWQoe2NoYWluSWQ6ZSxuZXR3b3JrVmVyc2lvbjp0fT17fSl7dGhpcy5zdGF0ZS5jaGFpbklkPWUsdGhpcy5zdGF0ZS5uZXR3b3JrVmVyc2lvbj10LGZ1bmN0aW9uKHtpbnN0YW5jZTplLGNoYWluSWQ6dCxuZXR3b3JrVmVyc2lvbjpuLHN1cGVySGFuZGxlQ2hhaW5DaGFuZ2VkOnJ9KXtSYShgW1NES1Byb3ZpZGVyOiBoYW5kbGVDaGFpbkNoYW5nZWQoKV0gY2hhaW5JZD0ke3R9IG5ldHdvcmtWZXJzaW9uPSR7bn1gKTtsZXQgaT1uO258fChSYShcIltTREtQcm92aWRlcjogaGFuZGxlQ2hhaW5DaGFuZ2VkKCldIGZvcmNlZCBuZXR3b3JrIHZlcnNpb24gdG8gcHJldmVudCBwcm92aWRlciBlcnJvclwiKSxpPVwiMVwiKSxlLl9zdGF0ZS5pc0Nvbm5lY3RlZD0hMCxlLmVtaXQoXCJjb25uZWN0XCIse2NoYWluSWQ6dH0pLHIoe2NoYWluSWQ6dCxuZXR3b3JrVmVyc2lvbjppfSl9KHtpbnN0YW5jZTp0aGlzLGNoYWluSWQ6ZSxuZXR3b3JrVmVyc2lvbjp0LHN1cGVySGFuZGxlQ2hhaW5DaGFuZ2VkOnN1cGVyLl9oYW5kbGVDaGFpbkNoYW5nZWQuYmluZCh0aGlzKX0pfX12YXIgdWMsaGM9e25hbWU6XCJAbWV0YW1hc2svc2RrXCIsdmVyc2lvbjpcIjAuMzIuMFwiLGRlc2NyaXB0aW9uOlwiXCIsaG9tZXBhZ2U6XCJodHRwczovL2dpdGh1Yi5jb20vTWV0YU1hc2svbWV0YW1hc2stc2RrI3JlYWRtZVwiLGJ1Z3M6e3VybDpcImh0dHBzOi8vZ2l0aHViLmNvbS9NZXRhTWFzay9tZXRhbWFzay1zZGsvaXNzdWVzXCJ9LHJlcG9zaXRvcnk6e3R5cGU6XCJnaXRcIix1cmw6XCJodHRwczovL2dpdGh1Yi5jb20vTWV0YU1hc2svbWV0YW1hc2stc2RrXCIsZGlyZWN0b3J5OlwicGFja2FnZXMvc2RrXCJ9LG1haW46XCJkaXN0L25vZGUvY2pzL21ldGFtYXNrLXNkay5qc1wiLG1vZHVsZTpcImRpc3QvYnJvd3Nlci9lcy9tZXRhbWFzay1zZGsuanNcIixicm93c2VyOlwiZGlzdC9icm93c2VyL2VzL21ldGFtYXNrLXNkay5qc1wiLHVucGtnOlwiZGlzdC9icm93c2VyL3VtZC9tZXRhbWFzay1zZGsuanNcIixcInJlYWN0LW5hdGl2ZVwiOlwiZGlzdC9yZWFjdC1uYXRpdmUvZXMvbWV0YW1hc2stc2RrLmpzXCIsdHlwZXM6XCJkaXN0L3R5cGVzL3NyYy9pbmRleC5kLnRzXCIsc2lkZUVmZmVjdHM6ITEsZmlsZXM6W1wiL2Rpc3RcIl0sc2NyaXB0czp7XCJidWlsZDp0eXBlc1wiOlwidHNjIC0tcHJvamVjdCB0c2NvbmZpZy5idWlsZC5qc29uIC0tZW1pdERlY2xhcmF0aW9uT25seSAtLW91dERpciBkaXN0L3R5cGVzXCIsYnVpbGQ6XCJ5YXJuIGJ1aWxkOnR5cGVzICYmIHJvbGx1cCAtYyAtLWJ1bmRsZUNvbmZpZ0FzQ2pzXCIsXCJidWlsZDpjbGVhblwiOlwieWFybiBjbGVhbiAmJiB5YXJuIGJ1aWxkXCIsXCJidWlsZDpwb3N0LXRzY1wiOlwiZWNobyAnTi9BJ1wiLFwiYnVpbGQ6cHJlLXRzY1wiOlwiZWNobyAnTi9BJ1wiLHR5cGVjaGVjazpcInRzYyAtLW5vRW1pdFwiLGNsZWFuOlwicmltcmFmIC4vZGlzdFwiLHNpemU6XCJub2RlIGJ1bmRsZS1zaXplICYmIHNpemUtbGltaXRcIixsaW50OlwieWFybiBsaW50OmVzbGludCAmJiB5YXJuIGxpbnQ6bWlzYyAtLWNoZWNrXCIsXCJsaW50OmNoYW5nZWxvZ1wiOlwiLi4vLi4vc2NyaXB0cy92YWxpZGF0ZS1jaGFuZ2Vsb2cuc2ggQG1ldGFtYXNrL3Nka1wiLFwibGludDplc2xpbnRcIjpcImVzbGludCAuIC0tY2FjaGUgLS1leHQganMsdHNcIixcImxpbnQ6Zml4XCI6XCJ5YXJuIGxpbnQ6ZXNsaW50IC0tZml4ICYmIHlhcm4gbGludDptaXNjIC0td3JpdGVcIixcImxpbnQ6bWlzY1wiOlwicHJldHRpZXIgJyoqLyouanNvbicgJyoqLyoubWQnICchQ0hBTkdFTE9HLm1kJyAtLWlnbm9yZS1wYXRoIC4uLy4uLy5naXRpZ25vcmVcIixwcmVwYWNrOlwiLi4vLi4vc2NyaXB0cy9wcmVwYWNrLnNoXCIsXCJwdWJsaXNoOnByZXZpZXdcIjpcInlhcm4gbnBtIHB1Ymxpc2ggLS10YWcgcHJldmlld1wiLHJlc2V0OlwieWFybiBjbGVhbiAmJiByaW1yYWYgLi9ub2RlX21vZHVsZXMvXCIsdGVzdDonamVzdCAtLXRlc3RQYXRoSWdub3JlUGF0dGVybnMgXCIvZTJlL1wiJyxcInRlc3Q6Y292ZXJhZ2VcIjonamVzdCAtLWNvdmVyYWdlIC0tdGVzdFBhdGhJZ25vcmVQYXR0ZXJucyBcIi9lMmUvXCInLFwidGVzdDplMmVcIjonamVzdCAtLXRlc3RQYXRoUGF0dGVybiBcIi9lMmUvXCInLFwidGVzdDpjaVwiOidqZXN0IC0tY292ZXJhZ2UgLS1wYXNzV2l0aE5vVGVzdHMgLS1zZXR1cEZpbGVzQWZ0ZXJFbnYgLi9qZXN0LXByZWxvYWQuanMgLS10ZXN0UGF0aElnbm9yZVBhdHRlcm5zIFwiL2UyZS9cIicsXCJ0ZXN0OmRldlwiOidqZXN0IC1jIC4vamVzdC5jb25maWcudHMgLS1kZXRlY3RPcGVuSGFuZGxlcyAgLS10ZXN0UGF0aElnbm9yZVBhdHRlcm5zIFwiL2UyZS9cIicsd2F0Y2g6XCJyb2xsdXAgLWMgLXdcIixkZXY6J2NvbmN1cnJlbnRseSBcInRzYyAtLXdhdGNoXCIgXCJyb2xsdXAgLWMgLXcgLS1idW5kbGVDb25maWdBc0Nqc1wiJyxcImJ1aWxkOmRldlwiOlwieWFybiBidWlsZDp0eXBlcyAmJiBOT0RFX0VOVj1kZXYgcm9sbHVwIC1jIC0tYnVuZGxlQ29uZmlnQXNDanNcIn0sZGVwZW5kZW5jaWVzOntcIkBiYWJlbC9ydW50aW1lXCI6XCJeNy4yNi4wXCIsXCJAbWV0YW1hc2svb25ib2FyZGluZ1wiOlwiXjEuMC4xXCIsXCJAbWV0YW1hc2svcHJvdmlkZXJzXCI6XCIxNi4xLjBcIixcIkBtZXRhbWFzay9zZGstY29tbXVuaWNhdGlvbi1sYXllclwiOlwid29ya3NwYWNlOipcIixcIkBtZXRhbWFzay9zZGstaW5zdGFsbC1tb2RhbC13ZWJcIjpcIndvcmtzcGFjZToqXCIsXCJAcGF1bG1pbGxyL3FyXCI6XCJeMC4yLjFcIixib3dzZXI6XCJeMi45LjBcIixcImNyb3NzLWZldGNoXCI6XCJeNC4wLjBcIixkZWJ1ZzpcIl40LjMuNFwiLGVjaWVzanM6XCJeMC40LjExXCIsXCJldGgtcnBjLWVycm9yc1wiOlwiXjQuMC4zXCIsZXZlbnRlbWl0dGVyMjpcIl42LjQuOVwiLFwib2JqLW11bHRpcGxleFwiOlwiXjEuMC4wXCIscHVtcDpcIl4zLjAuMFwiLFwicmVhZGFibGUtc3RyZWFtXCI6XCJeMy42LjJcIixcInNvY2tldC5pby1jbGllbnRcIjpcIl40LjUuMVwiLHRzbGliOlwiXjIuNi4wXCIsdXRpbDpcIl4wLjEyLjRcIix1dWlkOlwiXjguMy4yXCJ9LGRldkRlcGVuZGVuY2llczp7XCJAamVzdC9nbG9iYWxzXCI6XCJeMjkuMy4xXCIsXCJAbGF2YW1vYXQvYWxsb3ctc2NyaXB0c1wiOlwiXjIuMy4xXCIsXCJAbWV0YW1hc2svYXV0by1jaGFuZ2Vsb2dcIjpcIjMuMS4wXCIsXCJAbWV0YW1hc2svZXNsaW50LWNvbmZpZ1wiOlwiXjYuMC4wXCIsXCJAbWV0YW1hc2svZXNsaW50LWNvbmZpZy1ub2RlanNcIjpcIl42LjAuMFwiLFwiQG1ldGFtYXNrL2VzbGludC1jb25maWctdHlwZXNjcmlwdFwiOlwiXjYuMC4wXCIsXCJAcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UvYXN5bmMtc3RvcmFnZVwiOlwiXjEuMTkuNlwiLFwiQHJvbGx1cC9wbHVnaW4tYWxpYXNcIjpcIl41LjEuMVwiLFwiQHJvbGx1cC9wbHVnaW4tY29tbW9uanNcIjpcIl4yNS4wLjdcIixcIkByb2xsdXAvcGx1Z2luLWpzb25cIjpcIl42LjAuMFwiLFwiQHJvbGx1cC9wbHVnaW4tbm9kZS1yZXNvbHZlXCI6XCJeMTUuMC4yXCIsXCJAcm9sbHVwL3BsdWdpbi1yZXBsYWNlXCI6XCJeNi4wLjFcIixcIkByb2xsdXAvcGx1Z2luLXRlcnNlclwiOlwiXjAuNC4xXCIsXCJAc2l6ZS1saW1pdC9wcmVzZXQtYmlnLWxpYlwiOlwiXjExLjAuMlwiLFwiQHR5cGVzL2RvbS1zY3JlZW4td2FrZS1sb2NrXCI6XCJeMS4wLjJcIixcIkB0eXBlcy9ub2RlXCI6XCJeMjAuMS4zXCIsXCJAdHlwZXMvcHVtcFwiOlwiXjEuMS4xXCIsXCJAdHlwZXMvcXJjb2RlLXRlcm1pbmFsXCI6XCJeMC4xMi4wXCIsXCJAdHlwZXMvdXVpZFwiOlwiXjEwLjAuMFwiLFwiQHR5cGVzY3JpcHQtZXNsaW50L2VzbGludC1wbHVnaW5cIjpcIl40LjI2LjBcIixcIkB0eXBlc2NyaXB0LWVzbGludC9wYXJzZXJcIjpcIl40LjI2LjBcIixcImJyb3dzZXJpZnktemxpYlwiOlwiXjAuMi4wXCIsYnVmZmVyOlwiXjYuMC4zXCIsY29uY3VycmVudGx5OlwiXjkuMS4yXCIsXCJjcnlwdG8tYnJvd3NlcmlmeVwiOlwiXjMuMTIuMFwiLGVzbGludDpcIl43LjMwLjBcIixcImVzbGludC1jb25maWctcHJldHRpZXJcIjpcIl44LjMuMFwiLFwiZXNsaW50LXBsdWdpbi1pbXBvcnRcIjpcIl4yLjIzLjRcIixcImVzbGludC1wbHVnaW4tamVzdFwiOlwiXjI0LjQuMFwiLFwiZXNsaW50LXBsdWdpbi1qc2RvY1wiOlwiXjM2LjEuMFwiLFwiZXNsaW50LXBsdWdpbi1ub2RlXCI6XCJeMTEuMS4wXCIsXCJlc2xpbnQtcGx1Z2luLXByZXR0aWVyXCI6XCJeMy40LjBcIixcImh0dHBzLWJyb3dzZXJpZnlcIjpcIl4xLjAuMFwiLGplc3Q6XCJeMjkuMy4xXCIsXCJqZXN0LWVudmlyb25tZW50LWpzZG9tXCI6XCJeMjkuMy4xXCIscHJldHRpZXI6XCJeMi4zLjBcIixwcm9jZXNzOlwiXjAuMTEuMTBcIixyaW1yYWY6XCJeNC40LjBcIixyb2xsdXA6XCJeNC4yNi4wXCIsXCJyb2xsdXAtcGx1Z2luLWFuYWx5emVyXCI6XCJeNC4wLjBcIixcInJvbGx1cC1wbHVnaW4tanNjY1wiOlwiXjIuMC4wXCIsXCJyb2xsdXAtcGx1Z2luLW5hdGl2ZXNcIjpcIl4wLjcuNVwiLFwicm9sbHVwLXBsdWdpbi1ub2RlLWJ1aWx0aW5zXCI6XCJeMi4xLjJcIixcInJvbGx1cC1wbHVnaW4tcG9seWZpbGwtbm9kZVwiOlwiXjAuMTMuMFwiLFwicm9sbHVwLXBsdWdpbi1zaXplc1wiOlwiXjEuMC42XCIsXCJyb2xsdXAtcGx1Z2luLXR5cGVzY3JpcHQyXCI6XCJeMC4zMS4yXCIsXCJyb2xsdXAtcGx1Z2luLXZpc3VhbGl6ZXJcIjpcIl41LjEyLjBcIixcInNpemUtbGltaXRcIjpcIl4xMS4wLjJcIixcInN0cmVhbS1icm93c2VyaWZ5XCI6XCJeMy4wLjBcIixcInN0cmVhbS1odHRwXCI6XCJeMy4yLjBcIixcInRzLWplc3RcIjpcIl4yOS4wLjNcIixcInRzLW5vZGVcIjpcIl4xMC45LjFcIix0eXBlc2NyaXB0OlwiXjQuMy4yXCIsdXJsOlwiXjAuMTEuMFwiLHdlYnBhY2s6XCJeNS4wLjBcIn0scHVibGlzaENvbmZpZzp7YWNjZXNzOlwicHVibGljXCIscmVnaXN0cnk6XCJodHRwczovL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9cIn0sbGF2YW1vYXQ6e2FsbG93U2NyaXB0czp7XCJlY2llc2pzPnNlY3AyNTZrMVwiOiExLFwic29ja2V0LmlvLWNsaWVudD5lbmdpbmUuaW8tY2xpZW50PndzPmJ1ZmZlcnV0aWxcIjohMSxcInNvY2tldC5pby1jbGllbnQ+ZW5naW5lLmlvLWNsaWVudD53cz51dGYtOC12YWxpZGF0ZVwiOiExLFwiQG1ldGFtYXNrL3Nkay1jb21tdW5pY2F0aW9uLWxheWVyPmJ1ZmZlcnV0aWxcIjohMSxcIkBtZXRhbWFzay9zZGstY29tbXVuaWNhdGlvbi1sYXllcj5lY2llc2pzPnNlY3AyNTZrMVwiOiExLFwiQG1ldGFtYXNrL3Nkay1jb21tdW5pY2F0aW9uLWxheWVyPnV0Zi04LXZhbGlkYXRlXCI6ITF9fX07IWZ1bmN0aW9uKGUpe2UuSU5QQUdFPVwibWV0YW1hc2staW5wYWdlXCIsZS5DT05URU5UX1NDUklQVD1cIm1ldGFtYXNrLWNvbnRlbnRzY3JpcHRcIixlLlBST1ZJREVSPVwibWV0YW1hc2stcHJvdmlkZXJcIn0odWN8fCh1Yz17fSkpO2NvbnN0IGZjPVwiZGlyZWN0XCIscGM9XCJodHRwczovL21ldGFtYXNrLmFwcC5saW5rL2Nvbm5lY3RcIixtYz1cIm1ldGFtYXNrOi8vY29ubmVjdFwiLGdjPXtOQU1FOlwiTWV0YU1hc2tcIixSRE5TOltcImlvLm1ldGFtYXNrXCIsXCJpby5tZXRhbWFzay5mbGFza1wiXX0sdmM9Lyg/Ol5bYS1mMC05XXs4fS1bYS1mMC05XXs0fS00W2EtZjAtOV17M30tW2EtZjAtOV17NH0tW2EtZjAtOV17MTJ9JCl8KD86XjB7OH0tMHs0fS0wezR9LTB7NH0tMHsxMn0kKS91LHljPXtNRVRBTUFTS19HRVRQUk9WSURFUlNUQVRFOlwibWV0YW1hc2tfZ2V0UHJvdmlkZXJTdGF0ZVwiLE1FVEFNQVNLX0NPTk5FQ1RTSUdOOlwibWV0YW1hc2tfY29ubmVjdFNpZ25cIixNRVRBTUFTS19DT05ORUNUV0lUSDpcIm1ldGFtYXNrX2Nvbm5lY3RXaXRoXCIsTUVUQU1BU0tfT1BFTjpcIm1ldGFtYXNrX29wZW5cIixNRVRBTUFTS19CQVRDSDpcIm1ldGFtYXNrX2JhdGNoXCIsUEVSU09OQUxfU0lHTjpcInBlcnNvbmFsX3NpZ25cIixXQUxMRVRfUkVRVUVTVFBFUk1JU1NJT05TOlwid2FsbGV0X3JlcXVlc3RQZXJtaXNzaW9uc1wiLFdBTExFVF9SRVZPS0VQRVJNSVNTSU9OUzpcIndhbGxldF9yZXZva2VQZXJtaXNzaW9uc1wiLFdBTExFVF9HRVRQRVJNSVNTSU9OUzpcIndhbGxldF9nZXRQZXJtaXNzaW9uc1wiLFdBTExFVF9XQVRDSEFTU0VUOlwid2FsbGV0X3dhdGNoQXNzZXRcIixXQUxMRVRfQURERVRIRVJFVU1DSEFJTjpcIndhbGxldF9hZGRFdGhlcmV1bUNoYWluXCIsV0FMTEVUX1NXSVRDSEVUSEVUSEVSRVVNQ0hBSU46XCJ3YWxsZXRfc3dpdGNoRXRoZXJldW1DaGFpblwiLEVUSF9SRVFVRVNUQUNDT1VOVFM6XCJldGhfcmVxdWVzdEFjY291bnRzXCIsRVRIX0FDQ09VTlRTOlwiZXRoX2FjY291bnRzXCIsRVRIX0NIQUlOSUQ6XCJldGhfY2hhaW5JZFwiLEVUSF9TRU5EVFJBTlNBQ1RJT046XCJldGhfc2VuZFRyYW5zYWN0aW9uXCIsRVRIX1NJR05UWVBFRERBVEE6XCJldGhfc2lnblR5cGVkRGF0YVwiLEVUSF9TSUdOVFlQRUREQVRBX1YzOlwiZXRoX3NpZ25UeXBlZERhdGFfdjNcIixFVEhfU0lHTlRZUEVEREFUQV9WNDpcImV0aF9zaWduVHlwZWREYXRhX3Y0XCIsRVRIX1NJR05UUkFOU0FDVElPTjpcImV0aF9zaWduVHJhbnNhY3Rpb25cIixFVEhfU0lHTjpcImV0aF9zaWduXCIsUEVSU09OQUxfRUNfUkVDT1ZFUjpcInBlcnNvbmFsX2VjUmVjb3ZlclwifSxFYz17W3ljLkVUSF9SRVFVRVNUQUNDT1VOVFNdOiEwLFt5Yy5FVEhfU0VORFRSQU5TQUNUSU9OXTohMCxbeWMuRVRIX1NJR05UUkFOU0FDVElPTl06ITAsW3ljLkVUSF9TSUdOXTohMCxbeWMuUEVSU09OQUxfU0lHTl06ITAsW3ljLkVUSF9BQ0NPVU5UU106ITEsW3ljLkVUSF9DSEFJTklEXTohMSxbeWMuUEVSU09OQUxfU0lHTl06ITAsW3ljLkVUSF9TSUdOVFlQRUREQVRBXTohMCxbeWMuRVRIX1NJR05UWVBFRERBVEFfVjNdOiEwLFt5Yy5FVEhfU0lHTlRZUEVEREFUQV9WNF06ITAsW3ljLldBTExFVF9SRVFVRVNUUEVSTUlTU0lPTlNdOiEwLFt5Yy5XQUxMRVRfR0VUUEVSTUlTU0lPTlNdOiEwLFt5Yy5XQUxMRVRfV0FUQ0hBU1NFVF06ITAsW3ljLldBTExFVF9BRERFVEhFUkVVTUNIQUlOXTohMCxbeWMuV0FMTEVUX1NXSVRDSEVUSEVUSEVSRVVNQ0hBSU5dOiEwLFt5Yy5NRVRBTUFTS19DT05ORUNUU0lHTl06ITAsW3ljLk1FVEFNQVNLX0NPTk5FQ1RXSVRIXTohMCxbeWMuUEVSU09OQUxfRUNfUkVDT1ZFUl06ITAsW3ljLk1FVEFNQVNLX0JBVENIXTohMCxbeWMuTUVUQU1BU0tfT1BFTl06ITB9LGJjPU9iamVjdC5rZXlzKEVjKS5tYXAoKGU9PmUudG9Mb3dlckNhc2UoKSkpLHdjPVtcImV0aF9zaWduVHlwZWREYXRhXCIsXCJldGhfc2lnblR5cGVkRGF0YV92M1wiLFwiZXRoX3NpZ25UeXBlZERhdGFfdjRcIixcImV0aF9zaWduXCJdLm1hcCgoZT0+ZS50b0xvd2VyQ2FzZSgpKSksU2M9XCIuc2RrLWNvbW1cIixfYz1cInByb3ZpZGVyVHlwZVwiLENjPVwiLk1NU0RLX2NhY2hlZF9hZGRyZXNzXCIseGM9XCIuTU1TREtfY2FjaGVkX2NoYWluSWRcIixrYz17Q0hBSU5fQ0hBTkdFRDpcImNoYWluQ2hhbmdlZFwiLEFDQ09VTlRTX0NIQU5HRUQ6XCJhY2NvdW50c0NoYW5nZWRcIixESVNDT05ORUNUOlwiZGlzY29ubmVjdFwiLENPTk5FQ1Q6XCJjb25uZWN0XCIsQ09OTkVDVEVEOlwiY29ubmVjdGVkXCJ9LE1jPTFlNjt2YXIgQWM7ZXhwb3J0cy5QUk9WSURFUl9VUERBVEVfVFlQRT12b2lkIDAsKEFjPWV4cG9ydHMuUFJPVklERVJfVVBEQVRFX1RZUEV8fChleHBvcnRzLlBST1ZJREVSX1VQREFURV9UWVBFPXt9KSkuVEVSTUlOQVRFPVwidGVybWluYXRlXCIsQWMuRVhURU5TSU9OPVwiZXh0ZW5zaW9uXCIsQWMuSU5JVElBTElaRUQ9XCJpbml0aWFsaXplZFwiO2NvbnN0IFRjPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5sb2NhbFN0b3JhZ2U7ZnVuY3Rpb24gSWMoe2luc3RhbmNlOmUsbXNnOnR9KXtyZXR1cm4gbCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2lmKGUuX2luaXRpYWxpemVkfHwoUmEoXCJbTWV0YU1hc2tTREs6IGNvbm5lY3RBbmRTaWduKCldIHByb3ZpZGVyIG5vdCByZWFkeSAtLSB3YWl0IGZvciBpbml0KClcIikseWllbGQgZS5pbml0KCkpLFJhKGBbTWV0YU1hc2tTREs6IGNvbm5lY3RBbmRTaWduKCldIGFjdGl2ZVByb3ZpZGVyPSR7ZS5hY3RpdmVQcm92aWRlcn1gKSwhZS5hY3RpdmVQcm92aWRlcil0aHJvdyBuZXcgRXJyb3IoXCJTREsgc3RhdGUgaW52YWxpZCAtLSB1bmRlZmluZWQgcHJvdmlkZXJcIik7Y29uc3Qgbj0vXjB4KFswLTlBLUZhLWZdezJ9KSokL3UudGVzdCh0KT90OmZ1bmN0aW9uKGUpe2xldCB0O2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBCdWZmZXIpdD1CdWZmZXIuZnJvbShlLFwidXRmOFwiKS50b1N0cmluZyhcImhleFwiKTtlbHNlIGlmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBUZXh0RW5jb2Rlcil7Y29uc3Qgbj0obmV3IFRleHRFbmNvZGVyKS5lbmNvZGUoZSk7dD1BcnJheS5mcm9tKG4pLm1hcCgoZT0+ZS50b1N0cmluZygxNikucGFkU3RhcnQoMixcIjBcIikpKS5qb2luKFwiXCIpfWVsc2V7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGdsb2JhbHx8IShcIkJ1ZmZlclwiaW4gZ2xvYmFsKSl0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gY29udmVydCBzdHJpbmcgdG8gaGV4OiBObyBhdmFpbGFibGUgbWV0aG9kLlwiKTt0PWdsb2JhbC5CdWZmZXIuZnJvbShlLFwidXRmOFwiKS50b1N0cmluZyhcImhleFwiKX1yZXR1cm5gMHgke3R9YH0odCk7cmV0dXJuIGUuYWN0aXZlUHJvdmlkZXIucmVxdWVzdCh7bWV0aG9kOnljLk1FVEFNQVNLX0NPTk5FQ1RXSVRILHBhcmFtczpbe21ldGhvZDp5Yy5QRVJTT05BTF9TSUdOLHBhcmFtczpbbl19XX0pfSkpfWZ1bmN0aW9uIFBjKGUpe3ZhciB0LG47cmV0dXJuIGwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtSYShcIltNZXRhTWFza1NESzogY29ubmVjdFdpdGhFeHRlbnNpb25Qcm92aWRlcigpXSBcIixlKSxlLnNka1Byb3ZpZGVyPWUuYWN0aXZlUHJvdmlkZXIsZS5hY3RpdmVQcm92aWRlcj13aW5kb3cuZXh0ZW5zaW9uLHdpbmRvdy5ldGhlcmV1bT13aW5kb3cuZXh0ZW5zaW9uO3RyeXtjb25zdCBlPXlpZWxkIG51bGw9PT0odD13aW5kb3cuZXh0ZW5zaW9uKXx8dm9pZCAwPT09dD92b2lkIDA6dC5yZXF1ZXN0KHttZXRob2Q6XCJldGhfcmVxdWVzdEFjY291bnRzXCJ9KTtSYShgW01ldGFNYXNrU0RLOiBjb25uZWN0V2l0aEV4dGVuc2lvblByb3ZpZGVyKCldIGFjY291bnRzPSR7ZX1gKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBjb25zb2xlLndhcm4oXCJbTWV0YU1hc2tTREs6IGNvbm5lY3RXaXRoRXh0ZW5zaW9uUHJvdmlkZXIoKV0gY2FuJ3QgcmVxdWVzdCBhY2NvdW50cyBlcnJvclwiLGUpfWxvY2FsU3RvcmFnZS5zZXRJdGVtKF9jLFwiZXh0ZW5zaW9uXCIpLGUuZXh0ZW5zaW9uQWN0aXZlPSEwLGUuZW1pdChzYy5Qcm92aWRlclVwZGF0ZSxleHBvcnRzLlBST1ZJREVSX1VQREFURV9UWVBFLkVYVEVOU0lPTiksZS5vcHRpb25zLmVuYWJsZUFuYWx5dGljcyYmKG51bGw9PT0obj1lLmFuYWx5dGljcyl8fHZvaWQgMD09PW58fG4uc2VuZCh7ZXZlbnQ6bHIuU0RLX1VTRV9FWFRFTlNJT059KSl9KSl9ZnVuY3Rpb24gUmMoZSl7bGV0IHQ7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEJ1ZmZlcil0PUJ1ZmZlci5mcm9tKGUsXCJ1dGY4XCIpLnRvU3RyaW5nKFwiYmFzZTY0XCIpO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYnRvYSl0PWJ0b2EoZW5jb2RlVVJJQ29tcG9uZW50KGUpLnJlcGxhY2UoLyUoWzAtOUEtRl17Mn0pL2d1LCgoZSx0KT0+U3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludCh0LDE2KSkpKSk7ZWxzZXtpZihcIm9iamVjdFwiIT10eXBlb2YgZ2xvYmFsfHwhKFwiQnVmZmVyXCJpbiBnbG9iYWwpKXRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBiYXNlNjQgZW5jb2RlOiBObyBhdmFpbGFibGUgbWV0aG9kLlwiKTt0PWdsb2JhbC5CdWZmZXIuZnJvbShlLFwidXRmOFwiKS50b1N0cmluZyhcImJhc2U2NFwiKX1yZXR1cm4gdH1mdW5jdGlvbiBPYyhlLHQscixpKXt2YXIgbyxzLGEsYyxkLHUsaCxmLHAsbSxnLHYseSxFLGIsdyxTLF8sQyx4O3JldHVybiBsKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7Y29uc3Qgcj1udWxsPT09KG89ZS5zdGF0ZS5yZW1vdGUpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmlzUmVhZHkoKSxsPW51bGw9PT0ocz1lLnN0YXRlLnJlbW90ZSl8fHZvaWQgMD09PXM/dm9pZCAwOnMuaXNDb25uZWN0ZWQoKSxrPW51bGw9PT0oYT1lLnN0YXRlLnJlbW90ZSl8fHZvaWQgMD09PWE/dm9pZCAwOmEuaXNQYXVzZWQoKSxNPWFjLmdldFByb3ZpZGVyKCksQT1udWxsPT09KGM9ZS5zdGF0ZS5yZW1vdGUpfHx2b2lkIDA9PT1jP3ZvaWQgMDpjLmdldENoYW5uZWxJZCgpLFQ9bnVsbD09PShkPWUuc3RhdGUucmVtb3RlKXx8dm9pZCAwPT09ZD92b2lkIDA6ZC5pc0F1dGhvcml6ZWQoKSx7ZGVlcGxpbmtQcm90b2NvbDpJfT1lLnN0YXRlLHttZXRob2Q6UCxkYXRhOlIsdHJpZ2dlcmVkSW5zdGFsbGVyOk99PShlPT57dmFyIHQscixpLG87bGV0IHM7bi5CdWZmZXIuaXNCdWZmZXIoZSk/KHM9ZS50b0pTT04oKSxzLl9pc0J1ZmZlcj0hMCk6cz1lO2NvbnN0IGE9bnVsbD09PSh0PW51bGw9PXM/dm9pZCAwOnMuZGF0YSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQubWV0aG9kO2xldCBjPSExO3JldHVyblwib2JqZWN0XCI9PXR5cGVvZihudWxsPT09KHI9bnVsbD09cz92b2lkIDA6cy5kYXRhKXx8dm9pZCAwPT09cj92b2lkIDA6ci5wYXJhbXMpJiYhMD09PShudWxsPT09KG89bnVsbD09PShpPW51bGw9PXM/dm9pZCAwOnMuZGF0YSl8fHZvaWQgMD09PWk/dm9pZCAwOmkucGFyYW1zKXx8dm9pZCAwPT09bz92b2lkIDA6by5fX3RyaWdnZXJlZEluc3RhbGxlcikmJihjPSEwLHMuZGF0YS5wYXJhbXM9cy5kYXRhLnBhcmFtcy53cmFwcGVkUGFyYW1zKSx7bWV0aG9kOmEsZGF0YTpzLHRyaWdnZXJlZEluc3RhbGxlcjpjfX0pKHQpO2lmKFJhKGBbUkNQTVM6IHdyaXRlKCldIG1ldGhvZD0nJHtQfScgaXNSZW1vdGVSZWFkeT0ke3J9IGNoYW5uZWxJZD0ke0F9IGlzU29ja2V0Q29ubmVjdGVkPSR7bH0gaXNSZW1vdGVQYXVzZWQ9JHtrfSBwcm92aWRlckNvbm5lY3RlZD0ke00uaXNDb25uZWN0ZWQoKX1gLHQpLCFBKXJldHVybiBQIT09eWMuTUVUQU1BU0tfR0VUUFJPVklERVJTVEFURSYmUmEoYFtSQ1BNUzogd3JpdGUoKV0gJHtQfSAtLVxceDNlIGNoYW5uZWxJZCBpcyB1bmRlZmluZWRgKSxpKG5ldyBFcnJvcihcImRpc2Nvbm5lY3RlZFwiKSk7UmEoYFtSQ1BNUzogd3JpdGUoKV0gcmVtb3RlLmlzUGF1c2VkKCk9JHtudWxsPT09KHU9ZS5zdGF0ZS5yZW1vdGUpfHx2b2lkIDA9PT11P3ZvaWQgMDp1LmlzUGF1c2VkKCl9IGF1dGhvcml6ZWQ9JHtUfSByZWFkeT0ke3J9IHNvY2tldENvbm5lY3RlZD0ke2x9YCx0KTtjb25zdCBOPW51bGw9PT0oaD1lLnN0YXRlLnBsYXRmb3JtTWFuYWdlcil8fHZvaWQgMD09PWg/dm9pZCAwOmguaXNTZWN1cmUoKSxEPW51bGwhPT0ocD1udWxsPT09KGY9ZS5zdGF0ZS5wbGF0Zm9ybU1hbmFnZXIpfHx2b2lkIDA9PT1mP3ZvaWQgMDpmLmlzTW9iaWxlV2ViKCkpJiZ2b2lkIDAhPT1wJiZwLEw9bnVsbCE9PShnPW51bGw9PT0obT1lLnN0YXRlLnJlbW90ZSl8fHZvaWQgMD09PW0/dm9pZCAwOm0uaGFzRGVlcGxpbmtQcm90b2NvbCgpKSYmdm9pZCAwIT09ZyYmZyYmRCYmVDt0cnl7aWYoIU8pe2NvbnN0IHQ9SlNPTi5zdHJpbmdpZnkobnVsbD09Uj92b2lkIDA6Ui5kYXRhKTtpZih0Lmxlbmd0aD5NYylyZXR1cm4gaShuZXcgRXJyb3IoYE1lc3NhZ2Ugc2l6ZSAke3QubGVuZ3RofSBleGNlZWRzIG1heGltdW0gYWxsb3dlZCBzaXplIG9mIDEwMDAwMDAgYnl0ZXNgKSk7bnVsbD09PSh2PWUuc3RhdGUucmVtb3RlKXx8dm9pZCAwPT09dnx8di5zZW5kTWVzc2FnZShudWxsPT1SP3ZvaWQgMDpSLmRhdGEpLnRoZW4oKCgpPT57UmEoYFtSQ1BNUzogX3dyaXRlKCldICR7UH0gc2VudCBzdWNjZXNzZnVsbHlgKX0pKS5jYXRjaCgoZT0+e1JhKFwiW1JDUE1TOiBfd3JpdGUoKV0gZXJyb3Igc2VuZGluZyBtZXNzYWdlXCIsZSl9KSl9aWYoIU4pcmV0dXJuIFJhKGBbUkNQTVM6IF93cml0ZSgpXSB1bnNlY3VyZSBwbGF0Zm9ybSBmb3IgbWV0aG9kICR7UH0gLS0gcmV0dXJuIGNhbGxiYWNrYCksaSgpO2lmKE8pcmV0dXJuIFJhKFwiW1JDUE1TOiBfd3JpdGUoKV0gcHJldmVudCBkZWVwbGluayAtLSBpbnN0YWxsYXRpb24gY29tcGxldGVkIHNlcGFyYXRlbHkuXCIpLGkoKTtjb25zdCB0PW51bGwhPT0oYj1udWxsPT09KEU9bnVsbD09PSh5PWUuc3RhdGUucmVtb3RlKXx8dm9pZCAwPT09eT92b2lkIDA6eS5nZXRLZXlJbmZvKCkpfHx2b2lkIDA9PT1FP3ZvaWQgMDpFLmVjaWVzLnB1YmxpYykmJnZvaWQgMCE9PWI/YjpcIlwiO2xldCBuPWVuY29kZVVSSShgY2hhbm5lbElkPSR7QX0mcHVia2V5PSR7dH0mY29tbT1zb2NrZXQmdD1kJnY9MmApO2lmKEwpe2NvbnN0IHQ9SlNPTi5zdHJpbmdpZnkobnVsbD09Uj92b2lkIDA6Ui5kYXRhKSxyPW51bGw9PT0odz1lLnN0YXRlLnJlbW90ZSl8fHZvaWQgMD09PXc/dm9pZCAwOncuZW5jcnlwdCh0KTtpZighcilyZXR1cm4gUmEoXCJbUkNQTVM6IF93cml0ZSgpXSBlcnJvciBlbmNyeXB0aW5nIG1lc3NhZ2VcIiksaShuZXcgRXJyb3IoXCJSZW1vdGVDb21tdW5pY2F0aW9uUG9zdE1lc3NhZ2VTdHJlYW0gLSBkaXNjb25uZWN0ZWRcIikpO24rPWAmc2NoZW1lPSR7SX0mcnBjPSR7UmMocil9YH1pZighKG51bGw9PT0oUz1lLnN0YXRlLnBsYXRmb3JtTWFuYWdlcil8fHZvaWQgMD09PVM/dm9pZCAwOlMuaXNNZXRhTWFza0luc3RhbGxlZCgpKSlyZXR1cm4gUmEoXCJbUkNQTVM6IF93cml0ZSgpXSBwcmV2ZW50IGRlZXBsaW5rIHVudGlsIGluc3RhbGxhdGlvbiBpcyBjb21wbGV0ZWQuXCIpLGkoKTtFY1tQXT8oUmEoYFtSQ1BNUzogX3dyaXRlKCldIHJlZGlyZWN0IGxpbmsgZm9yICcke1B9JyBzb2NrZXRDb25uZWN0ZWQ9JHtsfSBjb25uZWN0PyR7bn1gKSxudWxsPT09KF89ZS5zdGF0ZS5wbGF0Zm9ybU1hbmFnZXIpfHx2b2lkIDA9PT1ffHxfLm9wZW5EZWVwbGluayhgJHtwY30/JHtufWAsYCR7bWN9PyR7bn1gLFwiX3NlbGZcIikpOihudWxsPT09KEM9ZS5zdGF0ZS5yZW1vdGUpfHx2b2lkIDA9PT1DP3ZvaWQgMDpDLmlzUGF1c2VkKCkpPyhSYShgW1JDUE1TOiBfd3JpdGUoKV0gTU0gaXMgUEFVU0VEISBkZWVwbGluayB3aXRoIGNvbm5lY3QhIHRhcmdldE1ldGhvZD0ke1B9YCksbnVsbD09PSh4PWUuc3RhdGUucGxhdGZvcm1NYW5hZ2VyKXx8dm9pZCAwPT09eHx8eC5vcGVuRGVlcGxpbmsoYCR7cGN9P3JlZGlyZWN0PXRydWUmJHtufWAsYCR7bWN9P3JlZGlyZWN0PXRydWUmJHtufWAsXCJfc2VsZlwiKSk6UmEoYFtSQ1BNUzogX3dyaXRlKCldIG1ldGhvZCAke1B9IGRvZXNuJ3QgbmVlZCByZWRpcmVjdC5gKX1jYXRjaChlKXtyZXR1cm4gUmEoXCJbUkNQTVM6IF93cml0ZSgpXSBlcnJvciBzZW5kaW5nIG1lc3NhZ2VcIixlKSxpKG5ldyBFcnJvcihcIlJlbW90ZUNvbW11bmljYXRpb25Qb3N0TWVzc2FnZVN0cmVhbSAtIGRpc2Nvbm5lY3RlZFwiKSl9cmV0dXJuIGkoKX0pKX1jbGFzcyBOYyBleHRlbmRzIGNhLkR1cGxleHtjb25zdHJ1Y3Rvcih7bmFtZTplLHJlbW90ZTp0LGRlZXBsaW5rUHJvdG9jb2w6bixwbGF0Zm9ybU1hbmFnZXI6cn0pe3N1cGVyKHtvYmplY3RNb2RlOiEwfSksdGhpcy5zdGF0ZT17X25hbWU6bnVsbCxyZW1vdGU6bnVsbCxkZWVwbGlua1Byb3RvY29sOiExLHBsYXRmb3JtTWFuYWdlcjpudWxsfSx0aGlzLnN0YXRlLl9uYW1lPWUsdGhpcy5zdGF0ZS5yZW1vdGU9dCx0aGlzLnN0YXRlLmRlZXBsaW5rUHJvdG9jb2w9bix0aGlzLnN0YXRlLnBsYXRmb3JtTWFuYWdlcj1yLHRoaXMuX29uTWVzc2FnZT10aGlzLl9vbk1lc3NhZ2UuYmluZCh0aGlzKSx0aGlzLnN0YXRlLnJlbW90ZS5vbihleHBvcnRzLkV2ZW50VHlwZS5NRVNTQUdFLHRoaXMuX29uTWVzc2FnZSl9X3dyaXRlKGUsdCxuKXtyZXR1cm4gbCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3JldHVybiBPYyh0aGlzLGUsMCxuKX0pKX1fcmVhZCgpe31fb25NZXNzYWdlKGUpe3JldHVybiBmdW5jdGlvbihlLHQpe3RyeXtpZihSYShcIltSQ1BNUzogb25NZXNzYWdlKCldIG1lc3NhZ2VcIix0KSwhdHx8XCJvYmplY3RcIiE9dHlwZW9mIHQpcmV0dXJuO2lmKFwib2JqZWN0XCIhPXR5cGVvZihudWxsPT10P3ZvaWQgMDp0LmRhdGEpKXJldHVybjtpZighKG51bGw9PXQ/dm9pZCAwOnQubmFtZSkpcmV0dXJuIHZvaWQgUmEoXCJbUkNQTVM6IG9uTWVzc2FnZSgpXSBpZ25vcmUgbWVzc2FnZSB3aXRob3V0IG5hbWVcIix0KTtpZigobnVsbD09dD92b2lkIDA6dC5uYW1lKSE9PXVjLlBST1ZJREVSKXJldHVybiB2b2lkIFJhKGBbUkNQTVM6IG9uTWVzc2FnZSgpXSBpZ25vcmUgbWVzc2FnZSB3aXRoIHdyb25nIG5hbWUgbWVzc2FnZT0ke3R9YCk7aWYobi5CdWZmZXIuaXNCdWZmZXIodCkpe2NvbnN0IHI9bi5CdWZmZXIuZnJvbSh0KTtlLnB1c2gocil9ZWxzZSBlLnB1c2godCl9Y2F0Y2goZSl7UmEoYFtSQ1BNUzogb25NZXNzYWdlKCldIGlnbm9yZSBtZXNzYWdlIGVycm9yIGVycj0ke2V9YCl9fSh0aGlzLGUpfXN0YXJ0KCl7fX1sZXQgRGM9MTtjb25zdCBMYz1lPT5uZXcgUHJvbWlzZSgodD0+e3NldFRpbWVvdXQoKCgpPT57dCghMCl9KSxlKX0pKSxCYz0oe2NoZWNrSW5zdGFsbGF0aW9uT25BbGxDYWxsczp0PSExLGNvbW11bmljYXRpb25MYXllclByZWZlcmVuY2U6bixpbmplY3RQcm92aWRlcjpyLHNob3VsZFNoaW1XZWIzOmkscGxhdGZvcm1NYW5hZ2VyOm8saW5zdGFsbGVyOnMsc2RrOmEscmVtb3RlQ29ubmVjdGlvbjpjLGRlYnVnOmR9KT0+bCh2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7dmFyIHUsaDtjb25zdCBmPSgoe25hbWU6ZSxyZW1vdGVDb25uZWN0aW9uOnR9KT0+e2lmKCF0fHwhKG51bGw9PXQ/dm9pZCAwOnQuZ2V0Q29ubmVjdG9yKCkpKXRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgcmVtb3RlIGNvbm5lY3Rpb24gcGFyYW1ldGVyXCIpO3JldHVybiBuZXcgTmMoe25hbWU6ZSxyZW1vdGU6bnVsbD09dD92b2lkIDA6dC5nZXRDb25uZWN0b3IoKSxkZWVwbGlua1Byb3RvY29sOm51bGw9PXQ/dm9pZCAwOnQuc3RhdGUuZGVlcGxpbmtQcm90b2NvbCxwbGF0Zm9ybU1hbmFnZXI6bnVsbD09dD92b2lkIDA6dC5nZXRQbGF0Zm9ybU1hbmFnZXIoKX0pfSkoe25hbWU6dWMuSU5QQUdFLHRhcmdldDp1Yy5DT05URU5UX1NDUklQVCxwbGF0Zm9ybU1hbmFnZXI6byxjb21tdW5pY2F0aW9uTGF5ZXJQcmVmZXJlbmNlOm4scmVtb3RlQ29ubmVjdGlvbjpjfSkscD1vLmdldFBsYXRmb3JtVHlwZSgpLG09YS5vcHRpb25zLmRhcHBNZXRhZGF0YSxnPWBTZGsvSmF2YXNjcmlwdCBTZGtWZXJzaW9uLyR7aGMudmVyc2lvbn0gUGxhdGZvcm0vJHtwfSBkQXBwLyR7bnVsbCE9PSh1PW0udXJsKSYmdm9pZCAwIT09dT91Om0ubmFtZX0gZEFwcFRpdGxlLyR7bS5uYW1lfWA7bGV0IHY9bnVsbCx5PW51bGw7Y29uc3QgRT1udWxsPT09KGg9YS5vcHRpb25zLnN0b3JhZ2UpfHx2b2lkIDA9PT1oP3ZvaWQgMDpoLnN0b3JhZ2VNYW5hZ2VyO2lmKEUpe3RyeXtjb25zdCBlPXlpZWxkIEUuZ2V0Q2FjaGVkQWNjb3VudHMoKTtlLmxlbmd0aD4wJiYodj1lWzBdKX1jYXRjaChlKXtjb25zb2xlLmVycm9yKGBbaW5pdGlhbGl6ZU1vYmlsZVByb3ZpZGVyXSBmYWlsZWQgdG8gZ2V0IGNhY2hlZCBhZGRyZXNzZXM6ICR7ZX1gKX10cnl7Y29uc3QgZT15aWVsZCBFLmdldENhY2hlZENoYWluSWQoKTtlJiYoeT1lKX1jYXRjaChlKXtjb25zb2xlLmVycm9yKGBbaW5pdGlhbGl6ZU1vYmlsZVByb3ZpZGVyXSBmYWlsZWQgdG8gcGFyc2UgY2FjaGVkIGNoYWluSWQ6ICR7ZX1gKX19UmEoYFtpbml0aWFsaXplTW9iaWxlUHJvdmlkZXJdIGNhY2hlZEFjY291bnRBZGRyZXNzOiAke3Z9LCBjYWNoZWRDaGFpbklkOiAke3l9YCk7Y29uc3QgYj0hKCFyfHxwPT09ZXhwb3J0cy5QbGF0Zm9ybVR5cGUuTm9uQnJvd3Nlcnx8cD09PWV4cG9ydHMuUGxhdGZvcm1UeXBlLlJlYWN0TmF0aXZlKSx3PWFjLmluaXQoe3Nob3VsZFNldE9uV2luZG93OmIsY29ubmVjdGlvblN0cmVhbTpmLHNob3VsZFNoaW1XZWIzOmksc2RrSW5zdGFuY2U6YX0pO2xldCBTPSExO2NvbnN0IF89ZT0+e1M9ZX0sQz0oKT0+Uyx4PShuLHIsaSxkKT0+bCh2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7dmFyIHUsaCxmLHAsbSxiLHcseCxrO2NvbnN0IE09YWMuZ2V0UHJvdmlkZXIoKTtpZihTKXtNLmVtaXQoXCJkaXNwbGF5X3VyaVwiLChudWxsPT1jP3ZvaWQgMDpjLnN0YXRlLnFyY29kZUxpbmspfHxcIlwiKSxudWxsPT1jfHxjLnNob3dBY3RpdmVNb2RhbCgpO2xldCBlPUMoKTtmb3IoO2U7KXtjb25zdCB0PUMoKSxuPW51bGw9PWM/dm9pZCAwOmMuaXNBdXRob3JpemVkKCk7ZT10JiYhbixSYShgW2luaXRpYWxpemVNb2JpbGVQcm92aWRlcjogc2VuZFJlcXVlc3QoKV0gd2FpdGluZyBmb3IgaW5pdGlhbGl6YXRpb24gdG8gY29tcGxldGUgLSBpbml0aWFsaXppbmc6ICR7dH0gYXV0aG9yaXplZDogJHtufWApLHlpZWxkIExjKDFlMyl9cmV0dXJuIFJhKFwiW2luaXRpYWxpemVNb2JpbGVQcm92aWRlcjogc2VuZFJlcXVlc3QoKV0gaW5pdGlhbCBtZXRob2QgY29tcGxldGVkIC0tIHByZXZlbnQgaW5zdGFsbGF0aW9uIGFuZCBjYWxsIHByb3ZpZGVyXCIpLGkoLi4ucil9Y29uc3QgQT1vLmlzTWV0YU1hc2tJbnN0YWxsZWQoKSxUPW51bGw9PWM/dm9pZCAwOmMuaXNDb25uZWN0ZWQoKTtsZXQgST1udWxsLFA9bnVsbCxSPW51bGw7aWYoST1udWxsIT09KHU9TS5nZXRTZWxlY3RlZEFkZHJlc3MoKSkmJnZvaWQgMCE9PXU/dTp2LFI9TS5nZXRDaGFpbklkKCl8fHksSSYmRSYmSSE9PXYmJkUucGVyc2lzdEFjY291bnRzKFtJXSkuY2F0Y2goKGU9Pntjb25zb2xlLmVycm9yKGBbaW5pdGlhbGl6ZU1vYmlsZVByb3ZpZGVyXSBmYWlsZWQgdG8gcGVyc2lzdCBhY2NvdW50OiAke2V9YCl9KSksUiYmKHk9UixFJiZFLnBlcnNpc3RDaGFpbklkKFIpLmNhdGNoKChlPT57Y29uc29sZS5lcnJvcihgW2luaXRpYWxpemVNb2JpbGVQcm92aWRlcl0gZmFpbGVkIHRvIHBlcnNpc3QgY2hhaW5JZDogJHtlfWApfSkpKSxSYShcIltpbml0aWFsaXplTW9iaWxlUHJvdmlkZXI6IHNlbmRSZXF1ZXN0KCldXCIse3NlbGVjdGVkQWRkcmVzczpJLGNoYWluSWQ6Un0pLGQmJlJhKGBbaW5pdGlhbGl6ZU1vYmlsZVByb3ZpZGVyOiBzZW5kUmVxdWVzdCgpXSBtZXRob2Q9JHtufSBvbmdvaW5nPSR7U30gc2VsZWN0ZWRBZGRyZXNzPSR7SX0gaXNJbnN0YWxsZWQ9JHtBfSBjaGVja0luc3RhbGxhdGlvbk9uQWxsQ2FsbHM9JHt0fSBzb2NrZXRDb25uZWN0ZWQ9JHtUfWApLEkmJm4udG9Mb3dlckNhc2UoKT09PXljLkVUSF9BQ0NPVU5UUy50b0xvd2VyQ2FzZSgpKXJldHVybltJXTtpZihSJiZuLnRvTG93ZXJDYXNlKCk9PT15Yy5FVEhfQ0hBSU5JRC50b0xvd2VyQ2FzZSgpKXJldHVybiBSO2NvbnN0IE89W3ljLkVUSF9SRVFVRVNUQUNDT1VOVFMseWMuV0FMTEVUX1JFUVVFU1RQRVJNSVNTSU9OUyx5Yy5NRVRBTUFTS19DT05ORUNUU0lHTix5Yy5NRVRBTUFTS19DT05ORUNUV0lUSF0sTj0hRWNbbl0sRD1udWxsPT09KGg9YS5vcHRpb25zLnJlYWRvbmx5UlBDTWFwKXx8dm9pZCAwPT09aD92b2lkIDA6aFtSXTtpZihEJiZOKXRyeXtjb25zdCB0PW51bGw9PT0oZj1udWxsPT1yP3ZvaWQgMDpyWzBdKXx8dm9pZCAwPT09Zj92b2lkIDA6Zi5wYXJhbXMsaT15aWVsZCgoe3JwY0VuZHBvaW50OnQsbWV0aG9kOm4sc2RrSW5mbzpyLHBhcmFtczppfSk9Pmwodm9pZCAwLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2NvbnN0IG89SlNPTi5zdHJpbmdpZnkoe2pzb25ycGM6XCIyLjBcIixtZXRob2Q6bixwYXJhbXM6aSxpZDooRGMrPTEsRGMpfSkscz17QWNjZXB0OlwiYXBwbGljYXRpb24vanNvblwiLFwiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCJ9O2xldCBhO3QuaW5jbHVkZXMoXCJpbmZ1cmFcIikmJihzW1wiTWV0YW1hc2stU2RrLUluZm9cIl09cik7dHJ5e2E9eWllbGQgZSh0LHttZXRob2Q6XCJQT1NUXCIsaGVhZGVyczpzLGJvZHk6b30pfWNhdGNoKGUpe3Rocm93IGUgaW5zdGFuY2VvZiBFcnJvcj9uZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBmcm9tIFJQQzogJHtlLm1lc3NhZ2V9YCk6bmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggZnJvbSBSUEM6ICR7ZX1gKX1pZighYS5vayl0aHJvdyBuZXcgRXJyb3IoYFNlcnZlciByZXNwb25kZWQgd2l0aCBhIHN0YXR1cyBvZiAke2Euc3RhdHVzfWApO3JldHVybih5aWVsZCBhLmpzb24oKSkucmVzdWx0fSkpKSh7cnBjRW5kcG9pbnQ6RCxzZGtJbmZvOmcsbWV0aG9kOm4scGFyYW1zOnR8fFtdfSk7cmV0dXJuIGQmJlJhKGBpbml0aWFsaXplUHJvdmlkZXI6OlJlYWRPbmx5UlBDUmVzcG9uc2UgJHtpfWApLGl9Y2F0Y2goZSl7Y29uc29sZS53YXJuKGBbaW5pdGlhbGl6ZU1vYmlsZVByb3ZpZGVyOiBzZW5kUmVxdWVzdCgpXSBtZXRob2Q9JHtufSByZWFkT25seVJQQ1JlcXVlc3QgZmFpbGVkOmAsZSl9aWYoKCFBfHxBJiYhVCkmJm4hPT15Yy5NRVRBTUFTS19HRVRQUk9WSURFUlNUQVRFKXtjb25zdCBlPShudWxsPT09KHA9bnVsbD09cj92b2lkIDA6clswXSl8fHZvaWQgMD09PXA/dm9pZCAwOnAucGFyYW1zKXx8W107aWYoLTEhPT1PLmluZGV4T2Yobil8fHQpe18oITApO2NvbnN0IHQ9bj09PXljLk1FVEFNQVNLX0NPTk5FQ1RXSVRILG89YCR7RGF0ZS5ub3coKX1gO3RyeXt5aWVsZCBzLnN0YXJ0KHt3YWl0OiExLGNvbm5lY3RXaXRoOnQ/e21ldGhvZDpuLGlkOm8scGFyYW1zOmV9OnZvaWQgMH0pLHlpZWxkIG5ldyBQcm9taXNlKCgoZSx0KT0+eyhudWxsPT1jP3ZvaWQgMDpjLmlzQXV0aG9yaXplZCgpKSYmKFJhKFwiW2luaXRpYWxpemVNb2JpbGVQcm92aWRlcjogc2VuZFJlcXVlc3QoKV0gYWxyZWFkeSBhdXRob3JpemVkXCIpLGUoITApKSxudWxsPT1jfHxjLmdldENvbm5lY3RvcigpLm9uY2UoZXhwb3J0cy5FdmVudFR5cGUuQVVUSE9SSVpFRCwoKCk9PntlKCEwKX0pKSxhLm9uY2UoZXhwb3J0cy5FdmVudFR5cGUuUFJPVklERVJfVVBEQVRFLChlPT57UmEoYFtpbml0aWFsaXplTW9iaWxlUHJvdmlkZXI6IHNlbmRSZXF1ZXN0KCldIFBST1ZJREVSX1VQREFURSAtLS0gcmVtb3RlIHByb3ZpZGVyIHJlcXVlc3QgaW50ZXJ1cHRlZCB0eXBlPSR7ZX1gKSxlPT09ZXhwb3J0cy5QUk9WSURFUl9VUERBVEVfVFlQRS5FWFRFTlNJT04/dChleHBvcnRzLkV2ZW50VHlwZS5QUk9WSURFUl9VUERBVEUpOnQobmV3IEVycm9yKFwiQ29ubmVjdGlvbiBUZXJtaW5hdGVkXCIpKX0pKX0pKX1jYXRjaCh0KXtpZihleHBvcnRzLlBST1ZJREVSX1VQREFURV9UWVBFLkVYVEVOU0lPTj09PXQpe2lmKFJhKGBbaW5pdGlhbGl6ZU1vYmlsZVByb3ZpZGVyOiBzZW5kUmVxdWVzdCgpXSBleHRlbnNpb24gcHJvdmlkZXIgZGV0ZWN0OiByZS1jcmVhdGUgJHtufSBvbiB0aGUgYWN0aXZlIHByb3ZpZGVyYCksbi50b0xvd2VyQ2FzZSgpPT09eWMuTUVUQU1BU0tfQ09OTkVDVFNJR04udG9Mb3dlckNhc2UoKSl7Y29uc3QgdD15aWVsZCBudWxsPT09KG09YS5nZXRQcm92aWRlcigpKXx8dm9pZCAwPT09bT92b2lkIDA6bS5yZXF1ZXN0KHttZXRob2Q6eWMuRVRIX1JFUVVFU1RBQ0NPVU5UUyxwYXJhbXM6W119KTtpZighdC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiU0RLIHN0YXRlIGludmFsaWQgLS0gdW5kZWZpbmVkIGFjY291bnRzXCIpO2NvbnN0IG49eWllbGQgbnVsbD09PShiPWEuZ2V0UHJvdmlkZXIoKSl8fHZvaWQgMD09PWI/dm9pZCAwOmIucmVxdWVzdCh7bWV0aG9kOnljLlBFUlNPTkFMX1NJR04scGFyYW1zOltlWzBdLHRbMF1dfSk7cmV0dXJuIGEuZW1pdChzYy5Db25uZWN0V2l0aFJlc3BvbnNlLG4pLG59aWYobi50b0xvd2VyQ2FzZSgpPT09eWMuTUVUQU1BU0tfQ09OTkVDVFdJVEgudG9Mb3dlckNhc2UoKSl7Y29uc3RbdF09ZSxuPXlpZWxkKCh7bWV0aG9kOmUsc2RrOnQscGFyYW1zOm59KT0+bCh2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7dmFyIHIsaSxvLHM7aWYoIXQuaXNFeHRlbnNpb25BY3RpdmUoKSl0aHJvdyBuZXcgRXJyb3IoXCJTREsgc3RhdGUgaW52YWxpZCAtLSBleHRlbnNpb24gaXMgbm90IGFjdGl2ZVwiKTtSYShcIltNZXRhTWFza1Byb3ZpZGVyOiBleHRlbnNpb25Db25uZWN0V2l0aE92ZXJ3cml0ZSgpXSBPdmVyd3JpdGluZyByZXF1ZXN0IG1ldGhvZFwiLGUsbik7Y29uc3QgYT15aWVsZCBudWxsPT09KHI9dC5nZXRQcm92aWRlcigpKXx8dm9pZCAwPT09cj92b2lkIDA6ci5yZXF1ZXN0KHttZXRob2Q6eWMuRVRIX1JFUVVFU1RBQ0NPVU5UUyxwYXJhbXM6W119KTtpZighYS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiU0RLIHN0YXRlIGludmFsaWQgLS0gdW5kZWZpbmVkIGFjY291bnRzXCIpO2lmKChudWxsPT1lP3ZvaWQgMDplLnRvTG93ZXJDYXNlKCkpPT09eWMuUEVSU09OQUxfU0lHTi50b0xvd2VyQ2FzZSgpKXtjb25zdCByPXttZXRob2Q6ZSxwYXJhbXM6W25bMF0sYVswXV19O3JldHVybiB5aWVsZCBudWxsPT09KGk9dC5nZXRQcm92aWRlcigpKXx8dm9pZCAwPT09aT92b2lkIDA6aS5yZXF1ZXN0KHIpfWlmKChudWxsPT1lP3ZvaWQgMDplLnRvTG93ZXJDYXNlKCkpPT09eWMuRVRIX1NFTkRUUkFOU0FDVElPTi50b0xvd2VyQ2FzZSgpKXtjb25zdCByPXttZXRob2Q6ZSxwYXJhbXM6W09iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxuWzBdKSx7ZnJvbTphWzBdfSldfTtyZXR1cm4geWllbGQgbnVsbD09PShvPXQuZ2V0UHJvdmlkZXIoKSl8fHZvaWQgMD09PW8/dm9pZCAwOm8ucmVxdWVzdChyKX1yZXR1cm4gd2MuaW5jbHVkZXMoZS50b0xvd2VyQ2FzZSgpKT8oY29uc29sZS53YXJuKGBNZXRhTWFza1NESyBjb25uZWN0V2l0aCBtZXRob2Q9JHtlfSAtLSBub3QgaGFuZGxlZCBieSB0aGUgZXh0ZW5zaW9uIC0tIGNhbGwgc2VwYXJhdGVseWApLGEpOnlpZWxkIG51bGw9PT0ocz10LmdldFByb3ZpZGVyKCkpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLnJlcXVlc3Qoe21ldGhvZDplLHBhcmFtczpufSl9KSkpKHttZXRob2Q6dC5tZXRob2Qsc2RrOmEscGFyYW1zOnQucGFyYW1zfSk7cmV0dXJuIGEuZW1pdChzYy5Db25uZWN0V2l0aFJlc3BvbnNlLG4pLG59cmV0dXJuIFJhKGBbaW5pdGlhbGl6ZU1vYmlsZVByb3ZpZGVyOiBzZW5kUmVxdWVzdCgpXSBzZW5kaW5nICcke259JyBvbiBhY3RpdmUgcHJvdmlkZXJgLGUpLHlpZWxkIG51bGw9PT0odz1hLmdldFByb3ZpZGVyKCkpfHx2b2lkIDA9PT13P3ZvaWQgMDp3LnJlcXVlc3Qoe21ldGhvZDpuLHBhcmFtczplfSl9aWYodD09PWV4cG9ydHMuRXZlbnRUeXBlLlJFSkVDVEVEKXRocm93IG51bGw9PWN8fGMuY2xvc2VNb2RhbCgpLG51bGw9PT0oeD1hLmdldFByb3ZpZGVyKCkpfHx2b2lkIDA9PT14fHx4LmhhbmRsZURpc2Nvbm5lY3Qoe3Rlcm1pbmF0ZTohMX0pLE9iamVjdC5hc3NpZ24obmV3IEVycm9yKFwiVXNlciByZWplY3RlZCBjb25uZWN0aW9uXCIpLHtjb2RlOjQwMDF9KTt0aHJvdyBSYShgW2luaXRpYWxpemVNb2JpbGVQcm92aWRlcjogc2VuZFJlcXVlc3QoKV0gZmFpbGVkIHRvIHN0YXJ0IGluc3RhbGxlcjogJHt0fWApLHR9ZmluYWxseXtfKCExKX1pZihuPT09eWMuRVRIX1JFUVVFU1RBQ0NPVU5UUylyZXR1cm4gUD15aWVsZCBuZXcgUHJvbWlzZSgoZT0+e2NvbnN0IHQ9c2V0SW50ZXJ2YWwoKCgpPT57Y29uc3R7YWNjb3VudHM6bn09TS5nZXRTdGF0ZSgpO24mJihjbGVhckludGVydmFsKHQpLGUobikpfSksMTAwKX0pKSxSYShgW2luaXRpYWxpemVNb2JpbGVQcm92aWRlcjogc2VuZFJlcXVlc3QoKV0gc2VsZWN0ZWRBZGRyZXNzOiAke0l9IC0tLSBTS0lQIHJwYyBjYWxsYCksUDtpZihuPT09eWMuTUVUQU1BU0tfQ09OTkVDVFdJVEgpdHJ5e2xldCBlPTA7Y29uc3QgdD01LG49KHtyZXNvbHZlOm4scmVqZWN0OnJ9KT0+e2UrPTE7Y29uc3QgaT1udWxsPT1jP3ZvaWQgMDpjLmdldENvbm5lY3RvcigpLmdldFJQQ01ldGhvZFRyYWNrZXIoKSxzPW51bGw9PWk/dm9pZCAwOmlbb107cmV0dXJuIFJhKGBUUkFDS0VSOiB1cGRhdGUgbWV0aG9kICR7b31gLHMpLChudWxsPT1zP3ZvaWQgMDpzLnJlc3VsdCk/KFJhKFwiW2luaXRpYWxpemVNb2JpbGVQcm92aWRlcjogc2VuZFJlcXVlc3QoKV0gZm91bmQgcmVzdWx0XCIscy5yZXN1bHQpLGEuZW1pdChzYy5Db25uZWN0V2l0aFJlc3BvbnNlLHMucmVzdWx0KSx2b2lkIG4ocy5yZXN1bHQpKToobnVsbD09cz92b2lkIDA6cy5lcnJvcik/KFJhKFwiW2luaXRpYWxpemVNb2JpbGVQcm92aWRlcjogc2VuZFJlcXVlc3QoKV0gZm91bmQgZXJyb3JcIixzLmVycm9yKSx2b2lkIHIocy5lcnJvcikpOmU+PXQ/KFJhKFwiW2luaXRpYWxpemVNb2JpbGVQcm92aWRlcjogc2VuZFJlcXVlc3QoKV0gbWF4IG1lc3NhZ2UgY291bnQgcmVhY2hlZCB3aXRob3V0IHJlc3VsdFwiKSx2b2lkIHIobmV3IEVycm9yKFwiTWF4IG1lc3NhZ2UgY291bnQgcmVhY2hlZCB3aXRob3V0IHJlc3VsdFwiKSkpOnZvaWQgUmEoXCJbaW5pdGlhbGl6ZU1vYmlsZVByb3ZpZGVyOiBzZW5kUmVxdWVzdCgpXSBub3QgZm91bmQgeWV0LCBuZWVkIHRvIHdhaXQgZm9yIG5leHQgdXBkYXRlXCIpfTtsZXQgcixpO2NvbnN0IHM9eWllbGQgbmV3IFByb21pc2UoKChlLHQpPT57Y29uc3Qgcz1udWxsPT1jP3ZvaWQgMDpjLmdldENvbm5lY3RvcigpLmdldFJQQ01ldGhvZFRyYWNrZXIoKTtSYShgVFJBQ0tFUjogbWV0aG9kICR7b31gLHMpLChudWxsPT1zP3ZvaWQgMDpzW29dLnJlc3VsdCk/KFJhKFwiW2luaXRpYWxpemVNb2JpbGVQcm92aWRlcjogc2VuZFJlcXVlc3QoKV0gZm91bmQgcmVzdWx0XCIsbnVsbD09cz92b2lkIDA6c1tvXS5yZXN1bHQpLGUobnVsbD09cz92b2lkIDA6c1tvXS5yZXN1bHQpKToobnVsbD09cz92b2lkIDA6c1tvXS5lcnJvcikmJihSYShcIltpbml0aWFsaXplTW9iaWxlUHJvdmlkZXI6IHNlbmRSZXF1ZXN0KCldIGZvdW5kIGVycm9yXCIsbnVsbD09cz92b2lkIDA6c1tvXS5lcnJvciksdChudWxsPT1zP3ZvaWQgMDpzW29dLmVycm9yKSksaT0oKT0+bih7cmVzb2x2ZTplLHJlamVjdDp0fSkscj1udWxsPT1jP3ZvaWQgMDpjLmdldENvbm5lY3RvcigpLm9uKGV4cG9ydHMuRXZlbnRUeXBlLlJQQ19VUERBVEUsaSl9KSk7cmV0dXJuIGkmJihudWxsPT1yfHxyLm9mZihleHBvcnRzLkV2ZW50VHlwZS5SUENfVVBEQVRFLGkpKSxSYShcIlRSQUNLRVI6IHJlc3VsdFwiLHMpLHN9Y2F0Y2goZSl7dGhyb3cgUmEoXCJbaW5pdGlhbGl6ZU1vYmlsZVByb3ZpZGVyOiBzZW5kUmVxdWVzdCgpXSBlcnJvcjpcIixlKSxlfXJbMF0mJlwib2JqZWN0XCI9PXR5cGVvZiByWzBdJiYoclswXS5wYXJhbXM9e19fdHJpZ2dlcmVkSW5zdGFsbGVyOiEwLHdyYXBwZWRQYXJhbXM6clswXS5wYXJhbXN9KTtyZXR1cm4gaSguLi5yKX1pZihvLmlzU2VjdXJlKCkmJkVjW25dKXJldHVybiBpKC4uLnIpO2lmKGEuaXNFeHRlbnNpb25BY3RpdmUoKSlyZXR1cm4gUmEoYFtpbml0aWFsaXplTW9iaWxlUHJvdmlkZXI6IHNlbmRSZXF1ZXN0KCldIEVYVEVOU0lPTiBhY3RpdmUgLSByZWRpcmVjdCByZXF1ZXN0ICcke259JyB0byBpdGAscixlKSx5aWVsZCBudWxsPT09KGs9YS5nZXRQcm92aWRlcigpKXx8dm9pZCAwPT09az92b2lkIDA6ay5yZXF1ZXN0KHttZXRob2Q6bixwYXJhbXM6ZX0pO3Rocm93IFJhKGBbaW5pdGlhbGl6ZU1vYmlsZVByb3ZpZGVyOiBzZW5kUmVxdWVzdCgpXSBtZXRob2Q9JHtufSAtLS0gc2tpcCAtLS0gbm90IGNvbm5lY3RlZC9pbnN0YWxsZWRgKSxuZXcgRXJyb3IoXCJNZXRhTWFzayBpcyBub3QgY29ubmVjdGVkL2luc3RhbGxlZCwgcGxlYXNlIGNhbGwgZXRoX3JlcXVlc3RBY2NvdW50cyB0byBjb25uZWN0IGZpcnN0LlwiKX10cnl7Y29uc3QgZT15aWVsZCBpKC4uLnIpO2lmKFJhKGBbaW5pdGlhbGl6ZU1vYmlsZVByb3ZpZGVyOiBzZW5kUmVxdWVzdCgpXSBtZXRob2Q9JHtufSBycGNSZXNwb25zZWAsZSksbj09PXljLldBTExFVF9SRVFVRVNUUEVSTUlTU0lPTlMpe2NvbnN0IHQ9ZS5yZWR1Y2UoKChlLHQpPT57dmFyIG47aWYoXCJldGhfYWNjb3VudHNcIj09PXQucGFyZW50Q2FwYWJpbGl0eSl7Y29uc3Qgcj1udWxsPT09KG49dC5jYXZlYXRzLmZpbmQoKGU9PlwicmVzdHJpY3RSZXR1cm5lZEFjY291bnRzXCI9PT1lLnR5cGUpKSl8fHZvaWQgMD09PW4/dm9pZCAwOm4udmFsdWU7ciYmZS5wdXNoKC4uLnIpfXJldHVybiBlfSksW10pO1JhKFwiW2luaXRpYWxpemVNb2JpbGVQcm92aWRlcjogc2VuZFJlcXVlc3QoKV0gYWNjb3VudHNUb1BlcnNpc3Q6XCIsdCksdC5sZW5ndGg+MCYmKE0uaGFuZGxlQWNjb3VudHNDaGFuZ2VkKHQsITEpLG51bGw9PUV8fEUucGVyc2lzdEFjY291bnRzKHQpKX1yZXR1cm4gZX1jYXRjaChlKXt0aHJvdyBjb25zb2xlLmVycm9yKFwiW2luaXRpYWxpemVNb2JpbGVQcm92aWRlcjogc2VuZFJlcXVlc3QoKV0gZXJyb3I6XCIsZSksZX19KSkse3JlcXVlc3Q6a309dzt3LnJlcXVlc3Q9KC4uLmUpPT5sKHZvaWQgMCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtyZXR1cm4geChudWxsPT1lP3ZvaWQgMDplWzBdLm1ldGhvZCxlLGssZCl9KSk7Y29uc3R7c2VuZDpNfT13O3JldHVybiB3LnNlbmQ9KC4uLmUpPT5sKHZvaWQgMCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtyZXR1cm4geChudWxsPT1lP3ZvaWQgMDplWzBdLGUsTSxkKX0pKSxSYShcIltpbml0aWFsaXplTW9iaWxlUHJvdmlkZXI6IHNlbmRSZXF1ZXN0KCldIG1ldGFtYXNrU3RyZWFtLnN0YXJ0KClcIiksZi5zdGFydCgpLHd9KSk7ZnVuY3Rpb24gS2MoZSl7dmFyIHQsbixyLGk7cmV0dXJuIGwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtjb25zdHtvcHRpb25zOm99PWUscz17Y29tbXVuaWNhdGlvbkxheWVyUHJlZmVyZW5jZTpudWxsIT09KHQ9by5jb21tdW5pY2F0aW9uTGF5ZXJQcmVmZXJlbmNlKSYmdm9pZCAwIT09dD90OmV4cG9ydHMuQ29tbXVuaWNhdGlvbkxheWVyUHJlZmVyZW5jZS5TT0NLRVQscGxhdGZvcm1NYW5hZ2VyOmUucGxhdGZvcm1NYW5hZ2VyLHNkazplLGNoZWNrSW5zdGFsbGF0aW9uT25BbGxDYWxsczpvLmNoZWNrSW5zdGFsbGF0aW9uT25BbGxDYWxscyxpbmplY3RQcm92aWRlcjpudWxsPT09KG49by5pbmplY3RQcm92aWRlcil8fHZvaWQgMD09PW58fG4sc2hvdWxkU2hpbVdlYjM6bnVsbD09PShyPW8uc2hvdWxkU2hpbVdlYjMpfHx2b2lkIDA9PT1yfHxyLGV4dGVuc2lvbk9ubHk6bnVsbD09PShpPW8uZXh0ZW5zaW9uT25seSl8fHZvaWQgMD09PWl8fGksaW5zdGFsbGVyOmUuaW5zdGFsbGVyLHJlbW90ZUNvbm5lY3Rpb246ZS5yZW1vdGVDb25uZWN0aW9uLGRlYnVnOmUuZGVidWd9LGE9eWllbGQgQmMocyk7ZS5hY3RpdmVQcm92aWRlcj1hLGZ1bmN0aW9uKGUpe3ZhciB0LG4scixpO251bGw9PT0obj1udWxsPT09KHQ9ZS5yZW1vdGVDb25uZWN0aW9uKXx8dm9pZCAwPT09dD92b2lkIDA6dC5nZXRDb25uZWN0b3IoKSl8fHZvaWQgMD09PW58fG4ub24oc2MuQ29ubmVjdGlvblN0YXR1cywodD0+e2UuZW1pdChzYy5Db25uZWN0aW9uU3RhdHVzLHQpfSkpLG51bGw9PT0oaT1udWxsPT09KHI9ZS5yZW1vdGVDb25uZWN0aW9uKXx8dm9pZCAwPT09cj92b2lkIDA6ci5nZXRDb25uZWN0b3IoKSl8fHZvaWQgMD09PWl8fGkub24oc2MuU2VydmljZVN0YXR1cywodD0+e2UuZW1pdChzYy5TZXJ2aWNlU3RhdHVzLHQpfSkpfShlKX0pKX1jb25zdCBqYz1cInNka1wiO2NsYXNzICRje2NvbnN0cnVjdG9yKHtzZXJ2ZXJVcmw6ZSxlbmFibGVkOnQsb3JpZ2luYXRvckluZm86bn0pe3RoaXMuc2VydmVyVVJMPW5yLHRoaXMuc2VydmVyVVJMPWUsdGhpcy5vcmlnaW5hdG9ySW5mbz1uLHRoaXMuZW5hYmxlZD1udWxsPT10fHx0fXNlbmQoe2V2ZW50OmUscGFyYW1zOnR9KXtpZighdGhpcy5lbmFibGVkKXJldHVybjtjb25zdCBuPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7aWQ6amMsZXZlbnQ6ZSxzZGtWZXJzaW9uOmhjLnZlcnNpb259LHRoaXMub3JpZ2luYXRvckluZm8pLHtwYXJhbXM6dH0pO1JhKGBbQW5hbHl0aWNzOiBzZW5kKCldIGV2ZW50OiAke2V9YCxuKSxYbihuLHRoaXMuc2VydmVyVVJMKS5jYXRjaCgoZT0+e1JhKGBbQW5hbHl0aWNzOiBzZW5kKCldIGVycm9yOiAke2V9YCl9KSl9fWNvbnN0IEhjPSgpPT57aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGRvY3VtZW50KXJldHVybjtsZXQgZTtjb25zdCB0PWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwibGlua1wiKTtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKylcImljb25cIiE9PXRbbl0uZ2V0QXR0cmlidXRlKFwicmVsXCIpJiZcInNob3J0Y3V0IGljb25cIiE9PXRbbl0uZ2V0QXR0cmlidXRlKFwicmVsXCIpfHwoZT10W25dLmdldEF0dHJpYnV0ZShcImhyZWZcIikpO3JldHVybiBlfSxVYz0xNjM0MDA7ZnVuY3Rpb24gRmMoZSl7dmFyIHQsbixyO2NvbnN0e2RhcHBNZXRhZGF0YTppfT1lLHM9ZnVuY3Rpb24oe3VybDplLG5hbWU6dH0pe3ZhciBuO2NvbnN0IHI9ZSt0LGk9UmMocik7aWYoIWxvY2FsU3RvcmFnZSlyZXR1cm5cIlwiO2xldCBzPW51bGwhPT0obj1sb2NhbFN0b3JhZ2UuZ2V0SXRlbShpKSkmJnZvaWQgMCE9PW4/bjpcIlwiO2lmKCFzKXtzPW8udjQoKTt0cnl7bG9jYWxTdG9yYWdlLnNldEl0ZW0oaSxzKX1jYXRjaChlKXtyZXR1cm5cIlwifX1yZXR1cm4gc30oe3VybDpudWxsIT09KHQ9bnVsbD09aT92b2lkIDA6aS51cmwpJiZ2b2lkIDAhPT10P3Q6XCJub191cmxcIixuYW1lOm51bGwhPT0obj1udWxsPT1pP3ZvaWQgMDppLm5hbWUpJiZ2b2lkIDAhPT1uP246XCJub19uYW1lXCJ9KSxhPW51bGw9PT0ocj1lLnBsYXRmb3JtTWFuYWdlcil8fHZvaWQgMD09PXI/dm9pZCAwOnIuZ2V0UGxhdGZvcm1UeXBlKCksYz1hPT09ZXhwb3J0cy5QbGF0Zm9ybVR5cGUuRGVza3RvcFdlYixkPWE9PT1leHBvcnRzLlBsYXRmb3JtVHlwZS5NZXRhTWFza01vYmlsZVdlYnZpZXc7bGV0IGw9XCJOL0FcIjtyZXR1cm4gYz9sPVwiZXh0ZW5zaW9uXCI6ZCYmKGw9XCJtb2JpbGVcIikse2lkOnMsZnJvbTpsfX1jb25zdCBxYz0oe3Byb3ZpZGVyOmUsc2RrSW5zdGFuY2U6dH0pPT57aWYoXCJzdGF0ZVwiaW4gZSl0aHJvdyBuZXcgRXJyb3IoXCJJTlZBTElEIEVYVEVOU0lPTiBQUk9WSURFUlwiKTtyZXR1cm4gbmV3IFByb3h5KGUse2dldDoobixyKT0+XCJyZXF1ZXN0XCI9PT1yP2Z1bmN0aW9uKGUpe3ZhciByLGk7cmV0dXJuIGwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtSYShcIlt3cmFwRXh0ZW5zaW9uUHJvdmlkZXIoKV0gT3ZlcndyaXRpbmcgcmVxdWVzdCBtZXRob2RcIixlKTtjb25zdHttZXRob2Q6byxwYXJhbXM6c309ZSxhPWJjLmluY2x1ZGVzKG8udG9Mb3dlckNhc2UoKSkse2lkOmMsZnJvbTpkfT1GYyh0KTtpZihhJiYobnVsbD09PShyPXQuYW5hbHl0aWNzKXx8dm9pZCAwPT09cnx8ci5zZW5kKHtldmVudDpsci5TREtfUlBDX1JFUVVFU1QscGFyYW1zOnttZXRob2Q6byxmcm9tOmQsaWQ6Y319KSksbz09PXljLk1FVEFNQVNLX0JBVENIJiZBcnJheS5pc0FycmF5KHMpKXJldHVybigoe3RhcmdldDplLGFyZ3M6dCx0cmFja0V2ZW50Om4sc2RrSW5zdGFuY2U6cn0pPT5sKHZvaWQgMCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXt2YXIgaSxvO2lmKFwibWV0YW1hc2tfYmF0Y2hcIiE9PXQubWV0aG9kKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdXNhZ2VcIik7Y29uc3Qgcz1bXSxhPW51bGwhPT0oaT1udWxsPT10P3ZvaWQgMDp0LnBhcmFtcykmJnZvaWQgMCE9PWk/aTpbXTtmb3IoY29uc3QgdCBvZiBhKXtjb25zdCBuPXlpZWxkIG51bGw9PWU/dm9pZCAwOmUucmVxdWVzdCh7bWV0aG9kOnQubWV0aG9kLHBhcmFtczp0LnBhcmFtc30pO3MucHVzaChuKX1jb25zdHtpZDpjLGZyb206ZH09RmMocik7cmV0dXJuIG4mJihudWxsPT09KG89ci5hbmFseXRpY3MpfHx2b2lkIDA9PT1vfHxvLnNlbmQoe2V2ZW50OmxyLlNES19SUENfUkVRVUVTVF9ET05FLHBhcmFtczp7bWV0aG9kOnQubWV0aG9kLGZyb206ZCxpZDpjfX0pKSxzfSkpKSh7dGFyZ2V0Om4sYXJnczplLHRyYWNrRXZlbnQ6YSxzZGtJbnN0YW5jZTp0fSk7aWYoby50b0xvd2VyQ2FzZSgpPT09eWMuTUVUQU1BU0tfQ09OTkVDVFNJR04udG9Mb3dlckNhc2UoKSYmQXJyYXkuaXNBcnJheShzKSlyZXR1cm4oKHt0YXJnZXQ6ZSxwYXJhbXM6dH0pPT5sKHZvaWQgMCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtjb25zdCBuPXlpZWxkIGUucmVxdWVzdCh7bWV0aG9kOnljLkVUSF9SRVFVRVNUQUNDT1VOVFMscGFyYW1zOltdfSk7aWYoIW4ubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIlNESyBzdGF0ZSBpbnZhbGlkIC0tIHVuZGVmaW5lZCBhY2NvdW50c1wiKTtyZXR1cm4geWllbGQgZS5yZXF1ZXN0KHttZXRob2Q6eWMuUEVSU09OQUxfU0lHTixwYXJhbXM6W3RbMF0sblswXV19KX0pKSkoe3RhcmdldDpuLHBhcmFtczpzfSk7aWYoby50b0xvd2VyQ2FzZSgpPT09eWMuTUVUQU1BU0tfQ09OTkVDVFdJVEgudG9Mb3dlckNhc2UoKSYmQXJyYXkuaXNBcnJheShzKSlyZXR1cm4oKHt0YXJnZXQ6ZSxwYXJhbXM6dH0pPT5sKHZvaWQgMCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtjb25zdFtuXT10LHI9bi5tZXRob2QsaT1uLnBhcmFtcyxvPXlpZWxkIGUucmVxdWVzdCh7bWV0aG9kOnljLkVUSF9SRVFVRVNUQUNDT1VOVFMscGFyYW1zOltdfSk7aWYoIW8ubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIlNESyBzdGF0ZSBpbnZhbGlkIC0tIHVuZGVmaW5lZCBhY2NvdW50c1wiKTtyZXR1cm4obnVsbD09cj92b2lkIDA6ci50b0xvd2VyQ2FzZSgpKT09PXljLlBFUlNPTkFMX1NJR04udG9Mb3dlckNhc2UoKT95aWVsZCBlLnJlcXVlc3Qoe21ldGhvZDpyLHBhcmFtczpbaVswXSxvWzBdXX0pOihudWxsPT1yP3ZvaWQgMDpyLnRvTG93ZXJDYXNlKCkpPT09eWMuRVRIX1NFTkRUUkFOU0FDVElPTi50b0xvd2VyQ2FzZSgpP3lpZWxkIGUucmVxdWVzdCh7bWV0aG9kOnIscGFyYW1zOltPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30saVswXSkse2Zyb206b1swXX0pXX0pOndjLmluY2x1ZGVzKHIudG9Mb3dlckNhc2UoKSk/KGNvbnNvbGUud2FybihgTWV0YU1hc2tTREsgY29ubmVjdFdpdGggbWV0aG9kPSR7cn0gLS0gbm90IGhhbmRsZWQgYnkgdGhlIGV4dGVuc2lvbiAtLSBjYWxsIHNlcGFyYXRlbHlgKSxvKTp5aWVsZCBlLnJlcXVlc3Qoe21ldGhvZDpyLHBhcmFtczppfSl9KSkpKHt0YXJnZXQ6bixwYXJhbXM6c30pO2xldCB1O3RyeXtyZXR1cm4gdT15aWVsZCBuLnJlcXVlc3QoZSksdX1maW5hbGx5e2EmJihudWxsPT09KGk9dC5hbmFseXRpY3MpfHx2b2lkIDA9PT1pfHxpLnNlbmQoe2V2ZW50OmxyLlNES19SUENfUkVRVUVTVF9ET05FLHBhcmFtczp7bWV0aG9kOm8sZnJvbTpkLGlkOmN9fSkpfX0pKX06XCJnZXRDaGFpbklkXCI9PT1yP2Z1bmN0aW9uKCl7cmV0dXJuIGUuY2hhaW5JZH06XCJnZXROZXR3b3JrVmVyc2lvblwiPT09cj9mdW5jdGlvbigpe3JldHVybiBlLm5ldHdvcmtWZXJzaW9ufTpcImdldFNlbGVjdGVkQWRkcmVzc1wiPT09cj9mdW5jdGlvbigpe3JldHVybiBlLnNlbGVjdGVkQWRkcmVzc306XCJpc0Nvbm5lY3RlZFwiPT09cj9mdW5jdGlvbigpe3JldHVybiBlLl9zdGF0ZS5pc0Nvbm5lY3RlZH06bltyXX0pfTt2YXIgemM7ZnVuY3Rpb24gV2Moe211c3RCZU1ldGFNYXNrOmUsc2RrSW5zdGFuY2U6dH0pe3JldHVybiBsKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvdyl0aHJvdyBuZXcgRXJyb3IoXCJ3aW5kb3cgbm90IGF2YWlsYWJsZVwiKTt0cnl7Y29uc3QgZT15aWVsZCBuZXcgUHJvbWlzZSgoKGUsdCk9Pntjb25zdCBuPXNldFRpbWVvdXQoKCgpPT57dChuZXcgRXJyb3IoXCJlaXA2OTYzUmVxdWVzdFByb3ZpZGVyIHRpbWVkIG91dFwiKSl9KSw1MDApO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKHpjLkFubm91bmNlLCh0PT57Y29uc3Qgcj10LHtkZXRhaWw6e2luZm86aSxwcm92aWRlcjpvfT17fX09cix7bmFtZTpzLHJkbnM6YSx1dWlkOmN9PW51bGwhPWk/aTp7fTt2Yy50ZXN0KGMpJiZzLnN0YXJ0c1dpdGgoZ2MuTkFNRSkmJmdjLlJETlMuaW5jbHVkZXMoYSkmJihjbGVhclRpbWVvdXQobiksZShvKSl9KSksd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KHpjLlJlcXVlc3QpKX0pKTtyZXR1cm4gcWMoe3Byb3ZpZGVyOmUsc2RrSW5zdGFuY2U6dH0pfWNhdGNoKG4pe2lmKCFlJiZ3aW5kb3cuZXRoZXJldW0pcmV0dXJuIHFjKHtwcm92aWRlcjp3aW5kb3cuZXRoZXJldW0sc2RrSW5zdGFuY2U6dH0pO3Rocm93IG5ldyBFcnJvcihcIlByb3ZpZGVyIG5vdCBmb3VuZFwiKX19KSl9IWZ1bmN0aW9uKGUpe2UuQW5ub3VuY2U9XCJlaXA2OTYzOmFubm91bmNlUHJvdmlkZXJcIixlLlJlcXVlc3Q9XCJlaXA2OTYzOnJlcXVlc3RQcm92aWRlclwifSh6Y3x8KHpjPXt9KSk7Y29uc3QgVmM9ZT0+bCh2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7Y29uc3R7b3B0aW9uczp0fT1lLHtpbmZ1cmFBUElLZXk6bn09dDtpZighbilyZXR1cm47Y29uc3Qgcj17XCIweDFcIjpgaHR0cHM6Ly9tYWlubmV0LmluZnVyYS5pby92My8ke259YCxcIjB4NVwiOmBodHRwczovL2dvZXJsaS5pbmZ1cmEuaW8vdjMvJHtufWAsXCIweGFhMzZhN1wiOmBodHRwczovL3NlcG9saWEuaW5mdXJhLmlvL3YzLyR7bn1gLFwiMHhlNzA4XCI6YGh0dHBzOi8vbGluZWEtbWFpbm5ldC5pbmZ1cmEuaW8vdjMvJHtufWAsXCIweGU3MDRcIjpgaHR0cHM6Ly9saW5lYS1nb2VybGkuaW5mdXJhLmlvL3YzLyR7bn1gLFwiMHg4OVwiOmBodHRwczovL3BvbHlnb24tbWFpbm5ldC5pbmZ1cmEuaW8vdjMvJHtufWAsXCIweDEzODgxXCI6YGh0dHBzOi8vcG9seWdvbi1tdW1iYWkuaW5mdXJhLmlvL3YzLyR7bn1gLFwiMHg0NVwiOmBodHRwczovL29wdGltaXNtLW1haW5uZXQuaW5mdXJhLmlvL3YzLyR7bn1gLFwiMHgxYTRcIjpgaHR0cHM6Ly9vcHRpbWlzbS1nb2VybGkuaW5mdXJhLmlvL3YzLyR7bn1gLFwiMHhhNGIxXCI6YGh0dHBzOi8vYXJiaXRydW0tbWFpbm5ldC5pbmZ1cmEuaW8vdjMvJHtufWAsXCIweDY2ZWVkXCI6YGh0dHBzOi8vYXJiaXRydW0tZ29lcmxpLmluZnVyYS5pby92My8ke259YCxcIjB4MmExNWMzMDhkXCI6YGh0dHBzOi8vcGFsbS1tYWlubmV0LmluZnVyYS5pby92My8ke259YCxcIjB4MmExNWMzMDgzXCI6YGh0dHBzOi8vcGFsbS10ZXN0bmV0LmluZnVyYS5pby92My8ke259YCxcIjB4YTg2YVwiOmBodHRwczovL2F2YWxhbmNoZS1tYWlubmV0LmluZnVyYS5pby92My8ke259YCxcIjB4YTg2OVwiOmBodHRwczovL2F2YWxhbmNoZS1mdWppLmluZnVyYS5pby92My8ke259YCxcIjB4NGU0NTQxNTJcIjpgaHR0cHM6Ly9hdXJvcmEtbWFpbm5ldC5pbmZ1cmEuaW8vdjMvJHtufWAsXCIweDRlNDU0MTUzXCI6YGh0dHBzOi8vYXVyb3JhLXRlc3RuZXQuaW5mdXJhLmlvL3YzLyR7bn1gLFwiMHg1MzRlNWY0ZDQxNDk0ZVwiOmBodHRwczovL3N0YXJrbmV0LW1haW5uZXQuaW5mdXJhLmlvL3YzLyR7bn1gLFwiMHg1MzRlNWY0NzRmNDU1MjRjNDlcIjpgaHR0cHM6Ly9zdGFya25ldC1nb2VybGkuaW5mdXJhLmlvL3YzLyR7bn1gLFwiMHg1MzRlNWY0NzRmNDU1MjRjNDkzMlwiOmBodHRwczovL3N0YXJrbmV0LWdvZXJsaTIuaW5mdXJhLmlvL3YzLyR7bn1gLFwiMHhhNGVjXCI6YGh0dHBzOi8vY2Vsby1tYWlubmV0LmluZnVyYS5pby92My8ke259YCxcIjB4YWVmM1wiOmBodHRwczovL2NlbG8tYWxmYWpvcmVzLmluZnVyYS5pby92My8ke259YH07ZS5vcHRpb25zLnJlYWRvbmx5UlBDTWFwP2Uub3B0aW9ucy5yZWFkb25seVJQQ01hcD1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZS5vcHRpb25zLnJlYWRvbmx5UlBDTWFwKSxyKTplLm9wdGlvbnMucmVhZG9ubHlSUENNYXA9cn0pKTtjb25zdCBHYz1lPT5sKHZvaWQgMCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtjb25zdHtvcHRpb25zOnR9PWUse3JlYWRvbmx5UlBDTWFwOm59PXQ7aWYobil0cnl7UmEoXCJbTWV0YU1hc2tTREs6IHNldHVwUmVhZE9ubHlSUENQcm92aWRlcnMoKV0gU2V0dGluZyB1cCBSZWFkb25seSBSUEMgUHJvdmlkZXJzXCIsbiksZS5zZXRSZWFkT25seVJQQ0NhbGxzKCEwKX1jYXRjaChlKXt0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIEluZnVyYSBTZXR0aW5nc1wiKX19KSk7ZnVuY3Rpb24gWWMoZSx0LG4scil7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoKGZ1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gbyhlKXt0cnl7YShyLm5leHQoZSkpfWNhdGNoKGUpe2koZSl9fWZ1bmN0aW9uIHMoZSl7dHJ5e2Eoci50aHJvdyhlKSl9Y2F0Y2goZSl7aShlKX19ZnVuY3Rpb24gYShlKXt2YXIgcjtlLmRvbmU/dChlLnZhbHVlKToocj1lLnZhbHVlLHIgaW5zdGFuY2VvZiBuP3I6bmV3IG4oKGZ1bmN0aW9uKGUpe2Uocil9KSkpLnRoZW4obyxzKX1hKChyPXIuYXBwbHkoZSxbXSkpLm5leHQoKSl9KSl9ZnVuY3Rpb24gWmMoZSx0KXt2YXIgbixyLGksbyxzPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJmlbMF0pdGhyb3cgaVsxXTtyZXR1cm4gaVsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBvPXtuZXh0OmEoMCksdGhyb3c6YSgxKSxyZXR1cm46YSgyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYob1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxvO2Z1bmN0aW9uIGEobyl7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihvKXtpZihuKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7czspdHJ5e2lmKG49MSxyJiYoaT0yJm9bMF0/ci5yZXR1cm46b1swXT9yLnRocm93fHwoKGk9ci5yZXR1cm4pJiZpLmNhbGwociksMCk6ci5uZXh0KSYmIShpPWkuY2FsbChyLG9bMV0pKS5kb25lKXJldHVybiBpO3N3aXRjaChyPTAsaSYmKG89WzImb1swXSxpLnZhbHVlXSksb1swXSl7Y2FzZSAwOmNhc2UgMTppPW87YnJlYWs7Y2FzZSA0OnJldHVybiBzLmxhYmVsKysse3ZhbHVlOm9bMV0sZG9uZTohMX07Y2FzZSA1OnMubGFiZWwrKyxyPW9bMV0sbz1bMF07Y29udGludWU7Y2FzZSA3Om89cy5vcHMucG9wKCkscy50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoIShpPXMudHJ5cywoaT1pLmxlbmd0aD4wJiZpW2kubGVuZ3RoLTFdKXx8NiE9PW9bMF0mJjIhPT1vWzBdKSl7cz0wO2NvbnRpbnVlfWlmKDM9PT1vWzBdJiYoIWl8fG9bMV0+aVswXSYmb1sxXTxpWzNdKSl7cy5sYWJlbD1vWzFdO2JyZWFrfWlmKDY9PT1vWzBdJiZzLmxhYmVsPGlbMV0pe3MubGFiZWw9aVsxXSxpPW87YnJlYWt9aWYoaSYmcy5sYWJlbDxpWzJdKXtzLmxhYmVsPWlbMl0scy5vcHMucHVzaChvKTticmVha31pWzJdJiZzLm9wcy5wb3AoKSxzLnRyeXMucG9wKCk7Y29udGludWV9bz10LmNhbGwoZSxzKX1jYXRjaChlKXtvPVs2LGVdLHI9MH1maW5hbGx5e249aT0wfWlmKDUmb1swXSl0aHJvdyBvWzFdO3JldHVybnt2YWx1ZTpvWzBdP29bMV06dm9pZCAwLGRvbmU6ITB9fShbbyxhXSl9fX12YXIgSmM9XCJJTlNUQUxMRURcIixRYz1cIk5PVF9JTlNUQUxMRURcIixYYz1cIlJFR0lTVEVSRURcIixlZD1cIlJFR0lTVEVSSU5HXCIsdGQ9XCJSRUxPQURJTkdcIixuZD17Q0hST01FOlwiaHR0cHM6Ly9jaHJvbWUuZ29vZ2xlLmNvbS93ZWJzdG9yZS9kZXRhaWwvbWV0YW1hc2svbmtiaWhmYmVvZ2FlYW9laGxlZm5rb2RiZWZncGdrbm5cIixGSVJFRk9YOlwiaHR0cHM6Ly9hZGRvbnMubW96aWxsYS5vcmcvZmlyZWZveC9hZGRvbi9ldGhlci1tZXRhbWFzay9cIixERUZBVUxUOlwiaHR0cHM6Ly9tZXRhbWFzay5pb1wifSxyZD1cIlJFR0lTVFJBVElPTl9JTl9QUk9HUkVTU1wiLGlkPVwiRk9SV0FSREVSX0lEXCIsb2Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ZhciBuPXZvaWQgMD09PXQ/e306dCxyPW4uZm9yd2FyZGVyT3JpZ2luLGk9dm9pZCAwPT09cj9cImh0dHBzOi8vZndkLm1ldGFtYXNrLmlvXCI6cixvPW4uZm9yd2FyZGVyTW9kZSxzPXZvaWQgMD09PW8/ZS5GT1JXQVJERVJfTU9ERS5JTkpFQ1Q6bzt0aGlzLmZvcndhcmRlck9yaWdpbj1pLHRoaXMuZm9yd2FyZGVyTW9kZT1zLHRoaXMuc3RhdGU9ZS5pc01ldGFNYXNrSW5zdGFsbGVkKCk/SmM6UWM7dmFyIGE9ZS5fZGV0ZWN0QnJvd3NlcigpO3RoaXMuZG93bmxvYWRVcmw9YT9uZFthXTpuZC5ERUZBVUxULHRoaXMuX29uTWVzc2FnZT10aGlzLl9vbk1lc3NhZ2UuYmluZCh0aGlzKSx0aGlzLl9vbk1lc3NhZ2VGcm9tRm9yd2FyZGVyPXRoaXMuX29uTWVzc2FnZUZyb21Gb3J3YXJkZXIuYmluZCh0aGlzKSx0aGlzLl9vcGVuRm9yd2FyZGVyPXRoaXMuX29wZW5Gb3J3YXJkZXIuYmluZCh0aGlzKSx0aGlzLl9vcGVuRG93bmxvYWRQYWdlPXRoaXMuX29wZW5Eb3dubG9hZFBhZ2UuYmluZCh0aGlzKSx0aGlzLnN0YXJ0T25ib2FyZGluZz10aGlzLnN0YXJ0T25ib2FyZGluZy5iaW5kKHRoaXMpLHRoaXMuc3RvcE9uYm9hcmRpbmc9dGhpcy5zdG9wT25ib2FyZGluZy5iaW5kKHRoaXMpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHRoaXMuX29uTWVzc2FnZSkscz09PWUuRk9SV0FSREVSX01PREUuSU5KRUNUJiZcInRydWVcIj09PXNlc3Npb25TdG9yYWdlLmdldEl0ZW0ocmQpJiZlLl9pbmplY3RGb3J3YXJkZXIodGhpcy5mb3J3YXJkZXJPcmlnaW4pfXJldHVybiBlLnByb3RvdHlwZS5fb25NZXNzYWdlPWZ1bmN0aW9uKGUpe2lmKGUub3JpZ2luPT09dGhpcy5mb3J3YXJkZXJPcmlnaW4pcmV0dXJuXCJtZXRhbWFzazpyZWxvYWRcIj09PWUuZGF0YS50eXBlP3RoaXMuX29uTWVzc2FnZUZyb21Gb3J3YXJkZXIoZSk6dm9pZCBjb25zb2xlLmRlYnVnKFwiVW5rbm93biBtZXNzYWdlIGZyb20gJ1wiK2Uub3JpZ2luK1wiJyB3aXRoIGRhdGEgXCIrSlNPTi5zdHJpbmdpZnkoZS5kYXRhKSl9LGUucHJvdG90eXBlLl9vbk1lc3NhZ2VVbmtub3duU3RhdGVFcnJvcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIHN0YXRlOiAnXCIrZStcIidcIil9LGUucHJvdG90eXBlLl9vbk1lc3NhZ2VGcm9tRm9yd2FyZGVyPWZ1bmN0aW9uKHQpe3JldHVybiBZYyh0aGlzLDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBaYyh0aGlzLChmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOnN3aXRjaCh0aGlzLnN0YXRlKXtjYXNlIHRkOnJldHVyblszLDFdO2Nhc2UgUWM6cmV0dXJuWzMsMl07Y2FzZSBKYzpyZXR1cm5bMywzXTtjYXNlIGVkOnJldHVyblszLDVdO2Nhc2UgWGM6cmV0dXJuWzMsNl19cmV0dXJuWzMsN107Y2FzZSAxOnJldHVybiBjb25zb2xlLmRlYnVnKFwiSWdub3JpbmcgbWVzc2FnZSB3aGlsZSByZWxvYWRpbmdcIiksWzMsOF07Y2FzZSAyOnJldHVybiBjb25zb2xlLmRlYnVnKFwiUmVsb2FkaW5nIG5vdyB0byByZWdpc3RlciB3aXRoIE1ldGFNYXNrXCIpLHRoaXMuc3RhdGU9dGQsbG9jYXRpb24ucmVsb2FkKCksWzMsOF07Y2FzZSAzOnJldHVybiBjb25zb2xlLmRlYnVnKFwiUmVnaXN0ZXJpbmcgd2l0aCBNZXRhTWFza1wiKSx0aGlzLnN0YXRlPWVkLFs0LGUuX3JlZ2lzdGVyKCldO2Nhc2UgNDpyZXR1cm4gbi5zZW50KCksdGhpcy5zdGF0ZT1YYyx0LnNvdXJjZS5wb3N0TWVzc2FnZSh7dHlwZTpcIm1ldGFtYXNrOnJlZ2lzdHJhdGlvbkNvbXBsZXRlZFwifSx0Lm9yaWdpbiksdGhpcy5zdG9wT25ib2FyZGluZygpLFszLDhdO2Nhc2UgNTpyZXR1cm4gY29uc29sZS5kZWJ1ZyhcIkFscmVhZHkgcmVnaXN0ZXJpbmcgLSBpZ25vcmluZyByZWxvYWQgbWVzc2FnZVwiKSxbMyw4XTtjYXNlIDY6cmV0dXJuIGNvbnNvbGUuZGVidWcoXCJBbHJlYWR5IHJlZ2lzdGVyZWQgLSBpZ25vcmluZyByZWxvYWQgbWVzc2FnZVwiKSxbMyw4XTtjYXNlIDc6dGhpcy5fb25NZXNzYWdlVW5rbm93blN0YXRlRXJyb3IodGhpcy5zdGF0ZSksbi5sYWJlbD04O2Nhc2UgODpyZXR1cm5bMl19fSkpfSkpfSxlLnByb3RvdHlwZS5zdGFydE9uYm9hcmRpbmc9ZnVuY3Rpb24oKXtzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKHJkLFwidHJ1ZVwiKSx0aGlzLl9vcGVuRG93bmxvYWRQYWdlKCksdGhpcy5fb3BlbkZvcndhcmRlcigpfSxlLnByb3RvdHlwZS5zdG9wT25ib2FyZGluZz1mdW5jdGlvbigpe1widHJ1ZVwiPT09c2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShyZCkmJih0aGlzLmZvcndhcmRlck1vZGU9PT1lLkZPUldBUkRFUl9NT0RFLklOSkVDVCYmKGNvbnNvbGUuZGVidWcoXCJSZW1vdmluZyBmb3J3YXJkZXJcIiksZS5fcmVtb3ZlRm9yd2FyZGVyKCkpLHNlc3Npb25TdG9yYWdlLnNldEl0ZW0ocmQsXCJmYWxzZVwiKSl9LGUucHJvdG90eXBlLl9vcGVuRm9yd2FyZGVyPWZ1bmN0aW9uKCl7dGhpcy5mb3J3YXJkZXJNb2RlPT09ZS5GT1JXQVJERVJfTU9ERS5PUEVOX1RBQj93aW5kb3cub3Blbih0aGlzLmZvcndhcmRlck9yaWdpbixcIl9ibGFua1wiKTplLl9pbmplY3RGb3J3YXJkZXIodGhpcy5mb3J3YXJkZXJPcmlnaW4pfSxlLnByb3RvdHlwZS5fb3BlbkRvd25sb2FkUGFnZT1mdW5jdGlvbigpe3dpbmRvdy5vcGVuKHRoaXMuZG93bmxvYWRVcmwsXCJfYmxhbmtcIil9LGUuaXNNZXRhTWFza0luc3RhbGxlZD1mdW5jdGlvbigpe3JldHVybiBCb29sZWFuKHdpbmRvdy5ldGhlcmV1bSYmd2luZG93LmV0aGVyZXVtLmlzTWV0YU1hc2spfSxlLl9yZWdpc3Rlcj1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cuZXRoZXJldW0ucmVxdWVzdCh7bWV0aG9kOlwid2FsbGV0X3JlZ2lzdGVyT25ib2FyZGluZ1wifSl9LGUuX2luamVjdEZvcndhcmRlcj1mdW5jdGlvbihlKXt2YXIgdD1kb2N1bWVudC5ib2R5LG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTtuLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLFwiMFwiKSxuLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsXCIwXCIpLG4uc2V0QXR0cmlidXRlKFwic3R5bGVcIixcImRpc3BsYXk6IG5vbmU7XCIpLG4uc2V0QXR0cmlidXRlKFwic3JjXCIsZSksbi5zZXRBdHRyaWJ1dGUoXCJpZFwiLGlkKSx0Lmluc2VydEJlZm9yZShuLHQuY2hpbGRyZW5bMF0pfSxlLl9yZW1vdmVGb3J3YXJkZXI9ZnVuY3Rpb24oKXt2YXIgZTtudWxsPT09KGU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpKXx8dm9pZCAwPT09ZXx8ZS5yZW1vdmUoKX0sZS5fZGV0ZWN0QnJvd3Nlcj1mdW5jdGlvbigpe3ZhciBlPW9jLnBhcnNlKHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KTtyZXR1cm5cIkZpcmVmb3hcIj09PWUuYnJvd3Nlci5uYW1lP1wiRklSRUZPWFwiOltcIkNocm9tZVwiLFwiQ2hyb21pdW1cIl0uaW5jbHVkZXMoZS5icm93c2VyLm5hbWV8fFwiXCIpP1wiQ0hST01FXCI6bnVsbH0sZS5GT1JXQVJERVJfTU9ERT17SU5KRUNUOlwiSU5KRUNUXCIsT1BFTl9UQUI6XCJPUEVOX1RBQlwifSxlfSgpO2Z1bmN0aW9uIHNkKGUse3dhaXQ6dD0hMX0pe3JldHVybiBsKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7cmV0dXJuIFJhKGBbTWV0YW1hc2tJbnN0YWxsZXI6IHN0YXJ0SW5zdGFsbGVyKCldIHdhaXQ9JHt0fWApLHQmJih5aWVsZCBMYygxZTMpKSx5aWVsZCBlLmNoZWNrSW5zdGFsbGF0aW9uKCl9KSl9Y2xhc3MgYWR7Y29uc3RydWN0b3Ioe3JlbW90ZTplLHByZWZlckRlc2t0b3A6dCxwbGF0Zm9ybU1hbmFnZXI6bixkZWJ1ZzpyPSExfSl7dGhpcy5zdGF0ZT17aXNJbnN0YWxsaW5nOiExLGhhc0luc3RhbGxlZDohMSxyZXNlbmRSZXF1ZXN0Om51bGwscHJlZmVyRGVza3RvcDohMSxwbGF0Zm9ybU1hbmFnZXI6bnVsbCxyZW1vdGU6bnVsbCxkZWJ1ZzohMSxjb25uZWN0V2l0aDp2b2lkIDB9LHRoaXMuc3RhdGUucmVtb3RlPWUsdGhpcy5zdGF0ZS5wcmVmZXJEZXNrdG9wPXQsdGhpcy5zdGF0ZS5wbGF0Zm9ybU1hbmFnZXI9bix0aGlzLnN0YXRlLmRlYnVnPXJ9c3RhcnREZXNrdG9wT25ib2FyZGluZygpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBsKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7UmEoXCJbTWV0YW1hc2tJbnN0YWxsZXI6IHN0YXJ0RGVza3RvcE9uYm9hcmRpbmcoKSBzdGFydGluZyBkZXNrdG9wIG9uYm9hcmRpbmdcIiksd2luZG93LmV0aGVyZXVtJiYod2luZG93LmV0aGVyZXVtPXZvaWQgMCksKG5ldyBvZCkuc3RhcnRPbmJvYXJkaW5nKCl9KSl9KCl9cmVkaXJlY3RUb1Byb3Blckluc3RhbGwoKXtyZXR1cm4gbCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdCxuO3JldHVybiBsKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7Y29uc3R7c3RhdGU6cn09ZSxpPW51bGw9PT0odD1yLnBsYXRmb3JtTWFuYWdlcil8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZ2V0UGxhdGZvcm1UeXBlKCk7aWYoUmEoYFtNZXRhbWFza0luc3RhbGxlcjogcmVkaXJlY3RUb1Byb3Blckluc3RhbGwoKV0gcGxhdGZvcm09JHtpfWApLGk9PT1leHBvcnRzLlBsYXRmb3JtVHlwZS5NZXRhTWFza01vYmlsZVdlYnZpZXcpcmV0dXJuITE7ci5pc0luc3RhbGxpbmc9ITA7dHJ5e3lpZWxkIG51bGw9PT0obj1yLnJlbW90ZSl8fHZvaWQgMD09PW4/dm9pZCAwOm4uc3RhcnRDb25uZWN0aW9uKHtjb25uZWN0V2l0aDpyLmNvbm5lY3RXaXRofSksci5pc0luc3RhbGxpbmc9ITEsci5oYXNJbnN0YWxsZWQ9ITB9Y2F0Y2goZSl7dGhyb3cgci5pc0luc3RhbGxpbmc9ITEsZX1yZXR1cm4hMH0pKX0odGhpcyl9KSl9Y2hlY2tJbnN0YWxsYXRpb24oKXtyZXR1cm4gbCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gbCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2NvbnN0e3N0YXRlOm59PWUscj1udWxsPT09KHQ9bi5wbGF0Zm9ybU1hbmFnZXIpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmlzTWV0YU1hc2tJbnN0YWxsZWQoKTtyZXR1cm4gUmEoYFtNZXRhbWFza0luc3RhbGxlcjogY2hlY2tJbnN0YWxsYXRpb24oKV0gaXNJbnN0YWxsZWQ9JHtyfWApLCEhcnx8KHlpZWxkIGUucmVkaXJlY3RUb1Byb3Blckluc3RhbGwoKSl9KSl9KHRoaXMpfSkpfXN0YXJ0KHt3YWl0OmU9ITEsY29ubmVjdFdpdGg6dH0pe3JldHVybiBsKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7dGhpcy5zdGF0ZS5jb25uZWN0V2l0aD10LFJhKGBbTWV0YU1hc2tJbnN0YWxsZXI6IHN0YXJ0KCldIHdhaXQ9JHtlfWAsdCkseWllbGQgc2QodGhpcyx7d2FpdDplfSl9KSl9fWZ1bmN0aW9uIGNkKGUsdCl7cmV0dXJuIGUudG9TdHJpbmcoMikucGFkU3RhcnQodCxcIjBcIil9ZnVuY3Rpb24gZGQoZSx0KXtjb25zdCBuPWUldDtyZXR1cm4gbj49MD9uOnQrbn1mdW5jdGlvbiBsZChlLHQpe3JldHVybiBuZXcgQXJyYXkoZSkuZmlsbCh0KX1mdW5jdGlvbiB1ZCguLi5lKXtsZXQgdD0wO2Zvcihjb25zdCBuIG9mIGUpdD1NYXRoLm1heCh0LG4ubGVuZ3RoKTtjb25zdCBuPVtdO2ZvcihsZXQgcj0wO3I8dDtyKyspZm9yKGNvbnN0IHQgb2YgZSlyPj10Lmxlbmd0aHx8bi5wdXNoKHRbcl0pO3JldHVybiBuZXcgVWludDhBcnJheShuKX1mdW5jdGlvbiBoZChlLHQsbil7aWYobjwwfHxuK3QubGVuZ3RoPmUubGVuZ3RoKXJldHVybiExO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKWlmKHRbcl0hPT1lW24rcl0pcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gZmQoZSl7cmV0dXJue2hhczp0PT5lLmluY2x1ZGVzKHQpLGRlY29kZTp0PT57aWYoIUFycmF5LmlzQXJyYXkodCl8fHQubGVuZ3RoJiZcInN0cmluZ1wiIT10eXBlb2YgdFswXSl0aHJvdyBuZXcgRXJyb3IoXCJhbHBoYWJldC5kZWNvZGUgaW5wdXQgc2hvdWxkIGJlIGFycmF5IG9mIHN0cmluZ3NcIik7cmV0dXJuIHQubWFwKCh0PT57aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IEVycm9yKGBhbHBoYWJldC5kZWNvZGU6IG5vdCBzdHJpbmcgZWxlbWVudD0ke3R9YCk7Y29uc3Qgbj1lLmluZGV4T2YodCk7aWYoLTE9PT1uKXRocm93IG5ldyBFcnJvcihgVW5rbm93biBsZXR0ZXI6IFwiJHt0fVwiLiBBbGxvd2VkOiAke2V9YCk7cmV0dXJuIG59KSl9LGVuY29kZTp0PT57aWYoIUFycmF5LmlzQXJyYXkodCl8fHQubGVuZ3RoJiZcIm51bWJlclwiIT10eXBlb2YgdFswXSl0aHJvdyBuZXcgRXJyb3IoXCJhbHBoYWJldC5lbmNvZGUgaW5wdXQgc2hvdWxkIGJlIGFuIGFycmF5IG9mIG51bWJlcnNcIik7cmV0dXJuIHQubWFwKCh0PT57aWYoZnVuY3Rpb24oZSl7aWYoIU51bWJlci5pc1NhZmVJbnRlZ2VyKGUpKXRocm93IG5ldyBFcnJvcihgV3JvbmcgaW50ZWdlcjogJHtlfWApfSh0KSx0PDB8fHQ+PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihgRGlnaXQgaW5kZXggb3V0c2lkZSBhbHBoYWJldDogJHt0fSAoYWxwaGFiZXQ6ICR7ZS5sZW5ndGh9KWApO3JldHVybiBlW3RdfSkpfX19Y2xhc3MgcGR7c3RhdGljIHNpemUoZSx0KXtpZihcIm51bWJlclwiPT10eXBlb2YgZSYmKGU9e2hlaWdodDplLHdpZHRoOmV9KSwhTnVtYmVyLmlzU2FmZUludGVnZXIoZS5oZWlnaHQpJiZlLmhlaWdodCE9PTEvMCl0aHJvdyBuZXcgRXJyb3IoYEJpdG1hcDogd3JvbmcgaGVpZ2h0PSR7ZS5oZWlnaHR9ICgke3R5cGVvZiBlLmhlaWdodH0pYCk7aWYoIU51bWJlci5pc1NhZmVJbnRlZ2VyKGUud2lkdGgpJiZlLndpZHRoIT09MS8wKXRocm93IG5ldyBFcnJvcihgQml0bWFwOiB3cm9uZyB3aWR0aD0ke2Uud2lkdGh9ICgke3R5cGVvZiBlLndpZHRofSlgKTtyZXR1cm4gdm9pZCAwIT09dCYmKGU9e3dpZHRoOk1hdGgubWluKGUud2lkdGgsdC53aWR0aCksaGVpZ2h0Ok1hdGgubWluKGUuaGVpZ2h0LHQuaGVpZ2h0KX0pLGV9c3RhdGljIGZyb21TdHJpbmcoZSl7Y29uc3QgdD0oZT1lLnJlcGxhY2UoL15cXG4rL2csXCJcIikucmVwbGFjZSgvXFxuKyQvZyxcIlwiKSkuc3BsaXQoXCJcXG5cIiksbj10Lmxlbmd0aCxyPW5ldyBBcnJheShuKTtsZXQgaTtmb3IoY29uc3QgZSBvZiB0KXtjb25zdCB0PWUuc3BsaXQoXCJcIikubWFwKChlPT57aWYoXCJYXCI9PT1lKXJldHVybiEwO2lmKFwiIFwiPT09ZSlyZXR1cm4hMTtpZihcIj9cIiE9PWUpdGhyb3cgbmV3IEVycm9yKGBCaXRtYXAuZnJvbVN0cmluZzogdW5rbm93biBzeW1ib2w9JHtlfWApfSkpO2lmKGkmJnQubGVuZ3RoIT09aSl0aHJvdyBuZXcgRXJyb3IoYEJpdG1hcC5mcm9tU3RyaW5nIGRpZmZlcmVudCByb3cgc2l6ZXM6IHdpZHRoPSR7aX0gY3VyPSR7dC5sZW5ndGh9YCk7aT10Lmxlbmd0aCxyLnB1c2godCl9cmV0dXJuIGl8fChpPTApLG5ldyBwZCh7aGVpZ2h0Om4sd2lkdGg6aX0scil9Y29uc3RydWN0b3IoZSx0KXtjb25zdHtoZWlnaHQ6bix3aWR0aDpyfT1wZC5zaXplKGUpO3RoaXMuZGF0YT10fHxBcnJheS5mcm9tKHtsZW5ndGg6bn0sKCgpPT5sZChyLHZvaWQgMCkpKSx0aGlzLmhlaWdodD1uLHRoaXMud2lkdGg9cn1wb2ludChlKXtyZXR1cm4gdGhpcy5kYXRhW2UueV1bZS54XX1pc0luc2lkZShlKXtyZXR1cm4gMDw9ZS54JiZlLng8dGhpcy53aWR0aCYmMDw9ZS55JiZlLnk8dGhpcy5oZWlnaHR9c2l6ZShlKXtpZighZSlyZXR1cm57aGVpZ2h0OnRoaXMuaGVpZ2h0LHdpZHRoOnRoaXMud2lkdGh9O2NvbnN0e3g6dCx5Om59PXRoaXMueHkoZSk7cmV0dXJue2hlaWdodDp0aGlzLmhlaWdodC1uLHdpZHRoOnRoaXMud2lkdGgtdH19eHkoZSl7aWYoXCJudW1iZXJcIj09dHlwZW9mIGUmJihlPXt4OmUseTplfSksIU51bWJlci5pc1NhZmVJbnRlZ2VyKGUueCkpdGhyb3cgbmV3IEVycm9yKGBCaXRtYXA6IHdyb25nIHg9JHtlLnh9YCk7aWYoIU51bWJlci5pc1NhZmVJbnRlZ2VyKGUueSkpdGhyb3cgbmV3IEVycm9yKGBCaXRtYXA6IHdyb25nIHk9JHtlLnl9YCk7cmV0dXJuIGUueD1kZChlLngsdGhpcy53aWR0aCksZS55PWRkKGUueSx0aGlzLmhlaWdodCksZX1yZWN0KGUsdCxuKXtjb25zdHt4OnIseTppfT10aGlzLnh5KGUpLHtoZWlnaHQ6byx3aWR0aDpzfT1wZC5zaXplKHQsdGhpcy5zaXplKHt4OnIseTppfSkpO2ZvcihsZXQgZT0wO2U8bztlKyspZm9yKGxldCB0PTA7dDxzO3QrKyl0aGlzLmRhdGFbaStlXVtyK3RdPVwiZnVuY3Rpb25cIj09dHlwZW9mIG4/bih7eDp0LHk6ZX0sdGhpcy5kYXRhW2krZV1bcit0XSk6bjtyZXR1cm4gdGhpc31yZWN0UmVhZChlLHQsbil7cmV0dXJuIHRoaXMucmVjdChlLHQsKChlLHQpPT4obihlLHQpLHQpKSl9aExpbmUoZSx0LG4pe3JldHVybiB0aGlzLnJlY3QoZSx7d2lkdGg6dCxoZWlnaHQ6MX0sbil9dkxpbmUoZSx0LG4pe3JldHVybiB0aGlzLnJlY3QoZSx7d2lkdGg6MSxoZWlnaHQ6dH0sbil9Ym9yZGVyKGU9Mix0KXtjb25zdCBuPXRoaXMuaGVpZ2h0KzIqZSxyPXRoaXMud2lkdGgrMiplLGk9bGQoZSx0KSxvPUFycmF5LmZyb20oe2xlbmd0aDplfSwoKCk9PmxkKHIsdCkpKTtyZXR1cm4gbmV3IHBkKHtoZWlnaHQ6bix3aWR0aDpyfSxbLi4ubywuLi50aGlzLmRhdGEubWFwKChlPT5bLi4uaSwuLi5lLC4uLmldKSksLi4ub10pfWVtYmVkKGUsdCl7cmV0dXJuIHRoaXMucmVjdChlLHQuc2l6ZSgpLCgoe3g6ZSx5Om59KT0+dC5kYXRhW25dW2VdKSl9cmVjdFNsaWNlKGUsdD10aGlzLnNpemUoKSl7Y29uc3Qgbj1uZXcgcGQocGQuc2l6ZSh0LHRoaXMuc2l6ZSh0aGlzLnh5KGUpKSkpO3JldHVybiB0aGlzLnJlY3QoZSx0LCgoe3g6ZSx5OnR9LHIpPT5uLmRhdGFbdF1bZV09cikpLG59aW52ZXJzZSgpe2NvbnN0e2hlaWdodDplLHdpZHRoOnR9PXRoaXM7cmV0dXJuIG5ldyBwZCh7aGVpZ2h0OnQsd2lkdGg6ZX0pLnJlY3Qoe3g6MCx5OjB9LDEvMCwoKHt4OmUseTp0fSk9PnRoaXMuZGF0YVtlXVt0XSkpfXNjYWxlKGUpe2lmKCFOdW1iZXIuaXNTYWZlSW50ZWdlcihlKXx8ZT4xMDI0KXRocm93IG5ldyBFcnJvcihgV3Jvbmcgc2NhbGUgZmFjdG9yOiAke2V9YCk7Y29uc3R7aGVpZ2h0OnQsd2lkdGg6bn09dGhpcztyZXR1cm4gbmV3IHBkKHtoZWlnaHQ6ZSp0LHdpZHRoOmUqbn0pLnJlY3Qoe3g6MCx5OjB9LDEvMCwoKHt4OnQseTpufSk9PnRoaXMuZGF0YVtNYXRoLmZsb29yKG4vZSldW01hdGguZmxvb3IodC9lKV0pKX1jbG9uZSgpe3JldHVybiBuZXcgcGQodGhpcy5zaXplKCkpLnJlY3Qoe3g6MCx5OjB9LHRoaXMuc2l6ZSgpLCgoe3g6ZSx5OnR9KT0+dGhpcy5kYXRhW3RdW2VdKSl9YXNzZXJ0RHJhd24oKXt0aGlzLnJlY3RSZWFkKDAsMS8wLCgoZSx0KT0+e2lmKFwiYm9vbGVhblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNvbG9yIHR5cGU9XCIrdHlwZW9mIHQpfSkpfXRvU3RyaW5nKCl7cmV0dXJuIHRoaXMuZGF0YS5tYXAoKGU9PmUubWFwKChlPT52b2lkIDA9PT1lP1wiP1wiOmU/XCJYXCI6XCIgXCIpKS5qb2luKFwiXCIpKSkuam9pbihcIlxcblwiKX10b0FTQ0lJKCl7Y29uc3R7aGVpZ2h0OmUsd2lkdGg6dCxkYXRhOm59PXRoaXM7bGV0IHI9XCJcIjtmb3IobGV0IGk9MDtpPGU7aSs9Mil7Zm9yKGxldCBvPTA7bzx0O28rKyl7Y29uc3QgdD1uW2ldW29dLHM9aSsxPj1lfHxuW2krMV1bb107dHx8cz8hdCYmcz9yKz1cIuKWgFwiOnQmJiFzP3IrPVwi4paEXCI6dCYmcyYmKHIrPVwiIFwiKTpyKz1cIuKWiFwifXIrPVwiXFxuXCJ9cmV0dXJuIHJ9dG9UZXJtKCl7Y29uc3QgZT1cIlx1MDAxYlswbVwiLHQ9YFx1MDAxYlsxOzQ3bSAgJHtlfWAsbj1gXHUwMDFiWzQwbSAgJHtlfWA7cmV0dXJuIHRoaXMuZGF0YS5tYXAoKGU9PmUubWFwKChlPT5lP246dCkpLmpvaW4oXCJcIikpKS5qb2luKFwiXFxuXCIpfXRvU1ZHKCl7bGV0IGU9YDxzdmcgeG1sbnM6c3ZnPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwICR7dGhpcy53aWR0aH0gJHt0aGlzLmhlaWdodH1cIiB2ZXJzaW9uPVwiMS4xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPmA7cmV0dXJuIHRoaXMucmVjdFJlYWQoMCwxLzAsKCh7eDp0LHk6bn0scik9PntyJiYoZSs9YDxyZWN0IHg9XCIke3R9XCIgeT1cIiR7bn1cIiB3aWR0aD1cIjFcIiBoZWlnaHQ9XCIxXCIgLz5gKX0pKSxlKz1cIjwvc3ZnPlwiLGV9dG9HSUYoKXtjb25zdCBlPWU9PlsyNTUmZSxlPj4+OCYyNTVdLHQ9Wy4uLmUodGhpcy53aWR0aCksLi4uZSh0aGlzLmhlaWdodCldLG49W107dGhpcy5yZWN0UmVhZCgwLDEvMCwoKGUsdCk9Pm4ucHVzaCgrKCEwPT09dCkpKSk7Y29uc3Qgcj0xMjYsaT1bNzEsNzMsNzAsNTYsNTUsOTcsLi4udCwyNDYsMCwwLDI1NSwyNTUsMjU1LC4uLmxkKDM4MSwwKSw0NCwwLDAsMCwwLC4uLnQsMCw3XSxvPU1hdGguZmxvb3Iobi5sZW5ndGgvcik7Zm9yKGxldCBlPTA7ZTxvO2UrKylpLnB1c2goMTI3LDEyOCwuLi5uLnNsaWNlKHIqZSxyKihlKzEpKS5tYXAoKGU9PitlKSkpO3JldHVybiBpLnB1c2gobi5sZW5ndGglcisxLDEyOCwuLi5uLnNsaWNlKG8qcikubWFwKChlPT4rZSkpKSxpLnB1c2goMSwxMjksMCw1OSksbmV3IFVpbnQ4QXJyYXkoaSl9dG9JbWFnZShlPSExKXtjb25zdHtoZWlnaHQ6dCx3aWR0aDpufT10aGlzLnNpemUoKSxyPW5ldyBVaW50OEFycmF5KHQqbiooZT8zOjQpKTtsZXQgaT0wO2ZvcihsZXQgbz0wO288dDtvKyspZm9yKGxldCB0PTA7dDxuO3QrKyl7Y29uc3Qgbj10aGlzLmRhdGFbb11bdF0/MDoyNTU7cltpKytdPW4scltpKytdPW4scltpKytdPW4sZXx8KHJbaSsrXT0yNTUpfXJldHVybntoZWlnaHQ6dCx3aWR0aDpuLGRhdGE6cn19fWNvbnN0IG1kPVtcImxvd1wiLFwibWVkaXVtXCIsXCJxdWFydGlsZVwiLFwiaGlnaFwiXSxnZD1bXCJudW1lcmljXCIsXCJhbHBoYW51bWVyaWNcIixcImJ5dGVcIixcImthbmppXCIsXCJlY2lcIl0sdmQ9WzI2LDQ0LDcwLDEwMCwxMzQsMTcyLDE5NiwyNDIsMjkyLDM0Niw0MDQsNDY2LDUzMiw1ODEsNjU1LDczMyw4MTUsOTAxLDk5MSwxMDg1LDExNTYsMTI1OCwxMzY0LDE0NzQsMTU4OCwxNzA2LDE4MjgsMTkyMSwyMDUxLDIxODUsMjMyMywyNDY1LDI2MTEsMjc2MSwyODc2LDMwMzQsMzE5NiwzMzYyLDM1MzIsMzcwNl0seWQ9e2xvdzpbNywxMCwxNSwyMCwyNiwxOCwyMCwyNCwzMCwxOCwyMCwyNCwyNiwzMCwyMiwyNCwyOCwzMCwyOCwyOCwyOCwyOCwzMCwzMCwyNiwyOCwzMCwzMCwzMCwzMCwzMCwzMCwzMCwzMCwzMCwzMCwzMCwzMCwzMCwzMF0sbWVkaXVtOlsxMCwxNiwyNiwxOCwyNCwxNiwxOCwyMiwyMiwyNiwzMCwyMiwyMiwyNCwyNCwyOCwyOCwyNiwyNiwyNiwyNiwyOCwyOCwyOCwyOCwyOCwyOCwyOCwyOCwyOCwyOCwyOCwyOCwyOCwyOCwyOCwyOCwyOCwyOCwyOF0scXVhcnRpbGU6WzEzLDIyLDE4LDI2LDE4LDI0LDE4LDIyLDIwLDI0LDI4LDI2LDI0LDIwLDMwLDI0LDI4LDI4LDI2LDMwLDI4LDMwLDMwLDMwLDMwLDI4LDMwLDMwLDMwLDMwLDMwLDMwLDMwLDMwLDMwLDMwLDMwLDMwLDMwLDMwXSxoaWdoOlsxNywyOCwyMiwxNiwyMiwyOCwyNiwyNiwyNCwyOCwyNCwyOCwyMiwyNCwyNCwzMCwyOCwyOCwyNiwyOCwzMCwyNCwzMCwzMCwzMCwzMCwzMCwzMCwzMCwzMCwzMCwzMCwzMCwzMCwzMCwzMCwzMCwzMCwzMCwzMF19LEVkPXtsb3c6WzEsMSwxLDEsMSwyLDIsMiwyLDQsNCw0LDQsNCw2LDYsNiw2LDcsOCw4LDksOSwxMCwxMiwxMiwxMiwxMywxNCwxNSwxNiwxNywxOCwxOSwxOSwyMCwyMSwyMiwyNCwyNV0sbWVkaXVtOlsxLDEsMSwyLDIsNCw0LDQsNSw1LDUsOCw5LDksMTAsMTAsMTEsMTMsMTQsMTYsMTcsMTcsMTgsMjAsMjEsMjMsMjUsMjYsMjgsMjksMzEsMzMsMzUsMzcsMzgsNDAsNDMsNDUsNDcsNDldLHF1YXJ0aWxlOlsxLDEsMiwyLDQsNCw2LDYsOCw4LDgsMTAsMTIsMTYsMTIsMTcsMTYsMTgsMjEsMjAsMjMsMjMsMjUsMjcsMjksMzQsMzQsMzUsMzgsNDAsNDMsNDUsNDgsNTEsNTMsNTYsNTksNjIsNjUsNjhdLGhpZ2g6WzEsMSwyLDQsNCw0LDUsNiw4LDgsMTEsMTEsMTYsMTYsMTgsMTYsMTksMjEsMjUsMjUsMjUsMzQsMzAsMzIsMzUsMzcsNDAsNDIsNDUsNDgsNTEsNTQsNTcsNjAsNjMsNjYsNzAsNzQsNzcsODFdfSxiZD17c2l6ZTp7ZW5jb2RlOmU9PjIxKzQqKGUtMSksZGVjb2RlOmU9PihlLTE3KS80fSxzaXplVHlwZTplPT5NYXRoLmZsb29yKChlKzcpLzE3KSxhbGlnbm1lbnRQYXR0ZXJucyhlKXtpZigxPT09ZSlyZXR1cm5bXTtjb25zdCB0PWJkLnNpemUuZW5jb2RlKGUpLTYtMSxuPXQtNixyPU1hdGguY2VpbChuLzI4KTtsZXQgaT1NYXRoLmZsb29yKG4vcik7aSUyP2krPTE6biVyKjI+PXImJihpKz0yKTtjb25zdCBvPVs2XTtmb3IobGV0IGU9MTtlPHI7ZSsrKW8ucHVzaCh0LShyLWUpKmkpO3JldHVybiBvLnB1c2godCksb30sRUNDb2RlOntsb3c6MSxtZWRpdW06MCxxdWFydGlsZTozLGhpZ2g6Mn0sZm9ybWF0TWFzazoyMTUyMixmb3JtYXRCaXRzKGUsdCl7Y29uc3Qgbj1iZC5FQ0NvZGVbZV08PDN8dDtsZXQgcj1uO2ZvcihsZXQgZT0wO2U8MTA7ZSsrKXI9cjw8MV4xMzM1KihyPj45KTtyZXR1cm4objw8MTB8cileYmQuZm9ybWF0TWFza30sdmVyc2lvbkJpdHMoZSl7bGV0IHQ9ZTtmb3IobGV0IGU9MDtlPDEyO2UrKyl0PXQ8PDFeNzk3MyoodD4+MTEpO3JldHVybiBlPDwxMnx0fSxhbHBoYWJldDp7bnVtZXJpYzpmZChcIjAxMjM0NTY3ODlcIiksYWxwaGFudW1lcmM6ZmQoXCIwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVogJCUqKy0uLzpcIil9LGxlbmd0aEJpdHM6KGUsdCk9Pih7bnVtZXJpYzpbMTAsMTIsMTRdLGFscGhhbnVtZXJpYzpbOSwxMSwxM10sYnl0ZTpbOCwxNiwxNl0sa2Fuamk6WzgsMTAsMTJdLGVjaTpbMCwwLDBdfVt0XVtiZC5zaXplVHlwZShlKV0pLG1vZGVCaXRzOntudW1lcmljOlwiMDAwMVwiLGFscGhhbnVtZXJpYzpcIjAwMTBcIixieXRlOlwiMDEwMFwiLGthbmppOlwiMTAwMFwiLGVjaTpcIjAxMTFcIn0sY2FwYWNpdHkoZSx0KXtjb25zdCBuPXZkW2UtMV0scj15ZFt0XVtlLTFdLGk9RWRbdF1bZS0xXSxvPU1hdGguZmxvb3Iobi9pKS1yLHM9aS1uJWk7cmV0dXJue3dvcmRzOnIsbnVtQmxvY2tzOmksc2hvcnRCbG9ja3M6cyxibG9ja0xlbjpvLGNhcGFjaXR5OjgqKG4tcippKSx0b3RhbDoocitvKSppK2ktc319fSx3ZD1bKGUsdCk9PihlK3QpJTI9PTAsKGUsdCk9PnQlMj09MCwoZSx0KT0+ZSUzPT0wLChlLHQpPT4oZSt0KSUzPT0wLChlLHQpPT4oTWF0aC5mbG9vcih0LzIpK01hdGguZmxvb3IoZS8zKSklMj09MCwoZSx0KT0+ZSp0JTIrZSp0JTM9PTAsKGUsdCk9PihlKnQlMitlKnQlMyklMj09MCwoZSx0KT0+KChlK3QpJTIrZSp0JTMpJTI9PTBdLFNkPXt0YWJsZXM6KGU9Pntjb25zdCB0PWxkKDI1NiwwKSxuPWxkKDI1NiwwKTtmb3IobGV0IGU9MCxyPTE7ZTwyNTY7ZSsrKXRbZV09cixuW3JdPWUscjw8PTEsMjU2JnImJihyXj0yODUpO3JldHVybntleHA6dCxsb2c6bn19KSgpLGV4cDplPT5TZC50YWJsZXMuZXhwW2VdLGxvZyhlKXtpZigwPT09ZSl0aHJvdyBuZXcgRXJyb3IoYEdGLmxvZzogd3JvbmcgYXJnPSR7ZX1gKTtyZXR1cm4gU2QudGFibGVzLmxvZ1tlXSUyNTV9LG11bDooZSx0KT0+MD09PWV8fDA9PT10PzA6U2QudGFibGVzLmV4cFsoU2QudGFibGVzLmxvZ1tlXStTZC50YWJsZXMubG9nW3RdKSUyNTVdLGFkZDooZSx0KT0+ZV50LHBvdzooZSx0KT0+U2QudGFibGVzLmV4cFtTZC50YWJsZXMubG9nW2VdKnQlMjU1XSxpbnYoZSl7aWYoMD09PWUpdGhyb3cgbmV3IEVycm9yKGBHRi5pbnZlcnNlOiB3cm9uZyBhcmc9JHtlfWApO3JldHVybiBTZC50YWJsZXMuZXhwWzI1NS1TZC50YWJsZXMubG9nW2VdXX0scG9seW5vbWlhbChlKXtpZigwPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJHRi5wb2x5bW9taWFsOiB3cm9uZyBsZW5ndGhcIik7aWYoMCE9PWVbMF0pcmV0dXJuIGU7bGV0IHQ9MDtmb3IoO3Q8ZS5sZW5ndGgtMSYmMD09ZVt0XTt0KyspO3JldHVybiBlLnNsaWNlKHQpfSxtb25vbWlhbChlLHQpe2lmKGU8MCl0aHJvdyBuZXcgRXJyb3IoYEdGLm1vbm9taWFsOiB3cm9uZyBkZWdyZWU9JHtlfWApO2lmKDA9PXQpcmV0dXJuWzBdO2xldCBuPWxkKGUrMSwwKTtyZXR1cm4gblswXT10LFNkLnBvbHlub21pYWwobil9LGRlZ3JlZTplPT5lLmxlbmd0aC0xLGNvZWZmaWNpZW50OihlLHQpPT5lW1NkLmRlZ3JlZShlKS10XSxtdWxQb2x5KGUsdCl7aWYoMD09PWVbMF18fDA9PT10WzBdKXJldHVyblswXTtjb25zdCBuPWxkKGUubGVuZ3RoK3QubGVuZ3RoLTEsMCk7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspZm9yKGxldCBpPTA7aTx0Lmxlbmd0aDtpKyspbltyK2ldPVNkLmFkZChuW3IraV0sU2QubXVsKGVbcl0sdFtpXSkpO3JldHVybiBTZC5wb2x5bm9taWFsKG4pfSxtdWxQb2x5U2NhbGFyKGUsdCl7aWYoMD09dClyZXR1cm5bMF07aWYoMT09dClyZXR1cm4gZTtjb25zdCBuPWxkKGUubGVuZ3RoLDApO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKW5bcl09U2QubXVsKGVbcl0sdCk7cmV0dXJuIFNkLnBvbHlub21pYWwobil9LG11bFBvbHlNb25vbWlhbChlLHQsbil7aWYodDwwKXRocm93IG5ldyBFcnJvcihcIkdGLm11bFBvbHlNb25vbWlhbDogd3JvbmcgZGVncmVlXCIpO2lmKDA9PW4pcmV0dXJuWzBdO2NvbnN0IHI9bGQoZS5sZW5ndGgrdCwwKTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKylyW3RdPVNkLm11bChlW3RdLG4pO3JldHVybiBTZC5wb2x5bm9taWFsKHIpfSxhZGRQb2x5KGUsdCl7aWYoMD09PWVbMF0pcmV0dXJuIHQ7aWYoMD09PXRbMF0pcmV0dXJuIGU7bGV0IG49ZSxyPXQ7bi5sZW5ndGg+ci5sZW5ndGgmJihbbixyXT1bcixuXSk7bGV0IGk9bGQoci5sZW5ndGgsMCksbz1yLmxlbmd0aC1uLmxlbmd0aCxzPXIuc2xpY2UoMCxvKTtmb3IobGV0IGU9MDtlPHMubGVuZ3RoO2UrKylpW2VdPXNbZV07Zm9yKGxldCBlPW87ZTxyLmxlbmd0aDtlKyspaVtlXT1TZC5hZGQobltlLW9dLHJbZV0pO3JldHVybiBTZC5wb2x5bm9taWFsKGkpfSxyZW1haW5kZXJQb2x5KGUsdCl7Y29uc3Qgbj1BcnJheS5mcm9tKGUpO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGgtdC5sZW5ndGgrMTtyKyspe2NvbnN0IGU9bltyXTtpZigwIT09ZSlmb3IobGV0IGk9MTtpPHQubGVuZ3RoO2krKykwIT09dFtpXSYmKG5bcitpXT1TZC5hZGQobltyK2ldLFNkLm11bCh0W2ldLGUpKSl9cmV0dXJuIG4uc2xpY2UoZS5sZW5ndGgtdC5sZW5ndGgrMSxuLmxlbmd0aCl9LGRpdmlzb3JQb2x5KGUpe2xldCB0PVsxXTtmb3IobGV0IG49MDtuPGU7bisrKXQ9U2QubXVsUG9seSh0LFsxLFNkLnBvdygyLG4pXSk7cmV0dXJuIHR9LGV2YWxQb2x5KGUsdCl7aWYoMD09dClyZXR1cm4gU2QuY29lZmZpY2llbnQoZSwwKTtsZXQgbj1lWzBdO2ZvcihsZXQgcj0xO3I8ZS5sZW5ndGg7cisrKW49U2QuYWRkKFNkLm11bCh0LG4pLGVbcl0pO3JldHVybiBufSxldWNsaWRpYW4oZSx0LG4pe1NkLmRlZ3JlZShlKTxTZC5kZWdyZWUodCkmJihbZSx0XT1bdCxlXSk7bGV0IHI9ZSxpPXQsbz1bMF0scz1bMV07Zm9yKDsyKlNkLmRlZ3JlZShpKT49bjspe2xldCBlPXIsdD1vO2lmKHI9aSxvPXMsMD09PXJbMF0pdGhyb3cgbmV3IEVycm9yKFwickxhc3RbMF0gPT09IDBcIik7aT1lO2xldCBuPVswXTtjb25zdCBhPVNkLmludihyWzBdKTtmb3IoO1NkLmRlZ3JlZShpKT49U2QuZGVncmVlKHIpJiYwIT09aVswXTspe2NvbnN0IGU9U2QuZGVncmVlKGkpLVNkLmRlZ3JlZShyKSx0PVNkLm11bChpWzBdLGEpO249U2QuYWRkUG9seShuLFNkLm1vbm9taWFsKGUsdCkpLGk9U2QuYWRkUG9seShpLFNkLm11bFBvbHlNb25vbWlhbChyLGUsdCkpfWlmKG49U2QubXVsUG9seShuLG8pLHM9U2QuYWRkUG9seShuLHQpLFNkLmRlZ3JlZShpKT49U2QuZGVncmVlKHIpKXRocm93IG5ldyBFcnJvcihgRGl2aXNpb24gZmFpbGVkIHI6ICR7aX0sIHJMYXN0OiAke3J9YCl9Y29uc3QgYT1TZC5jb2VmZmljaWVudChzLDApO2lmKDA9PWEpdGhyb3cgbmV3IEVycm9yKFwic2lnbWFUaWxkZSgwKSB3YXMgemVyb1wiKTtjb25zdCBjPVNkLmludihhKTtyZXR1cm5bU2QubXVsUG9seVNjYWxhcihzLGMpLFNkLm11bFBvbHlTY2FsYXIoaSxjKV19fTtmdW5jdGlvbiBfZChlLHQpe2NvbnN0e3dvcmRzOm4sc2hvcnRCbG9ja3M6cixudW1CbG9ja3M6aSxibG9ja0xlbjpvLHRvdGFsOnN9PWJkLmNhcGFjaXR5KGUsdCksYT0oYz1uLHtlbmNvZGUoZSl7Y29uc3QgdD1TZC5kaXZpc29yUG9seShjKSxuPUFycmF5LmZyb20oZSk7cmV0dXJuIG4ucHVzaCguLi50LnNsaWNlKDAsLTEpLmZpbGwoMCkpLFVpbnQ4QXJyYXkuZnJvbShTZC5yZW1haW5kZXJQb2x5KG4sdCkpfSxkZWNvZGUoZSl7Y29uc3QgdD1lLnNsaWNlKCksbj1TZC5wb2x5bm9taWFsKEFycmF5LmZyb20oZSkpO2xldCByPWxkKGMsMCksaT0hMTtmb3IobGV0IGU9MDtlPGM7ZSsrKXtjb25zdCB0PVNkLmV2YWxQb2x5KG4sU2QuZXhwKGUpKTtyW3IubGVuZ3RoLTEtZV09dCwwIT09dCYmKGk9ITApfWlmKCFpKXJldHVybiB0O3I9U2QucG9seW5vbWlhbChyKTtjb25zdCBvPVNkLm1vbm9taWFsKGMsMSksW3MsYV09U2QuZXVjbGlkaWFuKG8scixjKSxkPWxkKFNkLmRlZ3JlZShzKSwwKTtsZXQgbD0wO2ZvcihsZXQgZT0xO2U8MjU2JiZsPGQubGVuZ3RoO2UrKykwPT09U2QuZXZhbFBvbHkocyxlKSYmKGRbbCsrXT1TZC5pbnYoZSkpO2lmKGwhPT1kLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJSUy5kZWNvZGU6IHdyb25nIGVycm9ycyBudW1iZXJcIik7Zm9yKGxldCBlPTA7ZTxkLmxlbmd0aDtlKyspe2NvbnN0IG49dC5sZW5ndGgtMS1TZC5sb2coZFtlXSk7aWYobjwwKXRocm93IG5ldyBFcnJvcihcIlJTLmRlY29kZTogd3JvbmcgZXJyb3IgbG9jYXRpb25cIik7Y29uc3Qgcj1TZC5pbnYoZFtlXSk7bGV0IGk9MTtmb3IobGV0IHQ9MDt0PGQubGVuZ3RoO3QrKyllIT09dCYmKGk9U2QubXVsKGksU2QuYWRkKDEsU2QubXVsKGRbdF0scikpKSk7dFtuXT1TZC5hZGQodFtuXSxTZC5tdWwoU2QuZXZhbFBvbHkoYSxyKSxTZC5pbnYoaSkpKX1yZXR1cm4gdH19KTt2YXIgYztyZXR1cm57ZW5jb2RlKGUpe2NvbnN0IHQ9W10sbj1bXTtmb3IobGV0IHM9MDtzPGk7cysrKXtjb25zdCBpPW8rKHM8cj8wOjEpO3QucHVzaChlLnN1YmFycmF5KDAsaSkpLG4ucHVzaChhLmVuY29kZShlLnN1YmFycmF5KDAsaSkpKSxlPWUuc3ViYXJyYXkoaSl9Y29uc3Qgcz11ZCguLi50KSxjPXVkKC4uLm4pLGQ9bmV3IFVpbnQ4QXJyYXkocy5sZW5ndGgrYy5sZW5ndGgpO3JldHVybiBkLnNldChzKSxkLnNldChjLHMubGVuZ3RoKSxkfSxkZWNvZGUoZSl7aWYoZS5sZW5ndGghPT1zKXRocm93IG5ldyBFcnJvcihgaW50ZXJsZWF2ZS5kZWNvZGU6IGxlbihkYXRhKT0ke2UubGVuZ3RofSwgdG90YWw9JHtzfWApO2NvbnN0IHQ9W107Zm9yKGxldCBlPTA7ZTxpO2UrKyl7Y29uc3QgaT1lPHI7dC5wdXNoKG5ldyBVaW50OEFycmF5KG4rbysoaT8wOjEpKSl9bGV0IGM9MDtmb3IobGV0IG49MDtuPG87bisrKWZvcihsZXQgcj0wO3I8aTtyKyspdFtyXVtuXT1lW2MrK107Zm9yKGxldCBuPXI7bjxpO24rKyl0W25dW29dPWVbYysrXTtmb3IobGV0IHM9bztzPG8rbjtzKyspZm9yKGxldCBuPTA7bjxpO24rKyl7Y29uc3QgaT1uPHI7dFtuXVtzKyhpPzA6MSldPWVbYysrXX1jb25zdCBkPVtdO2Zvcihjb25zdCBlIG9mIHQpZC5wdXNoKC4uLkFycmF5LmZyb20oYS5kZWNvZGUoZSkpLnNsaWNlKDAsLW4pKTtyZXR1cm4gVWludDhBcnJheS5mcm9tKGQpfX19ZnVuY3Rpb24gQ2QoZSx0LG4scil7bGV0IGk9XCJcIixvPW4ubGVuZ3RoO2lmKFwibnVtZXJpY1wiPT09cil7Y29uc3QgZT1iZC5hbHBoYWJldC5udW1lcmljLmRlY29kZShuLnNwbGl0KFwiXCIpKSx0PWUubGVuZ3RoO2ZvcihsZXQgbj0wO248dC0yO24rPTMpaSs9Y2QoMTAwKmVbbl0rMTAqZVtuKzFdK2VbbisyXSwxMCk7dCUzPT0xP2krPWNkKGVbdC0xXSw0KTp0JTM9PTImJihpKz1jZCgxMCplW3QtMl0rZVt0LTFdLDcpKX1lbHNlIGlmKFwiYWxwaGFudW1lcmljXCI9PT1yKXtjb25zdCBlPWJkLmFscGhhYmV0LmFscGhhbnVtZXJjLmRlY29kZShuLnNwbGl0KFwiXCIpKSx0PWUubGVuZ3RoO2ZvcihsZXQgbj0wO248dC0xO24rPTIpaSs9Y2QoNDUqZVtuXStlW24rMV0sMTEpO3QlMj09MSYmKGkrPWNkKGVbdC0xXSw2KSl9ZWxzZXtpZihcImJ5dGVcIiE9PXIpdGhyb3cgbmV3IEVycm9yKFwiZW5jb2RlOiB1bnN1cHBvcnRlZCB0eXBlXCIpO3tjb25zdCBlPWZ1bmN0aW9uKGUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihcInV0ZjhUb0J5dGVzIGV4cGVjdGVkIHN0cmluZywgZ290IFwiK3R5cGVvZiBlKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoKG5ldyBUZXh0RW5jb2RlcikuZW5jb2RlKGUpKX0obik7bz1lLmxlbmd0aCxpPUFycmF5LmZyb20oZSkubWFwKChlPT5jZChlLDgpKSkuam9pbihcIlwiKX19Y29uc3R7Y2FwYWNpdHk6c309YmQuY2FwYWNpdHkoZSx0KSxhPWNkKG8sYmQubGVuZ3RoQml0cyhlLHIpKTtsZXQgYz1iZC5tb2RlQml0c1tyXSthK2k7aWYoYy5sZW5ndGg+cyl0aHJvdyBuZXcgRXJyb3IoXCJDYXBhY2l0eSBvdmVyZmxvd1wiKTtjKz1cIjBcIi5yZXBlYXQoTWF0aC5taW4oNCxNYXRoLm1heCgwLHMtYy5sZW5ndGgpKSksYy5sZW5ndGglOCYmKGMrPVwiMFwiLnJlcGVhdCg4LWMubGVuZ3RoJTgpKTtjb25zdCBkPVwiMTExMDExMDAwMDAxMDAwMVwiO2ZvcihsZXQgZT0wO2MubGVuZ3RoIT09cztlKyspYys9ZFtlJTE2XTtjb25zdCBsPVVpbnQ4QXJyYXkuZnJvbShjLm1hdGNoKC8oLns4fSkvZykubWFwKChlPT5OdW1iZXIoYDBiJHtlfWApKSkpO3JldHVybiBfZChlLHQpLmVuY29kZShsKX1mdW5jdGlvbiB4ZChlLHQsbixyLGk9ITEpe2NvbnN0IG89ZnVuY3Rpb24oZSx0LG4scj0hMSl7Y29uc3QgaT1iZC5zaXplLmVuY29kZShlKTtsZXQgbz1uZXcgcGQoaSsyKTtjb25zdCBzPW5ldyBwZCgzKS5yZWN0KDAsMywhMCkuYm9yZGVyKDEsITEpLmJvcmRlcigxLCEwKS5ib3JkZXIoMSwhMSk7bz1vLmVtYmVkKDAscykuZW1iZWQoe3g6LXMud2lkdGgseTowfSxzKS5lbWJlZCh7eDowLHk6LXMuaGVpZ2h0fSxzKSxvPW8ucmVjdFNsaWNlKDEsaSk7Y29uc3QgYT1uZXcgcGQoMSkucmVjdCgwLDEsITApLmJvcmRlcigxLCExKS5ib3JkZXIoMSwhMCksYz1iZC5hbGlnbm1lbnRQYXR0ZXJucyhlKTtmb3IoY29uc3QgZSBvZiBjKWZvcihjb25zdCB0IG9mIGMpdm9pZCAwPT09by5kYXRhW2VdW3RdJiZvLmVtYmVkKHt4OnQtMix5OmUtMn0sYSk7bz1vLmhMaW5lKHt4OjAseTo2fSwxLzAsKCh7eDplfSx0KT0+dm9pZCAwPT09dD9lJTI9PTA6dCkpLnZMaW5lKHt4OjYseTowfSwxLzAsKCh7eTplfSx0KT0+dm9pZCAwPT09dD9lJTI9PTA6dCkpO3tjb25zdCBlPWJkLmZvcm1hdEJpdHModCxuKSxzPXQ9PiFyJiYxPT0oZT4+dCYxKTtmb3IobGV0IGU9MDtlPDY7ZSsrKW8uZGF0YVtlXVs4XT1zKGUpO2ZvcihsZXQgZT02O2U8ODtlKyspby5kYXRhW2UrMV1bOF09cyhlKTtmb3IobGV0IGU9ODtlPDE1O2UrKylvLmRhdGFbaS0xNStlXVs4XT1zKGUpO2ZvcihsZXQgZT0wO2U8ODtlKyspby5kYXRhWzhdW2ktZS0xXT1zKGUpO2ZvcihsZXQgZT04O2U8OTtlKyspby5kYXRhWzhdWzE1LWUtMSsxXT1zKGUpO2ZvcihsZXQgZT05O2U8MTU7ZSsrKW8uZGF0YVs4XVsxNS1lLTFdPXMoZSk7by5kYXRhW2ktOF1bOF09IXJ9aWYoZT49Nyl7Y29uc3QgdD1iZC52ZXJzaW9uQml0cyhlKTtmb3IobGV0IGU9MDtlPDE4O2UrPTEpe2NvbnN0IG49IXImJjE9PSh0Pj5lJjEpLHM9TWF0aC5mbG9vcihlLzMpLGE9ZSUzK2ktOC0zO28uZGF0YVtzXVthXT1uLG8uZGF0YVthXVtzXT1ufX1yZXR1cm4gb30oZSx0LHIsaSk7bGV0IHM9MDtjb25zdCBhPTgqbi5sZW5ndGg7aWYoZnVuY3Rpb24oZSx0LG4pe2NvbnN0IHI9ZS5oZWlnaHQsaT13ZFt0XTtsZXQgbz0tMSxzPXItMTtmb3IobGV0IHQ9ci0xO3Q+MDt0LT0yKXtmb3IoNj09dCYmKHQ9NSk7O3MrPW8pe2ZvcihsZXQgcj0wO3I8MjtyKz0xKXtjb25zdCBvPXQtcjt2b2lkIDA9PT1lLmRhdGFbc11bb10mJm4obyxzLGkobyxzKSl9aWYocytvPDB8fHMrbz49cilicmVha31vPS1vfX0obyxyLCgoZSx0LHIpPT57bGV0IGk9ITE7czxhJiYoaT0wIT0obltzPj4+M10+Pig3LXMmNykmMSkscysrKSxvLmRhdGFbdF1bZV09aSE9PXJ9KSkscyE9PWEpdGhyb3cgbmV3IEVycm9yKFwiUVI6IGJ5dGVzIGxlZnQgYWZ0ZXIgZHJhd1wiKTtyZXR1cm4gb31mdW5jdGlvbiBrZChlKXtjb25zdCB0PWUuaW52ZXJzZSgpLG49ZT0+e2xldCB0PTA7Zm9yKGxldCBuLHI9MCxpPTE7cjxlLmxlbmd0aDtyKyspbj09PWVbcl0mJihpKyssciE9PWUubGVuZ3RoLTEpfHwoaT49NSYmKHQrPWktNSszKSxuPWVbcl0saT0xKTtyZXR1cm4gdH07bGV0IHI9MDtlLmRhdGEuZm9yRWFjaCgoZT0+cis9bihlKSkpLHQuZGF0YS5mb3JFYWNoKChlPT5yKz1uKGUpKSk7bGV0IGk9MCxvPWUuZGF0YTtjb25zdCBzPWUud2lkdGgtMSxhPWUuaGVpZ2h0LTE7Zm9yKGxldCBlPTA7ZTxzO2UrKylmb3IobGV0IHQ9MDt0PGE7dCsrKXtjb25zdCBuPWUrMSxyPXQrMTtvW2VdW3RdPT09b1tuXVt0XSYmb1tuXVt0XT09PW9bZV1bcl0mJm9bbl1bdF09PT1vW25dW3JdJiYoaSs9Myl9Y29uc3QgYz1lPT57Y29uc3QgdD1bITAsITEsITAsITAsITAsITEsITBdLG49WyExLCExLCExLCExXSxyPVsuLi50LC4uLm5dLGk9Wy4uLm4sLi4udF07bGV0IG89MDtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyloZChlLHIsdCkmJihvKz00MCksaGQoZSxpLHQpJiYobys9NDApO3JldHVybiBvfTtsZXQgZD0wO2Zvcihjb25zdCB0IG9mIGUuZGF0YSlkKz1jKHQpO2Zvcihjb25zdCBlIG9mIHQuZGF0YSlkKz1jKGUpO2xldCBsPTA7ZS5yZWN0UmVhZCgwLDEvMCwoKGUsdCk9PmwrPXQ/MTowKSk7Y29uc3QgdT1sLyhlLmhlaWdodCplLndpZHRoKSoxMDAsaD0xMCpNYXRoLmZsb29yKE1hdGguYWJzKHUtNTApLzUpO3JldHVybiByK2krZCtofWZ1bmN0aW9uIE1kKGUsdD1cInJhd1wiLG49e30pe2NvbnN0IHI9dm9pZCAwIT09bi5lY2M/bi5lY2M6XCJtZWRpdW1cIjshZnVuY3Rpb24oZSl7aWYoIW1kLmluY2x1ZGVzKGUpKXRocm93IG5ldyBFcnJvcihgSW52YWxpZCBlcnJvciBjb3JyZWN0aW9uIG1vZGU9JHtlfS4gRXhwZWN0ZWQ6ICR7bWR9YCl9KHIpO2NvbnN0IGk9dm9pZCAwIT09bi5lbmNvZGluZz9uLmVuY29kaW5nOmZ1bmN0aW9uKGUpe2xldCB0PVwibnVtZXJpY1wiO2ZvcihsZXQgbiBvZiBlKWlmKCFiZC5hbHBoYWJldC5udW1lcmljLmhhcyhuKSYmKHQ9XCJhbHBoYW51bWVyaWNcIiwhYmQuYWxwaGFiZXQuYWxwaGFudW1lcmMuaGFzKG4pKSlyZXR1cm5cImJ5dGVcIjtyZXR1cm4gdH0oZSk7IWZ1bmN0aW9uKGUpe2lmKCFnZC5pbmNsdWRlcyhlKSl0aHJvdyBuZXcgRXJyb3IoYEVuY29kaW5nOiBpbnZhbGlkIG1vZGU9JHtlfS4gRXhwZWN0ZWQ6ICR7Z2R9YCk7aWYoXCJrYW5qaVwiPT09ZXx8XCJlY2lcIj09PWUpdGhyb3cgbmV3IEVycm9yKGBFbmNvZGluZzogJHtlfSBpcyBub3Qgc3VwcG9ydGVkICh5ZXQ/KS5gKX0oaSksdm9pZCAwIT09bi5tYXNrJiZmdW5jdGlvbihlKXtpZighWzAsMSwyLDMsNCw1LDYsN10uaW5jbHVkZXMoZSl8fCF3ZFtlXSl0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgbWFzaz0ke2V9LiBFeHBlY3RlZCBudW1iZXIgWzAuLjddYCl9KG4ubWFzayk7bGV0IG8scz1uLnZlcnNpb24sYT1uZXcgRXJyb3IoXCJVbmtub3duIGVycm9yXCIpO2lmKHZvaWQgMCE9PXMpIWZ1bmN0aW9uKGUpe2lmKCFOdW1iZXIuaXNTYWZlSW50ZWdlcihlKXx8ZTwxfHxlPjQwKXRocm93IG5ldyBFcnJvcihgSW52YWxpZCB2ZXJzaW9uPSR7ZX0uIEV4cGVjdGVkIG51bWJlciBbMS4uNDBdYCl9KHMpLG89Q2QocyxyLGUsaSk7ZWxzZSBmb3IobGV0IHQ9MTt0PD00MDt0KyspdHJ5e289Q2QodCxyLGUsaSkscz10O2JyZWFrfWNhdGNoKGUpe2E9ZX1pZighc3x8IW8pdGhyb3cgYTtsZXQgYz1mdW5jdGlvbihlLHQsbixyKXtpZih2b2lkIDA9PT1yKXtjb25zdCBpPWZ1bmN0aW9uKCl7bGV0IGUsdD0xLzA7cmV0dXJue2FkZChuLHIpe24+PXR8fChlPXIsdD1uKX0sZ2V0OigpPT5lLHNjb3JlOigpPT50fX0oKTtmb3IobGV0IHI9MDtyPHdkLmxlbmd0aDtyKyspaS5hZGQoa2QoeGQoZSx0LG4sciwhMCkpLHIpO3I9aS5nZXQoKX1pZih2b2lkIDA9PT1yKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1hc2tcIik7cmV0dXJuIHhkKGUsdCxuLHIpfShzLHIsbyxuLm1hc2spO2MuYXNzZXJ0RHJhd24oKTtjb25zdCBkPXZvaWQgMD09PW4uYm9yZGVyPzI6bi5ib3JkZXI7aWYoIU51bWJlci5pc1NhZmVJbnRlZ2VyKGQpKXRocm93IG5ldyBFcnJvcihcIldyb25nIGJvcmRlciB0eXBlPVwiK3R5cGVvZiBkKTtpZihjPWMuYm9yZGVyKGQsITEpLHZvaWQgMCE9PW4uc2NhbGUmJihjPWMuc2NhbGUobi5zY2FsZSkpLFwicmF3XCI9PT10KXJldHVybiBjLmRhdGE7aWYoXCJhc2NpaVwiPT09dClyZXR1cm4gYy50b0FTQ0lJKCk7aWYoXCJzdmdcIj09PXQpcmV0dXJuIGMudG9TVkcoKTtpZihcImdpZlwiPT09dClyZXR1cm4gYy50b0dJRigpO2lmKFwidGVybVwiPT09dClyZXR1cm4gYy50b1Rlcm0oKTt0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gb3V0cHV0OiAke3R9YCl9Y29uc3QgQWQ9KHtsaW5rOmV9KT0+e2NvbnN0IHQ9TWQoZSxcImFzY2lpXCIpO3JldHVybiBjb25zb2xlLmxvZyh0KSxSYShgW1VJOiBJbnN0YWxsTW9kYWwtbm9kZWpzKCldIHFyY29kZSB1cmw6ICR7ZX1gKSx7dW5tb3VudDooKT0+e319fSxUZD0oKT0+KFJhKFwiW1VJOiBwZW5kaW5nTW9kYWwtbm9kZWpzOiBQZW5kaW5nTW9kYWwoKV0gUGxlYXNlIG9wZW4gdGhlIE1ldGFNYXNrIHdhbGxldCBhcHAgYW5kIGNvbmZpcm0gdGhlIGNvbm5lY3Rpb24uIFRoYW5rIHlvdSFcIikse3VubW91bnQ6KCk9PiExLHVwZGF0ZU9UUFZhbHVlOmU9PntcIlwiIT09ZSYmUmEoYFtVSTogcGVuZGluZ01vZGFsLW5vZGVqczogUGVuZGluZ01vZGFsKCldIENob29zZSB0aGUgZm9sbG93aW5nIHZhbHVlIG9uIHlvdXIgbWV0YW1hc2sgbW9iaWxlIHdhbGxldDogJHtlfWApfSxtb3VudDooKT0+ITF9KTtmdW5jdGlvbiBJZChlLHQpe3ZhciBuLHIsaSxvO2UuY29ubmVjdG9yfHwoUmEoXCJbUmVtb3RlQ29ubmVjdGlvbjogaW5pdGlhbGl6ZUNvbm5lY3RvcigpXSBpbml0aWFsaXplIGNvbm5lY3RvclwiKSxlLmNvbm5lY3Rvcj1uZXcgQnIoe3BsYXRmb3JtVHlwZTp0LnBsYXRmb3JtTWFuYWdlci5nZXRQbGF0Zm9ybVR5cGUoKSxjb21tdW5pY2F0aW9uTGF5ZXJQcmVmZXJlbmNlOnQuY29tbXVuaWNhdGlvbkxheWVyUHJlZmVyZW5jZSx0cmFuc3BvcnRzOnQudHJhbnNwb3J0cyxkYXBwTWV0YWRhdGE6T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHQuZGFwcE1ldGFkYXRhKSx7c291cmNlOnQuX3NvdXJjZX0pLGFuYWx5dGljczp0LmVuYWJsZUFuYWx5dGljcyxjb21tdW5pY2F0aW9uU2VydmVyVXJsOnQuY29tbXVuaWNhdGlvblNlcnZlclVybCxzZGtWZXJzaW9uOmhjLnZlcnNpb24sY29udGV4dDpcImRhcHBcIixlY2llczp0LmVjaWVzLHN0b3JhZ2U6dC5zdG9yYWdlLGxvZ2dpbmc6dC5sb2dnaW5nfSksdC50aW1lciYmKFJhKFwiW1JlbW90ZUNvbm5lY3Rpb246IGluaXRpYWxpemVDb25uZWN0b3IoKV0gcmVzZXQgYmFja2dyb3VuZCB0aW1lclwiLHQudGltZXIpLG51bGw9PT0ocj1udWxsPT09KG49dC50aW1lcil8fHZvaWQgMD09PW4/dm9pZCAwOm4uc3RvcEJhY2tncm91bmRUaW1lcil8fHZvaWQgMD09PXJ8fHIuY2FsbChuKSxudWxsPT09KG89bnVsbD09PShpPXQudGltZXIpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnJ1bkJhY2tncm91bmRUaW1lcil8fHZvaWQgMD09PW98fG8uY2FsbChpLCgoKT0+ITEpLDFlNCkpKX1mdW5jdGlvbiBQZChlKXtlLmxpc3RlbmVycy5mb3JFYWNoKCgoe2V2ZW50OnQsaGFuZGxlcjpufSk9Pnt2YXIgcjtudWxsPT09KHI9ZS5jb25uZWN0b3IpfHx2b2lkIDA9PT1yfHxyLm9mZih0LG4pfSkpLGUubGlzdGVuZXJzPVtdfWZ1bmN0aW9uIFJkKGUsdCxuKXtyZXR1cm4gbCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3JldHVybiBuZXcgUHJvbWlzZSgoKHIsaSk9PntpZighZS5jb25uZWN0b3IpcmV0dXJuIHZvaWQgaShuZXcgRXJyb3IoXCJObyBjb25uZWN0b3IgYXZhaWxhYmxlXCIpKTtSYShcIltSZW1vdGVDb25uZWN0aW9uOiBjb25uZWN0V2l0aE1vZGFsSW5zdGFsbGVyKCldXCIse3N0YXRlOmUsb3B0aW9uczp0LGxpbmtQYXJhbXM6bn0pO2NvbnN0IG89YCR7ZS51c2VEZWVwbGluaz9tYzpwY30/JHtufWA7IWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8scztlLmluc3RhbGxNb2RhbD1udWxsPT09KGk9KHI9dC5tb2RhbHMpLmluc3RhbGwpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmNhbGwocix7bGluazpuLHByZWZlckRlc2t0b3A6ZS5wcmVmZXJEZXNrdG9wLGluc3RhbGxlcjp0LmdldE1ldGFNYXNrSW5zdGFsbGVyKCksdGVybWluYXRlOigpPT57UmEoXCJbUmVtb3RlQ29ubmVjdGlvbjogc2hvd0luc3RhbGxNb2RhbCgpID0+IHRlcm1pbmF0ZSgpXSB0ZXJtaW5hdGUgY29ubmVjdGlvblwiKSx0LnNkay50ZXJtaW5hdGUoKS5jYXRjaCgoZT0+e2NvbnNvbGUud2FybihcIltNTVNES10gZmFpbGVkIHRvIHRlcm1pbmF0ZSBjb25uZWN0aW9uXCIsZSl9KSl9LGRlYnVnOmUuZGV2ZWxvcGVyTW9kZSxjb25uZWN0V2l0aEV4dGVuc2lvbjooKT0+e3ZhciBlO3JldHVybiBudWxsPT09KGU9dC5jb25uZWN0V2l0aEV4dGVuc2lvblByb3ZpZGVyKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKHQpLCExfSxvbkFuYWx5dGljc0V2ZW50Oih7ZXZlbnQ6bixwYXJhbXM6cn0pPT57dmFyIGksbyxzO2NvbnN0IGE9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHIpLHtzZGtWZXJzaW9uOnQuc2RrLmdldFZlcnNpb24oKSxkYXBwSWQ6bnVsbD09PShpPXQuZGFwcE1ldGFkYXRhKXx8dm9pZCAwPT09aT92b2lkIDA6aS5uYW1lLHNvdXJjZTp0Ll9zb3VyY2UsdXJsOm51bGw9PT0obz10LmRhcHBNZXRhZGF0YSl8fHZvaWQgMD09PW8/dm9pZCAwOm8udXJsfSk7bnVsbD09PShzPWUuYW5hbHl0aWNzKXx8dm9pZCAwPT09c3x8cy5zZW5kKHtldmVudDpuLHBhcmFtczphfSl9fSksbnVsbD09PShzPW51bGw9PT0obz1lLmluc3RhbGxNb2RhbCl8fHZvaWQgMD09PW8/dm9pZCAwOm8ubW91bnQpfHx2b2lkIDA9PT1zfHxzLmNhbGwobyxuKX0oZSx0LG8pLHQuc2RrLm9uY2UoZXhwb3J0cy5FdmVudFR5cGUuUFJPVklERVJfVVBEQVRFLChlPT5sKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7aWYoUmEoXCJbUmVtb3RlQ29ubmVjdGlvbjogY29ubmVjdFdpdGhNb2RhbEluc3RhbGxlcigpXSBvbmNlIHByb3ZpZGVyX3VwZGF0ZSAtLSByZXNvbHZpbmcgc3RhcnRDb25uZWN0aW9uIHByb21pc2VcIiksZSE9PWV4cG9ydHMuUFJPVklERVJfVVBEQVRFX1RZUEUuVEVSTUlOQVRFKWkoZSk7ZWxzZXtpKHtjb2RlOjQwMDEsbWVzc2FnZTpcIlVzZXIgcmVqZWN0ZWQgdGhlIHJlcXVlc3QuXCJ9KX19KSkpKSxlLmNvbm5lY3Rvci5vbmNlKGV4cG9ydHMuRXZlbnRUeXBlLkFVVEhPUklaRUQsKCgpPT57cigpfSkpLGUuY29ubmVjdG9yLm9uY2UoZXhwb3J0cy5FdmVudFR5cGUuUkVKRUNURUQsKCgpPT57aShleHBvcnRzLkV2ZW50VHlwZS5SRUpFQ1RFRCl9KSksZS5jb25uZWN0b3Iub25jZShleHBvcnRzLkV2ZW50VHlwZS5DTElFTlRTX1JFQURZLCgoKT0+bCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe1JhKFwiW1JlbW90ZUNvbm5lY3Rpb246IGNvbm5lY3RXaXRoTW9kYWxJbnN0YWxsZXIoKV0gb25jZSBjbGllbnRzX3JlYWR5IC0tIHJlc29sdmluZyBzdGFydENvbm5lY3Rpb24gcHJvbWlzZVwiKSxyKCl9KSkpKX0pKX0pKX1mdW5jdGlvbiBPZChlLHQpe2Z1bmN0aW9uIG4odCxuKXt2YXIgcjtudWxsPT09KHI9ZS5jb25uZWN0b3IpfHx2b2lkIDA9PT1yfHxyLm9uKHQsbiksZS5saXN0ZW5lcnMucHVzaCh7ZXZlbnQ6dCxoYW5kbGVyOm59KX1lLmNvbm5lY3RvciYmKFBkKGUpLG4oZXhwb3J0cy5FdmVudFR5cGUuV0FMTEVUX0lOSVQsKCh7YWNjb3VudHM6ZSxjaGFpbklkOnR9KT0+bCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe1JhKGBbUmVtb3RlQ29ubmVjdGlvbjogc2V0dXBMaXN0ZW5lcnMoKSA9PiBFdmVudFR5cGUuV0FMTEVUX0lOSVRdICd3YWxsZXRfaW5pdCcgYWNjb3VudHM9JHtlfSBjaGFpbklkPSR7dH1gKTtjb25zdCBuPWFjLmdldFByb3ZpZGVyKCk7bi5fc2V0Q29ubmVjdGVkKCk7Y29uc3Qgcj17YWNjb3VudHM6ZSxjaGFpbklkOnQsaXNVbmxvY2tlZDohMX07bi5faW5pdGlhbGl6ZVN0YXRlKHIpLG4uZW1pdChcImNoYWluQ2hhbmdlZFwiLHQpLG4uZW1pdChcImFjY291bnRzQ2hhbmdlZFwiLGUpfSkpKSksbihleHBvcnRzLkV2ZW50VHlwZS5BVVRIT1JJWkVELCgoKT0+bCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3ZhciB0LG4scixpO3RyeXtSYShcIltSZW1vdGVDb25uZWN0aW9uOiBzZXR1cExpc3RlbmVycygpID0+IEV2ZW50VHlwZS5BVVRIT1JJWkVEXSAnYXV0aG9yaXplZCcgY2xvc2luZyBtb2RhbHNcIixlLnBlbmRpbmdNb2RhbCxlLmluc3RhbGxNb2RhbCk7Y29uc3Qgbz1hYy5nZXRQcm92aWRlcigpO28uX3NldENvbm5lY3RlZCgpLG51bGw9PT0obj1udWxsPT09KHQ9ZS5wZW5kaW5nTW9kYWwpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnVubW91bnQpfHx2b2lkIDA9PT1ufHxuLmNhbGwodCksbnVsbD09PShpPW51bGw9PT0ocj1lLmluc3RhbGxNb2RhbCl8fHZvaWQgMD09PXI/dm9pZCAwOnIudW5tb3VudCl8fHZvaWQgMD09PWl8fGkuY2FsbChyLCExKSxlLm90cEFuc3dlcj12b2lkIDAsZS5hdXRob3JpemVkPSEwLFJhKFwiW1JlbW90ZUNvbm5lY3Rpb246IHNldHVwTGlzdGVuZXJzKCkgPT4gRXZlbnRUeXBlLkFVVEhPUklaRURdICdhdXRob3JpemVkJyBwcm92aWRlci5zdGF0ZVwiLG8uZ2V0U3RhdGUoKSkseWllbGQgby5mb3JjZUluaXRpYWxpemVTdGF0ZSgpfWNhdGNoKGUpe319KSkpKSxuKGV4cG9ydHMuRXZlbnRUeXBlLlRFUk1JTkFURSwoKCk9Pnt2YXIgdCxuLHIsaSxvO251bGw9PT0obj1udWxsPT09KHQ9ZS5wZW5kaW5nTW9kYWwpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnVubW91bnQpfHx2b2lkIDA9PT1ufHxuLmNhbGwodCksbnVsbD09PShpPW51bGw9PT0ocj1lLmluc3RhbGxNb2RhbCl8fHZvaWQgMD09PXI/dm9pZCAwOnIudW5tb3VudCl8fHZvaWQgMD09PWl8fGkuY2FsbChyLCEwKSxlLnBlbmRpbmdNb2RhbD12b2lkIDAsZS5pbnN0YWxsTW9kYWw9dm9pZCAwLGUub3RwQW5zd2VyPXZvaWQgMCxudWxsPT09KG89ZS5jb25uZWN0b3IpfHx2b2lkIDA9PT1vfHxvLmRpc2Nvbm5lY3Qoe3Rlcm1pbmF0ZTohMH0pLGUuYXV0aG9yaXplZD0hMTthYy5nZXRQcm92aWRlcigpLmhhbmRsZURpc2Nvbm5lY3Qoe3Rlcm1pbmF0ZTohMH0pLFBkKGUpLFJhKFwiW1JlbW90ZUNvbm5lY3Rpb246IHNldHVwTGlzdGVuZXJzKCldIEFsbCBsaXN0ZW5lcnMgY2xlYW5lZCB1cFwiKX0pKSl9ZnVuY3Rpb24gTmQoZSx0LHtpbml0aWFsQ2hlY2s6bixjb25uZWN0V2l0aDpyfT17fSl7dmFyIGksbyxzLGEsYyxkLHUsaCxmLHAsbSxnLHYseSxFLGIsdyxTLF87cmV0dXJuIGwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXt0cnl7aWYoSWQoZSx0KSwhZS5jb25uZWN0b3IpdGhyb3cgbmV3IEVycm9yKFwibm8gY29ubmVjdG9yIGRlZmluZWRcIik7T2QoZSk7Y29uc3QgQz1hYy5nZXRQcm92aWRlcigpO2UuYXV0aG9yaXplZD0hMSxDLmVtaXQoXCJjb25uZWN0aW5nXCIpO2NvbnN0IHg9eWllbGQgbnVsbD09PShpPWUuY29ubmVjdG9yKXx8dm9pZCAwPT09aT92b2lkIDA6aS5vcmlnaW5hdG9yU2Vzc2lvbkNvbm5lY3QoKTtSYShgW1JlbW90ZUNvbm5lY3Rpb246IHN0YXJ0Q29ubmVjdGlvbigpXSBhZnRlciBvcmlnaW5hdG9yU2Vzc2lvbkNvbm5lY3QgaW5pdGlhbENoZWNrPSR7bn1gLHgpO2xldCBrPW51bGwhPT0obz1udWxsPT14P3ZvaWQgMDp4LmNoYW5uZWxJZCkmJnZvaWQgMCE9PW8/bzpcIlwiLE09bnVsbCE9PShhPW51bGw9PT0ocz1lLmNvbm5lY3Rvci5nZXRLZXlJbmZvKCkpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLmVjaWVzLnB1YmxpYykmJnZvaWQgMCE9PWE/YTpcIlwiLEE9bnVsbCE9PShkPW51bGw9PT0oYz1lLmNvbm5lY3Rvci5nZXRLZXlJbmZvKCkpfHx2b2lkIDA9PT1jP3ZvaWQgMDpjLmVjaWVzLnByaXZhdGUpJiZ2b2lkIDAhPT1kP2Q6XCJcIjtpZihuJiYheClyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7aWYoIXgmJiFuKXtjb25zdCB0PXlpZWxkIGUuY29ubmVjdG9yLmdlbmVyYXRlQ2hhbm5lbElkQ29ubmVjdCgpO2s9bnVsbCE9PSh1PXQuY2hhbm5lbElkKSYmdm9pZCAwIT09dT91OlwiXCIsTT1udWxsIT09KGg9dC5wdWJLZXkpJiZ2b2lkIDAhPT1oP2g6XCJcIixBPW51bGwhPT0oZj10LnByaXZLZXkpJiZ2b2lkIDAhPT1mP2Y6XCJcIjtjb25zdCBuPURhdGUubm93KCk7bnVsbD09PShwPWUuY29ubmVjdG9yLnN0YXRlLnN0b3JhZ2VNYW5hZ2VyKXx8dm9pZCAwPT09cHx8cC5wZXJzaXN0Q2hhbm5lbENvbmZpZyh7Y2hhbm5lbElkOmssbG9jYWxLZXk6QSxsYXN0QWN0aXZlOm4sdmFsaWRVbnRpbDpuK2lyfSl9aWYobiYmKG51bGw9PXg/dm9pZCAwOnguY2hhbm5lbElkKSlyZXR1cm4obnVsbD09PShtPWUuY29ubmVjdG9yKXx8dm9pZCAwPT09bT92b2lkIDA6bS5pc0Nvbm5lY3RlZCgpKXx8KFJhKGBbUmVtb3RlQ29ubmVjdGlvbjogc3RhcnRDb25uZWN0aW9uKCldIHJlY29ubmVjdGluZyB0byBjaGFubmVsIGluaXRpYWxDaGVjaz0ke259YCx4KSx5aWVsZCBudWxsPT09KGc9ZS5jb25uZWN0b3IpfHx2b2lkIDA9PT1nP3ZvaWQgMDpnLmNvbm5lY3RUb0NoYW5uZWwoe2NoYW5uZWxJZDprfSkpLFByb21pc2UucmVzb2x2ZSgpO3gmJiEobnVsbD09PSh2PWUuY29ubmVjdG9yKXx8dm9pZCAwPT09dj92b2lkIDA6di5pc0Nvbm5lY3RlZCgpKSYmKFJhKFwiW1JlbW90ZUNvbm5lY3Rpb246IHN0YXJ0Q29ubmVjdGlvbigpXSByZWNvbm5lY3RpbmcgdG8gY2hhbm5lbFwiLHgpLHlpZWxkIG51bGw9PT0oeT1lLmNvbm5lY3Rvcil8fHZvaWQgMD09PXk/dm9pZCAwOnkuY29ubmVjdFRvQ2hhbm5lbCh7Y2hhbm5lbElkOmt9KSk7Y29uc3QgVD0obnVsbD09PShFPWUucGxhdGZvcm1NYW5hZ2VyKXx8dm9pZCAwPT09RT92b2lkIDA6RS5pc1NlY3VyZSgpKT9cIlwiOlwiJnQ9cVwiLEk9aGMudmVyc2lvbix7aWNvblVybDpQLG5hbWU6Uix1cmw6TyxzY2hlbWU6Tn09dC5kYXBwTWV0YWRhdGF8fHt9LEQ9bnVsbD09PShiPWUucGxhdGZvcm1NYW5hZ2VyKXx8dm9pZCAwPT09Yj92b2lkIDA6Yi5nZXRQbGF0Zm9ybVR5cGUoKTtsZXQgTD1cIk4vQVwiO1widW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5sb2NhdGlvbiYmd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lP0w9d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lOnZvaWQgMCE9PVI/TD1SOnZvaWQgMCE9PU8mJihMPU8pO2NvbnN0IEI9e3VybDpudWxsIT1PP086XCJcIix0aXRsZTpudWxsIT1SP1I6XCJcIixpY29uOlAsc2NoZW1lOm51bGwhPU4/TjpcIlwiLGFwaVZlcnNpb246SSxkYXBwSWQ6THx8T3x8XCJOL0FcIixwbGF0Zm9ybTpudWxsIT1EP0Q6XCJcIixzb3VyY2U6bnVsbCE9PSh3PXQuX3NvdXJjZSkmJnZvaWQgMCE9PXc/dzpcIlwifSxLPVJjKEpTT04uc3RyaW5naWZ5KEIpKTtsZXQgaj1gY2hhbm5lbElkPSR7a30mdj0yJmNvbW09JHtudWxsIT09KFM9ZS5jb21tdW5pY2F0aW9uTGF5ZXJQcmVmZXJlbmNlKSYmdm9pZCAwIT09Uz9TOlwiXCJ9JnB1YmtleT0ke019JHtUfSZvcmlnaW5hdG9ySW5mbz0ke0t9YDtpZihyKXtqKz1gJnJwYz0ke1JjKEpTT04uc3RyaW5naWZ5KHIpKX1gO2NvbnN0IHQ9ZS5jb25uZWN0b3IuZ2V0UlBDTWV0aG9kVHJhY2tlcigpO3QmJih0W2Ake3IuaWR9YF09T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHIpLHtpZDpgJHtyLmlkfWAsdGltZXN0YW1wOkRhdGUubm93KCl9KSl9Y29uc3QgJD1lbmNvZGVVUkkoaiksSD1gJHtlLnVzZURlZXBsaW5rP21jOnBjfT8ke2p9YDtyZXR1cm4gZS5xcmNvZGVMaW5rPUgsZS5kZXZlbG9wZXJNb2RlJiZSYShgW1JlbW90ZUNvbm5lY3Rpb246IHN0YXJ0Q29ubmVjdGlvbigpXSBxcmNvZGVMaW5rPSR7JH1gKSxDLmVtaXQoXCJkaXNwbGF5X3VyaVwiLEgpLChudWxsPT09KF89ZS5wbGF0Zm9ybU1hbmFnZXIpfHx2b2lkIDA9PT1fP3ZvaWQgMDpfLmlzU2VjdXJlKCkpPyh5aWVsZCBmdW5jdGlvbihlLHQpe3ZhciBuLHI7cmV0dXJuIGwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtjb25zdCBpPWAke3BjfT8ke3R9YCxvPWAke21jfT8ke3R9YDtudWxsPT09KHI9bnVsbD09PShuPWUucGxhdGZvcm1NYW5hZ2VyKXx8dm9pZCAwPT09bj92b2lkIDA6bi5vcGVuRGVlcGxpbmspfHx2b2lkIDA9PT1yfHxyLmNhbGwobixpLG8sXCJfc2VsZlwiKX0pKX0oZSwkKSxuZXcgUHJvbWlzZSgoKHQsbik9Pnt2YXIgcixpLG87KG51bGw9PT0ocj1lLmNvbm5lY3Rvcil8fHZvaWQgMD09PXI/dm9pZCAwOnIuaXNBdXRob3JpemVkKCkpP3QoKToobnVsbD09PShpPWUuY29ubmVjdG9yKXx8dm9pZCAwPT09aXx8aS5vbmNlKGV4cG9ydHMuRXZlbnRUeXBlLkFVVEhPUklaRUQsKCgpPT57dCgpfSkpLG51bGw9PT0obz1lLmNvbm5lY3Rvcil8fHZvaWQgMD09PW98fG8ub25jZShleHBvcnRzLkV2ZW50VHlwZS5SRUpFQ1RFRCwoKCk9PntuKGV4cG9ydHMuRXZlbnRUeXBlLlJFSkVDVEVEKX0pKSl9KSkpOlJkKGUsdCwkKX1jYXRjaChlKXt0aHJvdyBjb25zb2xlLmVycm9yKFwiW3N0YXJ0Q29ubmVjdGlvbl0gZXJyb3JcIixlKSxlfX0pKX1jbGFzcyBEZHtjb25zdHJ1Y3RvcihlKXt2YXIgdCxuLHI7dGhpcy5zdGF0ZT17Y29ubmVjdG9yOnZvaWQgMCxxcmNvZGVMaW5rOnZvaWQgMCxhbmFseXRpY3M6dm9pZCAwLGRldmVsb3Blck1vZGU6ITEsYXV0aG9yaXplZDohMSxyZWNvbm5lY3Rpb246ITEscHJlZmVyRGVza3RvcDohMSxkZWVwbGlua1Byb3RvY29sOiExLGxpc3RlbmVyczpbXSxjb21tdW5pY2F0aW9uTGF5ZXJQcmVmZXJlbmNlOnZvaWQgMCxwbGF0Zm9ybU1hbmFnZXI6dm9pZCAwLHBlbmRpbmdNb2RhbDp2b2lkIDAsaW5zdGFsbE1vZGFsOnZvaWQgMCxvdHBBbnN3ZXI6dm9pZCAwfSx0aGlzLm9wdGlvbnM9ZTtjb25zdCBpPSEwPT09KG51bGw9PT0odD1lLmxvZ2dpbmcpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmRldmVsb3Blck1vZGUpfHwhMD09PShudWxsPT09KG49ZS5sb2dnaW5nKXx8dm9pZCAwPT09bj92b2lkIDA6bi5zZGspO3RoaXMuc3RhdGUuZGV2ZWxvcGVyTW9kZT1pLHRoaXMuc3RhdGUuYW5hbHl0aWNzPWUuYW5hbHl0aWNzLHRoaXMuc3RhdGUucHJlZmVyRGVza3RvcD1udWxsIT09KHI9ZS5wcmVmZXJEZXNrdG9wKSYmdm9pZCAwIT09ciYmcix0aGlzLnN0YXRlLnVzZURlZXBsaW5rPWUuc2RrLm9wdGlvbnMudXNlRGVlcGxpbmssdGhpcy5zdGF0ZS5jb21tdW5pY2F0aW9uTGF5ZXJQcmVmZXJlbmNlPWUuY29tbXVuaWNhdGlvbkxheWVyUHJlZmVyZW5jZSx0aGlzLnN0YXRlLnBsYXRmb3JtTWFuYWdlcj1lLnBsYXRmb3JtTWFuYWdlcixlLm1vZGFscy5pbnN0YWxsfHwoZS5tb2RhbHMuaW5zdGFsbD1BZCksZS5tb2RhbHMub3RwfHwoZS5tb2RhbHMub3RwPVRkKX1zdGFydENvbm5lY3Rpb24oZSl7cmV0dXJuIGwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtyZXR1cm4gTmQodGhpcy5zdGF0ZSx0aGlzLm9wdGlvbnMsZSl9KSl9aW5pdFJlbW90ZUNvbW11bmljYXRpb24oe3Nka0luc3RhbmNlOmV9KXt2YXIgdCxuLHI7cmV0dXJuIGwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtjb25zdCBpPXlpZWxkIG51bGw9PT0obj1udWxsPT09KHQ9ZS5vcHRpb25zLnN0b3JhZ2UpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnN0b3JhZ2VNYW5hZ2VyKXx8dm9pZCAwPT09bj92b2lkIDA6bi5nZXRQZXJzaXN0ZWRDaGFubmVsQ29uZmlnKCk7aWYoIXRoaXMub3B0aW9ucy5lY2llcyl7Y29uc3QgZT17cHJpdmF0ZUtleTpudWxsPT1pP3ZvaWQgMDppLmxvY2FsS2V5fTt0aGlzLm9wdGlvbnMuZWNpZXM9ZX1JZCh0aGlzLnN0YXRlLHRoaXMub3B0aW9ucykseWllbGQgbnVsbD09PShyPXRoaXMuZ2V0Q29ubmVjdG9yKCkpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmluaXRGcm9tRGFwcFN0b3JhZ2UoKSxPZCh0aGlzLnN0YXRlLHRoaXMub3B0aW9ucyl9KSl9c2hvd0FjdGl2ZU1vZGFsKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0LG4scixpO2UuYXV0aG9yaXplZD9SYShcIltSZW1vdGVDb25uZWN0aW9uOiBzaG93QWN0aXZlTW9kYWwoKV0gYWxyZWFkeSBhdXRob3JpemVkXCIpOmUucGVuZGluZ01vZGFsP251bGw9PT0obj0odD1lLnBlbmRpbmdNb2RhbCkubW91bnQpfHx2b2lkIDA9PT1ufHxuLmNhbGwodCk6ZS5pbnN0YWxsTW9kYWwmJihudWxsPT09KGk9KHI9ZS5pbnN0YWxsTW9kYWwpLm1vdW50KXx8dm9pZCAwPT09aXx8aS5jYWxsKHIsZS5xcmNvZGVMaW5rfHxcIlwiKSl9KHRoaXMuc3RhdGUpfWNsb3NlTW9kYWwoKXt2YXIgZSx0LG4scjtudWxsPT09KHQ9bnVsbD09PShlPXRoaXMuc3RhdGUucGVuZGluZ01vZGFsKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS51bm1vdW50KXx8dm9pZCAwPT09dHx8dC5jYWxsKGUpLG51bGw9PT0ocj1udWxsPT09KG49dGhpcy5zdGF0ZS5pbnN0YWxsTW9kYWwpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnVubW91bnQpfHx2b2lkIDA9PT1yfHxyLmNhbGwobiwhMSl9Z2V0VW5pdmVyc2FsTGluaygpe2lmKCF0aGlzLnN0YXRlLnFyY29kZUxpbmspdGhyb3cgbmV3IEVycm9yKFwiY29ubmVjdGlvbiBub3Qgc3RhcnRlZC4gcnVuIHN0YXJ0Q29ubmVjdGlvbigpIGZpcnN0LlwiKTtyZXR1cm4gdGhpcy5zdGF0ZS5xcmNvZGVMaW5rfWdldENoYW5uZWxDb25maWcoKXt2YXIgZTtyZXR1cm4gbnVsbD09PShlPXRoaXMuc3RhdGUuY29ubmVjdG9yKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5nZXRDaGFubmVsQ29uZmlnKCl9Z2V0S2V5SW5mbygpe3ZhciBlO3JldHVybiBudWxsPT09KGU9dGhpcy5zdGF0ZS5jb25uZWN0b3IpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmdldEtleUluZm8oKX1nZXRDb25uZWN0b3IoKXtpZighdGhpcy5zdGF0ZS5jb25uZWN0b3IpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCByZW1vdGUgY29ubmVjdG9yXCIpO3JldHVybiB0aGlzLnN0YXRlLmNvbm5lY3Rvcn1nZXRQbGF0Zm9ybU1hbmFnZXIoKXtpZighdGhpcy5zdGF0ZS5wbGF0Zm9ybU1hbmFnZXIpdGhyb3cgbmV3IEVycm9yKFwiUGxhdGZvcm1NYW5hZ2VyIG5vdCBhdmFpbGFibGVcIik7cmV0dXJuIHRoaXMuc3RhdGUucGxhdGZvcm1NYW5hZ2VyfWlzQ29ubmVjdGVkKCl7dmFyIGU7cmV0dXJuKG51bGw9PT0oZT10aGlzLnN0YXRlLmNvbm5lY3Rvcil8fHZvaWQgMD09PWU/dm9pZCAwOmUuaXNSZWFkeSgpKXx8ITF9aXNBdXRob3JpemVkKCl7dmFyIGU7cmV0dXJuKG51bGw9PT0oZT10aGlzLnN0YXRlLmNvbm5lY3Rvcil8fHZvaWQgMD09PWU/dm9pZCAwOmUuaXNBdXRob3JpemVkKCkpfHwhMX1pc1BhdXNlZCgpe3ZhciBlO3JldHVybiBudWxsPT09KGU9dGhpcy5zdGF0ZS5jb25uZWN0b3IpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmlzUGF1c2VkKCl9ZGlzY29ubmVjdChlKXt2YXIgdCxuLHI7UmEoXCJbUmVtb3RlQ29ubmVjdGlvbjogZGlzY29ubmVjdCgpXVwiLGUpLChudWxsPT1lP3ZvaWQgMDplLnRlcm1pbmF0ZSkmJihhYy5nZXRQcm92aWRlcigpLmhhbmRsZURpc2Nvbm5lY3Qoe3Rlcm1pbmF0ZTohMH0pLG51bGw9PT0obj1udWxsPT09KHQ9dGhpcy5zdGF0ZS5wZW5kaW5nTW9kYWwpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnVubW91bnQpfHx2b2lkIDA9PT1ufHxuLmNhbGwodCksdGhpcy5zdGF0ZS5vdHBBbnN3ZXI9dm9pZCAwKSxudWxsPT09KHI9dGhpcy5zdGF0ZS5jb25uZWN0b3IpfHx2b2lkIDA9PT1yfHxyLmRpc2Nvbm5lY3QoZSksZnVuY3Rpb24oZSl7UmEoXCJbUmVtb3RlQ29ubmVjdGlvbjogY2xlYW51cENvbm5lY3RvcigpXSBjbGVhbmluZyB1cCBjb25uZWN0b3JcIiksZS5jb25uZWN0b3ImJihQZChlKSxlLmNvbm5lY3Rvci5kaXNjb25uZWN0KHt0ZXJtaW5hdGU6ITB9KS5jYXRjaCgoZT0+e1JhKFwiW1JlbW90ZUNvbm5lY3Rpb246IGNsZWFudXBDb25uZWN0b3IoKV0gZXJyb3IgZGlzY29ubmVjdGluZyBjb25uZWN0b3JcIixlKX0pKSl9KHRoaXMuc3RhdGUpfX1mdW5jdGlvbiBMZChlKXt2YXIgbixyLGksbyxzLGEsYyxkLHUsaCxmO3JldHVybiBsKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7Y29uc3R7b3B0aW9uczpwfT1lO2lmKHAubG9nZ2luZz1udWxsIT09KG49cC5sb2dnaW5nKSYmdm9pZCAwIT09bj9uOnt9LHAuY29tbXVuaWNhdGlvbkxheWVyUHJlZmVyZW5jZT1udWxsIT09KHI9cC5jb21tdW5pY2F0aW9uTGF5ZXJQcmVmZXJlbmNlKSYmdm9pZCAwIT09cj9yOmV4cG9ydHMuQ29tbXVuaWNhdGlvbkxheWVyUHJlZmVyZW5jZS5TT0NLRVQsdm9pZCAwIT09cC5lbmFibGVEZWJ1ZyYmKHQuZW5hYmxlKFwiTU1fU0RLXCIpLGNvbnNvbGUud2FybihcImVuYWJsZURlYnVnIGlzIHJlbW92ZWQuIFBsZWFzZSB1c2UgZW5hYmxlQW5hbHl0aWNzIGluc3RlYWQuXCIpKSxwLmVuYWJsZUFuYWx5dGljcz1udWxsPT09KGk9cC5lbmFibGVBbmFseXRpY3MpfHx2b2lkIDA9PT1pfHxpLHAuaW5qZWN0UHJvdmlkZXI9bnVsbD09PShvPXAuaW5qZWN0UHJvdmlkZXIpfHx2b2lkIDA9PT1vfHxvLHAuc2hvdWxkU2hpbVdlYjM9bnVsbD09PShzPXAuc2hvdWxkU2hpbVdlYjMpfHx2b2lkIDA9PT1zfHxzLHAuZXh0ZW5zaW9uT25seT1udWxsPT09KGE9cC5leHRlbnNpb25Pbmx5KXx8dm9pZCAwPT09YXx8YSxwLnVzZURlZXBsaW5rPW51bGw9PT0oYz1wLnVzZURlZXBsaW5rKXx8dm9pZCAwPT09Y3x8YyxwLnN0b3JhZ2U9bnVsbCE9PShkPXAuc3RvcmFnZSkmJnZvaWQgMCE9PWQ/ZDp7ZW5hYmxlZDohMH0scC5oZWFkbGVzcyl7dChcIltNZXRhTWFza1NESzogcGVyZm9ybVNES0luaXRpYWxpemF0aW9uKCldIGhlYWRsZXNzIG1vZGUgZW5hYmxlZFwiKTtjb25zdCBlPSgpPT57fSxuPXtpbnN0YWxsOigpPT4oe21vdW50OmUsdW5tb3VudDplfSl9LHI9e2luc3RhbGxlcjplfTtwLm1vZGFscz1uLHAudWk9cn1jb25zdCBtPSEwPT09KG51bGw9PT0odT1wLmxvZ2dpbmcpfHx2b2lkIDA9PT11P3ZvaWQgMDp1LmRldmVsb3Blck1vZGUpO2UuZGVidWc9KG51bGw9PT0oaD1wLmxvZ2dpbmcpfHx2b2lkIDA9PT1oP3ZvaWQgMDpoLnNkayl8fG0sUmEoXCJbTWV0YU1hc2tTREs6IHBlcmZvcm1TREtJbml0aWFsaXphdGlvbigpXSBvcHRpb25zXCIsZS5vcHRpb25zKTtjb25zdCBnPU9iamVjdC5hc3NpZ24oe30scC5sb2dnaW5nKTttJiYoZy5zZGs9ITAsZy5lY2llc0xheWVyPSEwLGcua2V5RXhjaGFuZ2VMYXllcj0hMCxnLnJlbW90ZUxheWVyPSEwLGcuc2VydmljZUxheWVyPSEwLGcucGxhaW50ZXh0PSEwKSx5aWVsZCBmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gbCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2NvbnN0e29wdGlvbnM6bn09ZTtlLnBsYXRmb3JtTWFuYWdlcj1uZXcgY2Moe3VzZURlZXBMaW5rOm51bGwhPT0odD1uLnVzZURlZXBsaW5rKSYmdm9pZCAwIT09dCYmdCxwcmVmZXJyZWRPcGVuTGluazpuLm9wZW5EZWVwbGluayxkZWJ1ZzplLmRlYnVnfSl9KSl9KGUpLHlpZWxkIGZ1bmN0aW9uKGUpe3ZhciB0LG4scixpLG8scyxhLGMsZDtyZXR1cm4gbCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2NvbnN0e29wdGlvbnM6bH09ZSx1PW51bGw9PT0odD1lLnBsYXRmb3JtTWFuYWdlcil8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZ2V0UGxhdGZvcm1UeXBlKCk7ZS5hbmFseXRpY3M9bmV3ICRjKHtzZXJ2ZXJVcmw6bnVsbCE9PShuPWwuY29tbXVuaWNhdGlvblNlcnZlclVybCkmJnZvaWQgMCE9PW4/bjpucixlbmFibGVkOmwuZW5hYmxlQW5hbHl0aWNzLG9yaWdpbmF0b3JJbmZvOnt1cmw6bnVsbCE9PShyPWwuZGFwcE1ldGFkYXRhLnVybCkmJnZvaWQgMCE9PXI/cjpcIlwiLHRpdGxlOm51bGwhPT0oaT1sLmRhcHBNZXRhZGF0YS5uYW1lKSYmdm9pZCAwIT09aT9pOlwiXCIsZGFwcElkOlwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3d8fHZvaWQgMD09PXdpbmRvdy5sb2NhdGlvbj9udWxsIT09KGM9bnVsbCE9PShzPW51bGw9PT0obz1sLmRhcHBNZXRhZGF0YSl8fHZvaWQgMD09PW8/dm9pZCAwOm8ubmFtZSkmJnZvaWQgMCE9PXM/czpudWxsPT09KGE9bC5kYXBwTWV0YWRhdGEpfHx2b2lkIDA9PT1hP3ZvaWQgMDphLnVybCkmJnZvaWQgMCE9PWM/YzpcIk4vQVwiOndpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSxwbGF0Zm9ybTpudWxsIT11P3U6XCJcIixzb3VyY2U6bnVsbCE9PShkPWwuX3NvdXJjZSkmJnZvaWQgMCE9PWQ/ZDpcIlwifX0pfSkpfShlKSx5aWVsZCBmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gbCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2NvbnN0e29wdGlvbnM6bn09ZTshMCE9PShudWxsPT09KHQ9bi5zdG9yYWdlKXx8dm9pZCAwPT09dD92b2lkIDA6dC5lbmFibGVkKXx8bi5zdG9yYWdlLnN0b3JhZ2VNYW5hZ2VyfHwobi5zdG9yYWdlLnN0b3JhZ2VNYW5hZ2VyPXlpZWxkIGRjKG4uc3RvcmFnZSkpfSkpfShlKSx5aWVsZCBmdW5jdGlvbihlKXtyZXR1cm4gbCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2NvbnN0e29wdGlvbnM6dH09ZSxuPS9eKGh0dHB8aHR0cHMpOlxcL1xcL1teXFxzXSokLztpZih0LmRhcHBNZXRhZGF0YSl7dC5kYXBwTWV0YWRhdGEuaWNvblVybCYmIW4udGVzdCh0LmRhcHBNZXRhZGF0YS5pY29uVXJsKSYmKGNvbnNvbGUud2FybihcIkludmFsaWQgZGFwcE1ldGFkYXRhLmljb25Vcmw6IFVSTCBtdXN0IHN0YXJ0IHdpdGggaHR0cDovLyBvciBodHRwczovL1wiKSx0LmRhcHBNZXRhZGF0YS5pY29uVXJsPXZvaWQgMCksdC5kYXBwTWV0YWRhdGEuYmFzZTY0SWNvbiYmdC5kYXBwTWV0YWRhdGEuYmFzZTY0SWNvbi5sZW5ndGg+VWMmJihjb25zb2xlLndhcm4oXCJJbnZhbGlkIGRhcHBNZXRhZGF0YS5iYXNlNjRJY29uOiBCYXNlNjQtZW5jb2RlZCBpY29uIHN0cmluZyBsZW5ndGggbXVzdCBiZSBsZXNzIHRoYW4gMTYzNDAwIGNoYXJhY3RlcnNcIiksdC5kYXBwTWV0YWRhdGEuYmFzZTY0SWNvbj12b2lkIDApLHQuZGFwcE1ldGFkYXRhLnVybCYmIW4udGVzdCh0LmRhcHBNZXRhZGF0YS51cmwpJiZjb25zb2xlLndhcm4oXCJJbnZhbGlkIGRhcHBNZXRhZGF0YS51cmw6IFVSTCBtdXN0IHN0YXJ0IHdpdGggaHR0cDovLyBvciBodHRwczovL1wiKTtjb25zdCBlPUhjKCk7aWYoZSYmIXQuZGFwcE1ldGFkYXRhLmljb25VcmwmJiF0LmRhcHBNZXRhZGF0YS5iYXNlNjRJY29uKXtjb25zdCBuPWAke3dpbmRvdy5sb2NhdGlvbi5wcm90b2NvbH0vLyR7d2luZG93LmxvY2F0aW9uLmhvc3R9JHtlfWA7dC5kYXBwTWV0YWRhdGEuaWNvblVybD1ufX1lLmRhcHBNZXRhZGF0YT10LmRhcHBNZXRhZGF0YX0pKX0oZSkseWllbGQgVmMoZSkseWllbGQgR2MoZSk7Y29uc3R7bWV0YW1hc2tCcm93c2VyRXh0ZW5zaW9uOnYscHJlZmVyRXh0ZW5zaW9uOnksc2hvdWxkUmV0dXJuOkV9PXlpZWxkIGZ1bmN0aW9uKGUpe3ZhciB0LG4scixpO3JldHVybiBsKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7Y29uc3R7b3B0aW9uczpvfT1lO2xldCBzLGE9ITEsYz0hMTtpZihcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuZXRoZXJldW0mJiEobnVsbD09PSh0PWUucGxhdGZvcm1NYW5hZ2VyKXx8dm9pZCAwPT09dD92b2lkIDA6dC5pc01ldGFNYXNrTW9iaWxlV2ViVmlldygpKSl7YT1cImV4dGVuc2lvblwiPT09bG9jYWxTdG9yYWdlLmdldEl0ZW0oX2MpO3RyeXtzPXlpZWxkIFdjKHttdXN0QmVNZXRhTWFzazohMCxzZGtJbnN0YW5jZTplfSksd2luZG93LmV4dGVuc2lvbj1zLHMub24oa2MuQ0hBSU5fQ0hBTkdFRCwodD0+e1JhKGBbTWV0YU1hc2tTREs6IHNldHVwRXh0ZW5zaW9uUHJlZmVyZW5jZXMoKV0gUFJPUEFHQVRFIGNoYWluQ2hhbmdlZCBjaGFpbklkPSR7dH1gKSxCb29sZWFuKGUuc2RrUHJvdmlkZXIpJiZlLmdldE1vYmlsZVByb3ZpZGVyKCkuZW1pdChrYy5DSEFJTl9DSEFOR0VELHQpfSkpLHMub24oa2MuQUNDT1VOVFNfQ0hBTkdFRCwodD0+bCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3ZhciBuO1JhKGBbTWV0YU1hc2tTREs6IHNldHVwRXh0ZW5zaW9uUHJlZmVyZW5jZXMoKV0gUFJPUEFHQVRFIGFjY291bnRzQ2hhbmdlZCBhY2NvdW50cz0ke3R9YCk7Y29uc3Qgcj1Cb29sZWFuKGUuc2RrUHJvdmlkZXIpLGk9Qm9vbGVhbihlLmV4dGVuc2lvbkFjdGl2ZSk7aWYociYmZS5nZXRNb2JpbGVQcm92aWRlcigpLmVtaXQoa2MuQUNDT1VOVFNfQ0hBTkdFRCx0KSxpJiYwPT09KG51bGw9PXQ/dm9pZCAwOnQubGVuZ3RoKSYmMD09PSh5aWVsZCBudWxsPT09KG49ZS5nZXRQcm92aWRlcigpKXx8dm9pZCAwPT09bj92b2lkIDA6bi5yZXF1ZXN0KHttZXRob2Q6eWMuV0FMTEVUX0dFVFBFUk1JU1NJT05TLHBhcmFtczpbXX0pKS5sZW5ndGgpdHJ5e3lpZWxkIGUudGVybWluYXRlKCl9Y2F0Y2goZSl7UmEoXCJbTWV0YU1hc2tTREs6IHNldHVwRXh0ZW5zaW9uUHJlZmVyZW5jZXMoKV0gZXJyb3IgdGVybWluYXRpbmcgb24gcGVybWlzc2lvbnMgcmV2b2tlZFwiLGUpfX0pKSkpLHMub24oa2MuRElTQ09OTkVDVCwodD0+e1JhKGBbTWV0YU1hc2tTREs6IHNldHVwRXh0ZW5zaW9uUHJlZmVyZW5jZXMoKV0gUFJPUEFHQVRFIGRpc2Nvbm5lY3QgZXJyb3I9JHt0fWApLEJvb2xlYW4oZS5zZGtQcm92aWRlcikmJmUuZ2V0TW9iaWxlUHJvdmlkZXIoKS5lbWl0KGtjLkRJU0NPTk5FQ1QsdCl9KSkscy5vbihrYy5DT05ORUNULCh0PT57UmEoYFtNZXRhTWFza1NESzogc2V0dXBFeHRlbnNpb25QcmVmZXJlbmNlcygpXSBQUk9QQUdBVEUgY29ubmVjdCBhcmdzPSR7dH1gKSxCb29sZWFuKGUuc2RrUHJvdmlkZXIpJiZlLmdldE1vYmlsZVByb3ZpZGVyKCkuZW1pdChrYy5DT05ORUNULHQpfSkpLHMub24oa2MuQ09OTkVDVEVELCh0PT57UmEoXCJbTWV0YU1hc2tTREs6IHNldHVwRXh0ZW5zaW9uUHJlZmVyZW5jZXMoKV0gUFJPUEFHQVRFIGNvbm5lY3RlZFwiLHQpLEJvb2xlYW4oZS5zZGtQcm92aWRlcikmJmUuZ2V0TW9iaWxlUHJvdmlkZXIoKS5lbWl0KGtjLkNPTk5FQ1RFRCx0KX0pKX1jYXRjaChlKXt3aW5kb3cuZXh0ZW5zaW9uPXZvaWQgMH19ZWxzZShudWxsPT09KG49ZS5wbGF0Zm9ybU1hbmFnZXIpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmlzTWV0YU1hc2tNb2JpbGVXZWJWaWV3KCkpJiYobnVsbD09PShyPWUuYW5hbHl0aWNzKXx8dm9pZCAwPT09cnx8ci5zZW5kKHtldmVudDpsci5TREtfVVNFX0lOQVBQX0JST1dTRVJ9KSxlLmFjdGl2ZVByb3ZpZGVyPXFjKHtwcm92aWRlcjp3aW5kb3cuZXRoZXJldW0sc2RrSW5zdGFuY2U6ZX0pLGUuX2luaXRpYWxpemVkPSEwLGM9ITApO3JldHVybiBzJiZvLmV4dGVuc2lvbk9ubHkmJihSYShcIltNZXRhTWFza1NESzogc2V0dXBFeHRlbnNpb25QcmVmZXJlbmNlcygpXSBFWFRFTlNJT04gT05MWSAtLS0gcHJldmVudCBzZGsgaW5pdGlhbGl6YXRpb25cIiksbnVsbD09PShpPWUuYW5hbHl0aWNzKXx8dm9pZCAwPT09aXx8aS5zZW5kKHtldmVudDpsci5TREtfVVNFX0VYVEVOU0lPTn0pLGUuYWN0aXZlUHJvdmlkZXI9cyxlLmV4dGVuc2lvbkFjdGl2ZT0hMCxlLmV4dGVuc2lvbj1zLGUuX2luaXRpYWxpemVkPSEwLGM9ITApLHtwcmVmZXJFeHRlbnNpb246YSxzaG91bGRSZXR1cm46YyxtZXRhbWFza0Jyb3dzZXJFeHRlbnNpb246c319KSl9KGUpO2lmKEUpUmEoXCJbTWV0YU1hc2tTREs6IHBlcmZvcm1TREtJbml0aWFsaXphdGlvbigpXSBzaG91bGRSZXR1cm49dHJ1ZSAtLS0gcHJldmVudCBzZGsgaW5pdGlhbGl6YXRpb25cIik7ZWxzZXt5aWVsZCBmdW5jdGlvbihlLHQpe3ZhciBuLHIsaSxvLHM7cmV0dXJuIGwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtjb25zdHtvcHRpb25zOmF9PWUsYz1PYmplY3QuYXNzaWduKHt9LGEubG9nZ2luZyk7ZS5yZW1vdGVDb25uZWN0aW9uPW5ldyBEZCh7cHJlZmVyRGVza3RvcDpudWxsIT09KG49YS5wcmVmZXJEZXNrdG9wKSYmdm9pZCAwIT09biYmbixjb21tdW5pY2F0aW9uTGF5ZXJQcmVmZXJlbmNlOm51bGwhPT0ocj1hLmNvbW11bmljYXRpb25MYXllclByZWZlcmVuY2UpJiZ2b2lkIDAhPT1yP3I6ZXhwb3J0cy5Db21tdW5pY2F0aW9uTGF5ZXJQcmVmZXJlbmNlLlNPQ0tFVCxhbmFseXRpY3M6ZS5hbmFseXRpY3MsZGFwcE1ldGFkYXRhOmEuZGFwcE1ldGFkYXRhLF9zb3VyY2U6YS5fc291cmNlLGVuYWJsZUFuYWx5dGljczpudWxsPT09KGk9YS5lbmFibGVBbmFseXRpY3MpfHx2b2lkIDA9PT1pfHxpLHRpbWVyOmEudGltZXIsc2RrOmUscGxhdGZvcm1NYW5hZ2VyOmUucGxhdGZvcm1NYW5hZ2VyLHRyYW5zcG9ydHM6YS50cmFuc3BvcnRzLGNvbW11bmljYXRpb25TZXJ2ZXJVcmw6YS5jb21tdW5pY2F0aW9uU2VydmVyVXJsLHN0b3JhZ2U6bnVsbCE9PShvPWEuc3RvcmFnZSkmJnZvaWQgMCE9PW8/bzp7ZW5hYmxlZDohMH0sZ2V0TWV0YU1hc2tJbnN0YWxsZXI6KCk9PntpZighZS5pbnN0YWxsZXIpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBTREsgc3RhdHVzIC0tIGluc3RhbGxlciBub3QgaW5pdGlhbGl6ZWRcIik7cmV0dXJuIGUuaW5zdGFsbGVyfSxsb2dnaW5nOmMsY29ubmVjdFdpdGhFeHRlbnNpb25Qcm92aWRlcjp2b2lkIDA9PT10P3ZvaWQgMDooKT0+UGMoZSksbW9kYWxzOk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxhLm1vZGFscykse29uUGVuZGluZ01vZGFsRGlzY29ubmVjdDplLnRlcm1pbmF0ZS5iaW5kKGUpfSl9KSx5aWVsZCBlLnJlbW90ZUNvbm5lY3Rpb24uaW5pdFJlbW90ZUNvbW11bmljYXRpb24oe3Nka0luc3RhbmNlOmV9KSxlLmluc3RhbGxlcj1uZXcgYWQoe3JlbW90ZTplLnJlbW90ZUNvbm5lY3Rpb24scHJlZmVyRGVza3RvcDpudWxsIT09KHM9YS5wcmVmZXJEZXNrdG9wKSYmdm9pZCAwIT09cyYmcyxwbGF0Zm9ybU1hbmFnZXI6ZS5wbGF0Zm9ybU1hbmFnZXIsZGVidWc6ZS5kZWJ1Z30pfSkpfShlLHYpLHlpZWxkIEtjKGUpLHlpZWxkIGZ1bmN0aW9uKGUsdCl7dmFyIG4scjtyZXR1cm4gbCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2NvbnN0e29wdGlvbnM6aX09ZTt0PyhSYShcIltNZXRhTWFza1NESzogaGFuZGxlQXV0b0FuZEV4dGVuc2lvbkNvbm5lY3Rpb25zKCldIHByZWZlckV4dGVuc2lvbiBpcyBkZXRlY3RlZCAtLSBjb25uZWN0IHdpdGggaXQuXCIpLG51bGw9PT0obj1lLmFuYWx5dGljcyl8fHZvaWQgMD09PW58fG4uc2VuZCh7ZXZlbnQ6bHIuU0RLX0VYVEVOU0lPTl9VVElMSVpFRH0pLFBjKGUpLmNhdGNoKChlPT57Y29uc29sZS53YXJuKFwiQ2FuJ3QgY29ubmVjdCB3aXRoIE1ldGFNYXNrIGV4dGVuc2lvbi4uLlwiLGUpLGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKF9jKX0pKSk6aS5jaGVja0luc3RhbGxhdGlvbkltbWVkaWF0ZWx5JiYoKG51bGw9PT0ocj1lLnBsYXRmb3JtTWFuYWdlcil8fHZvaWQgMD09PXI/dm9pZCAwOnIuaXNEZXNrdG9wV2ViKCkpPyhSYShcIltNZXRhTWFza1NESzogaGFuZGxlQXV0b0FuZEV4dGVuc2lvbkNvbm5lY3Rpb25zKCldIGNoZWNrSW5zdGFsbGF0aW9uSW1tZWRpYXRlbHlcIiksZS5jb25uZWN0KCkuY2F0Y2goKGU9PntSYShgW01ldGFNYXNrU0RLOiBoYW5kbGVBdXRvQW5kRXh0ZW5zaW9uQ29ubmVjdGlvbnMoKV0gY2hlY2tJbnN0YWxsYXRpb25JbW1lZGlhdGVseSAtLS0gSUdOT1JFRCAtLS0gZXJyb3Igb24gYXV0b2Nvbm5lY3QgX2Vycj0ke2V9YCl9KSkpOmNvbnNvbGUud2FybihcIltoYW5kbGVBdXRvQW5kRXh0ZW5zaW9uQ29ubmVjdGlvbnMoKV0gY2hlY2tJbnN0YWxsYXRpb25JbW1lZGlhdGVseSAtLS0gSUdOT1JFRCAtLS0gb25seSBmb3Igd2ViIGRlc2t0b3BcIikpLGUuX2luaXRpYWxpemVkPSEwfSkpfShlLHkpO3RyeXt5aWVsZCBudWxsPT09KGY9ZS5yZW1vdGVDb25uZWN0aW9uKXx8dm9pZCAwPT09Zj92b2lkIDA6Zi5zdGFydENvbm5lY3Rpb24oe2luaXRpYWxDaGVjazohMH0pfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoXCJbTWV0YU1hc2tTREs6IHNldHVwUmVtb3RlQ29ubmVjdGlvbkFuZEluc3RhbGxlcigpXSBFcnJvciB3aGlsZSBjaGVja2luZyBpbnN0YWxsYXRpb25cIixlKX1lLmVtaXQoc2MuUHJvdmlkZXJVcGRhdGUsZXhwb3J0cy5QUk9WSURFUl9VUERBVEVfVFlQRS5JTklUSUFMSVpFRCl9fSkpfWNsYXNzIEJkIGV4dGVuZHMgaXtjb25zdHJ1Y3RvcihlPXtzdG9yYWdlOntlbmFibGVkOiEwfSxpbmplY3RQcm92aWRlcjohMCxmb3JjZUluamVjdFByb3ZpZGVyOiExLGVuYWJsZUFuYWx5dGljczohMCxzaG91bGRTaGltV2ViMzohMCx1c2VEZWVwbGluazohMCxleHRlbnNpb25Pbmx5OiEwLGhlYWRsZXNzOiExLGRhcHBNZXRhZGF0YTp7bmFtZTpcIlwiLHVybDpcIlwiLGljb25Vcmw6XCJcIn0sX3NvdXJjZTpmYyxpMThuT3B0aW9uczp7ZW5hYmxlZDohMX19KXt2YXIgbixyLGk7c3VwZXIoKSx0aGlzLmV4dGVuc2lvbkFjdGl2ZT0hMSx0aGlzLl9pbml0aWFsaXplZD0hMSx0aGlzLnNka0luaXRQcm9taXNlPXZvaWQgMCx0aGlzLmRlYnVnPSExLHRoaXMucmVhZG9ubHlSUENDYWxscz0hMSx0aGlzLmF2YWlsYWJsZUxhbmd1YWdlcz1bXCJlblwiXSx0LmRpc2FibGUoKTtjb25zdCBvPSEwPT09KG51bGw9PT0obj1lLmxvZ2dpbmcpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmRldmVsb3Blck1vZGUpO2lmKCgobnVsbD09PShyPWUubG9nZ2luZyl8fHZvaWQgMD09PXI/dm9pZCAwOnIuc2RrKXx8bykmJnQuZW5hYmxlKFwiTU1fU0RLXCIpLFJhKFwiW01ldGFNYXNrU0RLOiBjb25zdHJ1Y3RvcigpXTogYmVnaW4uXCIpLHRoaXMuc2V0TWF4TGlzdGVuZXJzKDUwKSwhKG51bGw9PT0oaT1lLmRhcHBNZXRhZGF0YSl8fHZvaWQgMD09PWk/dm9pZCAwOmkudXJsKSl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvd3x8XCJ1bmRlZmluZWRcIj09dHlwZW9mIGRvY3VtZW50KXRocm93IG5ldyBFcnJvcihcIllvdSBtdXN0IHByb3ZpZGUgZEFwcE1ldGFkYXRhIHVybFwiKTtlLmRhcHBNZXRhZGF0YT1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZS5kYXBwTWV0YWRhdGEpLHt1cmw6YCR7d2luZG93LmxvY2F0aW9uLnByb3RvY29sfS8vJHt3aW5kb3cubG9jYXRpb24uaG9zdH1gfSl9dGhpcy5vcHRpb25zPWUsdGhpcy5vcHRpb25zLl9zb3VyY2V8fChlLl9zb3VyY2U9ZmMpLHRoaXMuaW5pdCgpLnRoZW4oKCgpPT57UmEoXCJbTWV0YU1hc2tTREs6IGNvbnN0cnVjdG9yKCldOiBpbml0aWFsaXplZCBzdWNjZXNzZnVsbHkuXCIpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJih3aW5kb3cubW1zZGs9dGhpcyl9KSkuY2F0Y2goKGU9Pntjb25zb2xlLmVycm9yKFwiW01ldGFNYXNrU0RLOiBjb25zdHJ1Y3RvcigpXSBlcnJvciBkdXJpbmcgaW5pdGlhbGl6YXRpb25cIixlKX0pKX1pbml0KCl7cmV0dXJuIGwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiYobnVsbD09PSh0PXdpbmRvdy5tbXNkayl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuaXNJbml0aWFsaXplZCgpKSlyZXR1cm4gUmEoXCJbTWV0YU1hc2tTREs6IGluaXRpYWxpemVNZXRhTWFza1NESygpXSBhbHJlYWR5IGluaXRpYWxpemVkXCIpLFByb21pc2UucmVzb2x2ZSh3aW5kb3cubW1zZGspO2lmKGUuX2luaXRpYWxpemVkKXJldHVybiBSYShcIltNZXRhTWFza1NESzogaW5pdGlhbGl6ZU1ldGFNYXNrU0RLKCldIGFscmVhZHkgaW5pdGlhbGl6ZWRcIiksZS5zZGtJbml0UHJvbWlzZTtpZihlLnNka0luaXRQcm9taXNlKXJldHVybiBSYShcIltNZXRhTWFza1NESzogaW5pdGlhbGl6ZU1ldGFNYXNrU0RLKCldIGFscmVhZHkgaW5pdGlhbGl6aW5nXCIpLGUuc2RrSW5pdFByb21pc2U7dHJ5e2Uuc2RrSW5pdFByb21pc2U9TGQoZSkseWllbGQgZS5zZGtJbml0UHJvbWlzZX1jYXRjaChlKXt0aHJvdyBjb25zb2xlLmVycm9yKGUpLGV9cmV0dXJuIGUuc2RrSW5pdFByb21pc2V9KSl9KHRoaXMpfSkpfWlzRXh0ZW5zaW9uQWN0aXZlKCl7cmV0dXJuIHRoaXMuZXh0ZW5zaW9uQWN0aXZlfWNoZWNrRXh0ZW5zaW9uQXZhaWxhYmlsaXR5KCl7dmFyIGU7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmQm9vbGVhbihudWxsPT09KGU9d2luZG93LmV0aGVyZXVtKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5pc01ldGFNYXNrKX1jb25uZWN0KCl7cmV0dXJuIGwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtpZihlLl9pbml0aWFsaXplZHx8KFJhKFwiW01ldGFNYXNrU0RLOiBjb25uZWN0KCldIHByb3ZpZGVyIG5vdCByZWFkeSAtLSB3YWl0IGZvciBpbml0KClcIikseWllbGQgZS5pbml0KCkpLFJhKGBbTWV0YU1hc2tTREs6IGNvbm5lY3QoKV0gaXNFeHRlbnNpb25BY3RpdmU9JHtlLmlzRXh0ZW5zaW9uQWN0aXZlKCl9IGFjdGl2ZVByb3ZpZGVyYCxlLmFjdGl2ZVByb3ZpZGVyKSwhZS5hY3RpdmVQcm92aWRlcil0aHJvdyBuZXcgRXJyb3IoXCJTREsgc3RhdGUgaW52YWxpZCAtLSB1bmRlZmluZWQgcHJvdmlkZXJcIik7Y29uc3QgdD1lLmFjdGl2ZVByb3ZpZGVyLmdldFNlbGVjdGVkQWRkcmVzcygpO3JldHVybiB0P1t0XTplLmFjdGl2ZVByb3ZpZGVyLnJlcXVlc3Qoe21ldGhvZDp5Yy5FVEhfUkVRVUVTVEFDQ09VTlRTLHBhcmFtczpbXX0pfSkpfSh0aGlzKX0pKX1jb25uZWN0QW5kU2lnbih7bXNnOmV9KXtyZXR1cm4gbCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3JldHVybiBJYyh7aW5zdGFuY2U6dGhpcyxtc2c6ZX0pfSkpfWNvbm5lY3RXaXRoKGUpe3JldHVybiBsKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7cmV0dXJuIGZ1bmN0aW9uKHtpbnN0YW5jZTplLHJwYzp0fSl7cmV0dXJuIGwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtpZihlLl9pbml0aWFsaXplZHx8KFJhKFwiW01ldGFNYXNrU0RLOiBjb25uZWN0V2l0aCgpXSBwcm92aWRlciBub3QgcmVhZHkgLS0gd2FpdCBmb3IgaW5pdCgpXCIpLHlpZWxkIGUuaW5pdCgpKSxSYShgW01ldGFNYXNrU0RLOiBjb25uZWN0V2l0aCgpXSBtZXRob2Q6ICR7dC5tZXRob2R9IHJwYz0ke3R9YCksIWUuYWN0aXZlUHJvdmlkZXIpdGhyb3cgbmV3IEVycm9yKFwiU0RLIHN0YXRlIGludmFsaWQgLS0gdW5kZWZpbmVkIHByb3ZpZGVyXCIpO3JldHVybiBlLmFjdGl2ZVByb3ZpZGVyLnJlcXVlc3Qoe21ldGhvZDp5Yy5NRVRBTUFTS19DT05ORUNUV0lUSCxwYXJhbXM6W3RdfSl9KSl9KHtpbnN0YW5jZTp0aGlzLHJwYzplfSl9KSl9cmVzdW1lKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0LG4scjtyZXR1cm4gbCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2lmKCEobnVsbD09PShuPW51bGw9PT0odD1lLnJlbW90ZUNvbm5lY3Rpb24pfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmdldENvbm5lY3RvcigpKXx8dm9pZCAwPT09bj92b2lkIDA6bi5pc1JlYWR5KCkpKXJldHVybiBSYShcIltNZXRhTWFza1NESzogcmVzdW1lKCldIGNoYW5uZWwgaXMgbm90IHJlYWR5IC0tIHN0YXJ0aW5nIGNvbm5lY3Rpb25cIiksdm9pZChudWxsPT09KHI9ZS5yZW1vdGVDb25uZWN0aW9uKXx8dm9pZCAwPT09cnx8ci5zdGFydENvbm5lY3Rpb24oKSk7UmEoXCJbTWV0YU1hc2tTREs6IHJlc3VtZSgpXSBjaGFubmVsIGlzIHJlYWR5XCIpfSkpfSh0aGlzKX1kaXNjb25uZWN0KCl7cmV0dXJuIGNvbnNvbGUud2FybihcIk1ldGFNYXNrU0RLLmRpc2Nvbm5lY3QoKSBpcyBkZXByZWNhdGVkLCB1c2UgdGVybWluYXRlKClcIiksdGhpcy50ZXJtaW5hdGUoKX1pc0F1dGhvcml6ZWQoKXt2YXIgZTtudWxsPT09KGU9dGhpcy5yZW1vdGVDb25uZWN0aW9uKXx8dm9pZCAwPT09ZXx8ZS5pc0F1dGhvcml6ZWQoKX10ZXJtaW5hdGUoKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQsbixyO3JldHVybiBsKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7aWYoIShudWxsPT09KHQ9ZS5wbGF0Zm9ybU1hbmFnZXIpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmlzTWV0YU1hc2tNb2JpbGVXZWJWaWV3KCkpKXtpZihUYyYmKHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShfYyksd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHhjKSx3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oQ2MpKSxlLmV4dGVuc2lvbkFjdGl2ZSl7dHJ5e3lpZWxkIG51bGw9PT0obj1lLmFjdGl2ZVByb3ZpZGVyKXx8dm9pZCAwPT09bj92b2lkIDA6bi5yZXF1ZXN0KHttZXRob2Q6eWMuV0FMTEVUX1JFVk9LRVBFUk1JU1NJT05TLHBhcmFtczpbe2V0aF9hY2NvdW50czp7fX1dfSl9Y2F0Y2goZSl7UmEoXCJbTWV0YU1hc2tTREs6IHRlcm1pbmF0ZSgpXSBlcnJvciByZXZva2luZyBwZXJtaXNzaW9uc1wiLGUpfXJldHVybiBlLm9wdGlvbnMuZXh0ZW5zaW9uT25seT8oZS5lbWl0KHNjLlByb3ZpZGVyVXBkYXRlLGV4cG9ydHMuUFJPVklERVJfVVBEQVRFX1RZUEUuVEVSTUlOQVRFKSx2b2lkIFJhKFwiW01ldGFNYXNrU0RLOiB0ZXJtaW5hdGUoKV0gZXh0ZW5zaW9uT25seSAtLS0gcHJldmVudCBzd2l0Y2hpbmcgcHJvdmlkZXJzXCIpKTooZS5hY3RpdmVQcm92aWRlcj1lLnNka1Byb3ZpZGVyLHdpbmRvdy5ldGhlcmV1bT1lLmFjdGl2ZVByb3ZpZGVyLGUuZXh0ZW5zaW9uQWN0aXZlPSExLHZvaWQgZS5lbWl0KHNjLlByb3ZpZGVyVXBkYXRlLGV4cG9ydHMuUFJPVklERVJfVVBEQVRFX1RZUEUuVEVSTUlOQVRFKSl9ZS5lbWl0KHNjLlByb3ZpZGVyVXBkYXRlLGV4cG9ydHMuUFJPVklERVJfVVBEQVRFX1RZUEUuVEVSTUlOQVRFKSxSYShgW01ldGFNYXNrU0RLOiB0ZXJtaW5hdGUoKV0gcmVtb3RlQ29ubmVjdGlvbj0ke2UucmVtb3RlQ29ubmVjdGlvbn1gKSxudWxsPT09KHI9ZS5yZW1vdGVDb25uZWN0aW9uKXx8dm9pZCAwPT09cnx8ci5kaXNjb25uZWN0KHt0ZXJtaW5hdGU6ITAsc2VuZE1lc3NhZ2U6ITB9KX19KSl9KHRoaXMpfWlzSW5pdGlhbGl6ZWQoKXtyZXR1cm4gdGhpcy5faW5pdGlhbGl6ZWR9c2V0UmVhZE9ubHlSUENDYWxscyhlKXt0aGlzLnJlYWRvbmx5UlBDQ2FsbHM9ZX1oYXNSZWFkT25seVJQQ0NhbGxzKCl7cmV0dXJuIHRoaXMucmVhZG9ubHlSUENDYWxsc31nZXRQcm92aWRlcigpe2lmKHRoaXMuYWN0aXZlUHJvdmlkZXIpcmV0dXJuIHRoaXMuYWN0aXZlUHJvdmlkZXI7Y29uc29sZS53YXJuKFwiTWV0YU1hc2tTREs6IE5vIGFjdGl2ZSBwcm92aWRlciBmb3VuZFwiKX1nZXRNb2JpbGVQcm92aWRlcigpe2lmKCF0aGlzLnNka1Byb3ZpZGVyKXRocm93IG5ldyBFcnJvcihcIlNESyBzdGF0ZSBpbnZhbGlkIC0tIHVuZGVmaW5lZCBtb2JpbGUgcHJvdmlkZXJcIik7cmV0dXJuIHRoaXMuc2RrUHJvdmlkZXJ9Z2V0VW5pdmVyc2FsTGluaygpe3ZhciBlO2NvbnN0IHQ9bnVsbD09PShlPXRoaXMucmVtb3RlQ29ubmVjdGlvbil8fHZvaWQgMD09PWU/dm9pZCAwOmUuZ2V0VW5pdmVyc2FsTGluaygpO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIk5vIFVuaXZlcnNhbCBMaW5rIGF2YWlsYWJsZSwgcGxlYXNlIGNhbGwgZXRoX3JlcXVlc3RBY2NvdW50cyBmaXJzdC5cIik7cmV0dXJuIHR9Z2V0Q2hhbm5lbElkKCl7dmFyIGUsdDtyZXR1cm4gbnVsbD09PSh0PW51bGw9PT0oZT10aGlzLnJlbW90ZUNvbm5lY3Rpb24pfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmdldENoYW5uZWxDb25maWcoKSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuY2hhbm5lbElkfWdldFJQQ0hpc3RvcnkoKXt2YXIgZSx0O3JldHVybiBudWxsPT09KHQ9bnVsbD09PShlPXRoaXMucmVtb3RlQ29ubmVjdGlvbil8fHZvaWQgMD09PWU/dm9pZCAwOmUuZ2V0Q29ubmVjdG9yKCkpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmdldFJQQ01ldGhvZFRyYWNrZXIoKX1nZXRWZXJzaW9uKCl7cmV0dXJuIGhjLnZlcnNpb259Z2V0V2FsbGV0U3RhdHVzKCl7dmFyIGUsdDtyZXR1cm4gbnVsbD09PSh0PW51bGw9PT0oZT10aGlzLnJlbW90ZUNvbm5lY3Rpb24pfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmdldENvbm5lY3RvcigpKXx8dm9pZCAwPT09dD92b2lkIDA6dC5nZXRDb25uZWN0aW9uU3RhdHVzKCl9X2dldENoYW5uZWxDb25maWcoKXt2YXIgZTtyZXR1cm4gbnVsbD09PShlPXRoaXMucmVtb3RlQ29ubmVjdGlvbil8fHZvaWQgMD09PWU/dm9pZCAwOmUuZ2V0Q2hhbm5lbENvbmZpZygpfV9waW5nKCl7dmFyIGUsdDtudWxsPT09KHQ9bnVsbD09PShlPXRoaXMucmVtb3RlQ29ubmVjdGlvbil8fHZvaWQgMD09PWU/dm9pZCAwOmUuZ2V0Q29ubmVjdG9yKCkpfHx2b2lkIDA9PT10fHx0LnBpbmcoKX1fa2V5Q2hlY2soKXt2YXIgZSx0O251bGw9PT0odD1udWxsPT09KGU9dGhpcy5yZW1vdGVDb25uZWN0aW9uKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5nZXRDb25uZWN0b3IoKSl8fHZvaWQgMD09PXR8fHQua2V5Q2hlY2soKX1fZ2V0U2VydmljZVN0YXR1cygpe3ZhciBlLHQ7cmV0dXJuIG51bGw9PT0odD1udWxsPT09KGU9dGhpcy5yZW1vdGVDb25uZWN0aW9uKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5nZXRDb25uZWN0b3IoKSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZ2V0U2VydmljZVN0YXR1cygpfV9nZXRSZW1vdGVDb25uZWN0aW9uKCl7cmV0dXJuIHRoaXMucmVtb3RlQ29ubmVjdGlvbn1fZ2V0RGFwcE1ldGFkYXRhKCl7cmV0dXJuIHRoaXMuZGFwcE1ldGFkYXRhfV9nZXRLZXlJbmZvKCl7dmFyIGU7cmV0dXJuIG51bGw9PT0oZT10aGlzLnJlbW90ZUNvbm5lY3Rpb24pfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmdldEtleUluZm8oKX1fcmVzZXRLZXlzKCl7dmFyIGUsdDtudWxsPT09KHQ9bnVsbD09PShlPXRoaXMucmVtb3RlQ29ubmVjdGlvbil8fHZvaWQgMD09PWU/dm9pZCAwOmUuZ2V0Q29ubmVjdG9yKCkpfHx2b2lkIDA9PT10fHx0LnJlc2V0S2V5cygpfV9nZXRDb25uZWN0aW9uKCl7cmV0dXJuIHRoaXMucmVtb3RlQ29ubmVjdGlvbn1lbWl0KGUsdCl7cmV0dXJuIHN1cGVyLmVtaXQoZSx0KX1vbihlLHQpe3JldHVybiBzdXBlci5vbihlLHQpfX12YXIgS2Q9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsU3RvcmFnZU1hbmFnZXJXZWI6Y2xhc3N7Y29uc3RydWN0b3Ioe2VuYWJsZWQ6ZX09e2VuYWJsZWQ6ITF9KXt0aGlzLmVuYWJsZWQ9ITEsdGhpcy5lbmFibGVkPWV9cGVyc2lzdENoYW5uZWxDb25maWcoZSl7cmV0dXJuIGwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtjb25zdCB0PUpTT04uc3RyaW5naWZ5KGUpO1JhKGBbU3RvcmFnZU1hbmFnZXJXZWI6IHBlcnNpc3RDaGFubmVsQ29uZmlnKCldIGVuYWJsZWQ9JHt0aGlzLmVuYWJsZWR9YCxlKSxsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTYyx0KX0pKX1nZXRQZXJzaXN0ZWRDaGFubmVsQ29uZmlnKCl7cmV0dXJuIGwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtsZXQgZTt0cnl7aWYoUmEoYFtTdG9yYWdlTWFuYWdlcldlYjogZ2V0UGVyc2lzdGVkQ2hhbm5lbENvbmZpZygpXSBlbmFibGVkPSR7dGhpcy5lbmFibGVkfWApLGU9bG9jYWxTdG9yYWdlLmdldEl0ZW0oU2MpLFJhKFwiW1N0b3JhZ2VNYW5hZ2VyV2ViOiBnZXRQZXJzaXN0ZWRDaGFubmVsQ29uZmlnKCldXCIsZSksIWUpcmV0dXJuO2NvbnN0IHQ9SlNPTi5wYXJzZShlKTtyZXR1cm4gUmEoXCJbU3RvcmFnZU1hbmFnZXJXZWI6IGdldFBlcnNpc3RlZENoYW5uZWxDb25maWcoKV0gY2hhbm5lbENvbmZpZ1wiLHQpLHR9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcihcIltTdG9yYWdlTWFuYWdlcldlYjogZ2V0UGVyc2lzdGVkQ2hhbm5lbENvbmZpZygpXSBDYW4ndCBmaW5kIGV4aXN0aW5nIGNoYW5uZWwgY29uZmlnXCIsZSl9fSkpfXBlcnNpc3RBY2NvdW50cyhlKXtyZXR1cm4gbCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe1JhKGBbU3RvcmFnZU1hbmFnZXJXZWI6IHBlcnNpc3RBY2NvdW50cygpXSBlbmFibGVkPSR7dGhpcy5lbmFibGVkfWAsZSk7Y29uc3QgdD1KU09OLnN0cmluZ2lmeShlKTtsb2NhbFN0b3JhZ2Uuc2V0SXRlbShDYyx0KX0pKX1nZXRDYWNoZWRBY2NvdW50cygpe3JldHVybiBsKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7dHJ5e2NvbnN0IGU9bG9jYWxTdG9yYWdlLmdldEl0ZW0oQ2MpO3JldHVybiBlP0pTT04ucGFyc2UoZSk6W119Y2F0Y2goZSl7dGhyb3cgY29uc29sZS5lcnJvcihcIltTdG9yYWdlTWFuYWdlcldlYjogZ2V0Q2FjaGVkQWNjb3VudHMoKV0gRXJyb3IgcmVhZGluZyBjYWNoZWQgYWNjb3VudHNcIixlKSxlfX0pKX1wZXJzaXN0Q2hhaW5JZChlKXtyZXR1cm4gbCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe1JhKGBbU3RvcmFnZU1hbmFnZXJXZWI6IHBlcnNpc3RDaGFpbklkKCldIGVuYWJsZWQ9JHt0aGlzLmVuYWJsZWR9YCxlKSxsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh4YyxlKX0pKX1nZXRDYWNoZWRDaGFpbklkKCl7cmV0dXJuIGwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXt0cnl7Y29uc3QgZT1sb2NhbFN0b3JhZ2UuZ2V0SXRlbSh4Yyk7cmV0dXJuIG51bGwhPWU/ZTp2b2lkIDB9Y2F0Y2goZSl7dGhyb3cgY29uc29sZS5lcnJvcihcIltTdG9yYWdlTWFuYWdlcldlYjogZ2V0Q2FjaGVkQ2hhaW5JZCgpXSBFcnJvciByZWFkaW5nIGNhY2hlZCBjaGFpbklkXCIsZSksZX19KSl9dGVybWluYXRlKCl7cmV0dXJuIGwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtSYShgW1N0b3JhZ2VNYW5hZ2VyV2ViOiB0ZXJtaW5hdGUoKV0gZW5hYmxlZD0ke3RoaXMuZW5hYmxlZH1gKSxsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShTYyl9KSl9fX0pO2V4cG9ydHMuREVGQVVMVF9TRVJWRVJfVVJMPW5yLGV4cG9ydHMuTWV0YU1hc2tTREs9QmQsZXhwb3J0cy5NZXRhTWFza1NES0V2ZW50PXNjLGV4cG9ydHMuU0RLUHJvdmlkZXI9bGMsZXhwb3J0cy5kZWZhdWx0PUJkO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWV0YW1hc2stc2RrLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@metamask/sdk/dist/node/cjs/metamask-sdk.js\n");

/***/ })

};
;